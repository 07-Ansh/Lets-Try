(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function uI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sg={exports:{}},Gc={};var lT;function hI(){if(lT)return Gc;lT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Gc.Fragment=e,Gc.jsx=n,Gc.jsxs=n,Gc}var cT;function dI(){return cT||(cT=1,sg.exports=hI()),sg.exports}var v=dI(),rg={exports:{}},De={};var uT;function fI(){if(uT)return De;uT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function F(E,q,W){this.props=E,this.context=q,this.refs=M,this.updater=W||D}F.prototype.isReactComponent={},F.prototype.setState=function(E,q){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,q,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ee(){}ee.prototype=F.prototype;function Y(E,q,W){this.props=E,this.context=q,this.refs=M,this.updater=W||D}var ue=Y.prototype=new ee;ue.constructor=Y,O(ue,F.prototype),ue.isPureReactComponent=!0;var he=Array.isArray;function de(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(E,q,W){var oe=W.ref;return{$$typeof:t,type:E,key:q,ref:oe!==void 0?oe:null,props:W}}function j(E,q){return N(E.type,q,E.props)}function I(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function z(E){var q={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return q[W]})}var P=/\/+/g;function Se(E,q){return typeof E=="object"&&E!==null&&E.key!=null?z(""+E.key):q.toString(36)}function Ge(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(de,de):(E.status="pending",E.then(function(q){E.status==="pending"&&(E.status="fulfilled",E.value=q)},function(q){E.status==="pending"&&(E.status="rejected",E.reason=q)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function L(E,q,W,oe,fe){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case t:case e:pe=!0;break;case y:return pe=E._init,L(pe(E._payload),q,W,oe,fe)}}if(pe)return fe=fe(E),pe=oe===""?"."+Se(E,0):oe,he(fe)?(W="",pe!=null&&(W=pe.replace(P,"$&/")+"/"),L(fe,q,W,"",function(et){return et})):fe!=null&&(I(fe)&&(fe=j(fe,W+(fe.key==null||E&&E.key===fe.key?"":(""+fe.key).replace(P,"$&/")+"/")+pe)),q.push(fe)),1;pe=0;var be=oe===""?".":oe+":";if(he(E))for(var Ee=0;Ee<E.length;Ee++)oe=E[Ee],ge=be+Se(oe,Ee),pe+=L(oe,q,W,ge,fe);else if(Ee=k(E),typeof Ee=="function")for(E=Ee.call(E),Ee=0;!(oe=E.next()).done;)oe=oe.value,ge=be+Se(oe,Ee++),pe+=L(oe,q,W,ge,fe);else if(ge==="object"){if(typeof E.then=="function")return L(Ge(E),q,W,oe,fe);throw q=String(E),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function H(E,q,W){if(E==null)return E;var oe=[],fe=0;return L(E,oe,"","",function(ge){return q.call(W,ge,fe++)}),oe}function ae(E){if(E._status===-1){var q=E._result;q=q(),q.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=q)}if(E._status===1)return E._result.default;throw E._result}var ce=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},U={map:H,forEach:function(E,q,W){H(E,function(){q.apply(this,arguments)},W)},count:function(E){var q=0;return H(E,function(){q++}),q},toArray:function(E){return H(E,function(q){return q})||[]},only:function(E){if(!I(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return De.Activity=b,De.Children=U,De.Component=F,De.Fragment=n,De.Profiler=a,De.PureComponent=Y,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,De.__COMPILER_RUNTIME={__proto__:null,c:function(E){return R.H.useMemoCache(E)}},De.cache=function(E){return function(){return E.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(E,q,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var oe=O({},E.props),fe=E.key;if(q!=null)for(ge in q.key!==void 0&&(fe=""+q.key),q)!C.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(oe[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)oe.children=W;else if(1<ge){for(var pe=Array(ge),be=0;be<ge;be++)pe[be]=arguments[be+2];oe.children=pe}return N(E.type,fe,oe)},De.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},De.createElement=function(E,q,W){var oe,fe={},ge=null;if(q!=null)for(oe in q.key!==void 0&&(ge=""+q.key),q)C.call(q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=q[oe]);var pe=arguments.length-2;if(pe===1)fe.children=W;else if(1<pe){for(var be=Array(pe),Ee=0;Ee<pe;Ee++)be[Ee]=arguments[Ee+2];fe.children=be}if(E&&E.defaultProps)for(oe in pe=E.defaultProps,pe)fe[oe]===void 0&&(fe[oe]=pe[oe]);return N(E,ge,fe)},De.createRef=function(){return{current:null}},De.forwardRef=function(E){return{$$typeof:f,render:E}},De.isValidElement=I,De.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:ae}},De.memo=function(E,q){return{$$typeof:g,type:E,compare:q===void 0?null:q}},De.startTransition=function(E){var q=R.T,W={};R.T=W;try{var oe=E(),fe=R.S;fe!==null&&fe(W,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(de,ce)}catch(ge){ce(ge)}finally{q!==null&&W.types!==null&&(q.types=W.types),R.T=q}},De.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},De.use=function(E){return R.H.use(E)},De.useActionState=function(E,q,W){return R.H.useActionState(E,q,W)},De.useCallback=function(E,q){return R.H.useCallback(E,q)},De.useContext=function(E){return R.H.useContext(E)},De.useDebugValue=function(){},De.useDeferredValue=function(E,q){return R.H.useDeferredValue(E,q)},De.useEffect=function(E,q){return R.H.useEffect(E,q)},De.useEffectEvent=function(E){return R.H.useEffectEvent(E)},De.useId=function(){return R.H.useId()},De.useImperativeHandle=function(E,q,W){return R.H.useImperativeHandle(E,q,W)},De.useInsertionEffect=function(E,q){return R.H.useInsertionEffect(E,q)},De.useLayoutEffect=function(E,q){return R.H.useLayoutEffect(E,q)},De.useMemo=function(E,q){return R.H.useMemo(E,q)},De.useOptimistic=function(E,q){return R.H.useOptimistic(E,q)},De.useReducer=function(E,q,W){return R.H.useReducer(E,q,W)},De.useRef=function(E){return R.H.useRef(E)},De.useState=function(E){return R.H.useState(E)},De.useSyncExternalStore=function(E,q,W){return R.H.useSyncExternalStore(E,q,W)},De.useTransition=function(){return R.H.useTransition()},De.version="19.2.3",De}var hT;function Yy(){return hT||(hT=1,rg.exports=fI()),rg.exports}var te=Yy();const dT=uI(te);var ag={exports:{}},Kc={},og={exports:{}},lg={};var fT;function mI(){return fT||(fT=1,(function(t){function e(L,H){var ae=L.length;L.push(H);e:for(;0<ae;){var ce=ae-1>>>1,U=L[ce];if(0<a(U,H))L[ce]=H,L[ae]=U,ae=ce;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var H=L[0],ae=L.pop();if(ae!==H){L[0]=ae;e:for(var ce=0,U=L.length,E=U>>>1;ce<E;){var q=2*(ce+1)-1,W=L[q],oe=q+1,fe=L[oe];if(0>a(W,ae))oe<U&&0>a(fe,W)?(L[ce]=fe,L[oe]=ae,ce=oe):(L[ce]=W,L[q]=ae,ce=q);else if(oe<U&&0>a(fe,ae))L[ce]=fe,L[oe]=ae,ce=oe;else break e}}return H}function a(L,H){var ae=L.sortIndex-H.sortIndex;return ae!==0?ae:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],g=[],y=1,b=null,w=3,k=!1,D=!1,O=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ue(L){for(var H=n(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=L)s(g),H.sortIndex=H.expirationTime,e(m,H);else break;H=n(g)}}function he(L){if(O=!1,ue(L),!D)if(n(m)!==null)D=!0,de||(de=!0,z());else{var H=n(g);H!==null&&Ge(he,H.startTime-L)}}var de=!1,R=-1,C=5,N=-1;function j(){return M?!0:!(t.unstable_now()-N<C)}function I(){if(M=!1,de){var L=t.unstable_now();N=L;var H=!0;try{e:{D=!1,O&&(O=!1,ee(R),R=-1),k=!0;var ae=w;try{t:{for(ue(L),b=n(m);b!==null&&!(b.expirationTime>L&&j());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,w=b.priorityLevel;var U=ce(b.expirationTime<=L);if(L=t.unstable_now(),typeof U=="function"){b.callback=U,ue(L),H=!0;break t}b===n(m)&&s(m),ue(L)}else s(m);b=n(m)}if(b!==null)H=!0;else{var E=n(g);E!==null&&Ge(he,E.startTime-L),H=!1}}break e}finally{b=null,w=ae,k=!1}H=void 0}}finally{H?z():de=!1}}}var z;if(typeof Y=="function")z=function(){Y(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Se=P.port2;P.port1.onmessage=I,z=function(){Se.postMessage(null)}}else z=function(){F(I,0)};function Ge(L,H){R=F(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(L){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var ae=w;w=H;try{return L()}finally{w=ae}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ae=w;w=L;try{return H()}finally{w=ae}},t.unstable_scheduleCallback=function(L,H,ae){var ce=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ce+ae:ce):ae=ce,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ae+U,L={id:y++,callback:H,priorityLevel:L,startTime:ae,expirationTime:U,sortIndex:-1},ae>ce?(L.sortIndex=ae,e(g,L),n(m)===null&&L===n(g)&&(O?(ee(R),R=-1):O=!0,Ge(he,ae-ce))):(L.sortIndex=U,e(m,L),D||k||(D=!0,de||(de=!0,z()))),L},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(L){var H=w;return function(){var ae=w;w=H;try{return L.apply(this,arguments)}finally{w=ae}}}})(lg)),lg}var mT;function pI(){return mT||(mT=1,og.exports=mI()),og.exports}var cg={exports:{}},yn={};var pT;function gI(){if(pT)return yn;pT=1;var t=Yy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},yn.flushSync=function(m){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=y,s.d.f()}},yn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},yn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},yn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=f(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:k}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},yn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=f(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},yn.requestFormReset=function(m){s.d.r(m)},yn.unstable_batchedUpdates=function(m,g){return m(g)},yn.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var gT;function yI(){if(gT)return cg.exports;gT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=gI(),cg.exports}var yT;function vI(){if(yT)return Kc;yT=1;var t=pI(),e=Yy(),n=yI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),i;if(p===c)return m(d),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=p;else{for(var x=!1,A=d.child;A;){if(A===o){x=!0,o=d,c=p;break}if(A===c){x=!0,c=d,o=p;break}A=A.sibling}if(!x){for(A=p.child;A;){if(A===o){x=!0,o=p,c=d;break}if(A===c){x=!0,c=p,o=d;break}A=A.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case F:return"Profiler";case M:return"StrictMode";case he:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case Y:return i.displayName||"Context";case ee:return(i._context.displayName||"Context")+".Consumer";case ue:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Se(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return Se(i(r))}catch{}}return null}var Ge=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ce=[],U=-1;function E(i){return{current:i}}function q(i){0>U||(i.current=ce[U],ce[U]=null,U--)}function W(i,r){U++,ce[U]=i.current,i.current=r}var oe=E(null),fe=E(null),ge=E(null),pe=E(null);function be(i,r){switch(W(ge,r),W(fe,i),W(oe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Nb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Nb(r),i=Db(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(oe),W(oe,i)}function Ee(){q(oe),q(fe),q(ge)}function et(i){i.memoizedState!==null&&W(pe,i);var r=oe.current,o=Db(r,i.type);r!==o&&(W(fe,i),W(oe,o))}function Ye(i){fe.current===i&&(q(oe),q(fe)),pe.current===i&&(q(pe),zc._currentValue=ae)}var it,xt;function Ne(i){if(it===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);it=r&&r[1]||"",xt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+xt}var Vt=!1;function Yt(i,r){if(!i||Vt)return"";Vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var X=J}Reflect.construct(i,[],re)}else{try{re.call()}catch(J){X=J}i.call(re.prototype)}}else{try{throw Error()}catch(J){X=J}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),x=p[0],A=p[1];if(x&&A){var V=x.split(`
`),Q=A.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===Q.length)for(c=V.length-1,d=Q.length-1;1<=c&&0<=d&&V[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==Q[d]){var ne=`
`+V[c].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=c&&0<=d);break}}}finally{Vt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ne(o):""}function rn(i,r){switch(i.tag){case 26:case 27:case 5:return Ne(i.type);case 16:return Ne("Lazy");case 13:return i.child!==r&&r!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Yt(i.type,!1);case 11:return Yt(i.type.render,!1);case 1:return Yt(i.type,!0);case 31:return Ne("Activity");default:return""}}function wn(i){try{var r="",o=null;do r+=rn(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,Bi=t.unstable_cancelCallback,Gl=t.unstable_shouldYield,fo=t.unstable_requestPaint,Jt=t.unstable_now,xs=t.unstable_getCurrentPriorityLevel,nr=t.unstable_ImmediatePriority,ua=t.unstable_UserBlockingPriority,zi=t.unstable_NormalPriority,mo=t.unstable_LowPriority,ha=t.unstable_IdlePriority,ir=t.log,po=t.unstable_setDisableYieldValue,Fn=null,an=null;function ni(i){if(typeof ir=="function"&&po(i),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Fn,i)}catch{}}var Nt=Math.clz32?Math.clz32:Yu,Qu=Math.log,go=Math.LN2;function Yu(i){return i>>>=0,i===0?32:31-(Qu(i)/go|0)|0}var qi=256,da=262144,jt=4194304;function Fi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Hi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,p=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~p,c!==0?d=Fi(c):(x&=A,x!==0?d=Fi(x):o||(o=A&~i,o!==0&&(d=Fi(o))))):(A=c&~p,A!==0?d=Fi(A):x!==0?d=Fi(x):o||(o=c&~i,o!==0&&(d=Fi(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function wi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function lm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Gi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function fa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cm(i,r,o,c,d,p){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,Q=i.hiddenUpdates;for(o=x&~o;0<o;){var ne=31-Nt(o),re=1<<ne;A[ne]=0,V[ne]=-1;var X=Q[ne];if(X!==null)for(Q[ne]=null,ne=0;ne<X.length;ne++){var J=X[ne];J!==null&&(J.lane&=-536870913)}o&=~re}c!==0&&ma(i,c,0),p!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=p&~(x&~r))}function ma(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Nt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Kl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Nt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function $l(i,r){var o=r&-r;return o=(o&42)!==0?1:pa(o),(o&(i.suspendedLanes|r))!==0?0:o}function pa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function bs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wu(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:tT(i.type))}function Ei(i,r){var o=H.p;try{return H.p=i,r()}finally{H.p=o}}var Ai=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ai,en="__reactProps$"+Ai,Ki="__reactContainer$"+Ai,yo="__reactEvents$"+Ai,um="__reactListeners$"+Ai,Zu="__reactHandles$"+Ai,Ju="__reactResources$"+Ai,$i="__reactMarker$"+Ai;function vo(i){delete i[Lt],delete i[en],delete i[yo],delete i[um],delete i[Zu]}function Qi(i){var r=i[Lt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ki]||o[Lt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Ub(i);i!==null;){if(o=i[Lt])return o;i=Ub(i)}return r}i=o,o=i.parentNode}return null}function ii(i){if(i=i[Lt]||i[Ki]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Hn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Yi(i){var r=i[Ju];return r||(r=i[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(i){i[$i]=!0}var Ql=new Set,Yl={};function Xi(i,r){Wi(i,r),Wi(i+"Capture",r)}function Wi(i,r){for(Yl[i]=r,i=0;i<r.length;i++)Ql.add(r[i])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Zl={};function eh(i){return ot.call(Zl,i)?!0:ot.call(Wl,i)?!1:Xl.test(i)?Zl[i]=!0:(Wl[i]=!0,!1)}function _o(i,r,o){if(eh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Gn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Bt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,p.call(this,x)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function st(i){if(!i._valueTracker){var r=sr(i)?"checked":"value";i._valueTracker=Jl(i,r,""+i[r])}}function ga(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=sr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ya=/[\n"\\]/g;function Rn(i){return i.replace(ya,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xo(i,r,o,c,d,p,x,A){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+tn(r)):i.value!==""+tn(r)&&(i.value=""+tn(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?ec(i,x,tn(r)):o!=null?ec(i,x,tn(o)):c!=null&&i.removeAttribute("value"),d==null&&p!=null&&(i.defaultChecked=!!p),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+tn(A):i.removeAttribute("name")}function th(i,r,o,c,d,p,x,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){st(i);return}o=o!=null?""+tn(o):"",r=r!=null?""+tn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),st(i)}function ec(i,r,o){r==="number"&&Zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function rr(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+tn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function nh(i,r,o){if(r!=null&&(r=""+tn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+tn(o):""}function ar(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ge(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=tn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),st(i)}function In(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||ih.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function nc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&tc(i,d,c)}else for(var p in r)r.hasOwnProperty(p)&&tc(i,p,r[p])}function bo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(i){return or.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Si(){}var ic=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,Ji=null;function va(i){var r=ii(i);if(r&&(i=r.stateNode)){var o=i[en]||null;e:switch(i=r.stateNode,r.type){case"input":if(xo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[en]||null;if(!d)throw Error(s(90));xo(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ga(c)}break e;case"textarea":nh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(i,!!o.multiple,r,!1)}}}var wo=!1;function cr(i,r,o){if(wo)return i(r,o);wo=!0;try{var c=i(r);return c}finally{if(wo=!1,(lr!==null||Ji!==null)&&(Wh(),lr&&(r=lr,i=Ji,Ji=lr=null,va(r),i)))for(r=0;r<i.length;r++)va(i[r])}}function Ci(i,r){var o=i.stateNode;if(o===null)return null;var c=o[en]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(ri)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){_a=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{_a=!1}var es=null,sc=null,xa=null;function rc(){if(xa)return xa;var i,r=sc,o=r.length,c,d="value"in es?es.value:es.textContent,p=d.length;for(i=0;i<o&&r[i]===d[i];i++);var x=o-i;for(c=1;c<=x&&r[o-c]===d[p-c];c++);return xa=d.slice(i,1<c?1-c:void 0)}function ba(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ts(){return!0}function ki(){return!1}function on(i){function r(o,c,d,p,x){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ts:ki,this.isPropagationStopped=ki,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),r}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=on(ws),ur=b({},ws,{view:0,detail:0}),ac=on(ur),hr,Eo,ns,Ao=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ns&&(ns&&i.type==="mousemove"?(hr=i.screenX-ns.screenX,Eo=i.screenY-ns.screenY):Eo=hr=0,ns=i),hr)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),oc=on(Ao),Ta=b({},Ao,{dataTransfer:0}),rh=on(Ta),ah=b({},ur,{relatedTarget:0}),wa=on(ah),lc=b({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=on(lc),So=b({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=on(So),ch=b({},ws,{data:0}),is=on(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dh[i])?!!r[i]:!1}function dr(){return fh}var En=b({},ur,{key:function(i){if(i.key){var r=uh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ba(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(i){return i.type==="keypress"?ba(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ba(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mh=on(En),ph=b({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=on(ph),h=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),_=on(h),T=b({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=on(T),K=b({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=on(K),me=b({},ws,{newState:0,oldState:0}),Pe=on(me),Dt=[9,13,27,32],Ze=ri&&"CompositionEvent"in window,bt=null;ri&&"documentMode"in document&&(bt=document.documentMode);var ai=ri&&"TextEvent"in window&&!bt,ss=ri&&(!Ze||bt&&8<bt&&11>=bt),Ri=" ",Ii=!1;function Ea(i,r){switch(i){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function P2(i,r){switch(i){case"compositionend":return Co(r);case"keypress":return r.which!==32?null:(Ii=!0,Ri);case"textInput":return i=r.data,i===Ri&&Ii?null:i;default:return null}}function O2(i,r){if(ko)return i==="compositionend"||!Ze&&Ea(i,r)?(i=rc(),xa=sc=es=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ss&&r.locale!=="ko"?null:r.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!V2[i.type]:r==="textarea"}function Fv(i,r,o,c){lr?Ji?Ji.push(c):Ji=[c]:lr=c,r=sd(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var cc=null,uc=null;function j2(i){Ab(i,0)}function gh(i){var r=Hn(i);if(ga(r))return i}function Hv(i,r){if(i==="change")return r}var Gv=!1;if(ri){var hm;if(ri){var dm="oninput"in document;if(!dm){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),dm=typeof Kv.oninput=="function"}hm=dm}else hm=!1;Gv=hm&&(!document.documentMode||9<document.documentMode)}function $v(){cc&&(cc.detachEvent("onpropertychange",Qv),uc=cc=null)}function Qv(i){if(i.propertyName==="value"&&gh(uc)){var r=[];Fv(r,uc,i,si(i)),cr(j2,r)}}function L2(i,r,o){i==="focusin"?($v(),cc=r,uc=o,cc.attachEvent("onpropertychange",Qv)):i==="focusout"&&$v()}function U2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(uc)}function B2(i,r){if(i==="click")return gh(r)}function z2(i,r){if(i==="input"||i==="change")return gh(r)}function q2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Kn=typeof Object.is=="function"?Object.is:q2;function hc(i,r){if(Kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ot.call(r,d)||!Kn(i[d],r[d]))return!1}return!0}function Yv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xv(i,r){var o=Yv(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yv(o)}}function Wv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Wv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Zv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Zi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Zi(i.document)}return r}function fm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var F2=ri&&"documentMode"in document&&11>=document.documentMode,Ro=null,mm=null,dc=null,pm=!1;function Jv(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pm||Ro==null||Ro!==Zi(c)||(c=Ro,"selectionStart"in c&&fm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),dc&&hc(dc,c)||(dc=c,c=sd(mm,"onSelect"),0<c.length&&(r=new ts("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ro)))}function Aa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Io={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},gm={},e_={};ri&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Sa(i){if(gm[i])return gm[i];if(!Io[i])return i;var r=Io[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in e_)return gm[i]=r[o];return i}var t_=Sa("animationend"),n_=Sa("animationiteration"),i_=Sa("animationstart"),H2=Sa("transitionrun"),G2=Sa("transitionstart"),K2=Sa("transitioncancel"),s_=Sa("transitionend"),r_=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function Ni(i,r){r_.set(i,r),Xi(r,[i])}var yh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},oi=[],No=0,vm=0;function vh(){for(var i=No,r=vm=No=0;r<i;){var o=oi[r];oi[r++]=null;var c=oi[r];oi[r++]=null;var d=oi[r];oi[r++]=null;var p=oi[r];if(oi[r++]=null,c!==null&&d!==null){var x=c.pending;x===null?d.next=d:(d.next=x.next,x.next=d),c.pending=d}p!==0&&a_(o,d,p)}}function _h(i,r,o,c){oi[No++]=i,oi[No++]=r,oi[No++]=o,oi[No++]=c,vm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function _m(i,r,o,c){return _h(i,r,o,c),xh(i)}function Ca(i,r){return _h(i,null,null,r),xh(i)}function a_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(d=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,d&&r!==null&&(d=31-Nt(o),i=p.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),p):null}function xh(i){if(50<Pc)throw Pc=0,kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Do={};function $2(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,r,o,c){return new $2(i,r,o,c)}function xm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function As(i,r){var o=i.alternate;return o===null?(o=$n(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function o_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function bh(i,r,o,c,d,p){var x=0;if(c=i,typeof i=="function")xm(i)&&(x=1);else if(typeof i=="string")x=ZR(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=$n(31,o,r,d),i.elementType=N,i.lanes=p,i;case O:return ka(o.children,d,p,r);case M:x=8,d|=24;break;case F:return i=$n(12,o,r,d|2),i.elementType=F,i.lanes=p,i;case he:return i=$n(13,o,r,d),i.elementType=he,i.lanes=p,i;case de:return i=$n(19,o,r,d),i.elementType=de,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:x=10;break e;case ee:x=9;break e;case ue:x=11;break e;case R:x=14;break e;case C:x=16,c=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=$n(x,o,r,d),r.elementType=i,r.type=c,r.lanes=p,r}function ka(i,r,o,c){return i=$n(7,i,c,r),i.lanes=o,i}function bm(i,r,o){return i=$n(6,i,null,r),i.lanes=o,i}function l_(i){var r=$n(18,null,null,0);return r.stateNode=i,r}function Tm(i,r,o){return r=$n(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var c_=new WeakMap;function li(i,r){if(typeof i=="object"&&i!==null){var o=c_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:wn(r)},c_.set(i,r),r)}return{value:i,source:r,stack:wn(r)}}var Mo=[],Po=0,Th=null,fc=0,ci=[],ui=0,fr=null,rs=1,as="";function Ss(i,r){Mo[Po++]=fc,Mo[Po++]=Th,Th=i,fc=r}function u_(i,r,o){ci[ui++]=rs,ci[ui++]=as,ci[ui++]=fr,fr=i;var c=rs;i=as;var d=32-Nt(c)-1;c&=~(1<<d),o+=1;var p=32-Nt(r)+d;if(30<p){var x=d-d%5;p=(c&(1<<x)-1).toString(32),c>>=x,d-=x,rs=1<<32-Nt(r)+d|o<<d|c,as=p+i}else rs=1<<p|o<<d|c,as=i}function wm(i){i.return!==null&&(Ss(i,1),u_(i,1,0))}function Em(i){for(;i===Th;)Th=Mo[--Po],Mo[Po]=null,fc=Mo[--Po],Mo[Po]=null;for(;i===fr;)fr=ci[--ui],ci[ui]=null,as=ci[--ui],ci[ui]=null,rs=ci[--ui],ci[ui]=null}function h_(i,r){ci[ui++]=rs,ci[ui++]=as,ci[ui++]=fr,rs=r.id,as=r.overflow,fr=i}var ln=null,yt=null,Ke=!1,mr=null,hi=!1,Am=Error(s(519));function pr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mc(li(r,i)),Am}function d_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Lt]=i,r[en]=c,o){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(o=0;o<Vc.length;o++)Ue(Vc[o],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),th(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),ar(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Rb(r.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),c.onScroll!=null&&Ue("scroll",r),c.onScrollEnd!=null&&Ue("scrollend",r),c.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||pr(i,!0)}function f_(i){for(ln=i.return;ln;)switch(ln.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function Oo(i){if(i!==ln)return!1;if(!Ke)return f_(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Fp(i.type,i.memoizedProps)),o=!o),o&&yt&&pr(i),f_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));yt=Lb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));yt=Lb(i)}else r===27?(r=yt,Rr(i.type)?(i=Qp,Qp=null,yt=i):yt=r):yt=ln?fi(i.stateNode.nextSibling):null;return!0}function Ra(){yt=ln=null,Ke=!1}function Sm(){var i=mr;return i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i),mr=null),i}function mc(i){mr===null?mr=[i]:mr.push(i)}var Cm=E(null),Ia=null,Cs=null;function gr(i,r,o){W(Cm,r._currentValue),r._currentValue=o}function ks(i){i._currentValue=Cm.current,q(Cm)}function km(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Rm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var p=d.dependencies;if(p!==null){var x=d.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=d;for(var V=0;V<r.length;V++)if(A.context===r[V]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),km(p.return,o,i),c||(x=null);break e}p=A.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(s(341));x.lanes|=o,p=x.alternate,p!==null&&(p.lanes|=o),km(x,o,i),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===i){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function Vo(i,r,o,c){i=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var A=d.type;Kn(d.pendingProps.value,x.value)||(i!==null?i.push(A):i=[A])}}else if(d===pe.current){if(x=d.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(zc):i=[zc])}d=d.return}i!==null&&Rm(r,i,o,c),r.flags|=262144}function wh(i){for(i=i.firstContext;i!==null;){if(!Kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Na(i){Ia=i,Cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cn(i){return m_(Ia,i)}function Eh(i,r){return Ia===null&&Na(i),m_(i,r)}function m_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Cs===null){if(i===null)throw Error(s(308));Cs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Cs=Cs.next=r;return o}var Q2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},Y2=t.unstable_scheduleCallback,X2=t.unstable_NormalPriority,zt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new Q2,data:new Map,refCount:0}}function pc(i){i.refCount--,i.refCount===0&&Y2(X2,function(){i.controller.abort()})}var gc=null,Nm=0,jo=0,Lo=null;function W2(i,r){if(gc===null){var o=gc=[];Nm=0,jo=Pp(),Lo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Nm++,r.then(p_,p_),r}function p_(){if(--Nm===0&&gc!==null){Lo!==null&&(Lo.status="fulfilled");var i=gc;gc=null,jo=0,Lo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function Z2(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var g_=L.S;L.S=function(i,r){Jx=Jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&W2(i,r),g_!==null&&g_(i,r)};var Da=E(null);function Dm(){var i=Da.current;return i!==null?i:ft.pooledCache}function Ah(i,r){r===null?W(Da,Da.current):W(Da,r.pool)}function y_(){var i=Dm();return i===null?null:{parent:zt._currentValue,pool:i}}var Uo=Error(s(460)),Mm=Error(s(474)),Sh=Error(s(542)),Ch={then:function(){}};function v_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function __(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Si,Si),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,b_(i),i;default:if(typeof r.status=="string")r.then(Si,Si);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,b_(i),i}throw Pa=r,Uo}}function Ma(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,Uo):o}}var Pa=null;function x_(){if(Pa===null)throw Error(s(459));var i=Pa;return Pa=null,i}function b_(i){if(i===Uo||i===Sh)throw Error(s(483))}var Bo=null,yc=0;function kh(i){var r=yc;return yc+=1,Bo===null&&(Bo=[]),__(Bo,i,r)}function vc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Rh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function T_(i){function r(G,B){if(i){var $=G.deletions;$===null?(G.deletions=[B],G.flags|=16):$.push(B)}}function o(G,B){if(!i)return null;for(;B!==null;)r(G,B),B=B.sibling;return null}function c(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function d(G,B){return G=As(G,B),G.index=0,G.sibling=null,G}function p(G,B,$){return G.index=$,i?($=G.alternate,$!==null?($=$.index,$<B?(G.flags|=67108866,B):$):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function x(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,B,$,ie){return B===null||B.tag!==6?(B=bm($,G.mode,ie),B.return=G,B):(B=d(B,$),B.return=G,B)}function V(G,B,$,ie){var Te=$.type;return Te===O?ne(G,B,$.props.children,ie,$.key):B!==null&&(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&Ma(Te)===B.type)?(B=d(B,$.props),vc(B,$),B.return=G,B):(B=bh($.type,$.key,$.props,null,G.mode,ie),vc(B,$),B.return=G,B)}function Q(G,B,$,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=Tm($,G.mode,ie),B.return=G,B):(B=d(B,$.children||[]),B.return=G,B)}function ne(G,B,$,ie,Te){return B===null||B.tag!==7?(B=ka($,G.mode,ie,Te),B.return=G,B):(B=d(B,$),B.return=G,B)}function re(G,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=bm(""+B,G.mode,$),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return $=bh(B.type,B.key,B.props,null,G.mode,$),vc($,B),$.return=G,$;case D:return B=Tm(B,G.mode,$),B.return=G,B;case C:return B=Ma(B),re(G,B,$)}if(Ge(B)||z(B))return B=ka(B,G.mode,$,null),B.return=G,B;if(typeof B.then=="function")return re(G,kh(B),$);if(B.$$typeof===Y)return re(G,Eh(G,B),$);Rh(G,B)}return null}function X(G,B,$,ie){var Te=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Te!==null?null:A(G,B,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===Te?V(G,B,$,ie):null;case D:return $.key===Te?Q(G,B,$,ie):null;case C:return $=Ma($),X(G,B,$,ie)}if(Ge($)||z($))return Te!==null?null:ne(G,B,$,ie,null);if(typeof $.then=="function")return X(G,B,kh($),ie);if($.$$typeof===Y)return X(G,B,Eh(G,$),ie);Rh(G,$)}return null}function J(G,B,$,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get($)||null,A(B,G,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:return G=G.get(ie.key===null?$:ie.key)||null,V(B,G,ie,Te);case D:return G=G.get(ie.key===null?$:ie.key)||null,Q(B,G,ie,Te);case C:return ie=Ma(ie),J(G,B,$,ie,Te)}if(Ge(ie)||z(ie))return G=G.get($)||null,ne(B,G,ie,Te,null);if(typeof ie.then=="function")return J(G,B,$,kh(ie),Te);if(ie.$$typeof===Y)return J(G,B,$,Eh(B,ie),Te);Rh(B,ie)}return null}function _e(G,B,$,ie){for(var Te=null,Xe=null,xe=B,Ve=B=0,ze=null;xe!==null&&Ve<$.length;Ve++){xe.index>Ve?(ze=xe,xe=null):ze=xe.sibling;var We=X(G,xe,$[Ve],ie);if(We===null){xe===null&&(xe=ze);break}i&&xe&&We.alternate===null&&r(G,xe),B=p(We,B,Ve),Xe===null?Te=We:Xe.sibling=We,Xe=We,xe=ze}if(Ve===$.length)return o(G,xe),Ke&&Ss(G,Ve),Te;if(xe===null){for(;Ve<$.length;Ve++)xe=re(G,$[Ve],ie),xe!==null&&(B=p(xe,B,Ve),Xe===null?Te=xe:Xe.sibling=xe,Xe=xe);return Ke&&Ss(G,Ve),Te}for(xe=c(xe);Ve<$.length;Ve++)ze=J(xe,G,Ve,$[Ve],ie),ze!==null&&(i&&ze.alternate!==null&&xe.delete(ze.key===null?Ve:ze.key),B=p(ze,B,Ve),Xe===null?Te=ze:Xe.sibling=ze,Xe=ze);return i&&xe.forEach(function(Pr){return r(G,Pr)}),Ke&&Ss(G,Ve),Te}function Ae(G,B,$,ie){if($==null)throw Error(s(151));for(var Te=null,Xe=null,xe=B,Ve=B=0,ze=null,We=$.next();xe!==null&&!We.done;Ve++,We=$.next()){xe.index>Ve?(ze=xe,xe=null):ze=xe.sibling;var Pr=X(G,xe,We.value,ie);if(Pr===null){xe===null&&(xe=ze);break}i&&xe&&Pr.alternate===null&&r(G,xe),B=p(Pr,B,Ve),Xe===null?Te=Pr:Xe.sibling=Pr,Xe=Pr,xe=ze}if(We.done)return o(G,xe),Ke&&Ss(G,Ve),Te;if(xe===null){for(;!We.done;Ve++,We=$.next())We=re(G,We.value,ie),We!==null&&(B=p(We,B,Ve),Xe===null?Te=We:Xe.sibling=We,Xe=We);return Ke&&Ss(G,Ve),Te}for(xe=c(xe);!We.done;Ve++,We=$.next())We=J(xe,G,Ve,We.value,ie),We!==null&&(i&&We.alternate!==null&&xe.delete(We.key===null?Ve:We.key),B=p(We,B,Ve),Xe===null?Te=We:Xe.sibling=We,Xe=We);return i&&xe.forEach(function(cI){return r(G,cI)}),Ke&&Ss(G,Ve),Te}function ht(G,B,$,ie){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:e:{for(var Te=$.key;B!==null;){if(B.key===Te){if(Te=$.type,Te===O){if(B.tag===7){o(G,B.sibling),ie=d(B,$.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&Ma(Te)===B.type){o(G,B.sibling),ie=d(B,$.props),vc(ie,$),ie.return=G,G=ie;break e}o(G,B);break}else r(G,B);B=B.sibling}$.type===O?(ie=ka($.props.children,G.mode,ie,$.key),ie.return=G,G=ie):(ie=bh($.type,$.key,$.props,null,G.mode,ie),vc(ie,$),ie.return=G,G=ie)}return x(G);case D:e:{for(Te=$.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(G,B.sibling),ie=d(B,$.children||[]),ie.return=G,G=ie;break e}else{o(G,B);break}else r(G,B);B=B.sibling}ie=Tm($,G.mode,ie),ie.return=G,G=ie}return x(G);case C:return $=Ma($),ht(G,B,$,ie)}if(Ge($))return _e(G,B,$,ie);if(z($)){if(Te=z($),typeof Te!="function")throw Error(s(150));return $=Te.call($),Ae(G,B,$,ie)}if(typeof $.then=="function")return ht(G,B,kh($),ie);if($.$$typeof===Y)return ht(G,B,Eh(G,$),ie);Rh(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(G,B.sibling),ie=d(B,$),ie.return=G,G=ie):(o(G,B),ie=bm($,G.mode,ie),ie.return=G,G=ie),x(G)):o(G,B)}return function(G,B,$,ie){try{yc=0;var Te=ht(G,B,$,ie);return Bo=null,Te}catch(xe){if(xe===Uo||xe===Sh)throw xe;var Xe=$n(29,xe,null,G.mode);return Xe.lanes=ie,Xe.return=G,Xe}}}var Oa=T_(!0),w_=T_(!1),yr=!1;function Pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _r(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=xh(i),a_(i,null,o),r}return _h(i,c,r,o),xh(i)}function _c(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Kl(i,o)}}function Vm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=x:p=p.next=x,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var jm=!1;function xc(){if(jm){var i=Lo;if(i!==null)throw i}}function bc(i,r,o,c){jm=!1;var d=i.updateQueue;yr=!1;var p=d.firstBaseUpdate,x=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var V=A,Q=V.next;V.next=null,x===null?p=Q:x.next=Q,x=V;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==x&&(A===null?ne.firstBaseUpdate=Q:A.next=Q,ne.lastBaseUpdate=V))}if(p!==null){var re=d.baseState;x=0,ne=Q=V=null,A=p;do{var X=A.lane&-536870913,J=X!==A.lane;if(J?(Be&X)===X:(c&X)===X){X!==0&&X===jo&&(jm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var _e=i,Ae=A;X=r;var ht=o;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){re=_e.call(ht,re,X);break e}re=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,X=typeof _e=="function"?_e.call(ht,re,X):_e,X==null)break e;re=b({},re,X);break e;case 2:yr=!0}}X=A.callback,X!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[X]:J.push(X))}else J={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Q=ne=J,V=re):ne=ne.next=J,x|=X;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;J=A,A=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ne===null&&(V=re),d.baseState=V,d.firstBaseUpdate=Q,d.lastBaseUpdate=ne,p===null&&(d.shared.lanes=0),Er|=x,i.lanes=x,i.memoizedState=re}}function E_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function A_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)E_(o[i],r)}var zo=E(null),Ih=E(0);function S_(i,r){i=js,W(Ih,i),W(zo,r),js=i|r.baseLanes}function Lm(){W(Ih,js),W(zo,zo.current)}function Um(){js=Ih.current,q(zo),q(Ih)}var Qn=E(null),di=null;function xr(i){var r=i.alternate;W(Mt,Mt.current&1),W(Qn,i),di===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(di=i)}function Bm(i){W(Mt,Mt.current),W(Qn,i),di===null&&(di=i)}function C_(i){i.tag===22?(W(Mt,Mt.current),W(Qn,i),di===null&&(di=i)):br()}function br(){W(Mt,Mt.current),W(Qn,Qn.current)}function Yn(i){q(Qn),di===i&&(di=null),q(Mt)}var Mt=E(0);function Nh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||$p(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rs=0,Oe=null,ct=null,qt=null,Dh=!1,qo=!1,Va=!1,Mh=0,Tc=0,Fo=null,J2=0;function Ct(){throw Error(s(321))}function zm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Kn(i[o],r[o]))return!1;return!0}function qm(i,r,o,c,d,p){return Rs=p,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=i===null||i.memoizedState===null?ux:ip,Va=!1,p=o(c,d),Va=!1,qo&&(p=R_(r,o,c,d)),k_(i),p}function k_(i){L.H=Ac;var r=ct!==null&&ct.next!==null;if(Rs=0,qt=ct=Oe=null,Dh=!1,Tc=0,Fo=null,r)throw Error(s(300));i===null||Ft||(i=i.dependencies,i!==null&&wh(i)&&(Ft=!0))}function R_(i,r,o,c){Oe=i;var d=0;do{if(qo&&(Fo=null),Tc=0,qo=!1,25<=d)throw Error(s(301));if(d+=1,qt=ct=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=hx,p=r(o,c)}while(qo);return p}function eR(){var i=L.H,r=i.useState()[0];return r=typeof r.then=="function"?wc(r):r,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Oe.flags|=1024),r}function Fm(){var i=Mh!==0;return Mh=0,i}function Hm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Gm(i){if(Dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}Rs=0,qt=ct=Oe=null,qo=!1,Tc=Mh=0,Fo=null}function An(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Oe.memoizedState=qt=i:qt=qt.next=i,qt}function Pt(){if(ct===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var r=qt===null?Oe.memoizedState:qt.next;if(r!==null)qt=r,ct=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},qt===null?Oe.memoizedState=qt=i:qt=qt.next=i}return qt}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(i){var r=Tc;return Tc+=1,Fo===null&&(Fo=[]),i=__(Fo,i,r),r=Oe,(qt===null?r.memoizedState:qt.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?ux:ip),i}function Oh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wc(i);if(i.$$typeof===Y)return cn(i)}throw Error(s(438,String(i)))}function Km(i){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ph(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function Is(i,r){return typeof r=="function"?r(i):r}function Vh(i){var r=Pt();return $m(r,ct,i)}function $m(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,p=c.pending;if(p!==null){if(d!==null){var x=d.next;d.next=p.next,p.next=x}r.baseQueue=d=p,c.pending=null}if(p=i.baseState,d===null)i.memoizedState=p;else{r=d.next;var A=x=null,V=null,Q=r,ne=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(Be&re)===re:(Rs&re)===re){var X=Q.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===jo&&(ne=!0);else if((Rs&X)===X){Q=Q.next,X===jo&&(ne=!0);continue}else re={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=re,x=p):V=V.next=re,Oe.lanes|=X,Er|=X;re=Q.action,Va&&o(p,re),p=Q.hasEagerState?Q.eagerState:o(p,re)}else X={lane:re,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=X,x=p):V=V.next=X,Oe.lanes|=re,Er|=re;Q=Q.next}while(Q!==null&&Q!==r);if(V===null?x=p:V.next=A,!Kn(p,i.memoizedState)&&(Ft=!0,ne&&(o=Lo,o!==null)))throw o;i.memoizedState=p,i.baseState=x,i.baseQueue=V,c.lastRenderedState=p}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Qm(i){var r=Pt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do p=i(p,x.action),x=x.next;while(x!==d);Kn(p,r.memoizedState)||(Ft=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function I_(i,r,o){var c=Oe,d=Pt(),p=Ke;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!Kn((ct||d).memoizedState,o);if(x&&(d.memoizedState=o,Ft=!0),d=d.queue,Wm(M_.bind(null,c,d,i),[i]),d.getSnapshot!==r||x||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,Ho(9,{destroy:void 0},D_.bind(null,c,d,o,r),null),ft===null)throw Error(s(349));p||(Rs&127)!==0||N_(c,r,o)}return o}function N_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Ph(),Oe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function D_(i,r,o,c){r.value=o,r.getSnapshot=c,P_(r)&&O_(i)}function M_(i,r,o){return o(function(){P_(r)&&O_(i)})}function P_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Kn(i,o)}catch{return!0}}function O_(i){var r=Ca(i,2);r!==null&&On(r,i,2)}function Ym(i){var r=An();if(typeof i=="function"){var o=i;if(i=o(),Va){ni(!0);try{o()}finally{ni(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:i},r}function V_(i,r,o,c){return i.baseState=o,$m(i,ct,typeof c=="function"?c:Is)}function tR(i,r,o,c,d){if(Uh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};L.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,j_(r,p)):(p.next=o.next,r.pending=o.next=p)}}function j_(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var p=L.T,x={};L.T=x;try{var A=o(d,c),V=L.S;V!==null&&V(x,A),L_(i,r,A)}catch(Q){Xm(i,r,Q)}finally{p!==null&&x.types!==null&&(p.types=x.types),L.T=p}}else try{p=o(d,c),L_(i,r,p)}catch(Q){Xm(i,r,Q)}}function L_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){U_(i,r,c)},function(c){return Xm(i,r,c)}):U_(i,r,o)}function U_(i,r,o){r.status="fulfilled",r.value=o,B_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,j_(i,o)))}function Xm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,B_(r),r=r.next;while(r!==c)}i.action=null}function B_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function z_(i,r){return r}function q_(i,r){if(Ke){var o=ft.formState;if(o!==null){e:{var c=Oe;if(Ke){if(yt){t:{for(var d=yt,p=hi;d.nodeType!==8;){if(!p){d=null;break t}if(d=fi(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){yt=fi(d.nextSibling),c=d.data==="F!";break e}}pr(c)}c=!1}c&&(r=o[0])}}return o=An(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:r},o.queue=c,o=ox.bind(null,Oe,c),c.dispatch=o,c=Ym(!1),p=np.bind(null,Oe,!1,c.queue),c=An(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=tR.bind(null,Oe,d,p,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function F_(i){var r=Pt();return H_(r,ct,i)}function H_(i,r,o){if(r=$m(i,r,z_)[0],i=Vh(Is)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=wc(r)}catch(x){throw x===Uo?Sh:x}else c=r;r=Pt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,Ho(9,{destroy:void 0},nR.bind(null,d,o),null)),[c,p,i]}function nR(i,r){i.action=r}function G_(i){var r=Pt(),o=ct;if(o!==null)return H_(r,o,i);Pt(),r=r.memoizedState,o=Pt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ho(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Ph(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function K_(){return Pt().memoizedState}function jh(i,r,o,c){var d=An();Oe.flags|=i,d.memoizedState=Ho(1|r,{destroy:void 0},o,c===void 0?null:c)}function Lh(i,r,o,c){var d=Pt();c=c===void 0?null:c;var p=d.memoizedState.inst;ct!==null&&c!==null&&zm(c,ct.memoizedState.deps)?d.memoizedState=Ho(r,p,o,c):(Oe.flags|=i,d.memoizedState=Ho(1|r,p,o,c))}function $_(i,r){jh(8390656,8,i,r)}function Wm(i,r){Lh(2048,8,i,r)}function iR(i){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Ph(),Oe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Q_(i){var r=Pt().memoizedState;return iR({ref:r,nextImpl:i}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Y_(i,r){return Lh(4,2,i,r)}function X_(i,r){return Lh(4,4,i,r)}function W_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Z_(i,r,o){o=o!=null?o.concat([i]):null,Lh(4,4,W_.bind(null,r,i),o)}function Zm(){}function J_(i,r){var o=Pt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&zm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function ex(i,r){var o=Pt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&zm(r,c[1]))return c[0];if(c=i(),Va){ni(!0);try{i()}finally{ni(!1)}}return o.memoizedState=[c,r],c}function Jm(i,r,o){return o===void 0||(Rs&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=tb(),Oe.lanes|=i,Er|=i,o)}function tx(i,r,o,c){return Kn(o,r)?o:zo.current!==null?(i=Jm(i,o,c),Kn(i,r)||(Ft=!0),i):(Rs&42)===0||(Rs&1073741824)!==0&&(Be&261930)===0?(Ft=!0,i.memoizedState=o):(i=tb(),Oe.lanes|=i,Er|=i,r)}function nx(i,r,o,c,d){var p=H.p;H.p=p!==0&&8>p?p:8;var x=L.T,A={};L.T=A,np(i,!1,r,o);try{var V=d(),Q=L.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=Z2(V,c);Ec(i,r,ne,Zn(i))}else Ec(i,r,c,Zn(i))}catch(re){Ec(i,r,{then:function(){},status:"rejected",reason:re},Zn())}finally{H.p=p,x!==null&&A.types!==null&&(x.types=A.types),L.T=x}}function sR(){}function ep(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=ix(i).queue;nx(i,d,r,ae,o===null?sR:function(){return sx(i),o(c)})}function ix(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:ae},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function sx(i){var r=ix(i);r.next===null&&(r=i.alternate.memoizedState),Ec(i,r.next.queue,{},Zn())}function tp(){return cn(zc)}function rx(){return Pt().memoizedState}function ax(){return Pt().memoizedState}function rR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Zn();i=vr(o);var c=_r(r,i,o);c!==null&&(On(c,r,o),_c(c,r,o)),r={cache:Im()},i.payload=r;return}r=r.return}}function aR(i,r,o){var c=Zn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uh(i)?lx(r,o):(o=_m(i,r,o,c),o!==null&&(On(o,i,c),cx(o,r,c)))}function ox(i,r,o){var c=Zn();Ec(i,r,o,c)}function Ec(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uh(i))lx(r,d);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,A=p(x,o);if(d.hasEagerState=!0,d.eagerState=A,Kn(A,x))return _h(i,r,d,0),ft===null&&vh(),!1}catch{}if(o=_m(i,r,d,c),o!==null)return On(o,i,c),cx(o,r,c),!0}return!1}function np(i,r,o,c){if(c={lane:2,revertLane:Pp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uh(i)){if(r)throw Error(s(479))}else r=_m(i,o,c,2),r!==null&&On(r,i,2)}function Uh(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function lx(i,r){qo=Dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function cx(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Kl(i,o)}}var Ac={readContext:cn,use:Oh,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Ac.useEffectEvent=Ct;var ux={readContext:cn,use:Oh,useCallback:function(i,r){return An().memoizedState=[i,r===void 0?null:r],i},useContext:cn,useEffect:$_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,jh(4194308,4,W_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return jh(4194308,4,i,r)},useInsertionEffect:function(i,r){jh(4,2,i,r)},useMemo:function(i,r){var o=An();r=r===void 0?null:r;var c=i();if(Va){ni(!0);try{i()}finally{ni(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=An();if(o!==void 0){var d=o(r);if(Va){ni(!0);try{o(r)}finally{ni(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=aR.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var r=An();return i={current:i},r.memoizedState=i},useState:function(i){i=Ym(i);var r=i.queue,o=ox.bind(null,Oe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(i,r){var o=An();return Jm(o,i,r)},useTransition:function(){var i=Ym(!1);return i=nx.bind(null,Oe,i.queue,!0,!1),An().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Oe,d=An();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ft===null)throw Error(s(349));(Be&127)!==0||N_(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,$_(M_.bind(null,c,p,i),[i]),c.flags|=2048,Ho(9,{destroy:void 0},D_.bind(null,c,p,o,r),null),o},useId:function(){var i=An(),r=ft.identifierPrefix;if(Ke){var o=as,c=rs;o=(c&~(1<<32-Nt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=J2++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:tp,useFormState:q_,useActionState:q_,useOptimistic:function(i){var r=An();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=np.bind(null,Oe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Km,useCacheRefresh:function(){return An().memoizedState=rR.bind(null,Oe)},useEffectEvent:function(i){var r=An(),o={impl:i};return r.memoizedState=o,function(){if((Je&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:cn,use:Oh,useCallback:J_,useContext:cn,useEffect:Wm,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:ex,useReducer:Vh,useRef:K_,useState:function(){return Vh(Is)},useDebugValue:Zm,useDeferredValue:function(i,r){var o=Pt();return tx(o,ct.memoizedState,i,r)},useTransition:function(){var i=Vh(Is)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:wc(i),r]},useSyncExternalStore:I_,useId:rx,useHostTransitionStatus:tp,useFormState:F_,useActionState:F_,useOptimistic:function(i,r){var o=Pt();return V_(o,ct,i,r)},useMemoCache:Km,useCacheRefresh:ax};ip.useEffectEvent=Q_;var hx={readContext:cn,use:Oh,useCallback:J_,useContext:cn,useEffect:Wm,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:ex,useReducer:Qm,useRef:K_,useState:function(){return Qm(Is)},useDebugValue:Zm,useDeferredValue:function(i,r){var o=Pt();return ct===null?Jm(o,i,r):tx(o,ct.memoizedState,i,r)},useTransition:function(){var i=Qm(Is)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:wc(i),r]},useSyncExternalStore:I_,useId:rx,useHostTransitionStatus:tp,useFormState:G_,useActionState:G_,useOptimistic:function(i,r){var o=Pt();return ct!==null?V_(o,ct,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:ax};hx.useEffectEvent=Q_;function sp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Zn(),d=vr(c);d.payload=r,o!=null&&(d.callback=o),r=_r(i,d,c),r!==null&&(On(r,i,c),_c(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Zn(),d=vr(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=_r(i,d,c),r!==null&&(On(r,i,c),_c(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Zn(),c=vr(o);c.tag=2,r!=null&&(c.callback=r),r=_r(i,c,o),r!==null&&(On(r,i,o),_c(r,i,o))}};function dx(i,r,o,c,d,p,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,x):r.prototype&&r.prototype.isPureReactComponent?!hc(o,c)||!hc(d,p):!0}function fx(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&rp.enqueueReplaceState(r,r.state,null)}function ja(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function mx(i){yh(i)}function px(i){console.error(i)}function gx(i){yh(i)}function Bh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function yx(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ap(i,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Bh(i,r)},o}function vx(i){return i=vr(i),i.tag=3,i}function _x(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;i.payload=function(){return d(p)},i.callback=function(){yx(r,o,c)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){yx(r,o,c),typeof d!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function oR(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Vo(r,o,d,!0),o=Qn.current,o!==null){switch(o.tag){case 31:case 13:return di===null?Zh():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Np(i,c,d)),!1;case 22:return o.flags|=65536,c===Ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Np(i,c,d)),!1}throw Error(s(435,o.tag))}return Np(i,c,d),Zh(),!1}if(Ke)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==Am&&(i=Error(s(422),{cause:c}),mc(li(i,o)))):(c!==Am&&(r=Error(s(423),{cause:c}),mc(li(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=li(c,o),d=ap(i.stateNode,c,d),Vm(i,d),kt!==4&&(kt=2)),!1;var p=Error(s(520),{cause:c});if(p=li(p,o),Mc===null?Mc=[p]:Mc.push(p),kt!==4&&(kt=2),r===null)return!0;c=li(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ap(o.stateNode,c,i),Vm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ar===null||!Ar.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=vx(d),_x(d,i,o,c),Vm(o,d),!1}o=o.return}while(o!==null);return!1}var op=Error(s(461)),Ft=!1;function un(i,r,o,c){r.child=i===null?w_(r,null,o,c):Oa(r,i.child,o,c)}function xx(i,r,o,c,d){o=o.render;var p=r.ref;if("ref"in c){var x={};for(var A in c)A!=="ref"&&(x[A]=c[A])}else x=c;return Na(r),c=qm(i,r,o,x,p,d),A=Fm(),i!==null&&!Ft?(Hm(i,r,d),Ns(i,r,d)):(Ke&&A&&wm(r),r.flags|=1,un(i,r,c,d),r.child)}function bx(i,r,o,c,d){if(i===null){var p=o.type;return typeof p=="function"&&!xm(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Tx(i,r,p,c,d)):(i=bh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!pp(i,d)){var x=p.memoizedProps;if(o=o.compare,o=o!==null?o:hc,o(x,c)&&i.ref===r.ref)return Ns(i,r,d)}return r.flags|=1,i=As(p,c),i.ref=r.ref,i.return=r,r.child=i}function Tx(i,r,o,c,d){if(i!==null){var p=i.memoizedProps;if(hc(p,c)&&i.ref===r.ref)if(Ft=!1,r.pendingProps=c=p,pp(i,d))(i.flags&131072)!==0&&(Ft=!0);else return r.lanes=i.lanes,Ns(i,r,d)}return lp(i,r,o,c,d)}function wx(i,r,o,c){var d=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,r.child=null;return Ex(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ah(r,p!==null?p.cachePool:null),p!==null?S_(r,p):Lm(),C_(r);else return c=r.lanes=536870912,Ex(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(Ah(r,p.cachePool),S_(r,p),br(),r.memoizedState=null):(i!==null&&Ah(r,null),Lm(),br());return un(i,r,d,o),r.child}function Sc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ex(i,r,o,c,d){var p=Dm();return p=p===null?null:{parent:zt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&Ah(r,null),Lm(),C_(r),i!==null&&Vo(i,r,c,!0),r.childLanes=d,null}function zh(i,r){return r=Fh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Ax(i,r,o){return Oa(r,i.child,null,o),i=zh(r,r.pendingProps),i.flags|=2,Yn(r),r.memoizedState=null,i}function lR(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ke){if(c.mode==="hidden")return i=zh(r,c),r.lanes=536870912,Sc(null,i);if(Bm(r),(i=yt)?(i=jb(i,hi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=l_(i),o.return=r,r.child=o,ln=r,yt=null)):i=null,i===null)throw pr(r);return r.lanes=536870912,null}return zh(r,c)}var p=i.memoizedState;if(p!==null){var x=p.dehydrated;if(Bm(r),d)if(r.flags&256)r.flags&=-257,r=Ax(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ft||Vo(i,r,o,!1),d=(o&i.childLanes)!==0,Ft||d){if(c=ft,c!==null&&(x=$l(c,o),x!==0&&x!==p.retryLane))throw p.retryLane=x,Ca(i,x),On(c,i,x),op;Zh(),r=Ax(i,r,o)}else i=p.treeContext,yt=fi(x.nextSibling),ln=r,Ke=!0,mr=null,hi=!1,i!==null&&h_(r,i),r=zh(r,c),r.flags|=4096;return r}return i=As(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function qh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function lp(i,r,o,c,d){return Na(r),o=qm(i,r,o,c,void 0,d),c=Fm(),i!==null&&!Ft?(Hm(i,r,d),Ns(i,r,d)):(Ke&&c&&wm(r),r.flags|=1,un(i,r,o,d),r.child)}function Sx(i,r,o,c,d,p){return Na(r),r.updateQueue=null,o=R_(r,c,o,d),k_(i),c=Fm(),i!==null&&!Ft?(Hm(i,r,p),Ns(i,r,p)):(Ke&&c&&wm(r),r.flags|=1,un(i,r,o,p),r.child)}function Cx(i,r,o,c,d){if(Na(r),r.stateNode===null){var p=Do,x=o.contextType;typeof x=="object"&&x!==null&&(p=cn(x)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rp,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},Pm(r),x=o.contextType,p.context=typeof x=="object"&&x!==null?cn(x):Do,p.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(sp(r,o,x,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&rp.enqueueReplaceState(p,p.state,null),bc(r,c,p,d),xc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,V=ja(o,A);p.props=V;var Q=p.context,ne=o.contextType;x=Do,typeof ne=="object"&&ne!==null&&(x=cn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Q!==x)&&fx(r,p,c,x),yr=!1;var X=r.memoizedState;p.state=X,bc(r,c,p,d),xc(),Q=r.memoizedState,A||X!==Q||yr?(typeof re=="function"&&(sp(r,o,re,c),Q=r.memoizedState),(V=yr||dx(r,o,V,c,X,Q,x))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Q),p.props=c,p.state=Q,p.context=x,c=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,Om(i,r),x=r.memoizedProps,ne=ja(o,x),p.props=ne,re=r.pendingProps,X=p.context,Q=o.contextType,V=Do,typeof Q=="object"&&Q!==null&&(V=cn(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==re||X!==V)&&fx(r,p,c,V),yr=!1,X=r.memoizedState,p.state=X,bc(r,c,p,d),xc();var J=r.memoizedState;x!==re||X!==J||yr||i!==null&&i.dependencies!==null&&wh(i.dependencies)?(typeof A=="function"&&(sp(r,o,A,c),J=r.memoizedState),(ne=yr||dx(r,o,ne,c,X,J,V)||i!==null&&i.dependencies!==null&&wh(i.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,J,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,J,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=J),p.props=c,p.state=J,p.context=V,c=ne):(typeof p.componentDidUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,qh(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Oa(r,i.child,null,d),r.child=Oa(r,null,o,d)):un(i,r,o,d),r.memoizedState=p.state,i=r.child):i=Ns(i,r,d),i}function kx(i,r,o,c){return Ra(),r.flags|=256,un(i,r,o,c),r.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function up(i){return{baseLanes:i,cachePool:y_()}}function hp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Wn),i}function Rx(i,r,o){var c=r.pendingProps,d=!1,p=(r.flags&128)!==0,x;if((x=p)||(x=i!==null&&i.memoizedState===null?!1:(Mt.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(d?xr(r):br(),(i=yt)?(i=jb(i,hi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=l_(i),o.return=r,r.child=o,ln=r,yt=null)):i=null,i===null)throw pr(r);return $p(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,d?(br(),d=r.mode,A=Fh({mode:"hidden",children:A},d),c=ka(c,d,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=up(o),c.childLanes=hp(i,x,o),r.memoizedState=cp,Sc(null,c)):(xr(r),dp(r,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(p)r.flags&256?(xr(r),r.flags&=-257,r=fp(i,r,o)):r.memoizedState!==null?(br(),r.child=i.child,r.flags|=128,r=null):(br(),A=c.fallback,d=r.mode,c=Fh({mode:"visible",children:c.children},d),A=ka(A,d,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Oa(r,i.child,null,o),c=r.child,c.memoizedState=up(o),c.childLanes=hp(i,x,o),r.memoizedState=cp,r=Sc(null,c));else if(xr(r),$p(A)){if(x=A.nextSibling&&A.nextSibling.dataset,x)var Q=x.dgst;x=Q,c=Error(s(419)),c.stack="",c.digest=x,mc({value:c,source:null,stack:null}),r=fp(i,r,o)}else if(Ft||Vo(i,r,o,!1),x=(o&i.childLanes)!==0,Ft||x){if(x=ft,x!==null&&(c=$l(x,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,Ca(i,c),On(x,i,c),op;Kp(A)||Zh(),r=fp(i,r,o)}else Kp(A)?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,yt=fi(A.nextSibling),ln=r,Ke=!0,mr=null,hi=!1,i!==null&&h_(r,i),r=dp(r,c.children),r.flags|=4096);return r}return d?(br(),A=c.fallback,d=r.mode,V=i.child,Q=V.sibling,c=As(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Q!==null?A=As(Q,A):(A=ka(A,d,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Sc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=up(o):(d=A.cachePool,d!==null?(V=zt._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=y_(),A={baseLanes:A.baseLanes|o,cachePool:d}),c.memoizedState=A,c.childLanes=hp(i,x,o),r.memoizedState=cp,Sc(i.child,c)):(xr(r),o=i.child,i=o.sibling,o=As(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function dp(i,r){return r=Fh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Fh(i,r){return i=$n(22,i,null,r),i.lanes=0,i}function fp(i,r,o){return Oa(r,i.child,null,o),i=dp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Ix(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),km(i.return,r,o)}function mp(i,r,o,c,d,p){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:p}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=o,x.tailMode=d,x.treeForkCount=p)}function Nx(i,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var x=Mt.current,A=(x&2)!==0;if(A?(x=x&1|2,r.flags|=128):x&=1,W(Mt,x),un(i,r,c,o),c=Ke?fc:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ix(i,o,r);else if(i.tag===19)Ix(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Nh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),mp(r,!1,d,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Nh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}mp(r,!0,o,null,p,c);break;case"together":mp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Vo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=As(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=As(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&wh(i)))}function cR(i,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),gr(r,zt,i.memoizedState.cache),Ra();break;case 27:case 5:et(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Bm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(xr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Rx(i,r,o):(xr(r),i=Ns(i,r,o),i!==null?i.sibling:null);xr(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Vo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return Nx(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Mt,Mt.current),c)break;return null;case 22:return r.lanes=0,wx(i,r,o,r.pendingProps);case 24:gr(r,zt,i.memoizedState.cache)}return Ns(i,r,o)}function Dx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ft=!0;else{if(!pp(i,o)&&(r.flags&128)===0)return Ft=!1,cR(i,r,o);Ft=(i.flags&131072)!==0}else Ft=!1,Ke&&(r.flags&1048576)!==0&&u_(r,fc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Ma(r.elementType),r.type=i,typeof i=="function")xm(i)?(c=ja(i,c),r.tag=1,r=Cx(null,r,i,c,o)):(r.tag=0,r=lp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===ue){r.tag=11,r=xx(null,r,i,c,o);break e}else if(d===R){r.tag=14,r=bx(null,r,i,c,o);break e}}throw r=Se(i)||i,Error(s(306,r,""))}}return r;case 0:return lp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=ja(c,r.pendingProps),Cx(i,r,c,d,o);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;d=p.element,Om(i,r),bc(r,c,null,o);var x=r.memoizedState;if(c=x.cache,gr(r,zt,c),c!==p.cache&&Rm(r,[zt],o,!0),xc(),c=x.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=kx(i,r,c,o);break e}else if(c!==d){d=li(Error(s(424)),r),mc(d),r=kx(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,yt=fi(i.firstChild),ln=r,Ke=!0,mr=null,hi=!0,o=w_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ra(),c===d){r=Ns(i,r,o);break e}un(i,r,c,o)}r=r.child}return r;case 26:return qh(i,r),i===null?(o=Fb(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,c=rd(ge.current).createElement(o),c[Lt]=r,c[en]=i,hn(c,o,i),Ut(c),r.stateNode=c):r.memoizedState=Fb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return et(r),i===null&&Ke&&(c=r.stateNode=Bb(r.type,r.pendingProps,ge.current),ln=r,hi=!0,d=yt,Rr(r.type)?(Qp=d,yt=fi(c.firstChild)):yt=d),un(i,r,r.pendingProps.children,o),qh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((d=c=yt)&&(c=UR(c,r.type,r.pendingProps,hi),c!==null?(r.stateNode=c,ln=r,yt=fi(c.firstChild),hi=!1,d=!0):d=!1),d||pr(r)),et(r),d=r.type,p=r.pendingProps,x=i!==null?i.memoizedProps:null,c=p.children,Fp(d,p)?c=null:x!==null&&Fp(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=qm(i,r,eR,null,null,o),zc._currentValue=d),qh(i,r),un(i,r,c,o),r.child;case 6:return i===null&&Ke&&((i=o=yt)&&(o=BR(o,r.pendingProps,hi),o!==null?(r.stateNode=o,ln=r,yt=null,i=!0):i=!1),i||pr(r)),null;case 13:return Rx(i,r,o);case 4:return be(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Oa(r,null,c,o):un(i,r,c,o),r.child;case 11:return xx(i,r,r.type,r.pendingProps,o);case 7:return un(i,r,r.pendingProps,o),r.child;case 8:return un(i,r,r.pendingProps.children,o),r.child;case 12:return un(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,gr(r,r.type,c.value),un(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,Na(r),d=cn(d),c=c(d),r.flags|=1,un(i,r,c,o),r.child;case 14:return bx(i,r,r.type,r.pendingProps,o);case 15:return Tx(i,r,r.type,r.pendingProps,o);case 19:return Nx(i,r,o);case 31:return lR(i,r,o);case 22:return wx(i,r,o,r.pendingProps);case 24:return Na(r),c=cn(zt),i===null?(d=Dm(),d===null&&(d=ft,p=Im(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:c,cache:d},Pm(r),gr(r,zt,d)):((i.lanes&o)!==0&&(Om(i,r),bc(r,null,null,o),xc()),d=i.memoizedState,p=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),gr(r,zt,c)):(c=p.cache,gr(r,zt,c),c!==d.cache&&Rm(r,[zt],o,!0))),un(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ds(i){i.flags|=4}function gp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(rb())i.flags|=8192;else throw Pa=Ch,Mm}else i.flags&=-16777217}function Mx(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Qb(r))if(rb())i.flags|=8192;else throw Pa=Ch,Mm}function Hh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Xu():536870912,i.lanes|=r,Qo|=r)}function Cc(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function vt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function uR(i,r,o){var c=r.pendingProps;switch(Em(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ks(zt),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Oo(r)?Ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sm())),vt(r),null;case 26:var d=r.type,p=r.memoizedState;return i===null?(Ds(r),p!==null?(vt(r),Mx(r,p)):(vt(r),gp(r,d,null,c,o))):p?p!==i.memoizedState?(Ds(r),vt(r),Mx(r,p)):(vt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ds(r),vt(r),gp(r,d,i,c,o)),null;case 27:if(Ye(r),o=ge.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ds(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return vt(r),null}i=oe.current,Oo(r)?d_(r):(i=Bb(d,c,o),r.stateNode=i,Ds(r))}return vt(r),null;case 5:if(Ye(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ds(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return vt(r),null}if(p=oe.current,Oo(r))d_(r);else{var x=rd(ge.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?x.createElement(d,{is:c.is}):x.createElement(d)}}p[Lt]=r,p[en]=c;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=p;e:switch(hn(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ds(r)}}return vt(r),gp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ds(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ge.current,Oo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=ln,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Lt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Rb(i.nodeValue,o)),i||pr(r,!0)}else i=rd(i).createTextNode(c),i[Lt]=r,r.stateNode=i}return vt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Oo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Lt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),i=!1}else o=Sm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Yn(r),r):(Yn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return vt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Oo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Lt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),d=!1}else d=Sm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Yn(r),r):(Yn(r),null)}return Yn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Hh(r,r.updateQueue),vt(r),null);case 4:return Ee(),i===null&&Lp(r.stateNode.containerInfo),vt(r),null;case 10:return ks(r.type),vt(r),null;case 19:if(q(Mt),c=r.memoizedState,c===null)return vt(r),null;if(d=(r.flags&128)!==0,p=c.rendering,p===null)if(d)Cc(c,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Nh(i),p!==null){for(r.flags|=128,Cc(c,!1),i=p.updateQueue,r.updateQueue=i,Hh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)o_(o,i),o=o.sibling;return W(Mt,Mt.current&1|2),Ke&&Ss(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Jt()>Yh&&(r.flags|=128,d=!0,Cc(c,!1),r.lanes=4194304)}else{if(!d)if(i=Nh(p),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Hh(r,i),Cc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Ke)return vt(r),null}else 2*Jt()-c.renderingStartTime>Yh&&o!==536870912&&(r.flags|=128,d=!0,Cc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Jt(),i.sibling=null,o=Mt.current,W(Mt,d?o&1|2:o&1),Ke&&Ss(r,c.treeForkCount),i):(vt(r),null);case 22:case 23:return Yn(r),Um(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),o=r.updateQueue,o!==null&&Hh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&q(Da),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ks(zt),vt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hR(i,r){switch(Em(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ks(zt),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 31:if(r.memoizedState!==null){if(Yn(r),r.alternate===null)throw Error(s(340));Ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Yn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return q(Mt),null;case 4:return Ee(),null;case 10:return ks(r.type),null;case 22:case 23:return Yn(r),Um(),i!==null&&q(Da),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ks(zt),null;case 25:return null;default:return null}}function Px(i,r){switch(Em(r),r.tag){case 3:ks(zt),Ee();break;case 26:case 27:case 5:Ye(r);break;case 4:Ee();break;case 31:r.memoizedState!==null&&Yn(r);break;case 13:Yn(r);break;case 19:q(Mt);break;case 10:ks(r.type);break;case 22:case 23:Yn(r),Um(),i!==null&&q(Da);break;case 24:ks(zt)}}function kc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var p=o.create,x=o.inst;c=p(),x.destroy=c}o=o.next}while(o!==d)}}catch(A){at(r,r.return,A)}}function Tr(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){var x=c.inst,A=x.destroy;if(A!==void 0){x.destroy=void 0,d=r;var V=o,Q=A;try{Q()}catch(ne){at(d,V,ne)}}}c=c.next}while(c!==p)}}catch(ne){at(r,r.return,ne)}}function Ox(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{A_(r,o)}catch(c){at(i,i.return,c)}}}function Vx(i,r,o){o.props=ja(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){at(i,r,c)}}function Rc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){at(i,r,d)}}function os(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){at(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){at(i,r,d)}else o.current=null}function jx(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){at(i,i.return,d)}}function yp(i,r,o){try{var c=i.stateNode;MR(c,i.type,o,r),c[en]=r}catch(d){at(i,i.return,d)}}function Lx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Rr(i.type)||i.tag===4}function vp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Rr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _p(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Si));else if(c!==4&&(c===27&&Rr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(_p(i,r,o),i=i.sibling;i!==null;)_p(i,r,o),i=i.sibling}function Gh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Rr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gh(i,r,o),i=i.sibling;i!==null;)Gh(i,r,o),i=i.sibling}function Ux(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);hn(r,c,o),r[Lt]=i,r[en]=o}catch(p){at(i,i.return,p)}}var Ms=!1,Ht=!1,xp=!1,Bx=typeof WeakSet=="function"?WeakSet:Set,nn=null;function dR(i,r){if(i=i.containerInfo,zp=dd,i=Zv(i),fm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var x=0,A=-1,V=-1,Q=0,ne=0,re=i,X=null;t:for(;;){for(var J;re!==o||d!==0&&re.nodeType!==3||(A=x+d),re!==p||c!==0&&re.nodeType!==3||(V=x+c),re.nodeType===3&&(x+=re.nodeValue.length),(J=re.firstChild)!==null;)X=re,re=J;for(;;){if(re===i)break t;if(X===o&&++Q===d&&(A=x),X===p&&++ne===c&&(V=x),(J=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=J}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(qp={focusedElem:i,selectionRange:o},dd=!1,nn=r;nn!==null;)if(r=nn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,nn=i;else for(;nn!==null;){switch(r=nn,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var _e=ja(o.type,d);i=c.getSnapshotBeforeUpdate(_e,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){at(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,nn=i;break}nn=r.return}}function zx(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Os(i,o),c&4&&kc(5,o);break;case 1:if(Os(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){at(o,o.return,x)}else{var d=ja(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){at(o,o.return,x)}}c&64&&Ox(o),c&512&&Rc(o,o.return);break;case 3:if(Os(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{A_(i,r)}catch(x){at(o,o.return,x)}}break;case 27:r===null&&c&4&&Ux(o);case 26:case 5:Os(i,o),r===null&&c&4&&jx(o),c&512&&Rc(o,o.return);break;case 12:Os(i,o);break;case 31:Os(i,o),c&4&&Hx(i,o);break;case 13:Os(i,o),c&4&&Gx(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=bR.bind(null,o),zR(i,o))));break;case 22:if(c=o.memoizedState!==null||Ms,!c){r=r!==null&&r.memoizedState!==null||Ht,d=Ms;var p=Ht;Ms=c,(Ht=r)&&!p?Vs(i,o,(o.subtreeFlags&8772)!==0):Os(i,o),Ms=d,Ht=p}break;case 30:break;default:Os(i,o)}}function qx(i){var r=i.alternate;r!==null&&(i.alternate=null,qx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&vo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,Nn=!1;function Ps(i,r,o){for(o=o.child;o!==null;)Fx(i,r,o),o=o.sibling}function Fx(i,r,o){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Fn,o)}catch{}switch(o.tag){case 26:Ht||os(o,r),Ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||os(o,r);var c=Tt,d=Nn;Rr(o.type)&&(Tt=o.stateNode,Nn=!1),Ps(i,r,o),Lc(o.stateNode),Tt=c,Nn=d;break;case 5:Ht||os(o,r);case 6:if(c=Tt,d=Nn,Tt=null,Ps(i,r,o),Tt=c,Nn=d,Tt!==null)if(Nn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(p){at(o,r,p)}else try{Tt.removeChild(o.stateNode)}catch(p){at(o,r,p)}break;case 18:Tt!==null&&(Nn?(i=Tt,Ob(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),nl(i)):Ob(Tt,o.stateNode));break;case 4:c=Tt,d=Nn,Tt=o.stateNode.containerInfo,Nn=!0,Ps(i,r,o),Tt=c,Nn=d;break;case 0:case 11:case 14:case 15:Tr(2,o,r),Ht||Tr(4,o,r),Ps(i,r,o);break;case 1:Ht||(os(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Vx(o,r,c)),Ps(i,r,o);break;case 21:Ps(i,r,o);break;case 22:Ht=(c=Ht)||o.memoizedState!==null,Ps(i,r,o),Ht=c;break;default:Ps(i,r,o)}}function Hx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{nl(i)}catch(o){at(r,r.return,o)}}}function Gx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{nl(i)}catch(o){at(r,r.return,o)}}function fR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Bx),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Bx),r;default:throw Error(s(435,i.tag))}}function Kh(i,r){var o=fR(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=TR.bind(null,i,c);c.then(d,d)}})}function Dn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],p=i,x=r,A=x;e:for(;A!==null;){switch(A.tag){case 27:if(Rr(A.type)){Tt=A.stateNode,Nn=!1;break e}break;case 5:Tt=A.stateNode,Nn=!1;break e;case 3:case 4:Tt=A.stateNode.containerInfo,Nn=!0;break e}A=A.return}if(Tt===null)throw Error(s(160));Fx(p,x,d),Tt=null,Nn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Kx(r,i),r=r.sibling}var Di=null;function Kx(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(r,i),Mn(i),c&4&&(Tr(3,i,i.return),kc(3,i),Tr(5,i,i.return));break;case 1:Dn(r,i),Mn(i),c&512&&(Ht||o===null||os(o,o.return)),c&64&&Ms&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Di;if(Dn(r,i),Mn(i),c&512&&(Ht||o===null||os(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[$i]||p[Lt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),hn(p,c,o),p[Lt]=i,Ut(p),c=p;break e;case"link":var x=Kb("link","href",d).get(c+(o.href||""));if(x){for(var A=0;A<x.length;A++)if(p=x[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(A,1);break t}}p=d.createElement(c),hn(p,c,o),d.head.appendChild(p);break;case"meta":if(x=Kb("meta","content",d).get(c+(o.content||""))){for(A=0;A<x.length;A++)if(p=x[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(A,1);break t}}p=d.createElement(c),hn(p,c,o),d.head.appendChild(p);break;default:throw Error(s(468,c))}p[Lt]=i,Ut(p),c=p}i.stateNode=c}else $b(d,i.type,i.stateNode);else i.stateNode=Gb(d,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?$b(d,i.type,i.stateNode):Gb(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&yp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,i),Mn(i),c&512&&(Ht||o===null||os(o,o.return)),o!==null&&c&4&&yp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,i),Mn(i),c&512&&(Ht||o===null||os(o,o.return)),i.flags&32){d=i.stateNode;try{In(d,"")}catch(_e){at(i,i.return,_e)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,yp(i,d,o!==null?o.memoizedProps:d)),c&1024&&(xp=!0);break;case 6:if(Dn(r,i),Mn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(_e){at(i,i.return,_e)}}break;case 3:if(ld=null,d=Di,Di=ad(r.containerInfo),Dn(r,i),Di=d,Mn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(r.containerInfo)}catch(_e){at(i,i.return,_e)}xp&&(xp=!1,$x(i));break;case 4:c=Di,Di=ad(i.stateNode.containerInfo),Dn(r,i),Mn(i),Di=c;break;case 12:Dn(r,i),Mn(i);break;case 31:Dn(r,i),Mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 13:Dn(r,i),Mn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qh=Jt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=Ms,ne=Ht;if(Ms=Q||d,Ht=ne||V,Dn(r,i),Ht=ne,Ms=Q,Mn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||V||Ms||Ht||La(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(p=V.stateNode,d)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{A=V.stateNode;var re=V.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){at(V,V.return,_e)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(_e){at(V,V.return,_e)}}}else if(r.tag===18){if(o===null){V=r;try{var J=V.stateNode;d?Vb(J,!0):Vb(V.stateNode,!1)}catch(_e){at(V,V.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Kh(i,o))));break;case 19:Dn(r,i),Mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 30:break;case 21:break;default:Dn(r,i),Mn(i)}}function Mn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Lx(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=vp(i);Gh(i,p,d);break;case 5:var x=o.stateNode;o.flags&32&&(In(x,""),o.flags&=-33);var A=vp(i);Gh(i,A,x);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=vp(i);_p(i,Q,V);break;default:throw Error(s(161))}}catch(ne){at(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function $x(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;$x(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Os(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zx(i,r.alternate,r),r=r.sibling}function La(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),La(r);break;case 1:os(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Vx(r,r.return,o),La(r);break;case 27:Lc(r.stateNode);case 26:case 5:os(r,r.return),La(r);break;case 22:r.memoizedState===null&&La(r);break;case 30:La(r);break;default:La(r)}i=i.sibling}}function Vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,p=r,x=p.flags;switch(p.tag){case 0:case 11:case 15:Vs(d,p,o),kc(4,p);break;case 1:if(Vs(d,p,o),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){at(c,c.return,Q)}if(c=p,d=c.updateQueue,d!==null){var A=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)E_(V[d],A)}catch(Q){at(c,c.return,Q)}}o&&x&64&&Ox(p),Rc(p,p.return);break;case 27:Ux(p);case 26:case 5:Vs(d,p,o),o&&c===null&&x&4&&jx(p),Rc(p,p.return);break;case 12:Vs(d,p,o);break;case 31:Vs(d,p,o),o&&x&4&&Hx(d,p);break;case 13:Vs(d,p,o),o&&x&4&&Gx(d,p);break;case 22:p.memoizedState===null&&Vs(d,p,o),Rc(p,p.return);break;case 30:break;default:Vs(d,p,o)}r=r.sibling}}function bp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&pc(o))}function Tp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i))}function Mi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qx(i,r,o,c),r=r.sibling}function Qx(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,c),d&2048&&kc(9,r);break;case 1:Mi(i,r,o,c);break;case 3:Mi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&pc(i)));break;case 12:if(d&2048){Mi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,x=p.id,A=p.onPostCommit;typeof A=="function"&&A(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){at(r,r.return,V)}}else Mi(i,r,o,c);break;case 31:Mi(i,r,o,c);break;case 13:Mi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,x=r.alternate,r.memoizedState!==null?p._visibility&2?Mi(i,r,o,c):Ic(i,r):p._visibility&2?Mi(i,r,o,c):(p._visibility|=2,Go(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&bp(x,r);break;case 24:Mi(i,r,o,c),d&2048&&Tp(r.alternate,r);break;default:Mi(i,r,o,c)}}function Go(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,x=r,A=o,V=c,Q=x.flags;switch(x.tag){case 0:case 11:case 15:Go(p,x,A,V,d),kc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?Go(p,x,A,V,d):Ic(p,x):(ne._visibility|=2,Go(p,x,A,V,d)),d&&Q&2048&&bp(x.alternate,x);break;case 24:Go(p,x,A,V,d),d&&Q&2048&&Tp(x.alternate,x);break;default:Go(p,x,A,V,d)}r=r.sibling}}function Ic(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Ic(o,c),d&2048&&bp(c.alternate,c);break;case 24:Ic(o,c),d&2048&&Tp(c.alternate,c);break;default:Ic(o,c)}r=r.sibling}}var Nc=8192;function Ko(i,r,o){if(i.subtreeFlags&Nc)for(i=i.child;i!==null;)Yx(i,r,o),i=i.sibling}function Yx(i,r,o){switch(i.tag){case 26:Ko(i,r,o),i.flags&Nc&&i.memoizedState!==null&&JR(o,Di,i.memoizedState,i.memoizedProps);break;case 5:Ko(i,r,o);break;case 3:case 4:var c=Di;Di=ad(i.stateNode.containerInfo),Ko(i,r,o),Di=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Nc,Nc=16777216,Ko(i,r,o),Nc=c):Ko(i,r,o));break;default:Ko(i,r,o)}}function Xx(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Dc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];nn=c,Zx(c,i)}Xx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wx(i),i=i.sibling}function Wx(i){switch(i.tag){case 0:case 11:case 15:Dc(i),i.flags&2048&&Tr(9,i,i.return);break;case 3:Dc(i);break;case 12:Dc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$h(i)):Dc(i);break;default:Dc(i)}}function $h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];nn=c,Zx(c,i)}Xx(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),$h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$h(r));break;default:$h(r)}i=i.sibling}}function Zx(i,r){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:Tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,nn=c;else e:for(o=i;nn!==null;){c=nn;var d=c.sibling,p=c.return;if(qx(c),c===o){nn=null;break e}if(d!==null){d.return=p,nn=d;break e}nn=p}}}var mR={getCacheForType:function(i){var r=cn(zt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return cn(zt).controller.signal}},pR=typeof WeakMap=="function"?WeakMap:Map,Je=0,ft=null,Le=null,Be=0,rt=0,Xn=null,wr=!1,$o=!1,wp=!1,js=0,kt=0,Er=0,Ua=0,Ep=0,Wn=0,Qo=0,Mc=null,Pn=null,Ap=!1,Qh=0,Jx=0,Yh=1/0,Xh=null,Ar=null,Xt=0,Sr=null,Yo=null,Ls=0,Sp=0,Cp=null,eb=null,Pc=0,kp=null;function Zn(){return(Je&2)!==0&&Be!==0?Be&-Be:L.T!==null?Pp():Wu()}function tb(){if(Wn===0)if((Be&536870912)===0||Ke){var i=da;da<<=1,(da&3932160)===0&&(da=262144),Wn=i}else Wn=536870912;return i=Qn.current,i!==null&&(i.flags|=32),Wn}function On(i,r,o){(i===ft&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Xo(i,0),Cr(i,Be,Wn,!1)),fa(i,o),((Je&2)===0||i!==ft)&&(i===ft&&((Je&2)===0&&(Ua|=o),kt===4&&Cr(i,Be,Wn,!1)),ls(i))}function nb(i,r,o){if((Je&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||wi(i,r),d=c?vR(i,r):Ip(i,r,!0),p=c;do{if(d===0){$o&&!c&&Cr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!gR(o)){d=Ip(i,r,!1),p=!1;continue}if(d===2){if(p=r,i.errorRecoveryDisabledLanes&p)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var A=i;d=Mc;var V=A.current.memoizedState.isDehydrated;if(V&&(Xo(A,x).flags|=256),x=Ip(A,x,!1),x!==2){if(wp&&!V){A.errorRecoveryDisabledLanes|=p,Ua|=p,d=4;break e}p=Pn,Pn=d,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}d=x}if(p=!1,d!==2)continue}}if(d===1){Xo(i,0),Cr(i,r,0,!0);break}e:{switch(c=i,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Cr(c,r,Wn,!wr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Qh+300-Jt(),10<d)){if(Cr(c,r,Wn,!wr),Hi(c,0,!0)!==0)break e;Ls=r,c.timeoutHandle=Mb(ib.bind(null,c,o,Pn,Xh,Ap,r,Wn,Ua,Qo,wr,p,"Throttled",-0,0),d);break e}ib(c,o,Pn,Xh,Ap,r,Wn,Ua,Qo,wr,p,null,-0,0)}}break}while(!0);ls(i)}function ib(i,r,o,c,d,p,x,A,V,Q,ne,re,X,J){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},Yx(r,p,re);var _e=(p&62914560)===p?Qh-Jt():(p&4194048)===p?Jx-Jt():0;if(_e=eI(re,_e),_e!==null){Ls=p,i.cancelPendingCommit=_e(hb.bind(null,i,r,p,o,c,d,x,A,V,ne,re,null,X,J)),Cr(i,p,x,!Q);return}}hb(i,r,p,o,c,d,x,A,V)}function gR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Kn(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(i,r,o,c){r&=~Ep,r&=~Ua,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var p=31-Nt(d),x=1<<p;c[p]=-1,d&=~x}o!==0&&ma(i,o,r)}function Wh(){return(Je&6)===0?(Oc(0),!1):!0}function Rp(){if(Le!==null){if(rt===0)var i=Le.return;else i=Le,Cs=Ia=null,Gm(i),Bo=null,yc=0,i=Le;for(;i!==null;)Px(i.alternate,i),i=i.return;Le=null}}function Xo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ls=0,Rp(),ft=i,Le=o=As(i.current,null),Be=r,rt=0,Xn=null,wr=!1,$o=wi(i,r),wp=!1,Qo=Wn=Ep=Ua=Er=kt=0,Pn=Mc=null,Ap=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Nt(c),p=1<<d;r|=i[d],c&=~p}return js=r,vh(),o}function sb(i,r){Oe=null,L.H=Ac,r===Uo||r===Sh?(r=x_(),rt=3):r===Mm?(r=x_(),rt=4):rt=r===op?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xn=r,Le===null&&(kt=1,Bh(i,li(r,i.current)))}function rb(){var i=Qn.current;return i===null?!0:(Be&4194048)===Be?di===null:(Be&62914560)===Be||(Be&536870912)!==0?i===di:!1}function ab(){var i=L.H;return L.H=Ac,i===null?Ac:i}function ob(){var i=L.A;return L.A=mR,i}function Zh(){kt=4,wr||(Be&4194048)!==Be&&Qn.current!==null||($o=!0),(Er&134217727)===0&&(Ua&134217727)===0||ft===null||Cr(ft,Be,Wn,!1)}function Ip(i,r,o){var c=Je;Je|=2;var d=ab(),p=ob();(ft!==i||Be!==r)&&(Xh=null,Xo(i,r)),r=!1;var x=kt;e:do try{if(rt!==0&&Le!==null){var A=Le,V=Xn;switch(rt){case 8:Rp(),x=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var Q=rt;if(rt=0,Xn=null,Wo(i,A,V,Q),o&&$o){x=0;break e}break;default:Q=rt,rt=0,Xn=null,Wo(i,A,V,Q)}}yR(),x=kt;break}catch(ne){sb(i,ne)}while(!0);return r&&i.shellSuspendCounter++,Cs=Ia=null,Je=c,L.H=d,L.A=p,Le===null&&(ft=null,Be=0,vh()),x}function yR(){for(;Le!==null;)lb(Le)}function vR(i,r){var o=Je;Je|=2;var c=ab(),d=ob();ft!==i||Be!==r?(Xh=null,Yh=Jt()+500,Xo(i,r)):$o=wi(i,r);e:do try{if(rt!==0&&Le!==null){r=Le;var p=Xn;t:switch(rt){case 1:rt=0,Xn=null,Wo(i,r,p,1);break;case 2:case 9:if(v_(p)){rt=0,Xn=null,cb(r);break}r=function(){rt!==2&&rt!==9||ft!==i||(rt=7),ls(i)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:v_(p)?(rt=0,Xn=null,cb(r)):(rt=0,Xn=null,Wo(i,r,p,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var A=Le;if(x?Qb(x):A.stateNode.complete){rt=0,Xn=null;var V=A.sibling;if(V!==null)Le=V;else{var Q=A.return;Q!==null?(Le=Q,Jh(Q)):Le=null}break t}}rt=0,Xn=null,Wo(i,r,p,5);break;case 6:rt=0,Xn=null,Wo(i,r,p,6);break;case 8:Rp(),kt=6;break e;default:throw Error(s(462))}}_R();break}catch(ne){sb(i,ne)}while(!0);return Cs=Ia=null,L.H=c,L.A=d,Je=o,Le!==null?0:(ft=null,Be=0,vh(),kt)}function _R(){for(;Le!==null&&!Gl();)lb(Le)}function lb(i){var r=Dx(i.alternate,i,js);i.memoizedProps=i.pendingProps,r===null?Jh(i):Le=r}function cb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Sx(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Sx(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Gm(r);default:Px(o,r),r=Le=o_(r,js),r=Dx(o,r,js)}i.memoizedProps=i.pendingProps,r===null?Jh(i):Le=r}function Wo(i,r,o,c){Cs=Ia=null,Gm(r),Bo=null,yc=0;var d=r.return;try{if(oR(i,d,r,o,Be)){kt=1,Bh(i,li(o,i.current)),Le=null;return}}catch(p){if(d!==null)throw Le=d,p;kt=1,Bh(i,li(o,i.current)),Le=null;return}r.flags&32768?(Ke||c===1?i=!0:$o||(Be&536870912)!==0?i=!1:(wr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ub(r,i)):Jh(r)}function Jh(i){var r=i;do{if((r.flags&32768)!==0){ub(r,wr);return}i=r.return;var o=uR(r.alternate,r,js);if(o!==null){Le=o;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=i}while(r!==null);kt===0&&(kt=5)}function ub(i,r){do{var o=hR(i.alternate,i);if(o!==null){o.flags&=32767,Le=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Le=i;return}Le=i=o}while(i!==null);kt=6,Le=null}function hb(i,r,o,c,d,p,x,A,V){i.cancelPendingCommit=null;do ed();while(Xt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=vm,cm(i,o,p,x,A,V),i===ft&&(Le=ft=null,Be=0),Yo=r,Sr=i,Ls=o,Sp=p,Cp=d,eb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wR(zi,function(){return gb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,d=H.p,H.p=2,x=Je,Je|=4;try{dR(i,r,o)}finally{Je=x,H.p=d,L.T=c}}Xt=1,db(),fb(),mb()}}function db(){if(Xt===1){Xt=0;var i=Sr,r=Yo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var c=H.p;H.p=2;var d=Je;Je|=4;try{Kx(r,i);var p=qp,x=Zv(i.containerInfo),A=p.focusedElem,V=p.selectionRange;if(x!==A&&A&&A.ownerDocument&&Wv(A.ownerDocument.documentElement,A)){if(V!==null&&fm(A)){var Q=V.start,ne=V.end;if(ne===void 0&&(ne=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ne,A.value.length);else{var re=A.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var J=X.getSelection(),_e=A.textContent.length,Ae=Math.min(V.start,_e),ht=V.end===void 0?Ae:Math.min(V.end,_e);!J.extend&&Ae>ht&&(x=ht,ht=Ae,Ae=x);var G=Xv(A,Ae),B=Xv(A,ht);if(G&&B&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var $=re.createRange();$.setStart(G.node,G.offset),J.removeAllRanges(),Ae>ht?(J.addRange($),J.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),J.addRange($))}}}}for(re=[],J=A;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ie=re[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}dd=!!zp,qp=zp=null}finally{Je=d,H.p=c,L.T=o}}i.current=r,Xt=2}}function fb(){if(Xt===2){Xt=0;var i=Sr,r=Yo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var c=H.p;H.p=2;var d=Je;Je|=4;try{zx(i,r.alternate,r)}finally{Je=d,H.p=c,L.T=o}}Xt=3}}function mb(){if(Xt===4||Xt===3){Xt=0,fo();var i=Sr,r=Yo,o=Ls,c=eb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xt=5:(Xt=0,Yo=Sr=null,pb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Ar=null),bs(o),r=r.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Fn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=L.T,d=H.p,H.p=2,L.T=null;try{for(var p=i.onRecoverableError,x=0;x<c.length;x++){var A=c[x];p(A.value,{componentStack:A.stack})}}finally{L.T=r,H.p=d}}(Ls&3)!==0&&ed(),ls(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===kp?Pc++:(Pc=0,kp=i):Pc=0,Oc(0)}}function pb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,pc(r)))}function ed(){return db(),fb(),mb(),gb()}function gb(){if(Xt!==5)return!1;var i=Sr,r=Sp;Sp=0;var o=bs(Ls),c=L.T,d=H.p;try{H.p=32>o?32:o,L.T=null,o=Cp,Cp=null;var p=Sr,x=Ls;if(Xt=0,Yo=Sr=null,Ls=0,(Je&6)!==0)throw Error(s(331));var A=Je;if(Je|=4,Wx(p.current),Qx(p,p.current,x,o),Je=A,Oc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Fn,p)}catch{}return!0}finally{H.p=d,L.T=c,pb(i,r)}}function yb(i,r,o){r=li(o,r),r=ap(i.stateNode,r,2),i=_r(i,r,2),i!==null&&(fa(i,2),ls(i))}function at(i,r,o){if(i.tag===3)yb(i,i,o);else for(;r!==null;){if(r.tag===3){yb(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ar===null||!Ar.has(c))){i=li(o,i),o=vx(2),c=_r(r,o,2),c!==null&&(_x(o,c,r,i),fa(c,2),ls(c));break}}r=r.return}}function Np(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new pR;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(wp=!0,d.add(o),i=xR.bind(null,i,r,o),r.then(i,i))}function xR(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(Be&o)===o&&(kt===4||kt===3&&(Be&62914560)===Be&&300>Jt()-Qh?(Je&2)===0&&Xo(i,0):Ep|=o,Qo===Be&&(Qo=0)),ls(i)}function vb(i,r){r===0&&(r=Xu()),i=Ca(i,r),i!==null&&(fa(i,r),ls(i))}function bR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),vb(i,o)}function TR(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),vb(i,o)}function wR(i,r){return tt(i,r)}var td=null,Zo=null,Dp=!1,nd=!1,Mp=!1,kr=0;function ls(i){i!==Zo&&i.next===null&&(Zo===null?td=Zo=i:Zo=Zo.next=i),nd=!0,Dp||(Dp=!0,AR())}function Oc(i,r){if(!Mp&&nd){Mp=!0;do for(var o=!1,c=td;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var x=c.suspendedLanes,A=c.pingedLanes;p=(1<<31-Nt(42|i)+1)-1,p&=d&~(x&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Tb(c,p))}else p=Be,p=Hi(c,c===ft?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||wi(c,p)||(o=!0,Tb(c,p));c=c.next}while(o);Mp=!1}}function ER(){_b()}function _b(){nd=Dp=!1;var i=0;kr!==0&&OR()&&(i=kr);for(var r=Jt(),o=null,c=td;c!==null;){var d=c.next,p=xb(c,r);p===0?(c.next=null,o===null?td=d:o.next=d,d===null&&(Zo=o)):(o=c,(i!==0||(p&3)!==0)&&(nd=!0)),c=d}Xt!==0&&Xt!==5||Oc(i),kr!==0&&(kr=0)}function xb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var x=31-Nt(p),A=1<<x,V=d[x];V===-1?((A&o)===0||(A&c)!==0)&&(d[x]=lm(A,r)):V<=r&&(i.expiredLanes|=A),p&=~A}if(r=ft,o=Be,o=Hi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Bi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||wi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Bi(c),bs(o)){case 2:case 8:o=ua;break;case 32:o=zi;break;case 268435456:o=ha;break;default:o=zi}return c=bb.bind(null,i),o=tt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Bi(c),i.callbackPriority=2,i.callbackNode=null,2}function bb(i,r){if(Xt!==0&&Xt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ed()&&i.callbackNode!==o)return null;var c=Be;return c=Hi(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(nb(i,c,r),xb(i,Jt()),i.callbackNode!=null&&i.callbackNode===o?bb.bind(null,i):null)}function Tb(i,r){if(ed())return null;nb(i,r,!0)}function AR(){jR(function(){(Je&6)!==0?tt(nr,ER):_b()})}function Pp(){if(kr===0){var i=jo;i===0&&(i=qi,qi<<=1,(qi&261888)===0&&(qi=256)),kr=i}return kr}function wb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:To(""+i)}function Eb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function SR(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var p=wb((d[en]||null).action),x=c.submitter;x&&(r=(r=x[en]||null)?wb(r.formAction):x.getAttribute("formAction"),r!==null&&(p=r,x=null));var A=new ts("action","action",null,c,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(kr!==0){var V=x?Eb(d,x):new FormData(d);ep(o,{pending:!0,data:V,method:d.method,action:p},null,V)}}else typeof p=="function"&&(A.preventDefault(),V=x?Eb(d,x):new FormData(d),ep(o,{pending:!0,data:V,method:d.method,action:p},p,V))},currentTarget:d}]})}}for(var Op=0;Op<ym.length;Op++){var Vp=ym[Op],CR=Vp.toLowerCase(),kR=Vp[0].toUpperCase()+Vp.slice(1);Ni(CR,"on"+kR)}Ni(t_,"onAnimationEnd"),Ni(n_,"onAnimationIteration"),Ni(i_,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(H2,"onTransitionRun"),Ni(G2,"onTransitionStart"),Ni(K2,"onTransitionCancel"),Ni(s_,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function Ab(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var x=c.length-1;0<=x;x--){var A=c[x],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=Q;try{p(d)}catch(ne){yh(ne)}d.currentTarget=null,p=V}else for(x=0;x<c.length;x++){if(A=c[x],V=A.instance,Q=A.currentTarget,A=A.listener,V!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=Q;try{p(d)}catch(ne){yh(ne)}d.currentTarget=null,p=V}}}}function Ue(i,r){var o=r[yo];o===void 0&&(o=r[yo]=new Set);var c=i+"__bubble";o.has(c)||(Sb(r,i,2,!1),o.add(c))}function jp(i,r,o){var c=0;r&&(c|=4),Sb(o,i,c,r)}var id="_reactListening"+Math.random().toString(36).slice(2);function Lp(i){if(!i[id]){i[id]=!0,Ql.forEach(function(o){o!=="selectionchange"&&(RR.has(o)||jp(o,!1,i),jp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[id]||(r[id]=!0,jp("selectionchange",!1,r))}}function Sb(i,r,o,c){switch(tT(r)){case 2:var d=iI;break;case 8:d=sI;break;default:d=Jp}o=d.bind(null,r,o,i),d=void 0,!_a||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Up(i,r,o,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var A=c.stateNode.containerInfo;if(A===d)break;if(x===4)for(x=c.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;A!==null;){if(x=Qi(A),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){c=p=x;continue e}A=A.parentNode}}c=c.return}cr(function(){var Q=p,ne=si(o),re=[];e:{var X=r_.get(i);if(X!==void 0){var J=ts,_e=i;switch(i){case"keypress":if(ba(o)===0)break e;case"keydown":case"keyup":J=mh;break;case"focusin":_e="focus",J=wa;break;case"focusout":_e="blur",J=wa;break;case"beforeblur":case"afterblur":J=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case t_:case n_:case i_:J=oh;break;case s_:J=S;break;case"scroll":case"scrollend":J=ac;break;case"wheel":J=Z;break;case"copy":case"cut":case"paste":J=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Es;break;case"toggle":case"beforetoggle":J=Pe}var Ae=(r&4)!==0,ht=!Ae&&(i==="scroll"||i==="scrollend"),G=Ae?X!==null?X+"Capture":null:X;Ae=[];for(var B=Q,$;B!==null;){var ie=B;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||G===null||(ie=Ci(B,G),ie!=null&&Ae.push(jc(B,ie,$))),ht)break;B=B.return}0<Ae.length&&(X=new J(X,_e,null,o,ne),re.push({event:X,listeners:Ae}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",X&&o!==ic&&(_e=o.relatedTarget||o.fromElement)&&(Qi(_e)||_e[Ki]))break e;if((J||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,J?(_e=o.relatedTarget||o.toElement,J=Q,_e=_e?Qi(_e):null,_e!==null&&(ht=l(_e),Ae=_e.tag,_e!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(J=null,_e=Q),J!==_e)){if(Ae=oc,ie="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Es,ie="onPointerLeave",G="onPointerEnter",B="pointer"),ht=J==null?X:Hn(J),$=_e==null?X:Hn(_e),X=new Ae(ie,B+"leave",J,o,ne),X.target=ht,X.relatedTarget=$,ie=null,Qi(ne)===Q&&(Ae=new Ae(G,B+"enter",_e,o,ne),Ae.target=$,Ae.relatedTarget=ht,ie=Ae),ht=ie,J&&_e)t:{for(Ae=IR,G=J,B=_e,$=0,ie=G;ie;ie=Ae(ie))$++;ie=0;for(var Te=B;Te;Te=Ae(Te))ie++;for(;0<$-ie;)G=Ae(G),$--;for(;0<ie-$;)B=Ae(B),ie--;for(;$--;){if(G===B||B!==null&&G===B.alternate){Ae=G;break t}G=Ae(G),B=Ae(B)}Ae=null}else Ae=null;J!==null&&Cb(re,X,J,Ae,!1),_e!==null&&ht!==null&&Cb(re,ht,_e,Ae,!0)}}e:{if(X=Q?Hn(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Xe=Hv;else if(qv(X))if(Gv)Xe=z2;else{Xe=U2;var xe=L2}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&bo(Q.elementType)&&(Xe=Hv):Xe=B2;if(Xe&&(Xe=Xe(i,Q))){Fv(re,Xe,o,ne);break e}xe&&xe(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&ec(X,"number",X.value)}switch(xe=Q?Hn(Q):window,i){case"focusin":(qv(xe)||xe.contentEditable==="true")&&(Ro=xe,mm=Q,dc=null);break;case"focusout":dc=mm=Ro=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,Jv(re,o,ne);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":Jv(re,o,ne)}var Ve;if(Ze)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ko?Ea(i,o)&&(ze="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(ss&&o.locale!=="ko"&&(ko||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ko&&(Ve=rc()):(es=ne,sc="value"in es?es.value:es.textContent,ko=!0)),xe=sd(Q,ze),0<xe.length&&(ze=new is(ze,i,null,o,ne),re.push({event:ze,listeners:xe}),Ve?ze.data=Ve:(Ve=Co(o),Ve!==null&&(ze.data=Ve)))),(Ve=ai?P2(i,o):O2(i,o))&&(ze=sd(Q,"onBeforeInput"),0<ze.length&&(xe=new is("onBeforeInput","beforeinput",null,o,ne),re.push({event:xe,listeners:ze}),xe.data=Ve)),SR(re,i,Q,o,ne)}Ab(re,r)})}function jc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function sd(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ci(i,o),d!=null&&c.unshift(jc(i,d,p)),d=Ci(i,r),d!=null&&c.push(jc(i,d,p))),i.tag===3)return c;i=i.return}return[]}function IR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Cb(i,r,o,c,d){for(var p=r._reactName,x=[];o!==null&&o!==c;){var A=o,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===c)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,d?(Q=Ci(o,p),Q!=null&&x.unshift(jc(o,Q,V))):d||(Q=Ci(o,p),Q!=null&&x.push(jc(o,Q,V)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var NR=/\r\n?/g,DR=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(NR,`
`).replace(DR,"")}function Rb(i,r){return r=kb(r),kb(i)===r}function ut(i,r,o,c,d,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||In(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&In(i,""+c);break;case"className":Gn(i,"class",c);break;case"tabIndex":Gn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(i,o,c);break;case"style":nc(i,c,p);break;case"data":if(r!=="object"){Gn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ut(i,r,"name",d.name,d,null),ut(i,r,"formEncType",d.formEncType,d,null),ut(i,r,"formMethod",d.formMethod,d,null),ut(i,r,"formTarget",d.formTarget,d,null)):(ut(i,r,"encType",d.encType,d,null),ut(i,r,"method",d.method,d,null),ut(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=To(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Si);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=To(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ue("beforetoggle",i),Ue("toggle",i),_o(i,"popover",c);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_o(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sh.get(o)||o,_o(i,o,c))}}function Bp(i,r,o,c,d,p){switch(o){case"style":nc(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?In(i,c):(typeof c=="number"||typeof c=="bigint")&&In(i,""+c);break;case"onScroll":c!=null&&Ue("scroll",i);break;case"onScrollEnd":c!=null&&Ue("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=i[en]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):_o(i,o,c)}}}function hn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",i),Ue("load",i);var c=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var x=o[p];if(x!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,p,x,o,null)}}d&&ut(i,r,"srcSet",o.srcSet,o,null),c&&ut(i,r,"src",o.src,o,null);return;case"input":Ue("invalid",i);var A=p=x=d=null,V=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":d=ne;break;case"type":x=ne;break;case"checked":V=ne;break;case"defaultChecked":Q=ne;break;case"value":p=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ut(i,r,c,ne,o,null)}}th(i,p,A,V,Q,x,d,!1);return;case"select":Ue("invalid",i),c=x=p=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":p=A;break;case"defaultValue":x=A;break;case"multiple":c=A;default:ut(i,r,d,A,o,null)}r=p,o=x,i.multiple=!!c,r!=null?rr(i,!!c,r,!1):o!=null&&rr(i,!!c,o,!0);return;case"textarea":Ue("invalid",i),p=d=c=null;for(x in o)if(o.hasOwnProperty(x)&&(A=o[x],A!=null))switch(x){case"value":c=A;break;case"defaultValue":d=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ut(i,r,x,A,o,null)}ar(i,c,d,p);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":ut(i,r,V,c,o,null));return;case"dialog":Ue("beforetoggle",i),Ue("toggle",i),Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":Ue("load",i);break;case"video":case"audio":for(c=0;c<Vc.length;c++)Ue(Vc[c],i);break;case"image":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"embed":case"source":case"link":Ue("error",i),Ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,Q,c,o,null)}return;default:if(bo(r)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&Bp(i,r,ne,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&ut(i,r,A,c,o,null))}function MR(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,x=null,A=null,V=null,Q=null,ne=null;for(J in o){var re=o[J];if(o.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=re;default:c.hasOwnProperty(J)||ut(i,r,J,null,c,re)}}for(var X in c){var J=c[X];if(re=o[X],c.hasOwnProperty(X)&&(J!=null||re!=null))switch(X){case"type":p=J;break;case"name":d=J;break;case"checked":Q=J;break;case"defaultChecked":ne=J;break;case"value":x=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:J!==re&&ut(i,r,X,J,c,re)}}xo(i,x,A,V,Q,ne,p,d);return;case"select":J=x=A=X=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":J=V;default:c.hasOwnProperty(p)||ut(i,r,p,null,c,V)}for(d in c)if(p=c[d],V=o[d],c.hasOwnProperty(d)&&(p!=null||V!=null))switch(d){case"value":X=p;break;case"defaultValue":A=p;break;case"multiple":x=p;default:p!==V&&ut(i,r,d,p,c,V)}r=A,o=x,c=J,X!=null?rr(i,!!o,X,!1):!!c!=!!o&&(r!=null?rr(i,!!o,r,!0):rr(i,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(i,r,A,null,c,d)}for(x in c)if(d=c[x],p=o[x],c.hasOwnProperty(x)&&(d!=null||p!=null))switch(x){case"value":X=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&ut(i,r,x,d,c,p)}nh(i,X,J);return;case"option":for(var _e in o)X=o[_e],o.hasOwnProperty(_e)&&X!=null&&!c.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:ut(i,r,_e,null,c,X));for(V in c)X=c[V],J=o[V],c.hasOwnProperty(V)&&X!==J&&(X!=null||J!=null)&&(V==="selected"?i.selected=X&&typeof X!="function"&&typeof X!="symbol":ut(i,r,V,X,c,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)X=o[Ae],o.hasOwnProperty(Ae)&&X!=null&&!c.hasOwnProperty(Ae)&&ut(i,r,Ae,null,c,X);for(Q in c)if(X=c[Q],J=o[Q],c.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ut(i,r,Q,X,c,J)}return;default:if(bo(r)){for(var ht in o)X=o[ht],o.hasOwnProperty(ht)&&X!==void 0&&!c.hasOwnProperty(ht)&&Bp(i,r,ht,void 0,c,X);for(ne in c)X=c[ne],J=o[ne],!c.hasOwnProperty(ne)||X===J||X===void 0&&J===void 0||Bp(i,r,ne,X,c,J);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&ut(i,r,G,null,c,X);for(re in c)X=c[re],J=o[re],!c.hasOwnProperty(re)||X===J||X==null&&J==null||ut(i,r,re,X,c,J)}function Ib(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],p=d.transferSize,x=d.initiatorType,A=d.duration;if(p&&A&&Ib(x)){for(x=0,A=d.responseEnd,c+=1;c<o.length;c++){var V=o[c],Q=V.startTime;if(Q>A)break;var ne=V.transferSize,re=V.initiatorType;ne&&Ib(re)&&(V=V.responseEnd,x+=ne*(V<A?1:(A-Q)/(V-Q)))}if(--c,r+=8*(p+x)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var zp=null,qp=null;function rd(i){return i.nodeType===9?i:i.ownerDocument}function Nb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Db(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Fp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hp=null;function OR(){var i=window.event;return i&&i.type==="popstate"?i===Hp?!1:(Hp=i,!0):(Hp=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,jR=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(i){return Pb.resolve(null).then(i).catch(LR)}:Mb;function LR(i){setTimeout(function(){throw i})}function Rr(i){return i==="head"}function Ob(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),nl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Lc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Lc(o);for(var p=o.firstChild;p;){var x=p.nextSibling,A=p.nodeName;p[$i]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=x}}else o==="body"&&Lc(i.ownerDocument.body);o=d}while(o);nl(r)}function Vb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Gp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gp(o),vo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function UR(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[$i])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=fi(i.nextSibling),i===null)break}return null}function BR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fi(i.nextSibling),i===null))return null;return i}function jb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=fi(i.nextSibling),i===null))return null;return i}function Kp(i){return i.data==="$?"||i.data==="$~"}function $p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function zR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function fi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Qp=null;function Lb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return fi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Ub(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Bb(i,r,o){switch(r=rd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Lc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);vo(i)}var mi=new Map,zb=new Set;function ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Us=H.d;H.d={f:qR,r:FR,D:HR,C:GR,L:KR,m:$R,X:YR,S:QR,M:XR};function qR(){var i=Us.f(),r=Wh();return i||r}function FR(i){var r=ii(i);r!==null&&r.tag===5&&r.type==="form"?sx(r):Us.r(i)}var Jo=typeof document>"u"?null:document;function qb(i,r,o){var c=Jo;if(c&&typeof r=="string"&&r){var d=Rn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),zb.has(d)||(zb.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),hn(r,"link",i),Ut(r),c.head.appendChild(r)))}}function HR(i){Us.D(i),qb("dns-prefetch",i,null)}function GR(i,r){Us.C(i,r),qb("preconnect",i,r)}function KR(i,r,o){Us.L(i,r,o);var c=Jo;if(c&&i&&r){var d='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rn(o.imageSizes)+'"]')):d+='[href="'+Rn(i)+'"]';var p=d;switch(r){case"style":p=el(i);break;case"script":p=tl(i)}mi.has(p)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),mi.set(p,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Uc(p))||r==="script"&&c.querySelector(Bc(p))||(r=c.createElement("link"),hn(r,"link",i),Ut(r),c.head.appendChild(r)))}}function $R(i,r){Us.m(i,r);var o=Jo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Rn(c)+'"][href="'+Rn(i)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=tl(i)}if(!mi.has(p)&&(i=b({rel:"modulepreload",href:i},r),mi.set(p,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bc(p)))return}c=o.createElement("link"),hn(c,"link",i),Ut(c),o.head.appendChild(c)}}}function QR(i,r,o){Us.S(i,r,o);var c=Jo;if(c&&i){var d=Yi(c).hoistableStyles,p=el(i);r=r||"default";var x=d.get(p);if(!x){var A={loading:0,preload:null};if(x=c.querySelector(Uc(p)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=mi.get(p))&&Yp(i,o);var V=x=c.createElement("link");Ut(V),hn(V,"link",i),V._p=new Promise(function(Q,ne){V.onload=Q,V.onerror=ne}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,od(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:A},d.set(p,x)}}}function YR(i,r){Us.X(i,r);var o=Jo;if(o&&i){var c=Yi(o).hoistableScripts,d=tl(i),p=c.get(d);p||(p=o.querySelector(Bc(d)),p||(i=b({src:i,async:!0},r),(r=mi.get(d))&&Xp(i,r),p=o.createElement("script"),Ut(p),hn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function XR(i,r){Us.M(i,r);var o=Jo;if(o&&i){var c=Yi(o).hoistableScripts,d=tl(i),p=c.get(d);p||(p=o.querySelector(Bc(d)),p||(i=b({src:i,async:!0,type:"module"},r),(r=mi.get(d))&&Xp(i,r),p=o.createElement("script"),Ut(p),hn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Fb(i,r,o,c){var d=(d=ge.current)?ad(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=el(o.href),o=Yi(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=el(o.href);var p=Yi(d).hoistableStyles,x=p.get(i);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,x),(p=d.querySelector(Uc(i)))&&!p._p&&(x.instance=p,x.state.loading=5),mi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mi.set(i,o),p||WR(d,i,o,x.state))),r&&c===null)throw Error(s(528,""));return x}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tl(o),o=Yi(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function el(i){return'href="'+Rn(i)+'"'}function Uc(i){return'link[rel="stylesheet"]['+i+"]"}function Hb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function WR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),hn(r,"link",o),Ut(r),i.head.appendChild(r))}function tl(i){return'[src="'+Rn(i)+'"]'}function Bc(i){return"script[async]"+i}function Gb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(c)return r.instance=c,Ut(c),c;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ut(c),hn(c,"style",d),od(c,o.precedence,i),r.instance=c;case"stylesheet":d=el(o.href);var p=i.querySelector(Uc(d));if(p)return r.state.loading|=4,r.instance=p,Ut(p),p;c=Hb(o),(d=mi.get(d))&&Yp(c,d),p=(i.ownerDocument||i).createElement("link"),Ut(p);var x=p;return x._p=new Promise(function(A,V){x.onload=A,x.onerror=V}),hn(p,"link",c),r.state.loading|=4,od(p,o.precedence,i),r.instance=p;case"script":return p=tl(o.src),(d=i.querySelector(Bc(p)))?(r.instance=d,Ut(d),d):(c=o,(d=mi.get(p))&&(c=b({},o),Xp(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ut(d),hn(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,od(c,o.precedence,i));return r.instance}function od(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,x=0;x<c.length;x++){var A=c[x];if(A.dataset.precedence===r)p=A;else if(p!==d)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Yp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ld=null;function Kb(i,r,o){if(ld===null){var c=new Map,d=ld=new Map;d.set(o,c)}else d=ld,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var p=o[d];if(!(p[$i]||p[Lt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(r)||"";x=i+x;var A=c.get(x);A?A.push(p):c.set(x,[p])}}return c}function $b(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function ZR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Qb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function JR(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=el(c.href),p=r.querySelector(Uc(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=cd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Ut(p);return}p=r.ownerDocument||r,c=Hb(c),(d=mi.get(d))&&Yp(c,d),p=p.createElement("link"),Ut(p);var x=p;x._p=new Promise(function(A,V){x.onload=A,x.onerror=V}),hn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=cd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Wp=0;function eI(i,r){return i.stylesheets&&i.count===0&&hd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&Wp===0&&(Wp=62500*PR());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Wp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ud=null;function hd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ud=new Map,r.forEach(tI,i),ud=null,cd.call(i))}function tI(i,r){if(!(r.state.loading&4)){var o=ud.get(i);if(o)var c=o.get(null);else{o=new Map,ud.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var x=d[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),c=x)}c&&o.set(null,c)}d=r.instance,x=d.getAttribute("data-precedence"),p=o.get(x)||c,p===c&&o.set(null,d),o.set(x,d),this.count++,c=cd.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var zc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function nI(i,r,o,c,d,p,x,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Yb(i,r,o,c,d,p,x,A,V,Q,ne,re){return i=new nI(i,r,o,x,V,Q,ne,re,A),r=1,p===!0&&(r|=24),p=$n(3,null,null,r),i.current=p,p.stateNode=i,r=Im(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},Pm(p),i}function Xb(i){return i?(i=Do,i):Do}function Wb(i,r,o,c,d,p){d=Xb(d),c.context===null?c.context=d:c.pendingContext=d,c=vr(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=_r(i,c,r),o!==null&&(On(o,i,r),_c(o,i,r))}function Zb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Zp(i,r){Zb(i,r),(i=i.alternate)&&Zb(i,r)}function Jb(i){if(i.tag===13||i.tag===31){var r=Ca(i,67108864);r!==null&&On(r,i,67108864),Zp(i,67108864)}}function eT(i){if(i.tag===13||i.tag===31){var r=Zn();r=pa(r);var o=Ca(i,r);o!==null&&On(o,i,r),Zp(i,r)}}var dd=!0;function iI(i,r,o,c){var d=L.T;L.T=null;var p=H.p;try{H.p=2,Jp(i,r,o,c)}finally{H.p=p,L.T=d}}function sI(i,r,o,c){var d=L.T;L.T=null;var p=H.p;try{H.p=8,Jp(i,r,o,c)}finally{H.p=p,L.T=d}}function Jp(i,r,o,c){if(dd){var d=eg(c);if(d===null)Up(i,r,c,fd,o),nT(i,c);else if(aI(d,i,r,o,c))c.stopPropagation();else if(nT(i,c),r&4&&-1<rI.indexOf(i)){for(;d!==null;){var p=ii(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Fi(p.pendingLanes);if(x!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;x;){var V=1<<31-Nt(x);A.entanglements[1]|=V,x&=~V}ls(p),(Je&6)===0&&(Yh=Jt()+500,Oc(0))}}break;case 31:case 13:A=Ca(p,2),A!==null&&On(A,p,2),Wh(),Zp(p,2)}if(p=eg(c),p===null&&Up(i,r,c,fd,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Up(i,r,c,null,o)}}function eg(i){return i=si(i),tg(i)}var fd=null;function tg(i){if(fd=null,i=Qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return fd=i,null}function tT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case nr:return 2;case ua:return 8;case zi:case mo:return 32;case ha:return 268435456;default:return 32}default:return 32}}var ng=!1,Ir=null,Nr=null,Dr=null,qc=new Map,Fc=new Map,Mr=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nT(i,r){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":qc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function Hc(i,r,o,c,d,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=ii(r),r!==null&&Jb(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function aI(i,r,o,c,d){switch(r){case"focusin":return Ir=Hc(Ir,i,r,o,c,d),!0;case"dragenter":return Nr=Hc(Nr,i,r,o,c,d),!0;case"mouseover":return Dr=Hc(Dr,i,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return qc.set(p,Hc(qc.get(p)||null,i,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Fc.set(p,Hc(Fc.get(p)||null,i,r,o,c,d)),!0}return!1}function iT(i){var r=Qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){eT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){eT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=eg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ic=c,o.target.dispatchEvent(c),ic=null}else return r=ii(o),r!==null&&Jb(r),i.blockedOn=o,!1;r.shift()}return!0}function sT(i,r,o){md(i)&&o.delete(r)}function oI(){ng=!1,Ir!==null&&md(Ir)&&(Ir=null),Nr!==null&&md(Nr)&&(Nr=null),Dr!==null&&md(Dr)&&(Dr=null),qc.forEach(sT),Fc.forEach(sT)}function pd(i,r){i.blockedOn===r&&(i.blockedOn=null,ng||(ng=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oI)))}var gd=null;function rT(i){gd!==i&&(gd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gd===i&&(gd=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(tg(c||o)===null)continue;break}var p=ii(o);p!==null&&(i.splice(r,3),r-=3,ep(p,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function nl(i){function r(V){return pd(V,i)}Ir!==null&&pd(Ir,i),Nr!==null&&pd(Nr,i),Dr!==null&&pd(Dr,i),qc.forEach(r),Fc.forEach(r);for(var o=0;o<Mr.length;o++){var c=Mr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)iT(o),o.blockedOn===null&&Mr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],x=d[en]||null;if(typeof p=="function")x||rT(o);else if(x){var A=null;if(p&&p.hasAttribute("formAction")){if(d=p,x=p[en]||null)A=x.formAction;else if(tg(d)!==null)continue}else A=x.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),rT(o)}}}function aT(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function ig(i){this._internalRoot=i}yd.prototype.render=ig.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Zn();Wb(o,c,i,r,null,null)},yd.prototype.unmount=ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Wb(i.current,2,null,i,null,null),Wh(),r[Ki]=null}};function yd(i){this._internalRoot=i}yd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Wu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Mr.length&&r!==0&&r<Mr[o].priority;o++);Mr.splice(o,0,i),o===0&&iT(i)}};var oT=e.version;if(oT!=="19.2.3")throw Error(s(527,oT,"19.2.3"));H.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var lI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{Fn=vd.inject(lI),an=vd}catch{}}return Kc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=mx,p=px,x=gx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Yb(i,1,!1,null,null,o,c,null,d,p,x,aT),i[Ki]=r.current,Lp(i),new ig(r)},Kc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",p=mx,x=px,A=gx,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=Yb(i,1,!0,r,o??null,c,d,V,p,x,A,aT),r.context=Xb(null),o=r.current,c=Zn(),c=pa(c),d=vr(c),d.callback=null,_r(o,d,c),o=c,r.current.lanes=o,fa(r,o),ls(r),i[Ki]=r.current,Lp(i),new yd(r)},Kc.version="19.2.3",Kc}var vT;function _I(){if(vT)return ag.exports;vT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ag.exports=vI(),ag.exports}var xI=_I();const Xy=te.createContext({});function Wy(t){const e=te.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zy=typeof window<"u",VE=Zy?te.useLayoutEffect:te.useEffect,Sf=te.createContext(null);function Jy(t,e){t.indexOf(e)===-1&&t.push(e)}function e0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qs=(t,e,n)=>n>e?e:n<t?t:n;let t0=()=>{};const Ys={},jE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LE(t){return typeof t=="object"&&t!==null}const UE=t=>/^0[^.\s]+$/u.test(t);function n0(t){let e;return()=>(e===void 0&&(e=t()),e)}const vi=t=>t,bI=(t,e)=>n=>e(t(n)),Du=(...t)=>t.reduce(bI),gu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class i0{constructor(){this.subscriptions=[]}add(e){return Jy(this.subscriptions,e),()=>e0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ds=t=>t*1e3,yi=t=>t/1e3;function BE(t,e){return e?t*(1e3/e):0}const zE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TI=1e-7,wI=12;function EI(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=zE(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>TI&&++f<wI);return u}function Mu(t,e,n,s){if(t===e&&n===s)return vi;const a=l=>EI(l,0,1,t,n);return l=>l===0||l===1?l:zE(a(l),e,s)}const qE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FE=t=>e=>1-t(1-e),HE=Mu(.33,1.53,.69,.99),s0=FE(HE),GE=qE(s0),KE=t=>(t*=2)<1?.5*s0(t):.5*(2-Math.pow(2,-10*(t-1))),r0=t=>1-Math.sin(Math.acos(t)),$E=FE(r0),QE=qE(r0),AI=Mu(.42,0,1,1),SI=Mu(0,0,.58,1),YE=Mu(.42,0,.58,1),CI=t=>Array.isArray(t)&&typeof t[0]!="number",XE=t=>Array.isArray(t)&&typeof t[0]=="number",kI={linear:vi,easeIn:AI,easeInOut:YE,easeOut:SI,circIn:r0,circInOut:QE,circOut:$E,backIn:s0,backInOut:GE,backOut:HE,anticipate:KE},RI=t=>typeof t=="string",_T=t=>{if(XE(t)){t0(t.length===4);const[e,n,s,a]=t;return Mu(e,n,s,a)}else if(RI(t))return kI[t];return t},_d=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function II(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),t()),y(f)}const g={schedule:(y,b=!1,w=!1)=>{const D=w&&a?n:s;return b&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const NI=40;function WE(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=_d.reduce((Y,ue)=>(Y[ue]=II(l),Y),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:b,preRender:w,render:k,postRender:D}=u,O=()=>{const Y=Ys.useManualTiming?a.timestamp:performance.now();n=!1,Ys.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Y-a.timestamp,NI),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),b.process(a),w.process(a),k.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},M=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:_d.reduce((Y,ue)=>{const he=u[ue];return Y[ue]=(de,R=!1,C=!1)=>(n||M(),he.schedule(de,R,C)),Y},{}),cancel:Y=>{for(let ue=0;ue<_d.length;ue++)u[_d[ue]].cancel(Y)},state:a,steps:u}}const{schedule:wt,cancel:Kr,state:dn,steps:ug}=WE(typeof requestAnimationFrame<"u"?requestAnimationFrame:vi,!0);let Nd;function DI(){Nd=void 0}const Bn={now:()=>(Nd===void 0&&Bn.set(dn.isProcessing||Ys.useManualTiming?dn.timestamp:performance.now()),Nd),set:t=>{Nd=t,queueMicrotask(DI)}},ZE=t=>e=>typeof e=="string"&&e.startsWith(t),JE=ZE("--"),MI=ZE("var(--"),a0=t=>MI(t)?PI.test(t.split("/*")[0].trim()):!1,PI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yu={...Ml,transform:t=>Qs(0,1,t)},xd={...Ml,default:1},su=t=>Math.round(t*1e5)/1e5,o0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OI(t){return t==null}const VI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,l0=(t,e)=>n=>!!(typeof n=="string"&&VI.test(n)&&n.startsWith(t)||e&&!OI(n)&&Object.prototype.hasOwnProperty.call(n,e)),eA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(o0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},jI=t=>Qs(0,255,t),hg={...Ml,transform:t=>Math.round(jI(t))},Ha={test:l0("rgb","red"),parse:eA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+hg.transform(t)+", "+hg.transform(e)+", "+hg.transform(n)+", "+su(yu.transform(s))+")"};function LI(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Gg={test:l0("#"),parse:LI,transform:Ha.transform},Pu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vr=Pu("deg"),fs=Pu("%"),Re=Pu("px"),UI=Pu("vh"),BI=Pu("vw"),xT={...fs,parse:t=>fs.parse(t)/100,transform:t=>fs.transform(t*100)},ul={test:l0("hsl","hue"),parse:eA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+fs.transform(su(e))+", "+fs.transform(su(n))+", "+su(yu.transform(s))+")"},Kt={test:t=>Ha.test(t)||Gg.test(t)||ul.test(t),parse:t=>Ha.test(t)?Ha.parse(t):ul.test(t)?ul.parse(t):Gg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ha.transform(t):ul.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},zI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qI(t){return isNaN(t)&&typeof t=="string"&&(t.match(o0)?.length||0)+(t.match(zI)?.length||0)>0}const tA="number",nA="color",FI="var",HI="var(",bT="${}",GI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(GI,m=>(Kt.test(m)?(s.color.push(l),a.push(nA),n.push(Kt.parse(m))):m.startsWith(HI)?(s.var.push(l),a.push(FI),n.push(m)):(s.number.push(l),a.push(tA),n.push(parseFloat(m))),++l,bT)).split(bT);return{values:n,split:f,indexes:s,types:a}}function iA(t){return vu(t).values}function sA(t){const{split:e,types:n}=vu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===tA?l+=su(a[u]):f===nA?l+=Kt.transform(a[u]):l+=a[u]}return l}}const KI=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function $I(t){const e=iA(t);return sA(t)(e.map(KI))}const $r={test:qI,parse:iA,createTransformer:sA,getAnimatableNone:$I};function dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function QI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=dg(m,f,t+1/3),l=dg(m,f,t),u=dg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Kd(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,fg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},YI=[Gg,Ha,ul],XI=t=>YI.find(e=>e.test(t));function TT(t){const e=XI(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=QI(n)),n}const wT=(t,e)=>{const n=TT(t),s=TT(e);if(!n||!s)return Kd(t,e);const a={...n};return l=>(a.red=fg(n.red,s.red,l),a.green=fg(n.green,s.green,l),a.blue=fg(n.blue,s.blue,l),a.alpha=Et(n.alpha,s.alpha,l),Ha.transform(a))},Kg=new Set(["none","hidden"]);function WI(t,e){return Kg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ZI(t,e){return n=>Et(t,e,n)}function c0(t){return typeof t=="number"?ZI:typeof t=="string"?a0(t)?Kd:Kt.test(t)?wT:tN:Array.isArray(t)?rA:typeof t=="object"?Kt.test(t)?wT:JI:Kd}function rA(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>c0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function JI(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=c0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function eN(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const tN=(t,e)=>{const n=$r.createTransformer(e),s=vu(t),a=vu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Kg.has(t)&&!a.values.length||Kg.has(e)&&!s.values.length?WI(t,e):Du(rA(eN(s,a),a.values),n):Kd(t,e)};function aA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):c0(t)(t,e)}const nN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>Kr(e),now:()=>dn.isProcessing?dn.timestamp:Bn.now()}},oA=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},$d=2e4;function u0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<$d;)e+=n,s=t.next(e);return e>=$d?1/0:e}function iN(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(u0(s),$d);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:yi(a)}}const sN=5;function lA(t,e,n){const s=Math.max(e-sN,0);return BE(n-t(s),e-s)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mg=.001;function rN({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:s=Rt.mass}){let a,l,u=1-e;u=Qs(Rt.minDamping,Rt.maxDamping,u),t=Qs(Rt.minDuration,Rt.maxDuration,yi(t)),u<1?(a=g=>{const y=g*u,b=y*t,w=y-n,k=$g(g,u),D=Math.exp(-b);return mg-w/k*D},l=g=>{const b=g*u*t,w=b*n+n,k=Math.pow(u,2)*Math.pow(g,2)*t,D=Math.exp(-b),O=$g(Math.pow(g,2),u);return(-a(g)+mg>0?-1:1)*((w-k)*D)/O}):(a=g=>{const y=Math.exp(-g*t),b=(g-n)*t+1;return-mg+y*b},l=g=>{const y=Math.exp(-g*t),b=(n-g)*(t*t);return y*b});const f=5/t,m=oN(a,l,f);if(t=ds(t),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const aN=12;function oN(t,e,n){let s=n;for(let a=1;a<aN;a++)s=s-t(s)/e(s);return s}function $g(t,e){return t*Math.sqrt(1-e*e)}const lN=["duration","bounce"],cN=["stiffness","damping","mass"];function ET(t,e){return e.some(n=>t[n]!==void 0)}function uN(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!ET(t,cN)&&ET(t,lN))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Qs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=rN(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Qd(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:b,velocity:w,isResolvedFromDuration:k}=uN({...n,velocity:-yi(n.velocity||0)}),D=w||0,O=g/(2*Math.sqrt(m*y)),M=u-l,F=yi(Math.sqrt(m/y)),ee=Math.abs(M)<5;s||(s=ee?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=ee?Rt.restDelta.granular:Rt.restDelta.default);let Y;if(O<1){const he=$g(F,O);Y=de=>{const R=Math.exp(-O*F*de);return u-R*((D+O*F*M)/he*Math.sin(he*de)+M*Math.cos(he*de))}}else if(O===1)Y=he=>u-Math.exp(-F*he)*(M+(D+F*M)*he);else{const he=F*Math.sqrt(O*O-1);Y=de=>{const R=Math.exp(-O*F*de),C=Math.min(he*de,300);return u-R*((D+O*F*M)*Math.sinh(C)+he*M*Math.cosh(C))/he}}const ue={calculatedDuration:k&&b||null,next:he=>{const de=Y(he);if(k)f.done=he>=b;else{let R=he===0?D:0;O<1&&(R=he===0?ds(D):lA(Y,he,de));const C=Math.abs(R)<=s,N=Math.abs(u-de)<=a;f.done=C&&N}return f.value=f.done?u:de,f},toString:()=>{const he=Math.min(u0(ue),$d),de=oA(R=>ue.next(he*R).value,he,30);return he+"ms "+de},toTransition:()=>{}};return ue}Qd.applyToOptions=t=>{const e=iN(t,100,Qd);return t.ease=e.ease,t.duration=ds(e.duration),t.type="keyframes",t};function Qg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:y}){const b=t[0],w={done:!1,value:b},k=C=>f!==void 0&&C<f||m!==void 0&&C>m,D=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let O=n*e;const M=b+O,F=u===void 0?M:u(M);F!==M&&(O=F-b);const ee=C=>-O*Math.exp(-C/s),Y=C=>F+ee(C),ue=C=>{const N=ee(C),j=Y(C);w.done=Math.abs(N)<=g,w.value=w.done?F:j};let he,de;const R=C=>{k(w.value)&&(he=C,de=Qd({keyframes:[w.value,D(w.value)],velocity:lA(Y,C,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return R(0),{calculatedDuration:null,next:C=>{let N=!1;return!de&&he===void 0&&(N=!0,ue(C),R(C)),he!==void 0&&C>=he?de.next(C-he):(!N&&ue(C),w)}}}function hN(t,e,n){const s=[],a=n||Ys.mix||aA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||vi:e;f=Du(m,f)}s.push(f)}return s}function dN(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(t0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=hN(e,s,a),m=f.length,g=y=>{if(u&&y<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(y<t[b+1]);b++);const w=gu(t[b],t[b+1],y);return f[b](w)};return n?y=>g(Qs(t[0],t[l-1],y)):g}function fN(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=gu(0,e,s);t.push(Et(n,1,a))}}function mN(t){const e=[0];return fN(e,t.length-1),e}function pN(t,e){return t.map(n=>n*e)}function gN(t,e){return t.map(()=>e||YE).splice(0,t.length-1)}function ru({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=CI(s)?s.map(_T):_T(s),l={done:!1,value:e[0]},u=pN(n&&n.length===e.length?n:mN(e),t),f=dN(u,e,{ease:Array.isArray(a)?a:gN(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const yN=t=>t!==null;function h0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(yN),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const vN={decay:Qg,inertia:Qg,tween:ru,keyframes:ru,spring:Qd};function cA(t){typeof t.type=="string"&&(t.type=vN[t.type])}class d0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _N=t=>t/100;class f0 extends d0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cA(e);const{type:n=ru,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||ru;m!==ru&&typeof f[0]!="number"&&(this.mixKeyframes=Du(_N,aA(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=u0(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:w,repeatDelay:k,type:D,onUpdate:O,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),ee=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,ue=s;if(b){const C=Math.min(this.currentTime,a)/f;let N=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&N--,N=Math.min(N,b+1),N%2&&(w==="reverse"?(j=1-j,k&&(j-=k/f)):w==="mirror"&&(ue=u)),Y=Qs(0,1,j)*f}const he=ee?{done:!1,value:y[0]}:ue.next(Y);l&&(he.value=l(he.value));let{done:de}=he;!ee&&m!==null&&(de=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&de);return R&&D!==Qg&&(he.value=h0(y,this.options,M,this.speed)),O&&O(he.value),R&&this.finish(),he}then(e,n){return this.finished.then(e,n)}get duration(){return yi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yi(e)}get time(){return yi(this.currentTime)}set time(e){e=ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=nN,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function xN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ga=t=>t*180/Math.PI,Yg=t=>{const e=Ga(Math.atan2(t[1],t[0]));return Xg(e)},bN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yg,rotateZ:Yg,skewX:t=>Ga(Math.atan(t[1])),skewY:t=>Ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xg=t=>(t=t%360,t<0&&(t+=360),t),AT=Yg,ST=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),CT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ST,scaleY:CT,scale:t=>(ST(t)+CT(t))/2,rotateX:t=>Xg(Ga(Math.atan2(t[6],t[5]))),rotateY:t=>Xg(Ga(Math.atan2(-t[2],t[0]))),rotateZ:AT,rotate:AT,skewX:t=>Ga(Math.atan(t[4])),skewY:t=>Ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wg(t){return t.includes("scale")?1:0}function Zg(t,e){if(!t||t==="none")return Wg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=TN,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=bN,a=f}if(!a)return Wg(e);const l=s[e],u=a[1].split(",").map(EN);return typeof l=="function"?l(u):u[l]}const wN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Zg(n,e)};function EN(t){return parseFloat(t.trim())}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Pl),kT=t=>t===Ml||t===Re,AN=new Set(["x","y","z"]),SN=Pl.filter(t=>!AN.has(t));function CN(t){const e=[];return SN.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Zg(e,"x"),y:(t,{transform:e})=>Zg(e,"y")};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const Xa=new Set;let Jg=!1,ey=!1,ty=!1;function uA(){if(ey){const t=Array.from(Xa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=CN(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ey=!1,Jg=!1,Xa.forEach(t=>t.complete(ty)),Xa.clear()}function hA(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ey=!0)})}function kN(){ty=!0,hA(),uA(),ty=!1}class m0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Jg||(Jg=!0,wt.read(hA),wt.resolveKeyframes(uA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}xN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RN=t=>t.startsWith("--");function IN(t,e,n){RN(e)?t.style.setProperty(e,n):t.style[e]=n}const NN=n0(()=>window.ScrollTimeline!==void 0),DN={};function MN(t,e){const n=n0(t);return()=>DN[e]??n()}const dA=MN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,RT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function fA(t,e){if(t)return typeof t=="function"?dA()?oA(t,e):"ease-out":XE(t)?Xc(t):Array.isArray(t)?t.map(n=>fA(n,e)||RT.easeOut):RT[t]}function PN(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[e]:n};m&&(y.offset=m);const b=fA(f,a);Array.isArray(b)&&(y.easing=b);const w={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(y,w)}function mA(t){return typeof t=="function"&&"applyToOptions"in t}function ON({type:t,...e}){return mA(t)&&dA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class VN extends d0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,t0(typeof e.type!="string");const g=ON(e);this.animation=PN(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=h0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):IN(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return yi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+yi(e)}get time(){return yi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&NN()?(this.animation.timeline=e,vi):n(this)}}const pA={anticipate:KE,backInOut:GE,circInOut:QE};function jN(t){return t in pA}function LN(t){typeof t.ease=="string"&&jN(t.ease)&&(t.ease=pA[t.ease])}const IT=10;class UN extends VN{constructor(e){LN(e),cA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new f0({...u,autoplay:!1}),m=ds(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-IT).value,f.sample(m).value,IT),f.stop()}}const NT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($r.test(t)||t==="0")&&!t.startsWith("url("));function BN(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zN(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=NT(a,e),f=NT(l,e);return!u||!f?!1:BN(t)||(n==="spring"||mA(n))&&s}function ny(t){t.duration=0,t.type="keyframes"}const qN=new Set(["opacity","clipPath","filter","transform"]),FN=n0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HN(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return FN()&&n&&qN.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const GN=40;class KN extends d0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:y,...b},k=y?.KeyframeResolver||m0;this.keyframeResolver=new k(f,(D,O,M)=>this.onKeyframesResolved(D,O,w,!M),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=Bn.now(),zN(e,l,u,f)||((Ys.instantAnimations||!m)&&y?.(h0(e,s,n)),e[0]=e[e.length-1],ny(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>GN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},k=!g&&HN(w)?new UN({...w,element:w.motionValue.owner.current}):new f0(w);k.finished.then(()=>this.notifyFinished()).catch(vi),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),kN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $N=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QN(t){const e=$N.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function gA(t,e,n=1){const[s,a]=QN(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return jE(u)?parseFloat(u):u}return a0(a)?gA(a,e,n+1):a}function p0(t,e){return t?.[e]??t?.default??t}const yA=new Set(["width","height","top","left","right","bottom",...Pl]),YN={test:t=>t==="auto",parse:t=>t},vA=t=>e=>e.test(t),_A=[Ml,Re,fs,Vr,BI,UI,YN],DT=t=>_A.find(vA(t));function XN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UE(t):!0}const WN=new Set(["brightness","contrast","saturate","opacity"]);function ZN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(o0)||[];if(!s)return t;const a=n.replace(s,"");let l=WN.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const JN=/\b([a-z-]*)\(.*?\)/gu,iy={...$r,getAnimatableNone:t=>{const e=t.match(JN);return e?e.map(ZN).join(" "):t}},MT={...Ml,transform:Math.round},eD={rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:xd,scaleX:xd,scaleY:xd,scaleZ:xd,skew:Vr,skewX:Vr,skewY:Vr,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:yu,originX:xT,originY:xT,originZ:Re},g0={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...eD,zIndex:MT,fillOpacity:yu,strokeOpacity:yu,numOctaves:MT},tD={...g0,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:iy,WebkitFilter:iy},xA=t=>tD[t];function bA(t,e){let n=xA(t);return n!==iy&&(n=$r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nD=new Set(["auto","none","0"]);function iD(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!nD.has(l)&&vu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=bA(n,a)}class sD extends m0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),a0(g))){const y=gA(g,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!yA.has(s)||e.length!==2)return;const[a,l]=e,u=DT(a),f=DT(l);if(u!==f)if(kT(u)&&kT(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Ya[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||XN(e[a]))&&s.push(a);s.length&&iD(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ya[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function rD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const TA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wA(t){return LE(t)&&"offsetHeight"in t}const PT=30,aD=t=>!isNaN(parseFloat(t));class oD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i0);const s=this.events[e].add(n);return e==="change"?()=>{s(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PT);return BE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(t,e){return new oD(t,e)}const{schedule:y0}=WE(queueMicrotask,!1),Oi={x:!1,y:!1};function EA(){return Oi.x||Oi.y}function lD(t){return t==="x"||t==="y"?Oi[t]?null:(Oi[t]=!0,()=>{Oi[t]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function AA(t,e){const n=rD(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function OT(t){return!(t.pointerType==="touch"||EA())}function cD(t,e,n={}){const[s,a,l]=AA(t,n),u=f=>{if(!OT(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const y=b=>{OT(b)&&(g(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const SA=(t,e)=>e?t===e?!0:SA(t,e.parentElement):!1,v0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hD(t){return uD.has(t.tagName)||t.tabIndex!==-1}const Dd=new WeakSet;function VT(t){return e=>{e.key==="Enter"&&t(e)}}function pg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dD=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=VT(()=>{if(Dd.has(n))return;pg(n,"down");const a=VT(()=>{pg(n,"up")}),l=()=>pg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function jT(t){return v0(t)&&!EA()}function fD(t,e,n={}){const[s,a,l]=AA(t,n),u=f=>{const m=f.currentTarget;if(!jT(f))return;Dd.add(m);const g=e(m,f),y=(k,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Dd.has(m)&&Dd.delete(m),jT(k)&&typeof g=="function"&&g(k,{success:D})},b=k=>{y(k,m===window||m===document||n.useGlobalTarget||SA(m,k.target))},w=k=>{y(k,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),wA(f)&&(f.addEventListener("focus",g=>dD(g,a)),!hD(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function CA(t){return LE(t)&&"ownerSVGElement"in t}function mD(t){return CA(t)&&t.tagName==="svg"}const bn=t=>!!(t&&t.getVelocity),pD=[..._A,Kt,$r],gD=t=>pD.find(vA(t)),_0=te.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yD(...t){return e=>{let n=!1;const s=t.map(a=>{const l=LT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():LT(t[a],null)}}}}function vD(...t){return te.useCallback(yD(...t),t)}class _D extends te.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=wA(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xD({children:t,isPresent:e,anchorX:n,root:s}){const a=te.useId(),l=te.useRef(null),u=te.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=te.useContext(_0),m=vD(l,t?.ref);return te.useInsertionEffect(()=>{const{width:g,height:y,top:b,left:w,right:k}=u.current;if(e||!l.current||!g||!y)return;const D=n==="left"?`left: ${w}`:`right: ${k}`;l.current.dataset.motionPopId=a;const O=document.createElement("style");f&&(O.nonce=f);const M=s??document.head;return M.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${b}px !important;
          }
        `),()=>{M.contains(O)&&M.removeChild(O)}},[e]),v.jsx(_D,{isPresent:e,childRef:l,sizeRef:u,children:te.cloneElement(t,{ref:m})})}const bD=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:m})=>{const g=Wy(TD),y=te.useId();let b=!0,w=te.useMemo(()=>(b=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:k=>{g.set(k,!0);for(const D of g.values())if(!D)return;s&&s()},register:k=>(g.set(k,!1),()=>g.delete(k))}),[n,g,s]);return l&&b&&(w={...w}),te.useMemo(()=>{g.forEach((k,D)=>g.set(D,!1))},[n]),te.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(xD,{isPresent:n,anchorX:f,root:m,children:t})),v.jsx(Sf.Provider,{value:w,children:t})};function TD(){return new Map}function kA(t=!0){const e=te.useContext(Sf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=te.useId();te.useEffect(()=>{if(t)return a(l)},[t]);const u=te.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const bd=t=>t.key||"";function UT(t){const e=[];return te.Children.forEach(t,n=>{te.isValidElement(n)&&e.push(n)}),e}const Hs=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[g,y]=kA(u),b=te.useMemo(()=>UT(t),[t]),w=u&&!g?[]:b.map(bd),k=te.useRef(!0),D=te.useRef(b),O=Wy(()=>new Map),[M,F]=te.useState(b),[ee,Y]=te.useState(b);VE(()=>{k.current=!1,D.current=b;for(let de=0;de<ee.length;de++){const R=bd(ee[de]);w.includes(R)?O.delete(R):O.get(R)!==!0&&O.set(R,!1)}},[ee,w.length,w.join("-")]);const ue=[];if(b!==M){let de=[...b];for(let R=0;R<ee.length;R++){const C=ee[R],N=bd(C);w.includes(N)||(de.splice(R,0,C),ue.push(C))}return l==="wait"&&ue.length&&(de=ue),Y(UT(de)),F(b),null}const{forceRender:he}=te.useContext(Xy);return v.jsx(v.Fragment,{children:ee.map(de=>{const R=bd(de),C=u&&!g?!1:b===ee||w.includes(R),N=()=>{if(O.has(R))O.set(R,!0);else return;let j=!0;O.forEach(I=>{I||(j=!1)}),j&&(he?.(),Y(D.current),u&&y?.(),s&&s())};return v.jsx(bD,{isPresent:C,initial:!k.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:C?void 0:N,anchorX:f,children:de},R)})})},RA=te.createContext({strict:!1}),BT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const t in BT)El[t]={isEnabled:e=>BT[t].some(n=>!!e[n])};function wD(t){for(const e in t)El[e]={...El[e],...t[e]}}const ED=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ED.has(t)}let IA=t=>!Yd(t);function AD(t){typeof t=="function"&&(IA=e=>e.startsWith("on")?!Yd(e):t(e))}try{AD(require("@emotion/is-prop-valid").default)}catch{}function SD(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(IA(a)||n===!0&&Yd(a)||!e&&!Yd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Cf=te.createContext({});function kf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _u(t){return typeof t=="string"||Array.isArray(t)}const x0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b0=["initial",...x0];function Rf(t){return kf(t.animate)||b0.some(e=>_u(t[e]))}function NA(t){return!!(Rf(t)||t.variants)}function CD(t,e){if(Rf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||_u(n)?n:void 0,animate:_u(s)?s:void 0}}return t.inherit!==!1?e:{}}function kD(t){const{initial:e,animate:n}=CD(t,te.useContext(Cf));return te.useMemo(()=>({initial:e,animate:n}),[zT(e),zT(n)])}function zT(t){return Array.isArray(t)?t.join(" "):t}function qT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $c={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=qT(t,e.target.x),s=qT(t,e.target.y);return`${n}% ${s}%`}},RD={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=$r.parse(t);if(a.length>5)return s;const l=$r.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const g=Et(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},sy={borderRadius:{...$c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$c,borderTopRightRadius:$c,borderBottomLeftRadius:$c,borderBottomRightRadius:$c,boxShadow:RD};function DA(t,{layout:e,layoutId:n}){return Ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sy[t]||t==="opacity")}const ID={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ND=Pl.length;function DD(t,e,n){let s="",a=!0;for(let l=0;l<ND;l++){const u=Pl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=TA(f,g0[u]);if(!m){a=!1;const y=ID[u]||u;s+=`${y}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function T0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const g=e[m];if(Ol.has(m)){u=!0;continue}else if(JE(m)){a[m]=g;continue}else{const y=TA(g,g0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(u||n?s.transform=DD(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}const w0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function MA(t,e,n){for(const s in e)!bn(e[s])&&!DA(s,n)&&(t[s]=e[s])}function MD({transformTemplate:t},e){return te.useMemo(()=>{const n=w0();return T0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function PD(t,e){const n=t.style||{},s={};return MA(s,n,t),Object.assign(s,MD(t,e)),s}function OD(t,e){const n={},s=PD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const VD={offset:"stroke-dashoffset",array:"stroke-dasharray"},jD={offset:"strokeDashoffset",array:"strokeDasharray"};function LD(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?VD:jD;t[l.offset]=Re.transform(-s);const u=Re.transform(e),f=Re.transform(n);t[l.array]=`${u} ${f}`}function PA(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,g,y){if(T0(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&LD(b,a,l,u,!1)}const OA=()=>({...w0(),attrs:{}}),VA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UD(t,e,n,s){const a=te.useMemo(()=>{const l=OA();return PA(l,e,VA(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};MA(l,t.style,t),a.style={...l,...a.style}}return a}const BD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E0(t){return typeof t!="string"||t.includes("-")?!1:!!(BD.indexOf(t)>-1||/[A-Z]/u.test(t))}function zD(t,e,n,{latestValues:s},a,l=!1){const f=(E0(t)?UD:OD)(e,s,a,t),m=SD(e,typeof t=="string",l),g=t!==te.Fragment?{...m,...f,ref:n}:{},{children:y}=e,b=te.useMemo(()=>bn(y)?y.get():y,[y]);return te.createElement(t,{...g,children:b})}function FT(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function A0(t,e,n,s){if(typeof e=="function"){const[a,l]=FT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=FT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Md(t){return bn(t)?t.get():t}function qD({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:FD(n,s,a,t),renderState:e()}}function FD(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Md(l[w]);let{initial:u,animate:f}=t;const m=Rf(t),g=NA(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const b=y?f:u;if(b&&typeof b!="boolean"&&!kf(b)){const w=Array.isArray(b)?b:[b];for(let k=0;k<w.length;k++){const D=A0(t,w[k]);if(D){const{transitionEnd:O,transition:M,...F}=D;for(const ee in F){let Y=F[ee];if(Array.isArray(Y)){const ue=y?Y.length-1:0;Y=Y[ue]}Y!==null&&(a[ee]=Y)}for(const ee in O)a[ee]=O[ee]}}}return a}const jA=t=>(e,n)=>{const s=te.useContext(Cf),a=te.useContext(Sf),l=()=>qD(t,e,s,a);return n?l():Wy(l)};function S0(t,e,n){const{style:s}=t,a={};for(const l in s)(bn(s[l])||e.style&&bn(e.style[l])||DA(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const HD=jA({scrapeMotionValuesFromProps:S0,createRenderState:w0});function LA(t,e,n){const s=S0(t,e,n);for(const a in t)if(bn(t[a])||bn(e[a])){const l=Pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const GD=jA({scrapeMotionValuesFromProps:LA,createRenderState:OA}),KD=Symbol.for("motionComponentSymbol");function hl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $D(t,e,n){return te.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):hl(n)&&(n.current=s))},[e])}const C0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QD="framerAppearId",UA="data-"+C0(QD),BA=te.createContext({});function YD(t,e,n,s,a){const{visualElement:l}=te.useContext(Cf),u=te.useContext(RA),f=te.useContext(Sf),m=te.useContext(_0).reducedMotion,g=te.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,b=te.useContext(BA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&XD(g.current,n,a,b);const w=te.useRef(!1);te.useInsertionEffect(()=>{y&&w.current&&y.update(n,f)});const k=n[UA],D=te.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return VE(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),te.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),D.current=!1),y.enteringChildren=void 0)}),y}function XD(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zA(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&hl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function zA(t){if(t)return t.options.allowProjection!==!1?t.projection:zA(t.parent)}function gg(t,{forwardMotionProps:e=!1}={},n,s){n&&wD(n);const a=E0(t)?GD:HD;function l(f,m){let g;const y={...te.useContext(_0),...f,layoutId:WD(f)},{isStatic:b}=y,w=kD(f),k=a(f,b);if(!b&&Zy){ZD();const D=JD(y);g=D.MeasureLayout,w.visualElement=YD(t,k,y,s,D.ProjectionNode)}return v.jsxs(Cf.Provider,{value:w,children:[g&&w.visualElement?v.jsx(g,{visualElement:w.visualElement,...y}):null,zD(t,f,$D(k,w.visualElement,m),k,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=te.forwardRef(l);return u[KD]=t,u}function WD({layoutId:t}){const e=te.useContext(Xy).id;return e&&t!==void 0?e+"-"+t:t}function ZD(t,e){te.useContext(RA).strict}function JD(t){const{drag:e,layout:n}=El;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function eM(t,e){if(typeof Proxy>"u")return gg;const n=new Map,s=(l,u)=>gg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,gg(u,void 0,t,e)),n.get(u))})}function qA({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function tM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yg(t){return t===void 0||t===1}function ry({scale:t,scaleX:e,scaleY:n}){return!yg(t)||!yg(e)||!yg(n)}function za(t){return ry(t)||FA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FA(t){return HT(t.x)||HT(t.y)}function HT(t){return t&&t!=="0%"}function Xd(t,e,n){const s=t-n,a=e*s;return n+a}function GT(t,e,n,s,a){return a!==void 0&&(t=Xd(t,a,s)),Xd(t,n,s)+e}function ay(t,e=0,n=1,s,a){t.min=GT(t.min,e,n,s,a),t.max=GT(t.max,e,n,s,a)}function HA(t,{x:e,y:n}){ay(t.x,e.translate,e.scale,e.originPoint),ay(t.y,n.translate,n.scale,n.originPoint)}const KT=.999999999999,$T=1.0000000000001;function iM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,HA(t,u)),s&&za(l.latestValues)&&fl(t,l.latestValues))}e.x<$T&&e.x>KT&&(e.x=1),e.y<$T&&e.y>KT&&(e.y=1)}function dl(t,e){t.min=t.min+e,t.max=t.max+e}function QT(t,e,n,s,a=.5){const l=Et(t.min,t.max,a);ay(t,e,n,l,s)}function fl(t,e){QT(t.x,e.x,e.scaleX,e.scale,e.originX),QT(t.y,e.y,e.scaleY,e.scale,e.originY)}function GA(t,e){return qA(nM(t.getBoundingClientRect(),e))}function sM(t,e,n){const s=GA(t,n),{scroll:a}=e;return a&&(dl(s.x,a.offset.x),dl(s.y,a.offset.y)),s}const YT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:YT(),y:YT()}),XT=()=>({min:0,max:0}),Wt=()=>({x:XT(),y:XT()}),oy={current:null},KA={current:!1};function rM(){if(KA.current=!0,!!Zy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oy.current=t.matches;t.addEventListener("change",e),e()}else oy.current=!1}const aM=new WeakMap;function oM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(bn(a))t.addValue(s,a);else if(bn(l))t.addValue(s,wl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,wl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const WT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lM{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=m0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Bn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,wt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Rf(n),this.isVariantNode=NA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const k=b[w];m[w]!==void 0&&bn(k)&&k.set(m[w])}}mount(e){this.current=e,aM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),KA.current||rM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&wt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in El){const n=El[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<WT.length;s++){const a=WT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=oM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=wl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(jE(s)||UE(s))?s=parseFloat(s):!gD(s)&&$r.test(n)&&(s=bA(e,n)),this.setBaseTarget(e,bn(s)?s.get():s)),bn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=A0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){y0.render(this.render)}}class $A extends lM{constructor(){super(...arguments),this.KeyframeResolver=sD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QA(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function cM(t){return window.getComputedStyle(t)}class uM extends $A{constructor(){super(...arguments),this.type="html",this.renderInstance=QA}readValueFromInstance(e,n){if(Ol.has(n))return this.projection?.isProjecting?Wg(n):wN(e,n);{const s=cM(e),a=(JE(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GA(e,n)}build(e,n,s){T0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return S0(e,n,s)}}const YA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hM(t,e,n,s){QA(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(YA.has(a)?a:C0(a),e.attrs[a])}class dM extends $A{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ol.has(n)){const s=xA(n);return s&&s.default||0}return n=YA.has(n)?n:C0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return LA(e,n,s)}build(e,n,s){PA(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){hM(e,n,s,a)}mount(e){this.isSVGTag=VA(e.tagName),super.mount(e)}}const fM=(t,e)=>E0(t)?new dM(e):new uM(e,{allowProjection:t!==te.Fragment});function pl(t,e,n){const s=t.getProps();return A0(s,e,n!==void 0?n:s.custom,t)}const ly=t=>Array.isArray(t);function mM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wl(n))}function pM(t){return ly(t)?t[t.length-1]||0:t}function gM(t,e){const n=pl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=pM(l[u]);mM(t,u,f)}}function yM(t){return!!(bn(t)&&t.add)}function cy(t,e){const n=t.getValue("willChange");if(yM(n))return n.add(e);if(!n&&Ys.WillChange){const s=new Ys.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function XA(t){return t.props[UA]}const vM=t=>t!==null;function _M(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(vM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const xM={type:"spring",stiffness:500,damping:25,restSpeed:10},bM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TM={type:"keyframes",duration:.8},wM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EM=(t,{keyframes:e})=>e.length>2?TM:Ol.has(t)?t.startsWith("scale")?bM(e[1]):xM:wM;function AM({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const k0=(t,e,n,s={},a,l)=>u=>{const f=p0(s,t)||{},m=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-ds(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};AM(f)||Object.assign(y,EM(t,y)),y.duration&&(y.duration=ds(y.duration)),y.repeatDelay&&(y.repeatDelay=ds(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ny(y),y.delay===0&&(b=!0)),(Ys.instantAnimations||Ys.skipAnimations)&&(b=!0,ny(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const w=_M(y.keyframes,f);if(w!==void 0){wt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return f.isSync?new f0(y):new KN(y)};function SM({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function WA(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const b=t.getValue(y,t.latestValues[y]??null),w=f[y];if(w===void 0||g&&SM(g,y))continue;const k={delay:n,...p0(l||{},y)},D=b.get();if(D!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===D&&!k.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const F=XA(t);if(F){const ee=window.MotionHandoffAnimation(F,y,wt);ee!==null&&(k.startTime=ee,O=!0)}}cy(t,y),b.start(k0(y,b,w,t.shouldReduceMotion&&yA.has(y)?{type:!1}:k,t,O));const M=b.animation;M&&m.push(M)}return u&&Promise.all(m).then(()=>{wt.update(()=>{u&&gM(t,u)})}),m}function ZA(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,y)=>g.sortNodePosition(y)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}function uy(t,e,n={}){const s=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(WA(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=a;return CM(t,e,m,g,y,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function CM(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(uy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+ZA(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function kM(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>uy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=uy(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;s=Promise.all(WA(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function JA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const RM=b0.length;function eS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?eS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RM;n++){const s=b0[n],a=t.props[s];(_u(a)||a===!1)&&(e[s]=a)}return e}const IM=[...x0].reverse(),NM=x0.length;function DM(t){return e=>Promise.all(e.map(({animation:n,options:s})=>kM(t,n,s)))}function MM(t){let e=DM(t),n=ZT(),s=!0;const a=m=>(g,y)=>{const b=pl(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:k,...D}=b;g={...g,...D,...k}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,y=eS(t.parent)||{},b=[],w=new Set;let k={},D=1/0;for(let M=0;M<NM;M++){const F=IM[M],ee=n[F],Y=g[F]!==void 0?g[F]:y[F],ue=_u(Y),he=F===m?ee.isActive:null;he===!1&&(D=M);let de=Y===y[F]&&Y!==g[F]&&ue;if(de&&s&&t.manuallyAnimateOnMount&&(de=!1),ee.protectedKeys={...k},!ee.isActive&&he===null||!Y&&!ee.prevProp||kf(Y)||typeof Y=="boolean")continue;const R=PM(ee.prevProp,Y);let C=R||F===m&&ee.isActive&&!de&&ue||M>D&&ue,N=!1;const j=Array.isArray(Y)?Y:[Y];let I=j.reduce(a(F),{});he===!1&&(I={});const{prevResolvedValues:z={}}=ee,P={...z,...I},Se=H=>{C=!0,w.has(H)&&(N=!0,w.delete(H)),ee.needsAnimating[H]=!0;const ae=t.getValue(H);ae&&(ae.liveStyle=!1)};for(const H in P){const ae=I[H],ce=z[H];if(k.hasOwnProperty(H))continue;let U=!1;ly(ae)&&ly(ce)?U=!JA(ae,ce):U=ae!==ce,U?ae!=null?Se(H):w.add(H):ae!==void 0&&w.has(H)?Se(H):ee.protectedKeys[H]=!0}ee.prevProp=Y,ee.prevResolvedValues=I,ee.isActive&&(k={...k,...I}),s&&t.blockInitialAnimation&&(C=!1);const Ge=de&&R;C&&(!Ge||N)&&b.push(...j.map(H=>{const ae={type:F};if(typeof H=="string"&&s&&!Ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,U=pl(ce,H);if(ce.enteringChildren&&U){const{delayChildren:E}=U.transition||{};ae.delay=ZA(ce.enteringChildren,t,E)}}return{animation:H,options:ae}}))}if(w.size){const M={};if(typeof g.initial!="boolean"){const F=pl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(M.transition=F.transition)}w.forEach(F=>{const ee=t.getBaseTarget(F),Y=t.getValue(F);Y&&(Y.liveStyle=!0),M[F]=ee??null}),b.push({animation:M})}let O=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(b):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),n[m].isActive=g;const y=u(m);for(const b in n)n[b].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ZT()}}}function PM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JA(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZT(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}class OM extends ea{constructor(e){super(e),e.animationState||(e.animationState=MM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VM=0;class jM extends ea{constructor(){super(...arguments),this.id=VM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const LM={animation:{Feature:OM},exit:{Feature:jM}};function xu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ou(t){return{point:{x:t.pageX,y:t.pageY}}}const UM=t=>e=>v0(e)&&t(e,Ou(e));function au(t,e,n,s){return xu(t,e,UM(n),s)}const tS=1e-4,BM=1-tS,zM=1+tS,nS=.01,qM=0-nS,FM=0+nS;function Cn(t){return t.max-t.min}function HM(t,e,n){return Math.abs(t-e)<=n}function JT(t,e,n,s=.5){t.origin=s,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Cn(n)/Cn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BM&&t.scale<=zM||isNaN(t.scale))&&(t.scale=1),(t.translate>=qM&&t.translate<=FM||isNaN(t.translate))&&(t.translate=0)}function ou(t,e,n,s){JT(t.x,e.x,n.x,s?s.originX:void 0),JT(t.y,e.y,n.y,s?s.originY:void 0)}function ew(t,e,n){t.min=n.min+e.min,t.max=t.min+Cn(e)}function GM(t,e,n){ew(t.x,e.x,n.x),ew(t.y,e.y,n.y)}function tw(t,e,n){t.min=e.min-n.min,t.max=t.min+Cn(e)}function Wd(t,e,n){tw(t.x,e.x,n.x),tw(t.y,e.y,n.y)}function pi(t){return[t("x"),t("y")]}const iS=({current:t})=>t?t.ownerDocument.defaultView:null,nw=(t,e)=>Math.abs(t-e);function KM(t,e){const n=nw(t.x,e.x),s=nw(t.y,e.y);return Math.sqrt(n**2+s**2)}class sS{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_g(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,D=KM(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!D)return;const{point:O}=w,{timestamp:M}=dn;this.history.push({...O,timestamp:M});const{onStart:F,onMove:ee}=this.handlers;k||(F&&F(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),ee&&ee(this.lastMoveEvent,w)},this.handlePointerMove=(w,k)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=vg(k,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(w,k)=>{this.end();const{onEnd:D,onSessionEnd:O,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=_g(w.type==="pointercancel"?this.lastMoveEventInfo:vg(k,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,F),O&&O(w,F)},!v0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const f=Ou(e),m=vg(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=dn;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=n;b&&b(e,_g(m,this.history)),this.removeListeners=Du(au(this.contextWindow,"pointermove",this.handlePointerMove),au(this.contextWindow,"pointerup",this.handlePointerUp),au(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function vg(t,e){return e?{point:e(t.point)}:t}function iw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _g({point:t},e){return{point:t,delta:iw(t,rS(e)),offset:iw(t,$M(e)),velocity:QM(e,.1)}}function $M(t){return t[0]}function rS(t){return t[t.length-1]}function QM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=rS(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ds(e)));)n--;if(!s)return{x:0,y:0};const l=yi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function YM(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Et(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Et(n,t,s.max):Math.min(t,n)),t}function sw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XM(t,{top:e,left:n,bottom:s,right:a}){return{x:sw(t.x,n,a),y:sw(t.y,e,s)}}function rw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function WM(t,e){return{x:rw(t.x,e.x),y:rw(t.y,e.y)}}function ZM(t,e){let n=.5;const s=Cn(t),a=Cn(e);return a>s?n=gu(e.min,e.max-s,t.min):s>a&&(n=gu(t.min,t.max-a,e.min)),Qs(0,1,n)}function JM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hy=.35;function eP(t=hy){return t===!1?t=0:t===!0&&(t=hy),{x:aw(t,"left","right"),y:aw(t,"top","bottom")}}function aw(t,e,n){return{min:ow(t,e),max:ow(t,n)}}function ow(t,e){return typeof t=="number"?t:t[e]||0}const tP=new WeakMap;class nP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ou(b).point)},u=(b,w)=>{const{drag:k,dragPropagation:D,onDragStart:O}=this.getProps();if(k&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lD(k),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi(F=>{let ee=this.getAxisMotionValue(F).get()||0;if(fs.test(ee)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const ue=Y.layout.layoutBox[F];ue&&(ee=Cn(ue)*(parseFloat(ee)/100))}}this.originPoint[F]=ee}),O&&wt.postRender(()=>O(b,w)),cy(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:k,dragDirectionLock:D,onDirectionLock:O,onDrag:M}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:F}=w;if(D&&this.currentDirection===null){this.currentDirection=iP(F),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,F),this.updateAxis("y",w.point,F),this.visualElement.render(),M&&M(b,w)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>pi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new sS(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:iS(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&wt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Td(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=YM(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&hl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=XM(s.layoutBox,e):this.constraints=!1,this.elastic=eP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=JM(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=sM(s,a.root,this.visualElement.getTransformPagePoint());let u=WM(a.layout.layoutBox,l);if(n){const f=n(tM(u));this.hasMutatedConstraints=!!f,f&&(u=qA(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=pi(y=>{if(!Td(y,n,this.currentDirection))return;let b=m&&m[y]||{};u&&(b={min:0,max:0});const w=a?200:1e6,k=a?40:1e7,D={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(y,D)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return cy(this.visualElement,e),s.start(k0(e,s,0,n,this.visualElement,!1))}stopAnimation(){pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){pi(n=>{const{drag:s}=this.getProps();if(!Td(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Et(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!hl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=ZM({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),pi(u=>{if(!Td(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(Et(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;tP.set(this.visualElement,this);const e=this.visualElement.current,n=au(e,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();hl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wt.read(s);const u=xu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(pi(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=hy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Td(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sP extends ea{constructor(e){super(e),this.removeGroupControls=vi,this.removeListeners=vi,this.controls=new nP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const lw=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class rP extends ea{constructor(){super(...arguments),this.removePointerDownListener=vi}onPointerDown(e){this.session=new sS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:lw(e),onStart:lw(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&wt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=au(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let xg=!1;class aP extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),xg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,xg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||wt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aS(t){const[e,n]=kA(),s=te.useContext(Xy);return v.jsx(aP,{...t,layoutGroup:s,switchLayoutGroup:te.useContext(BA),isPresent:e,safeToRemove:n})}function oP(t,e,n){const s=bn(t)?t:wl(t);return s.start(k0("",s,e,n)),s.animation}const lP=(t,e)=>t.depth-e.depth;class cP{constructor(){this.children=[],this.isDirty=!1}add(e){Jy(this.children,e),this.isDirty=!0}remove(e){e0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lP),this.isDirty=!1,this.children.forEach(e)}}function uP(t,e){const n=Bn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Kr(s),t(l-e))};return wt.setup(s,!0),()=>Kr(s)}const oS=["TopLeft","TopRight","BottomLeft","BottomRight"],hP=oS.length,cw=t=>typeof t=="string"?parseFloat(t):t,uw=t=>typeof t=="number"||Re.test(t);function dP(t,e,n,s,a,l){a?(t.opacity=Et(0,n.opacity??1,fP(s)),t.opacityExit=Et(e.opacity??1,0,mP(s))):l&&(t.opacity=Et(e.opacity??1,n.opacity??1,s));for(let u=0;u<hP;u++){const f=`border${oS[u]}Radius`;let m=hw(e,f),g=hw(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||uw(m)===uw(g)?(t[f]=Math.max(Et(cw(m),cw(g),s),0),(fs.test(g)||fs.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,s))}function hw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fP=lS(0,.5,$E),mP=lS(.5,.95,vi);function lS(t,e,n){return s=>s<t?0:s>e?1:n(gu(t,e,s))}function dw(t,e){t.min=e.min,t.max=e.max}function Pi(t,e){dw(t.x,e.x),dw(t.y,e.y)}function fw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mw(t,e,n,s,a){return t-=e,t=Xd(t,1/n,s),a!==void 0&&(t=Xd(t,1/a,s)),t}function pP(t,e=0,n=1,s=.5,a,l=t,u=t){if(fs.test(e)&&(e=parseFloat(e),e=Et(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Et(l.min,l.max,s);t===l&&(f-=e),t.min=mw(t.min,e,n,f,a),t.max=mw(t.max,e,n,f,a)}function pw(t,e,[n,s,a],l,u){pP(t,e[n],e[s],e[a],e.scale,l,u)}const gP=["x","scaleX","originX"],yP=["y","scaleY","originY"];function gw(t,e,n,s){pw(t.x,e,gP,n?n.x:void 0,s?s.x:void 0),pw(t.y,e,yP,n?n.y:void 0,s?s.y:void 0)}function yw(t){return t.translate===0&&t.scale===1}function cS(t){return yw(t.x)&&yw(t.y)}function vw(t,e){return t.min===e.min&&t.max===e.max}function vP(t,e){return vw(t.x,e.x)&&vw(t.y,e.y)}function _w(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uS(t,e){return _w(t.x,e.x)&&_w(t.y,e.y)}function xw(t){return Cn(t.x)/Cn(t.y)}function bw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _P{constructor(){this.members=[]}add(e){Jy(this.members,e),e.scheduleRender()}remove(e){if(e0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xP(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:w,skewX:k,skewY:D}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),b&&(s+=`rotateX(${b}deg) `),w&&(s+=`rotateY(${w}deg) `),k&&(s+=`skewX(${k}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const bg=["","X","Y","Z"],bP=1e3;let TP=0;function Tg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function hS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&hS(s)}function dS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=TP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AP),this.nodes.forEach(RP),this.nodes.forEach(IP),this.nodes.forEach(SP)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new cP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new i0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=CA(u)&&!mD(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,b=0;const w=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{b=window.innerWidth}),t(u,()=>{const k=window.innerWidth;k!==b&&(b=k,this.root.updateBlockedByResize=!0,y&&y(),y=uP(w,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(Ew)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||OP,{onLayoutAnimationStart:O,onLayoutAnimationComplete:M}=g.getProps(),F=!this.targetLayout||!uS(this.targetLayout,k),ee=!b&&w;if(this.options.layoutRoot||this.resumeFrom||ee||b&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...p0(D,"layout"),onPlay:O,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,ee)}else b||Ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ww);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kP),this.nodes.forEach(wP),this.nodes.forEach(EP)):this.nodes.forEach(ww),this.clearAllSnapshots();const f=Bn.now();dn.delta=Qs(0,1e3/60,f-dn.timestamp),dn.timestamp=f,dn.isProcessing=!0,ug.update.process(dn),ug.preRender.process(dn),ug.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CP),this.sharedNodes.forEach(DP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!cS(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||za(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),VP(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Wt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(jP))){const{scroll:g}=this.root;g&&(dl(f.x,g.offset.x),dl(f.y,g.offset.y))}return f}removeElementScroll(u){const f=Wt();if(Pi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&Pi(f,u),dl(f.x,y.offset.x),dl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Wt();Pi(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&fl(m,y.latestValues)}return za(this.latestValues)&&fl(m,this.latestValues),m}removeTransform(u){const f=Wt();Pi(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!za(g.latestValues))continue;ry(g.latestValues)&&g.updateSnapshot();const y=Wt(),b=g.measurePageBox();Pi(y,b),gw(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&gw(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!this.layout||!(y||b))return;this.resolvedRelativeTargetAt=dn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),HA(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||FA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Wd(this.relativeTargetOrigin,f,m),Pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Pi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;iM(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Wt());const{target:k}=u;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fw(this.prevProjectionDelta.x,this.projectionDelta.x),fw(this.prevProjectionDelta.y,this.projectionDelta.y)),ou(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!bw(this.projectionDelta.x,this.prevProjectionDelta.x)||!bw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},b=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Wt(),k=m?m.source:void 0,D=this.layout?this.layout.source:void 0,O=k!==D,M=this.getStack(),F=!M||M.members.length<=1,ee=!!(O&&!F&&this.options.crossfade===!0&&!this.path.some(PP));this.animationProgress=0;let Y;this.mixTargetDelta=ue=>{const he=ue/1e3;Aw(b.x,u.x,he),Aw(b.y,u.y,he),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MP(this.relativeTarget,this.relativeTargetOrigin,w,he),Y&&vP(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Wt()),Pi(Y,this.relativeTarget)),O&&(this.animationValues=y,dP(y,g,this.latestValues,he,ee,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=he},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wl(0)),this.currentAnimation=oP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&fS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Wt();const b=Cn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const w=Cn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}Pi(f,m),fl(f,y),ou(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new _P),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Tg("z",u,g,this.animationValues);for(let y=0;y<bg.length;y++)Tg(`rotate${bg[y]}`,u,g,this.animationValues),Tg(`skew${bg[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Md(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Md(f?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=xP(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),u.transform=b;const{x:w,y:k}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in sy){if(y[D]===void 0)continue;const{correct:O,applyTo:M,isCSSVariable:F}=sy[D],ee=b==="none"?y[D]:O(y[D],g);if(M){const Y=M.length;for(let ue=0;ue<Y;ue++)u[M[ue]]=ee}else F?this.options.visualElement.renderState.vars[D]=ee:u[D]=ee}this.options.layoutId&&(u.pointerEvents=g===this?Md(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Tw),this.root.sharedNodes.clear()}}}function wP(t){t.updateLayout()}function EP(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?pi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],w=Cn(b);b.min=n[y].min,b.max=b.min+w}):fS(a,e.layoutBox,n)&&pi(y=>{const b=l?e.measuredBox[y]:e.layoutBox[y],w=Cn(n[y]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+w)});const u=ml();ou(u,n,e.layoutBox);const f=ml();l?ou(f,t.applyTransform(s,!0),e.measuredBox):ou(f,n,e.layoutBox);const m=!cS(u);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:w}=y;if(b&&w){const k=Wt();Wd(k,e.layoutBox,b.layoutBox);const D=Wt();Wd(D,n,w.layoutBox),uS(k,D)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=k,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function AP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CP(t){t.clearSnapshot()}function Tw(t){t.clearMeasurements()}function ww(t){t.isLayoutDirty=!1}function kP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ew(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RP(t){t.resolveTargetDelta()}function IP(t){t.calcProjection()}function NP(t){t.resetSkewAndRotation()}function DP(t){t.removeLeadSnapshot()}function Aw(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Sw(t,e,n,s){t.min=Et(e.min,n.min,s),t.max=Et(e.max,n.max,s)}function MP(t,e,n,s){Sw(t.x,e.x,n.x,s),Sw(t.y,e.y,n.y,s)}function PP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const OP={duration:.45,ease:[.4,0,.1,1]},Cw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kw=Cw("applewebkit/")&&!Cw("chrome/")?Math.round:vi;function Rw(t){t.min=kw(t.min),t.max=kw(t.max)}function VP(t){Rw(t.x),Rw(t.y)}function fS(t,e,n){return t==="position"||t==="preserve-aspect"&&!HM(xw(e),xw(n),.2)}function jP(t){return t!==t.root&&t.scroll?.wasRoot}const LP=dS({attachResizeListener:(t,e)=>xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wg={current:void 0},mS=dS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wg.current){const t=new LP({});t.mount(window),t.setOptions({layoutScroll:!0}),wg.current=t}return wg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UP={pan:{Feature:rP},drag:{Feature:sP,ProjectionNode:mS,MeasureLayout:aS}};function Iw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&wt.postRender(()=>l(e,Ou(e)))}class BP extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=cD(e,(n,s)=>(Iw(this.node,s,"Start"),a=>Iw(this.node,a,"End"))))}unmount(){}}class zP extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(xu(this.node.current,"focus",()=>this.onFocus()),xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&wt.postRender(()=>l(e,Ou(e)))}class qP extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=fD(e,(n,s)=>(Nw(this.node,s,"Start"),(a,{success:l})=>Nw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,Eg=new WeakMap,FP=t=>{const e=dy.get(t.target);e&&e(t)},HP=t=>{t.forEach(FP)};function GP({root:t,...e}){const n=t||document;Eg.has(n)||Eg.set(n,{});const s=Eg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(HP,{root:t,...e})),s[a]}function KP(t,e,n){const s=GP(e);return dy.set(t,n),s.observe(t),()=>{dy.delete(t),s.unobserve(t)}}const $P={some:0,all:1};class QP extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:$P[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),w=g?y:b;w&&w(m)};return KP(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YP(e,n))&&this.startObserver()}unmount(){}}function YP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XP={inView:{Feature:QP},tap:{Feature:qP},focus:{Feature:zP},hover:{Feature:BP}},WP={layout:{ProjectionNode:mS,MeasureLayout:aS}},ZP={...LM,...XP,...UP,...WP},Qe=eM(ZP,fM);const JP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Dw=t=>{const e=eO(t);return e.charAt(0).toUpperCase()+e.slice(1)},pS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),tO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iO=te.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>te.createElement("svg",{ref:m,...nO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:pS("lucide",a),...!l&&!tO(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,y])=>te.createElement(g,y)),...Array.isArray(l)?l:[l]]));const je=(t,e)=>{const n=te.forwardRef(({className:s,...a},l)=>te.createElement(iO,{ref:l,iconNode:e,className:pS(`lucide-${JP(Dw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Dw(t),n};const sO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zd=je("arrow-left",sO);const rO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fa=je("arrow-right",rO);const aO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],fy=je("book-open",aO);const oO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lO=je("calendar",oO);const cO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uO=je("circle-alert",cO);const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mw=je("circle-check",hO);const dO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fO=je("circle-question-mark",dO);const mO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Pw=je("circle-x",mO);const pO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ow=je("eye",pO);const gO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],my=je("file-text",gO);const yO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],vO=je("grid-3x3",yO);const _O=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],xO=je("hard-drive",_O);const bO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],TO=je("image",bO);const wO=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],EO=je("key-round",wO);const AO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],SO=je("lock-open",AO);const CO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kO=je("lock",CO);const RO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vw=je("log-out",RO);const IO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],NO=je("mail",IO);const DO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MO=je("menu",DO);const PO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gl=je("message-circle",PO);const OO=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Od=je("notebook-pen",OO);const VO=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],jO=je("paperclip",VO);const LO=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Jd=je("pen-tool",LO);const UO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],BO=je("pen",UO);const zO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ef=je("play",zO);const qO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],py=je("plus",qO);const FO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],HO=je("rotate-ccw",FO);const GO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gS=je("save",GO);const KO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jw=je("search",KO);const $O=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],QO=je("send",$O);const YO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XO=je("settings",YO);const WO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ZO=je("share-2",WO);const JO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Al=je("trash-2",JO);const e4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yS=je("trophy",e4);const t4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lw=je("upload",t4);const n4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vu=je("user",n4);const i4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],s4=je("users",i4);const r4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],R0=je("x",r4);const a4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],o4=je("zap",a4),l4=()=>{};var Uw={};const vS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},c4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},_S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,y=l>>2,b=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,k=g&63;m||(k=64,u||(w=64)),s.push(n[y],n[b],n[w],n[k])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new u4;const w=l<<2|f>>4;if(s.push(w),g!==64){const k=f<<4&240|g>>2;if(s.push(k),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h4=function(t){const e=vS(t);return _S.encodeByteArray(e,!0)},tf=function(t){return h4(t).replace(/\./g,"")},xS=function(t){try{return _S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const f4=()=>d4().__FIREBASE_DEFAULTS__,m4=()=>{if(typeof process>"u"||typeof Uw>"u")return;const t=Uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xS(t[1]);return e&&JSON.parse(e)},If=()=>{try{return l4()||f4()||m4()||p4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bS=t=>If()?.emulatorHosts?.[t],TS=t=>{const e=bS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},wS=()=>If()?.config,ES=t=>If()?.[`_${t}`];class g4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I0(t){return(await fetch(t,{credentials:"include"})).ok}function AS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tf(JSON.stringify(n)),tf(JSON.stringify(u)),""].join(".")}const lu={};function y4(){const t={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?t.emulator.push(e):t.prod.push(e);return t}function v4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Bw=!1;function N0(t,e){if(typeof window>"u"||typeof document>"u"||!ta(window.location.host)||lu[t]===e||lu[t]||Bw)return;lu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=y4().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Bw=!0,u()},w}function y(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=v4(s),k=n("text"),D=document.getElementById(k)||document.createElement("span"),O=n("learnmore"),M=document.getElementById(O)||document.createElement("a"),F=n("preprendIcon"),ee=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Y=w.element;f(Y),y(M,O);const ue=g();m(ee,F),Y.append(ee,D,M,ue),document.body.appendChild(Y)}l?(D.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function x4(){const t=If()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w4(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E4(){return!x4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function A4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const S4="FirebaseError";class Ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=S4,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?C4(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ti(a,f,s)}}function C4(t,e){return t.replace(k4,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const k4=/\{\$([^}]+)}/g;function R4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(zw(l)&&zw(u)){if(!Xs(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function zw(t){return t!==null&&typeof t=="object"}function ju(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Zc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function I4(t,e){const n=new N4(t,e);return n.subscribe.bind(n)}class N4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");D4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ag),a.error===void 0&&(a.error=Ag),a.complete===void 0&&(a.complete=Ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}const M4=1e3,P4=2,O4=14400*1e3,V4=.5;function qw(t,e=M4,n=P4){const s=e*Math.pow(n,t),a=Math.round(V4*s*(Math.random()-.5)*2);return Math.min(O4,s+a)}function dt(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class j4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new g4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U4(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L4(t){return t===qa?void 0:t}function U4(t){return t.instantiationMode==="EAGER"}class B4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const z4={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},q4=qe.INFO,F4={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},H4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=F4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nf{constructor(e){this.name=e,this._logLevel=q4,this._logHandler=H4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const G4=(t,e)=>e.some(n=>t instanceof n);let Fw,Hw;function K4(){return Fw||(Fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $4(){return Hw||(Hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RS=new WeakMap,gy=new WeakMap,IS=new WeakMap,Sg=new WeakMap,D0=new WeakMap;function Q4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(qr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&RS.set(n,t)}).catch(()=>{}),D0.set(e,t),e}function Y4(t){if(gy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});gy.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X4(t){yy=t(yy)}function W4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Cg(this),e,...n);return IS.set(s,e.sort?e.sort():[e]),qr(s)}:$4().includes(t)?function(...e){return t.apply(Cg(this),e),qr(RS.get(this))}:function(...e){return qr(t.apply(Cg(this),e))}}function Z4(t){return typeof t=="function"?W4(t):(t instanceof IDBTransaction&&Y4(t),G4(t,K4())?new Proxy(t,yy):t)}function qr(t){if(t instanceof IDBRequest)return Q4(t);if(Sg.has(t))return Sg.get(t);const e=Z4(t);return e!==t&&(Sg.set(t,e),D0.set(e,t)),e}const Cg=t=>D0.get(t);function NS(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=qr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(qr(u.result),m.oldVersion,m.newVersion,qr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const J4=["get","getKey","getAll","getAllKeys","count"],eV=["put","add","delete","clear"],kg=new Map;function Gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=eV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||J4.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return kg.set(e,l),l}X4(t=>({...t,get:(e,n,s)=>Gw(e,n)||t.get(e,n,s),has:(e,n)=>!!Gw(e,n)||t.has(e,n)}));class tV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nV(t){return t.getComponent()?.type==="VERSION"}const vy="@firebase/app",Kw="0.14.6";const Ws=new Nf("@firebase/app"),iV="@firebase/app-compat",sV="@firebase/analytics-compat",rV="@firebase/analytics",aV="@firebase/app-check-compat",oV="@firebase/app-check",lV="@firebase/auth",cV="@firebase/auth-compat",uV="@firebase/database",hV="@firebase/data-connect",dV="@firebase/database-compat",fV="@firebase/functions",mV="@firebase/functions-compat",pV="@firebase/installations",gV="@firebase/installations-compat",yV="@firebase/messaging",vV="@firebase/messaging-compat",_V="@firebase/performance",xV="@firebase/performance-compat",bV="@firebase/remote-config",TV="@firebase/remote-config-compat",wV="@firebase/storage",EV="@firebase/storage-compat",AV="@firebase/firestore",SV="@firebase/ai",CV="@firebase/firestore-compat",kV="firebase",RV="12.6.0";const _y="[DEFAULT]",IV={[vy]:"fire-core",[iV]:"fire-core-compat",[rV]:"fire-analytics",[sV]:"fire-analytics-compat",[oV]:"fire-app-check",[aV]:"fire-app-check-compat",[lV]:"fire-auth",[cV]:"fire-auth-compat",[uV]:"fire-rtdb",[hV]:"fire-data-connect",[dV]:"fire-rtdb-compat",[fV]:"fire-fn",[mV]:"fire-fn-compat",[pV]:"fire-iid",[gV]:"fire-iid-compat",[yV]:"fire-fcm",[vV]:"fire-fcm-compat",[_V]:"fire-perf",[xV]:"fire-perf-compat",[bV]:"fire-rc",[TV]:"fire-rc-compat",[wV]:"fire-gcs",[EV]:"fire-gcs-compat",[AV]:"fire-fst",[CV]:"fire-fst-compat",[SV]:"fire-vertex","fire-js":"fire-js",[kV]:"fire-js-all"};const nf=new Map,NV=new Map,xy=new Map;function $w(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Li(t){const e=t.name;if(xy.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of nf.values())$w(n,t);for(const n of NV.values())$w(n,t);return!0}function na(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}const DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new oo("app","Firebase",DV);class MV{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const lo=RV;function DS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:_y,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Fr.create("bad-app-name",{appName:String(a)});if(n||(n=wS()),!n)throw Fr.create("no-options");const l=nf.get(a);if(l){if(Xs(n,l.options)&&Xs(s,l.config))return l;throw Fr.create("duplicate-app",{appName:a})}const u=new B4(a);for(const m of xy.values())u.addComponent(m);const f=new MV(n,s,u);return nf.set(a,f),f}function Df(t=_y){const e=nf.get(t);if(!e&&t===_y&&wS())return DS();if(!e)throw Fr.create("no-app",{appName:t});return e}function zn(t,e,n){let s=IV[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(u.join(" "));return}Li(new xi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const PV="firebase-heartbeat-database",OV=1,bu="firebase-heartbeat-store";let Rg=null;function MS(){return Rg||(Rg=NS(PV,OV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function VV(t){try{const n=(await MS()).transaction(bu),s=await n.objectStore(bu).get(PS(t));return await n.done,s}catch(e){if(e instanceof Ti)Ws.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(n.message)}}}async function Qw(t,e){try{const s=(await MS()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,PS(t)),await s.done}catch(n){if(n instanceof Ti)Ws.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n?.message});Ws.warn(s.message)}}}function PS(t){return`${t.name}!${t.options.appId}`}const jV=1024,LV=30;class UV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>LV){const a=qV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yw(),{heartbeatsToSend:n,unsentEntries:s}=BV(this._heartbeatsCache.heartbeats),a=tf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ws.warn(e),""}}}function Yw(){return new Date().toISOString().substring(0,10)}function BV(t,e=jV){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Xw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class zV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Xw(t){return tf(JSON.stringify({version:2,heartbeats:t})).length}function qV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function FV(t){Li(new xi("platform-logger",e=>new tV(e),"PRIVATE")),Li(new xi("heartbeat",e=>new UV(e),"PRIVATE")),zn(vy,Kw,t),zn(vy,Kw,"esm2020"),zn("fire-js","")}FV("");var HV="firebase",GV="12.7.0";zn(HV,GV,"app");function OS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KV=OS,VS=new oo("auth","Firebase",OS());const sf=new Nf("@firebase/auth");function $V(t,...e){sf.logLevel<=qe.WARN&&sf.warn(`Auth (${lo}): ${t}`,...e)}function Vd(t,...e){sf.logLevel<=qe.ERROR&&sf.error(`Auth (${lo}): ${t}`,...e)}function bi(t,...e){throw P0(t,...e)}function ji(t,...e){return P0(t,...e)}function M0(t,e,n){const s={...KV(),[e]:n};return new oo("auth","Firebase",s).create(e,{appName:t.name})}function Gs(t){return M0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QV(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&bi(t,"argument-error"),M0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return VS.create(t,...e)}function Ce(t,e,...n){if(!t)throw P0(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function Zs(t,e){t||qs(e)}function by(){return typeof self<"u"&&self.location?.href||""}function YV(){return Ww()==="http:"||Ww()==="https:"}function Ww(){return typeof self<"u"&&self.location?.protocol||null}function XV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YV()||SS()||"connection"in navigator)?navigator.onLine:!0}function WV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zs(n>e,"Short delay should be less than long delay!"),this.isMobile=_4()||T4()}get(){return XV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O0(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class jS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e3=new Lu(3e4,6e4);function ia(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sa(t,e,n,s,a={}){return LS(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=ju({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return b4()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ta(t.emulatorConfig.host)&&(g.credentials="include"),jS.fetch()(await US(t,t.config.apiHost,n,f),g)})}async function LS(t,e,n){t._canInitEmulator=!1;const s={...ZV,...e};try{const a=new n3(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw wd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw wd(t,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw M0(t,y,g);bi(t,y)}}catch(a){if(a instanceof Ti)throw a;bi(t,"network-request-failed",{message:String(a)})}}async function Uu(t,e,n,s,a={}){const l=await sa(t,e,n,s,a);return"mfaPendingCredential"in l&&bi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function US(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?O0(t.config,a):`${t.config.apiScheme}://${a}`;return JV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function t3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),e3.get())})}}function wd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ji(t,e,s);return a.customData._tokenResponse=n,a}function Zw(t){return t!==void 0&&t.enterprise!==void 0}class i3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s3(t,e){return sa(t,"GET","/v2/recaptchaConfig",ia(t,e))}async function r3(t,e){return sa(t,"POST","/v1/accounts:delete",e)}async function rf(t,e){return sa(t,"POST","/v1/accounts:lookup",e)}function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a3(t,e=!1){const n=dt(t),s=await n.getIdToken(e),a=V0(s);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:cu(Ig(a.auth_time)),issuedAtTime:cu(Ig(a.iat)),expirationTime:cu(Ig(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ig(t){return Number(t)*1e3}function V0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=xS(n);return a?JSON.parse(a):(Vd("Failed to decode base64 JWT payload"),null)}catch(a){return Vd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Jw(t){const e=V0(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Tu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ti&&o3(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function o3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class l3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ty{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function af(t){const e=t.auth,n=await t.getIdToken(),s=await Tu(t,rf(e,{idToken:n}));Ce(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?BS(a.providerUserInfo):[],u=u3(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ty(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function c3(t){const e=dt(t);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u3(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function BS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function h3(t,e){const n=await LS(t,{},async()=>{const s=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await US(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&ta(t.emulatorConfig.host)&&(m.credentials="include"),jS.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d3(t,e){return sa(t,"POST","/v2/accounts:revokeToken",ia(t,e))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await h3(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new yl;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ce(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return qs("not implemented")}}function Or(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new l3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ty(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return a3(this,e)}reload(){return c3(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await Tu(this,r3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:k,providerData:D,stsTokenManager:O}=n;Ce(b&&O,e,"internal-error");const M=yl.fromJSON(this.name,O);Ce(typeof b=="string",e,"internal-error"),Or(s,e.name),Or(a,e.name),Ce(typeof w=="boolean",e,"internal-error"),Ce(typeof k=="boolean",e,"internal-error"),Or(l,e.name),Or(u,e.name),Or(f,e.name),Or(m,e.name),Or(g,e.name),Or(y,e.name);const F=new Vi({uid:b,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:M,createdAt:g,lastLoginAt:y});return D&&Array.isArray(D)&&(F.providerData=D.map(ee=>({...ee}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,n,s=!1){const a=new yl;a.updateFromServerResponse(n);const l=new Vi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await af(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?BS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new yl;f.updateFromIdToken(s);const m=new Vi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ty(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const e1=new Map;function Fs(t){Zs(t instanceof Function,"Expected a class definition");let e=e1.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e1.set(t,e),e)}class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zS.type="NONE";const t1=zS;function jd(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=jd(this.userKey,a.apiKey,l),this.fullPersistenceKey=jd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rf(this.auth,{idToken:e}).catch(()=>{});return n?Vi._fromGetAccountInfoResponse(this.auth,n,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vl(Fs(t1),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Fs(t1);const u=jd(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const y=await g._get(u);if(y){let b;if(typeof y=="string"){const w=await rf(e,{idToken:y}).catch(()=>{});if(!w)break;b=await Vi._fromGetAccountInfoResponse(e,w,y)}else b=Vi._fromJSON(e,y);g!==l&&(f=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new vl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new vl(l,e,s))}}function n1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(QS(e))return"Webos";if(FS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(KS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function qS(t=Tn()){return/firefox\//i.test(t)}function FS(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=Tn()){return/crios\//i.test(t)}function GS(t=Tn()){return/iemobile/i.test(t)}function KS(t=Tn()){return/android/i.test(t)}function $S(t=Tn()){return/blackberry/i.test(t)}function QS(t=Tn()){return/webos/i.test(t)}function j0(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f3(t=Tn()){return j0(t)&&!!window.navigator?.standalone}function m3(){return w4()&&document.documentMode===10}function YS(t=Tn()){return j0(t)||KS(t)||QS(t)||$S(t)||/windows phone/i.test(t)||GS(t)}function XS(t,e=[]){let n;switch(t){case"Browser":n=n1(Tn());break;case"Worker":n=`${n1(Tn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${s}`}class p3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function g3(t,e={}){return sa(t,"GET","/v2/passwordPolicy",ia(t,e))}const y3=6;class v3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??y3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class _3{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i1(this),this.idTokenSubscription=new i1(this),this.beforeStateQueue=new p3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rf(this,{idToken:e}),s=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Gs(this));const n=e?dt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g3(this),n=new v3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await d3(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fs(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$V(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(t){return dt(t)}class i1{constructor(e){this.auth=e,this.observer=null,this.addObserver=I4(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x3(t){Mf=t}function WS(t){return Mf.loadJS(t)}function b3(){return Mf.recaptchaEnterpriseScript}function T3(){return Mf.gapiScript}function w3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class E3{constructor(){this.enterprise=new A3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const S3="recaptcha-enterprise",ZS="NO_RECAPTCHA";class C3{constructor(e){this.type=S3,this.auth=ra(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{s3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new i3(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;Zw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(ZS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&Zw(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=b3();m.length!==0&&(m+=f),WS(m).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function s1(t,e,n,s=!1,a=!1){const l=new C3(t);let u;if(a)u=ZS;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function wy(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await s1(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await s1(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function k3(t,e){const n=na(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Xs(l,e??{}))return a;bi(a,"already-initialized")}return n.initialize({options:e})}function R3(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function I3(t,e,n){const s=ra(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=JS(e),{host:u,port:f}=N3(e),m=f===null?"":`:${f}`,g={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(Xs(g,s.config.emulator)&&Xs(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ta(u)?(I0(`${l}//${u}${m}`),N0("Auth",!0)):D3()}function JS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N3(t){const e=JS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:r1(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:r1(u)}}}function r1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class L0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function M3(t,e){return sa(t,"POST","/v1/accounts:signUp",e)}async function P3(t,e){return Uu(t,"POST","/v1/accounts:signInWithPassword",ia(t,e))}async function O3(t,e){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}async function V3(t,e){return Uu(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}class wu extends L0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new wu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wy(e,n,"signInWithPassword",P3);case"emailLink":return O3(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wy(e,s,"signUpPassword",M3);case"emailLink":return V3(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _l(t,e){return Uu(t,"POST","/v1/accounts:signInWithIdp",ia(t,e))}const j3="http://localhost";class eo extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new eo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_l(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:j3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}function L3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U3(t){const e=Wc(Zc(t)).link,n=e?Wc(Zc(e)).deep_link_id:null,s=Wc(Zc(t)).deep_link_id;return(s?Wc(Zc(s)).link:null)||s||n||e||t}class U0{constructor(e){const n=Wc(Zc(e)),s=n.apiKey??null,a=n.oobCode??null,l=L3(n.mode??null);Ce(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=U3(e);try{return new U0(n)}catch{return null}}}class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=U0.parseLink(n);return Ce(s,"argument-error"),wu._fromEmailAndCode(e,s.code,s.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class B0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bu extends B0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jr extends Bu{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Bs extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Bs.credential(n,s)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Lr extends Bu{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Ur extends Bu{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";async function B3(t,e){return Uu(t,"POST","/v1/accounts:signUp",ia(t,e))}class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Vi._fromIdTokenResponse(e,s,a),u=a1(s);return new to({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=a1(s);return new to({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function a1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class of extends Ti{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new of(e,n,s,a)}}function eC(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(t,l,e,s):l})}async function z3(t,e,n=!1){const s=await Tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",s)}async function q3(t,e,n=!1){const{auth:s}=t;if(Ln(s.app))return Promise.reject(Gs(s));const a="reauthenticate";try{const l=await Tu(t,eC(s,a,e,t),n);Ce(l.idToken,s,"internal-error");const u=V0(l.idToken);Ce(u,s,"internal-error");const{sub:f}=u;return Ce(t.uid===f,s,"user-mismatch"),to._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&bi(s,"user-mismatch"),l}}async function tC(t,e,n=!1){if(Ln(t.app))return Promise.reject(Gs(t));const s="signIn",a=await eC(t,s,e),l=await to._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function F3(t,e){return tC(ra(t),e)}async function nC(t){const e=ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H3(t,e,n){if(Ln(t.app))return Promise.reject(Gs(t));const s=ra(t),u=await wy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&nC(t),m}),f=await to._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function G3(t,e,n){return Ln(t.app)?Promise.reject(Gs(t)):F3(dt(t),Vl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nC(t),s})}function K3(t,e,n,s){return dt(t).onIdTokenChanged(e,n,s)}function $3(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Q3(t,e,n,s){return dt(t).onAuthStateChanged(e,n,s)}function Y3(t){return dt(t).signOut()}const lf="__sak";class iC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const X3=1e3,W3=10;class sC extends iC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);m3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,W3):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},X3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sC.type="LOCAL";const Z3=sC;class rC extends iC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const aC=rC;function J3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Pf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),m=await J3(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];function z0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class ej{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=z0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ms(){return window}function tj(t){ms().location.href=t}function oC(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function nj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ij(){return navigator?.serviceWorker?.controller||null}function sj(){return oC()?self:null}const lC="firebaseLocalStorageDb",rj=1,cf="firebaseLocalStorage",cC="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(t,e){return t.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function aj(){const t=indexedDB.deleteDatabase(lC);return new zu(t).toPromise()}function Ey(){const t=indexedDB.open(lC,rj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(cf,{keyPath:cC})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(cf)?e(s):(s.close(),await aj(),e(await Ey()))})})}async function o1(t,e,n){const s=Of(t,!0).put({[cC]:e,value:n});return new zu(s).toPromise()}async function oj(t,e){const n=Of(t,!1).get(e),s=await new zu(n).toPromise();return s===void 0?null:s.value}function l1(t,e){const n=Of(t,!0).delete(e);return new zu(n).toPromise()}const lj=800,cj=3;class uC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cj)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(sj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nj(),!this.activeServiceWorker)return;this.sender=new ej(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ij()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ey();return await o1(e,lf,"1"),await l1(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Of(a,!1).getAll();return new zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uC.type="LOCAL";const uj=uC;new Lu(3e4,6e4);function hC(t,e){return e?Fs(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class q0 extends L0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hj(t){return tC(t.auth,new q0(t),t.bypassAuthState)}function dj(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),q3(n,new q0(t),t.bypassAuthState)}async function fj(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),z3(n,new q0(t),t.bypassAuthState)}class dC{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hj;case"linkViaPopup":case"linkViaRedirect":return fj;case"reauthViaPopup":case"reauthViaRedirect":return dj;default:bi(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mj=new Lu(2e3,1e4);async function pj(t,e,n){if(Ln(t.app))return Promise.reject(ji(t,"operation-not-supported-in-this-environment"));const s=ra(t);QV(t,e,B0);const a=hC(s,n);return new Ka(s,"signInViaPopup",e,a).executeNotNull()}class Ka extends dC{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mj.get())};e()}}Ka.currentPopupAction=null;const gj="pendingRedirect",Ld=new Map;class yj extends dC{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const s=await vj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vj(t,e){const n=bj(e),s=xj(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function _j(t,e){Ld.set(t._key(),e)}function xj(t){return Fs(t._redirectPersistence)}function bj(t){return jd(gj,t.config.apiKey,t.name)}async function Tj(t,e,n=!1){if(Ln(t.app))return Promise.reject(Gs(t));const s=ra(t),a=hC(s,e),u=await new yj(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const wj=600*1e3;class Ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Aj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!fC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ji(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wj&&this.cachedEventUids.clear(),this.cachedEventUids.has(c1(e))}saveEventToCache(e){this.cachedEventUids.add(c1(e)),this.lastProcessedEventTime=Date.now()}}function c1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Aj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fC(t);default:return!1}}async function Sj(t,e={}){return sa(t,"GET","/v1/projects",e)}const Cj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kj=/^https?/;async function Rj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sj(t);for(const n of e)try{if(Ij(n))return}catch{}bi(t,"unauthorized-domain")}function Ij(t){const e=by(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!kj.test(n))return!1;if(Cj.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const Nj=new Lu(3e4,6e4);function u1(){const t=ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dj(t){return new Promise((e,n)=>{function s(){u1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u1(),n(ji(t,"network-request-failed"))},timeout:Nj.get()})}if(ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ms().gapi?.load)s();else{const a=w3("iframefcb");return ms()[a]=()=>{gapi.load?s():n(ji(t,"network-request-failed"))},WS(`${T3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function Mj(t){return Ud=Ud||Dj(t),Ud}const Pj=new Lu(5e3,15e3),Oj="__/auth/iframe",Vj="emulator/auth/iframe",jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uj(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O0(e,Vj):`https://${t.config.authDomain}/${Oj}`,s={apiKey:e.apiKey,appName:t.name,v:lo},a=Lj.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ju(s).slice(1)}`}async function Bj(t){const e=await Mj(t),n=ms().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:Uj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jj,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ji(t,"network-request-failed"),f=ms().setTimeout(()=>{l(u)},Pj.get());function m(){ms().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qj=500,Fj=600,Hj="_blank",Gj="http://localhost";class h1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Kj(t,e,n,s=qj,a=Fj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...zj,width:s.toString(),height:a.toString(),top:l,left:u},g=Tn().toLowerCase();n&&(f=HS(g)?Hj:n),qS(g)&&(e=e||Gj,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[k,D])=>`${w}${k}=${D},`,"");if(f3(g)&&f!=="_self")return $j(e||"",f),new h1(null);const b=window.open(e||"",f,y);Ce(b,t,"popup-blocked");try{b.focus()}catch{}return new h1(b)}function $j(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Qj="__/auth/handler",Yj="emulator/auth/handler",Xj=encodeURIComponent("fac");async function d1(t,e,n,s,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:lo,eventId:a};if(e instanceof B0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",R4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof Bu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),g=m?`#${Xj}=${encodeURIComponent(m)}`:"";return`${Wj(t)}?${ju(f).slice(1)}${g}`}function Wj({config:t}){return t.emulator?O0(t,Yj):`https://${t.authDomain}/${Qj}`}const Ng="webStorageSupport";class Zj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aC,this._completeRedirectFn=Tj,this._overrideRedirectResult=_j}async _openPopup(e,n,s,a){Zs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await d1(e,n,s,by(),a);return Kj(e,l,z0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await d1(e,n,s,by(),a);return tj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Zs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Bj(e),s=new Ej(e);return n.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},a=>{const l=a?.[0]?.[Ng];l!==void 0&&n(!!l),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YS()||FS()||j0()}}const Jj=Zj;var f1="@firebase/auth",m1="1.12.0";class e6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n6(t){Li(new xi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(t)},g=new _3(s,a,l,m);return R3(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Li(new xi("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(s=>new e6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(f1,m1,t6(t)),zn(f1,m1,"esm2020")}const i6=300,s6=ES("authIdTokenMaxAge")||i6;let p1=null;const r6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>s6)return;const a=n?.token;p1!==a&&(p1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function a6(t=Df()){const e=na(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k3(t,{popupRedirectResolver:Jj,persistence:[uj,Z3,aC]}),s=ES("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=r6(l.toString());$3(n,u,()=>u(n.currentUser)),K3(n,f=>u(f))}}const a=bS("auth");return a&&I3(n,`http://${a}`),n}function o6(){return document.getElementsByTagName("head")?.[0]??document}x3({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ji("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",o6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n6("Browser");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,mC;(function(){var t;function e(R,C){function N(){}N.prototype=C.prototype,R.F=C.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(j,I,z){for(var P=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)P[Se-2]=arguments[Se];return C.prototype[I].apply(j,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,C,N){N||(N=0);const j=Array(16);if(typeof C=="string")for(var I=0;I<16;++I)j[I]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(I=0;I<16;++I)j[I]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=R.g[0],N=R.g[1],I=R.g[2];let z=R.g[3],P;P=C+(z^N&(I^z))+j[0]+3614090360&4294967295,C=N+(P<<7&4294967295|P>>>25),P=z+(I^C&(N^I))+j[1]+3905402710&4294967295,z=C+(P<<12&4294967295|P>>>20),P=I+(N^z&(C^N))+j[2]+606105819&4294967295,I=z+(P<<17&4294967295|P>>>15),P=N+(C^I&(z^C))+j[3]+3250441966&4294967295,N=I+(P<<22&4294967295|P>>>10),P=C+(z^N&(I^z))+j[4]+4118548399&4294967295,C=N+(P<<7&4294967295|P>>>25),P=z+(I^C&(N^I))+j[5]+1200080426&4294967295,z=C+(P<<12&4294967295|P>>>20),P=I+(N^z&(C^N))+j[6]+2821735955&4294967295,I=z+(P<<17&4294967295|P>>>15),P=N+(C^I&(z^C))+j[7]+4249261313&4294967295,N=I+(P<<22&4294967295|P>>>10),P=C+(z^N&(I^z))+j[8]+1770035416&4294967295,C=N+(P<<7&4294967295|P>>>25),P=z+(I^C&(N^I))+j[9]+2336552879&4294967295,z=C+(P<<12&4294967295|P>>>20),P=I+(N^z&(C^N))+j[10]+4294925233&4294967295,I=z+(P<<17&4294967295|P>>>15),P=N+(C^I&(z^C))+j[11]+2304563134&4294967295,N=I+(P<<22&4294967295|P>>>10),P=C+(z^N&(I^z))+j[12]+1804603682&4294967295,C=N+(P<<7&4294967295|P>>>25),P=z+(I^C&(N^I))+j[13]+4254626195&4294967295,z=C+(P<<12&4294967295|P>>>20),P=I+(N^z&(C^N))+j[14]+2792965006&4294967295,I=z+(P<<17&4294967295|P>>>15),P=N+(C^I&(z^C))+j[15]+1236535329&4294967295,N=I+(P<<22&4294967295|P>>>10),P=C+(I^z&(N^I))+j[1]+4129170786&4294967295,C=N+(P<<5&4294967295|P>>>27),P=z+(N^I&(C^N))+j[6]+3225465664&4294967295,z=C+(P<<9&4294967295|P>>>23),P=I+(C^N&(z^C))+j[11]+643717713&4294967295,I=z+(P<<14&4294967295|P>>>18),P=N+(z^C&(I^z))+j[0]+3921069994&4294967295,N=I+(P<<20&4294967295|P>>>12),P=C+(I^z&(N^I))+j[5]+3593408605&4294967295,C=N+(P<<5&4294967295|P>>>27),P=z+(N^I&(C^N))+j[10]+38016083&4294967295,z=C+(P<<9&4294967295|P>>>23),P=I+(C^N&(z^C))+j[15]+3634488961&4294967295,I=z+(P<<14&4294967295|P>>>18),P=N+(z^C&(I^z))+j[4]+3889429448&4294967295,N=I+(P<<20&4294967295|P>>>12),P=C+(I^z&(N^I))+j[9]+568446438&4294967295,C=N+(P<<5&4294967295|P>>>27),P=z+(N^I&(C^N))+j[14]+3275163606&4294967295,z=C+(P<<9&4294967295|P>>>23),P=I+(C^N&(z^C))+j[3]+4107603335&4294967295,I=z+(P<<14&4294967295|P>>>18),P=N+(z^C&(I^z))+j[8]+1163531501&4294967295,N=I+(P<<20&4294967295|P>>>12),P=C+(I^z&(N^I))+j[13]+2850285829&4294967295,C=N+(P<<5&4294967295|P>>>27),P=z+(N^I&(C^N))+j[2]+4243563512&4294967295,z=C+(P<<9&4294967295|P>>>23),P=I+(C^N&(z^C))+j[7]+1735328473&4294967295,I=z+(P<<14&4294967295|P>>>18),P=N+(z^C&(I^z))+j[12]+2368359562&4294967295,N=I+(P<<20&4294967295|P>>>12),P=C+(N^I^z)+j[5]+4294588738&4294967295,C=N+(P<<4&4294967295|P>>>28),P=z+(C^N^I)+j[8]+2272392833&4294967295,z=C+(P<<11&4294967295|P>>>21),P=I+(z^C^N)+j[11]+1839030562&4294967295,I=z+(P<<16&4294967295|P>>>16),P=N+(I^z^C)+j[14]+4259657740&4294967295,N=I+(P<<23&4294967295|P>>>9),P=C+(N^I^z)+j[1]+2763975236&4294967295,C=N+(P<<4&4294967295|P>>>28),P=z+(C^N^I)+j[4]+1272893353&4294967295,z=C+(P<<11&4294967295|P>>>21),P=I+(z^C^N)+j[7]+4139469664&4294967295,I=z+(P<<16&4294967295|P>>>16),P=N+(I^z^C)+j[10]+3200236656&4294967295,N=I+(P<<23&4294967295|P>>>9),P=C+(N^I^z)+j[13]+681279174&4294967295,C=N+(P<<4&4294967295|P>>>28),P=z+(C^N^I)+j[0]+3936430074&4294967295,z=C+(P<<11&4294967295|P>>>21),P=I+(z^C^N)+j[3]+3572445317&4294967295,I=z+(P<<16&4294967295|P>>>16),P=N+(I^z^C)+j[6]+76029189&4294967295,N=I+(P<<23&4294967295|P>>>9),P=C+(N^I^z)+j[9]+3654602809&4294967295,C=N+(P<<4&4294967295|P>>>28),P=z+(C^N^I)+j[12]+3873151461&4294967295,z=C+(P<<11&4294967295|P>>>21),P=I+(z^C^N)+j[15]+530742520&4294967295,I=z+(P<<16&4294967295|P>>>16),P=N+(I^z^C)+j[2]+3299628645&4294967295,N=I+(P<<23&4294967295|P>>>9),P=C+(I^(N|~z))+j[0]+4096336452&4294967295,C=N+(P<<6&4294967295|P>>>26),P=z+(N^(C|~I))+j[7]+1126891415&4294967295,z=C+(P<<10&4294967295|P>>>22),P=I+(C^(z|~N))+j[14]+2878612391&4294967295,I=z+(P<<15&4294967295|P>>>17),P=N+(z^(I|~C))+j[5]+4237533241&4294967295,N=I+(P<<21&4294967295|P>>>11),P=C+(I^(N|~z))+j[12]+1700485571&4294967295,C=N+(P<<6&4294967295|P>>>26),P=z+(N^(C|~I))+j[3]+2399980690&4294967295,z=C+(P<<10&4294967295|P>>>22),P=I+(C^(z|~N))+j[10]+4293915773&4294967295,I=z+(P<<15&4294967295|P>>>17),P=N+(z^(I|~C))+j[1]+2240044497&4294967295,N=I+(P<<21&4294967295|P>>>11),P=C+(I^(N|~z))+j[8]+1873313359&4294967295,C=N+(P<<6&4294967295|P>>>26),P=z+(N^(C|~I))+j[15]+4264355552&4294967295,z=C+(P<<10&4294967295|P>>>22),P=I+(C^(z|~N))+j[6]+2734768916&4294967295,I=z+(P<<15&4294967295|P>>>17),P=N+(z^(I|~C))+j[13]+1309151649&4294967295,N=I+(P<<21&4294967295|P>>>11),P=C+(I^(N|~z))+j[4]+4149444226&4294967295,C=N+(P<<6&4294967295|P>>>26),P=z+(N^(C|~I))+j[11]+3174756917&4294967295,z=C+(P<<10&4294967295|P>>>22),P=I+(C^(z|~N))+j[2]+718787259&4294967295,I=z+(P<<15&4294967295|P>>>17),P=N+(z^(I|~C))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+z&4294967295}s.prototype.v=function(R,C){C===void 0&&(C=R.length);const N=C-this.blockSize,j=this.C;let I=this.h,z=0;for(;z<C;){if(I==0)for(;z<=N;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<C;)if(j[I++]=R.charCodeAt(z++),I==this.blockSize){a(this,j),I=0;break}}else for(;z<C;)if(j[I++]=R[z++],I==this.blockSize){a(this,j),I=0;break}}this.h=I,this.o+=C},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)R[C++]=this.g[N]>>>j&255;return R};function l(R,C){var N=f;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=C(R)}function u(R,C){this.h=C;const N=[];let j=!0;for(let I=R.length-1;I>=0;I--){const z=R[I]|0;j&&z==C||(N[I]=z,j=!1)}this.g=N}var f={};function m(R){return-128<=R&&R<128?l(R,function(C){return new u([C|0],C<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return M(g(-R));const C=[];let N=1;for(let j=0;R>=N;j++)C[j]=R/N|0,N*=4294967296;return new u(C,0)}function y(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return M(y(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(C,8));let j=b;for(let z=0;z<R.length;z+=8){var I=Math.min(8,R.length-z);const P=parseInt(R.substring(z,z+I),C);I<8?(I=g(Math.pow(C,I)),j=j.j(I).add(g(P))):(j=j.j(N),j=j.add(g(P)))}return j}var b=m(0),w=m(1),k=m(16777216);t=u.prototype,t.m=function(){if(O(this))return-M(this).m();let R=0,C=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);R+=(j>=0?j:4294967296+j)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(O(this))return"-"+M(this).toString(R);const C=g(Math.pow(R,6));var N=this;let j="";for(;;){const I=ue(N,C).g;N=F(N,I.j(C));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=I,D(N))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function O(R){return R.h==-1}t.l=function(R){return R=F(this,R),O(R)?-1:D(R)?0:1};function M(R){const C=R.g.length,N=[];for(let j=0;j<C;j++)N[j]=~R.g[j];return new u(N,~R.h).add(w)}t.abs=function(){return O(this)?M(this):this},t.add=function(R){const C=Math.max(this.g.length,R.g.length),N=[];let j=0;for(let I=0;I<=C;I++){let z=j+(this.i(I)&65535)+(R.i(I)&65535),P=(z>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);j=P>>>16,z&=65535,P&=65535,N[I]=P<<16|z}return new u(N,N[N.length-1]&-2147483648?-1:0)};function F(R,C){return R.add(M(C))}t.j=function(R){if(D(this)||D(R))return b;if(O(this))return O(R)?M(this).j(M(R)):M(M(this).j(R));if(O(R))return M(this.j(M(R)));if(this.l(k)<0&&R.l(k)<0)return g(this.m()*R.m());const C=this.g.length+R.g.length,N=[];for(var j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let I=0;I<R.g.length;I++){const z=this.i(j)>>>16,P=this.i(j)&65535,Se=R.i(I)>>>16,Ge=R.i(I)&65535;N[2*j+2*I]+=P*Ge,ee(N,2*j+2*I),N[2*j+2*I+1]+=z*Ge,ee(N,2*j+2*I+1),N[2*j+2*I+1]+=P*Se,ee(N,2*j+2*I+1),N[2*j+2*I+2]+=z*Se,ee(N,2*j+2*I+2)}for(R=0;R<C;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=C;R<2*C;R++)N[R]=0;return new u(N,0)};function ee(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function Y(R,C){this.g=R,this.h=C}function ue(R,C){if(D(C))throw Error("division by zero");if(D(R))return new Y(b,b);if(O(R))return C=ue(M(R),C),new Y(M(C.g),M(C.h));if(O(C))return C=ue(R,M(C)),new Y(M(C.g),C.h);if(R.g.length>30){if(O(R)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var N=w,j=C;j.l(R)<=0;)N=he(N),j=he(j);var I=de(N,1),z=de(j,1);for(j=de(j,2),N=de(N,2);!D(j);){var P=z.add(j);P.l(R)<=0&&(I=I.add(N),z=P),j=de(j,1),N=de(N,1)}return C=F(R,I.j(C)),new Y(I,C)}for(I=b;R.l(C)>=0;){for(N=Math.max(1,Math.floor(R.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=g(N),P=z.j(C);O(P)||P.l(R)>0;)N-=j,z=g(N),P=z.j(C);D(z)&&(z=w),I=I.add(z),R=F(R,P)}return new Y(I,R)}t.B=function(R){return ue(this,R).h},t.and=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)&R.i(j);return new u(N,this.h&R.h)},t.or=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)|R.i(j);return new u(N,this.h|R.h)},t.xor=function(R){const C=Math.max(this.g.length,R.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)^R.i(j);return new u(N,this.h^R.h)};function he(R){const C=R.g.length+1,N=[];for(let j=0;j<C;j++)N[j]=R.i(j)<<1|R.i(j-1)>>>31;return new u(N,R.h)}function de(R,C){const N=C>>5;C%=32;const j=R.g.length-N,I=[];for(let z=0;z<j;z++)I[z]=C>0?R.i(z+N)>>>C|R.i(z+N+1)<<32-C:R.i(z+N);return new u(I,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,mC=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Hr=u}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pC,Jc,gC,Bd,Ay,yC,vC,_C;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var _=0;_<h.length;++_){var T=h[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,_){if(_)e:{var T=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var K=h[S];if(!(K in T))break e;T=T[K]}h=h[h.length-1],S=T[h],_=_(S),_!=S&&_!=null&&e(T,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var T=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&T.push([S,_[S]]);return T}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,T){return h.call.apply(h.bind,arguments)}function g(h,_,T){return g=m,g.apply(null,arguments)}function y(h,_){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function b(h,_){function T(){}T.prototype=_.prototype,h.Z=_.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(S,K,Z){for(var me=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)me[Pe-2]=arguments[Pe];return _.prototype[K].apply(S,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function k(h){const _=h.length;if(_>0){const T=Array(_);for(let S=0;S<_;S++)T[S]=h[S];return T}return[]}function D(h,_){for(let S=1;S<arguments.length;S++){const K=arguments[S];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=h.length||0;const Z=K.length||0;h.length=T+Z;for(let me=0;me<Z;me++)h[T+me]=K[me]}else h.push(K)}}class O{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(h){u.setTimeout(()=>{throw h},0)}function F(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,T){const S=Y.get();S.set(_,T),this.h?this.h.next=S:this.g=S,this.h=S}}var Y=new O(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,de=!1,R=new ee,C=()=>{const h=Promise.resolve(void 0);he=()=>{h.then(N)}};function N(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){M(T)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}de=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return h})();function P(h){return/^[\s\xa0]*$/.test(h)}function Se(h,_){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}b(Se,I),Se.prototype.init=function(h,_){const T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(T=="mouseover"?_=h.fromElement:T=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),L=0;function H(h,_,T,S,K){this.listener=h,this.proxy=null,this.src=_,this.type=T,this.capture=!!S,this.ha=K,this.key=++L,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ce(h,_,T){for(const S in h)_.call(T,h[S],S,h)}function U(h,_){for(const T in h)_.call(void 0,h[T],T,h)}function E(h){const _={};for(const T in h)_[T]=h[T];return _}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,_){let T,S;for(let K=1;K<arguments.length;K++){S=arguments[K];for(T in S)h[T]=S[T];for(let Z=0;Z<q.length;Z++)T=q[Z],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,T,S,K){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const me=ge(h,_,S,K);return me>-1?(_=h[me],T||(_.fa=!1)):(_=new H(_,this.src,Z,!!S,K),_.fa=T,h.push(_)),_};function fe(h,_){const T=_.type;if(T in h.g){var S=h.g[T],K=Array.prototype.indexOf.call(S,_,void 0),Z;(Z=K>=0)&&Array.prototype.splice.call(S,K,1),Z&&(ae(_),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ge(h,_,T,S){for(let K=0;K<h.length;++K){const Z=h[K];if(!Z.da&&Z.listener==_&&Z.capture==!!T&&Z.ha==S)return K}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),be={};function Ee(h,_,T,S,K){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)Ee(h,_[Z],T,S,K);return null}return T=wn(T),h&&h[Ge]?h.J(_,T,f(S)?!!S.capture:!1,K):et(h,_,T,!1,S,K)}function et(h,_,T,S,K,Z){if(!_)throw Error("Invalid event type");const me=f(K)?!!K.capture:!!K;let Pe=Yt(h);if(Pe||(h[pe]=Pe=new oe(h)),T=Pe.add(_,T,S,me,Z),T.proxy)return T;if(S=Ye(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)z||(K=me),K===void 0&&(K=!1),h.addEventListener(_.toString(),S,K);else if(h.attachEvent)h.attachEvent(Ne(_.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ye(){function h(T){return _.call(h.src,h.listener,T)}const _=Vt;return h}function it(h,_,T,S,K){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)it(h,_[Z],T,S,K);else S=f(S)?!!S.capture:!!S,T=wn(T),h&&h[Ge]?(h=h.i,Z=String(_).toString(),Z in h.g&&(_=h.g[Z],T=ge(_,T,S,K),T>-1&&(ae(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Yt(h))&&(_=h.g[_.toString()],h=-1,_&&(h=ge(_,T,S,K)),(T=h>-1?_[h]:null)&&xt(T))}function xt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ge])fe(_.i,h);else{var T=h.type,S=h.proxy;_.removeEventListener?_.removeEventListener(T,S,h.capture):_.detachEvent?_.detachEvent(Ne(T),S):_.addListener&&_.removeListener&&_.removeListener(S),(T=Yt(_))?(fe(T,h),T.h==0&&(T.src=null,_[pe]=null)):ae(h)}}}function Ne(h){return h in be?be[h]:be[h]="on"+h}function Vt(h,_){if(h.da)h=!0;else{_=new Se(_,this);const T=h.listener,S=h.ha||h.src;h.fa&&xt(h),h=T.call(S,_)}return h}function Yt(h){return h=h[pe],h instanceof oe?h:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function wn(h){return typeof h=="function"?h:(h[rn]||(h[rn]=function(_){return h.handleEvent(_)}),h[rn])}function ot(){j.call(this),this.i=new oe(this),this.M=this,this.G=null}b(ot,j),ot.prototype[Ge]=!0,ot.prototype.removeEventListener=function(h,_,T,S){it(this,h,_,T,S)};function tt(h,_){var T,S=h.G;if(S)for(T=[];S;S=S.G)T.push(S);if(h=h.M,S=_.type||_,typeof _=="string")_=new I(_,h);else if(_ instanceof I)_.target=_.target||h;else{var K=_;_=new I(S,h),W(_,K)}K=!0;let Z,me;if(T)for(me=T.length-1;me>=0;me--)Z=_.g=T[me],K=Bi(Z,S,!0,_)&&K;if(Z=_.g=h,K=Bi(Z,S,!0,_)&&K,K=Bi(Z,S,!1,_)&&K,T)for(me=0;me<T.length;me++)Z=_.g=T[me],K=Bi(Z,S,!1,_)&&K}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const T=h.g[_];for(let S=0;S<T.length;S++)ae(T[S]);delete h.g[_],h.h--}}this.G=null},ot.prototype.J=function(h,_,T,S){return this.i.add(String(h),_,!1,T,S)},ot.prototype.K=function(h,_,T,S){return this.i.add(String(h),_,!0,T,S)};function Bi(h,_,T,S){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let K=!0;for(let Z=0;Z<_.length;++Z){const me=_[Z];if(me&&!me.da&&me.capture==T){const Pe=me.listener,Dt=me.ha||me.src;me.fa&&fe(h.i,me),K=Pe.call(Dt,S)!==!1&&K}}return K&&!S.defaultPrevented}function Gl(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function fo(h){h.g=Gl(()=>{h.g=null,h.i&&(h.i=!1,fo(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class Jt extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(h){j.call(this),this.h=h,this.g={}}b(xs,j);var nr=[];function ua(h){ce(h.g,function(_,T){this.g.hasOwnProperty(T)&&xt(_)},h),h.g={}}xs.prototype.N=function(){xs.Z.N.call(this),ua(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=u.JSON.stringify,mo=u.JSON.parse,ha=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ir(){}function po(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){I.call(this,"d")}b(an,I);function ni(){I.call(this,"c")}b(ni,I);var Nt={},Qu=null;function go(){return Qu=Qu||new ot}Nt.Ia="serverreachability";function Yu(h){I.call(this,Nt.Ia,h)}b(Yu,I);function qi(h){const _=go();tt(_,new Yu(_))}Nt.STAT_EVENT="statevent";function da(h,_){I.call(this,Nt.STAT_EVENT,h),this.stat=_}b(da,I);function jt(h){const _=go();tt(_,new da(_,h))}Nt.Ja="timingevent";function Fi(h,_){I.call(this,Nt.Ja,h),this.size=_}b(Fi,I);function Hi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function lm(h,_,T,S,K,Z){h.info(function(){if(h.g)if(Z){var me="",Pe=Z.split("&");for(let Ze=0;Ze<Pe.length;Ze++){var Dt=Pe[Ze].split("=");if(Dt.length>1){const bt=Dt[0];Dt=Dt[1];const ai=bt.split("_");me=ai.length>=2&&ai[1]=="type"?me+(bt+"="+Dt+"&"):me+(bt+"=redacted&")}}}else me=null;else me=Z;return"XMLHTTP REQ ("+S+") [attempt "+K+"]: "+_+`
`+T+`
`+me})}function Xu(h,_,T,S,K,Z,me){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+K+"]: "+_+`
`+T+`
`+Z+" "+me})}function Gi(h,_,T,S){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+cm(h,T)+(S?" "+S:"")})}function fa(h,_){h.info(function(){return"TIMEOUT: "+_})}wi.prototype.info=function(){};function cm(h,_){if(!h.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var T=Z[h];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var K=S[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<S.length;me++)S[me]=""}}}}return zi(Z)}catch{return _}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$l;function pa(){}b(pa,ir),pa.prototype.g=function(){return new XMLHttpRequest},$l=new pa;function bs(h){return encodeURIComponent(String(h))}function Wu(h){var _=1;h=h.split(":");const T=[];for(;_>0&&h.length;)T.push(h.shift()),_--;return h.length&&T.push(h.join(":")),T}function Ei(h,_,T,S){this.j=h,this.i=_,this.l=T,this.S=S||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var Lt={},en={};function Ki(h,_,T){h.M=1,h.A=ga(Bt(_)),h.u=T,h.R=!0,yo(h,null)}function yo(h,_){h.F=Date.now(),$i(h),h.B=Bt(h.A);var T=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),bo(T.i,"t",S),h.C=0,T=h.j.L,h.h=new Ai,h.g=dh(h.j,T?_:null,!h.u),h.P>0&&(h.O=new Jt(g(h.Y,h,h.g),h.P)),_=h.V,T=h.g,S=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(nr[0]=K.toString()),K=nr);for(let Z=0;Z<K.length;Z++){const me=Ee(T,K[Z],S||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=h.J?E(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),qi(),lm(h.i,h.v,h.B,h.l,h.S,h.u)}Ei.prototype.ba=function(h){h=h.target;const _=this.O;_&&ki(h)==3?_.j():this.Y(h)},Ei.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=ki(this.g),Dt=this.g.ya(),Ze=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Pe!=4||Dt==7||(Dt==8||Ze<=0?qi(3):qi(2)),Qi(this);var _=this.g.ca();this.X=_;var T=um(this);if(this.o=_==200,Xu(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,K=this.g;if((S=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(S)){var Z=S;break t}}Z=null}if(h=Z)Gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,h);else{this.o=!1,this.m=3,jt(12),Hn(this),ii(this);break e}}if(this.R){h=!0;let bt;for(;!this.K&&this.C<T.length;)if(bt=Ju(this,T),bt==en){Pe==4&&(this.m=4,jt(14),h=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Lt){this.m=4,jt(15),Gi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Gi(this.i,this.l,bt,null),Yi(this,bt);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||T.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)Gi(this.i,this.l,T,"[Invalid Chunked Response]"),Hn(this),ii(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),lc(me),me.P=!0,jt(11))}}else Gi(this.i,this.l,T,null),Yi(this,T);Pe==4&&Hn(this),this.o&&!this.K&&(Pe==4?lh(this.j,this):(this.o=!1,$i(this)))}else ws(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),Hn(this),ii(this)}}}catch{}};function um(h){if(!Zu(h))return h.g.la();const _=on(h.g);if(_==="")return"";let T="";const S=_.length,K=ki(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),ii(h),"";h.h.i=new u.TextDecoder}for(let Z=0;Z<S;Z++)h.h.h=!0,T+=h.h.i.decode(_[Z],{stream:!(K&&Z==S-1)});return _.length=0,h.h.g+=T,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,_){var T=h.C,S=_.indexOf(`
`,T);return S==-1?en:(T=Number(_.substring(T,S)),isNaN(T)?Lt:(S+=1,S+T>_.length?en:(_=_.slice(S,S+T),h.C=S+T,_)))}Ei.prototype.cancel=function(){this.K=!0,Hn(this)};function $i(h){h.T=Date.now()+h.H,vo(h,h.H)}function vo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Hi(g(h.aa,h),_)}function Qi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Ei.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(fa(this.i,this.B),this.M!=2&&(qi(),jt(17)),Hn(this),this.m=2,ii(this)):vo(this,this.T-h)};function ii(h){h.j.I==0||h.K||lh(h.j,h)}function Hn(h){Qi(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,ua(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Yi(h,_){try{var T=h.j;if(T.I!=0&&(T.g==h||Wi(T.h,h))){if(!h.L&&Wi(T.h,h)&&T.I==3){try{var S=T.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var K=S;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)So(T),hr(T);else break e;wa(T),jt(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Hi(g(T.Va,T),6e3));Xi(T.h)<=1&&T.ta&&(T.ta=void 0)}else is(T,11)}else if((h.L||T.g==h)&&So(T),!P(_))for(K=T.Ba.g.parse(_),_=0;_<K.length;_++){let Ze=K[_];const bt=Ze[0];if(!(bt<=T.K))if(T.K=bt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const ai=Ze[3];ai!=null&&(T.ka=ai,T.j.info("VER="+T.ka));const ss=Ze[4];ss!=null&&(T.za=ss,T.j.info("SVER="+T.za));const Ri=Ze[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(S=1.5*Ri,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Ii=h.g;if(Ii){const Ea=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var Z=S.h;Z.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Xl(Z,Z.h),Z.h=null))}if(S.G){const Co=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(S.wa=Co,st(S.J,S.G,Co))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var me=h;if(S.na=hh(S,S.L?S.ba:null,S.W),me.L){Wl(S.h,me);var Pe=me,Dt=S.O;Dt&&(Pe.H=Dt),Pe.D&&(Qi(Pe),$i(Pe)),S.g=me}else ah(S);T.i.length>0&&ns(T)}else Ze[0]!="stop"&&Ze[0]!="close"||is(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?is(T,7):ac(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}qi(4)}catch{}}var Ut=class{constructor(h,_){this.g=h,this.map=_}};function Ql(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function Wi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Xl(h,_){h.g?h.g.add(_):h.h=_}function Wl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Ql.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const T of h.g.values())_=_.concat(T.G);return _}return k(h.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(h,_){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const S=h[T].indexOf("=");let K,Z=null;S>=0?(K=h[T].substring(0,S),Z=h[T].substring(S+1)):K=h[T],_(K,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Gn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Gn?(this.l=h.l,tn(this,h.j),this.o=h.o,this.g=h.g,sr(this,h.u),this.h=h.h,Jl(this,sh(h.i)),this.m=h.m):h&&(_=String(h).match(eh))?(this.l=!1,tn(this,_[1]||"",!0),this.o=Zi(_[2]||""),this.g=Zi(_[3]||"",!0),sr(this,_[4]),this.h=Zi(_[5]||"",!0),Jl(this,_[6]||"",!0),this.m=Zi(_[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}Gn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ya(_,xo,!0),":");var T=this.g;return(T||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ya(_,xo,!0),"@"),h.push(bs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ya(T,T.charAt(0)=="/"?ec:th,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ya(T,nh)),h.join("")},Gn.prototype.resolve=function(h){const _=Bt(this);let T=!!h.j;T?tn(_,h.j):T=!!h.o,T?_.o=h.o:T=!!h.g,T?_.g=h.g:T=h.u!=null;var S=h.h;if(T)sr(_,h.u);else if(T=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var K=_.h.lastIndexOf("/");K!=-1&&(S=_.h.slice(0,K+1)+S)}if(K=S,K==".."||K==".")S="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){S=K.lastIndexOf("/",0)==0,K=K.split("/");const Z=[];for(let me=0;me<K.length;){const Pe=K[me++];Pe=="."?S&&me==K.length&&Z.push(""):Pe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),S&&me==K.length&&Z.push("")):(Z.push(Pe),S=!0)}S=Z.join("/")}else S=K}return T?_.h=S:T=h.i.toString()!=="",T?Jl(_,sh(h.i)):T=!!h.m,T&&(_.m=h.m),_};function Bt(h){return new Gn(h)}function tn(h,_,T){h.j=T?Zi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function sr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Jl(h,_,T){_ instanceof ar?(h.i=_,To(h.i,h.l)):(T||(_=ya(_,rr)),h.i=new ar(_,h.l))}function st(h,_,T){h.i.set(_,T)}function ga(h){return st(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ya(h,_,T){return typeof h=="string"?(h=encodeURI(h).replace(_,Rn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xo=/[#\/\?@]/g,th=/[#\?:]/g,ec=/[#\?]/g,rr=/[#\?@]/g,nh=/#/g;function ar(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&_o(h.i,function(_,T){h.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=ar.prototype,t.add=function(h,_){In(this),this.i=null,h=or(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(_),this.h+=1,this};function ih(h,_){In(h),_=or(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function tc(h,_){return In(h),_=or(h,_),h.g.has(_)}t.forEach=function(h,_){In(this),this.g.forEach(function(T,S){T.forEach(function(K){h.call(_,K,S,this)},this)},this)};function nc(h,_){In(h);let T=[];if(typeof _=="string")tc(h,_)&&(T=T.concat(h.g.get(or(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)T=T.concat(h[_]);return T}t.set=function(h,_){return In(this),this.i=null,h=or(this,h),tc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=nc(this,h),h.length>0?String(h[0]):_):_};function bo(h,_,T){ih(h,_),T.length>0&&(h.i=null,h.g.set(or(h,_),k(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var T=_[S];const K=bs(T);T=nc(this,T);for(let Z=0;Z<T.length;Z++){let me=K;T[Z]!==""&&(me+="="+bs(T[Z])),h.push(me)}}return this.i=h.join("&")};function sh(h){const _=new ar;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function or(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function To(h,_){_&&!h.j&&(In(h),h.i=null,h.g.forEach(function(T,S){const K=S.toLowerCase();S!=K&&(ih(this,S),bo(this,K,T))},h)),h.j=_}function Si(h,_){const T=new wi;if(u.Image){const S=new Image;S.onload=y(si,T,"TestLoadImage: loaded",!0,_,S),S.onerror=y(si,T,"TestLoadImage: error",!1,_,S),S.onabort=y(si,T,"TestLoadImage: abort",!1,_,S),S.ontimeout=y(si,T,"TestLoadImage: timeout",!1,_,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else _(!1)}function ic(h,_){const T=new wi,S=new AbortController,K=setTimeout(()=>{S.abort(),si(T,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:S.signal}).then(Z=>{clearTimeout(K),Z.ok?si(T,"TestPingServer: ok",!0,_):si(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),si(T,"TestPingServer: error",!1,_)})}function si(h,_,T,S,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),S(T)}catch{}}function lr(){this.g=new ha}function Ji(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ji,ir),Ji.prototype.g=function(){return new va(this.i,this.h)};function va(h,_){ot.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(va,ot),t=va.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ci(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?cr(this):Ci(this),this.readyState==3&&wo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,cr(this))},t.Na=function(h){this.g&&(this.response=h,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ci(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=_.next();return h.join(`\r
`)};function Ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ri(h){let _="";return ce(h,function(T,S){_+=S,_+=":",_+=T,_+=`\r
`}),_}function _a(h,_,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=ri(T),typeof h=="string"?T!=null&&bs(T):st(h,_,T))}function lt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(lt,ot);var es=/^https?$/i,sc=["POST","PUT"];t=lt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$l.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Z){xa(this,Z);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var K in S)T.set(K,S[K]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())T.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(sc,_,void 0)>=0)||S||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of T)this.g.setRequestHeader(Z,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){xa(this,Z)}};function xa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,rc(h),Ts(h)}function rc(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,tt(this,"complete"),tt(this,"abort"),Ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},t.Xa=function(){ba(this)};function ba(h){if(h.h&&typeof l<"u"){if(h.v&&ki(h)==4)setTimeout(h.Ca.bind(h),0);else if(tt(h,"readystatechange"),ki(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var S;if(S=Z===0){let me=String(h.D).match(eh)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),S=!es.test(me?me.toLowerCase():"")}T=S}if(T)tt(h,"complete"),tt(h,"success");else{h.o=6;try{var K=ki(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",rc(h)}}finally{Ts(h)}}}}function Ts(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,_||tt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),mo(_)}};function on(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(h){const _={};h=(h.g&&ki(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(P(h[S]))continue;var T=Wu(h[S]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=_[K]||[];_[K]=Z,Z.push(T)}U(_,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(h,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||_}function ur(h){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,h),this.Za=ts("retryDelaySeedMs",1e4,h),this.Ta=ts("forwardChannelMaxRetries",2,h),this.va=ts("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ql(h&&h.concurrentRequestLimit),this.Ba=new lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(h,_,T,S){jt(0),this.W=h,this.H=_||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=hh(this,null,this.W),ns(this)};function ac(h){if(Eo(h),h.I==3){var _=h.V++,T=Bt(h.J);if(st(T,"SID",h.M),st(T,"RID",_),st(T,"TYPE","terminate"),Ta(h,T),_=new Ei(h,h.j,_),_.M=2,_.A=ga(Bt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=dh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),$i(_)}uh(h)}function hr(h){h.g&&(lc(h),h.g.cancel(),h.g=null)}function Eo(h){hr(h),h.v&&(u.clearTimeout(h.v),h.v=null),So(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ns(h){if(!Yl(h.h)&&!h.m){h.m=!0;var _=h.Ea;he||C(),de||(he(),de=!0),R.add(_,h),h.D=0}}function Ao(h,_){return Xi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Hi(g(h.Ea,h,_),ch(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new Ei(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=E(Z),W(Z,this.U)):Z=this.U),this.u!==null||this.R||(K.J=Z,Z=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=rh(this,K,_),T=Bt(this.J),st(T,"RID",h),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),Ta(this,T),Z&&(this.R?_="headers="+bs(ri(Z))+"&"+_:this.u&&_a(T,this.u,Z)),Xl(this.h,K),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",_),st(T,"SID","null"),K.U=!0,Ki(K,T,null)):Ki(K,T,_),this.I=2}}else this.I==3&&(h?oc(this,h):this.i.length==0||Yl(this.h)||oc(this))};function oc(h,_){var T;_?T=_.l:T=h.V++;const S=Bt(h.J);st(S,"SID",h.M),st(S,"RID",T),st(S,"AID",h.K),Ta(h,S),h.u&&h.o&&_a(S,h.u,h.o),T=new Ei(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),_&&(h.i=_.G.concat(h.i)),_=rh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Xl(h.h,T),Ki(T,S,_)}function Ta(h,_){h.H&&ce(h.H,function(T,S){st(_,S,T)}),h.l&&ce({},function(T,S){st(_,S,T)})}function rh(h,_,T){T=Math.min(h.i.length,T);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let Pe=-1;for(;;){const Dt=["count="+T];Pe==-1?T>0?(Pe=K[0].g,Dt.push("ofs="+Pe)):Pe=0:Dt.push("ofs="+Pe);let Ze=!0;for(let bt=0;bt<T;bt++){var Z=K[bt].g;const ai=K[bt].map;if(Z-=Pe,Z<0)Pe=Math.max(0,K[bt].g-100),Ze=!1;else try{Z="req"+Z+"_"||"";try{var me=ai instanceof Map?ai:Object.entries(ai);for(const[ss,Ri]of me){let Ii=Ri;f(Ri)&&(Ii=zi(Ri)),Dt.push(Z+ss+"="+encodeURIComponent(Ii))}}catch(ss){throw Dt.push(Z+"type="+encodeURIComponent("_badmap")),ss}}catch{S&&S(ai)}}if(Ze){me=Dt.join("&");break e}}me=void 0}return h=h.i.splice(0,T),_.G=h,me}function ah(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;he||C(),de||(he(),de=!0),R.add(_,h),h.A=0}}function wa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Hi(g(h.Da,h),ch(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Hi(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),hr(this),oh(this))};function lc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function oh(h){h.g=new Ei(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Bt(h.na);st(_,"RID","rpc"),st(_,"SID",h.M),st(_,"AID",h.K),st(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&st(_,"TO",h.ia),st(_,"TYPE","xmlhttp"),Ta(h,_),h.u&&h.o&&_a(_,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ga(Bt(_)),T.u=null,T.R=!0,yo(T,h)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),wa(this),jt(19))};function So(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function lh(h,_){var T=null;if(h.g==_){So(h),lc(h),h.g=null;var S=2}else if(Wi(h.h,_))T=_.G,Wl(h.h,_),S=1;else return;if(h.I!=0){if(_.o)if(S==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var K=h.D;S=go(),tt(S,new Fi(S,T)),ns(h)}else ah(h);else if(K=_.m,K==3||K==0&&_.X>0||!(S==1&&Ao(h,_)||S==2&&wa(h)))switch(T&&T.length>0&&(_=h.h,_.i=_.i.concat(T)),K){case 1:is(h,5);break;case 4:is(h,10);break;case 3:is(h,6);break;default:is(h,2)}}}function ch(h,_){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*_}function is(h,_){if(h.j.info("Error code "+_),_==2){var T=g(h.bb,h),S=h.Ua;const K=!S;S=new Gn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||tn(S,"https"),ga(S),K?Si(S.toString(),T):ic(S.toString(),T)}else jt(2);h.I=0,h.l&&h.l.pa(_),uh(h),Eo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const _=Zl(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.oa()}}function hh(h,_,T){var S=T instanceof Gn?Bt(T):new Gn(T);if(S.g!="")_&&(S.g=_+"."+S.g),sr(S,S.u);else{var K=u.location;S=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;const Z=new Gn(null);S&&tn(Z,S),_&&(Z.g=_),K&&sr(Z,K),T&&(Z.h=T),S=Z}return T=h.G,_=h.wa,T&&_&&st(S,T,_),st(S,"VER",h.ka),Ta(h,S),S}function dh(h,_,T){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new lt(new Ji({ab:T})):new lt(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}t=fh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dr(){}dr.prototype.g=function(h,_){return new En(h,_)};function En(h,_){ot.call(this),this.g=new ur(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!P(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Es(this)}b(En,ot),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ac(this.g)},En.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=zi(h),h=T);_.i.push(new Ut(_.Ya++,h)),_.I==3&&ns(_)},En.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,En.Z.N.call(this)};function mh(h){an.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const T in _){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}b(mh,an);function ph(){ni.call(this),this.status=1}b(ph,ni);function Es(h){this.g=h}b(Es,fh),Es.prototype.ra=function(){tt(this.g,"a")},Es.prototype.qa=function(h){tt(this.g,new mh(h))},Es.prototype.pa=function(h){tt(this.g,new ph)},Es.prototype.oa=function(){tt(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,_C=function(){return new dr},vC=function(){return go()},yC=Nt,Ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,Bd=ma,Kl.COMPLETE="complete",gC=Kl,po.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Jc=po,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,pC=lt}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const y1="@firebase/firestore",v1="4.9.3";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let jl="12.7.0";const no=new Nf("@firebase/firestore");function al(){return no.logLevel}function ve(t,...e){if(no.logLevel<=qe.DEBUG){const n=e.map(F0);no.debug(`Firestore (${jl}): ${t}`,...n)}}function Js(t,...e){if(no.logLevel<=qe.ERROR){const n=e.map(F0);no.error(`Firestore (${jl}): ${t}`,...n)}}function Sl(t,...e){if(no.logLevel<=qe.WARN){const n=e.map(F0);no.warn(`Firestore (${jl}): ${t}`,...n)}}function F0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ke(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,xC(t,s,n)}function xC(t,e,n){let s=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Js(s),new Error(s)}function nt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||xC(e,a,s)}function Me(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class bC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class c6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class u6{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ks,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ks)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new bC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class h6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new h6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function m6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class H0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=m6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function Sy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Dg(a)===Dg(l)?Fe(a,l):Dg(a)?1:-1}return Fe(t.length,e.length)}const p6=55296,g6=57343;function Dg(t){const e=t.charCodeAt(0);return e>=p6&&e<=g6}function Cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const x1="__name__";class cs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ke(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=cs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const s=cs.isNumericId(e),a=cs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?cs.extractNumericId(e).compare(cs.extractNumericId(n)):Sy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}}class pt extends cs{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends cs{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return y6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x1}static keyField(){return new pn([x1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}function TC(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v6(t,e,n,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b1(t){if(!we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function qu(t,e){if(!wC(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}const w1=-62135596800,E1=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*E1);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w1)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E1}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Qt("string",gt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new gt(0,0))}static max(){return new Ie(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eu=-1;function _6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new Qr(a,we.empty(),e)}function x6(t){return new Qr(t.readTime,t.key,Eu)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(Ie.min(),we.empty(),Eu)}static max(){return new Qr(Ie.max(),we.empty(),Eu)}}function b6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}const T6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==T6)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((a=>a?le.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((y=>{u[g]=y,++f,f===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new le(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function E6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}class jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jf.ce=-1;const G0=-1;function Lf(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function A6(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const EC="";function S6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A1(e)),e=C6(t.get(n),e);return A1(e)}function C6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case EC:n+="";break;default:n+=l}}return n}function A1(t){return t+EC+""}function S1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new fn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C1(this.data.getIterator())}getIteratorFrom(e){return new C1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class C1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Zt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class SC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new SC("Invalid base64 string: "+l):l}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const k6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=k6.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}const CC="server_timestamp",kC="__type__",RC="__previous_value__",IC="__local_write_time__";function K0(t){return(t?.mapValue?.fields||{})[kC]?.stringValue===CC}function Uf(t){const e=t.mapValue.fields[RC];return K0(e)?Uf(e):e}function Au(t){const e=Yr(t.mapValue.fields[IC].timestampValue);return new gt(e.seconds,e.nanos)}class R6{constructor(e,n,s,a,l,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const hf="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||hf}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===hf}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}const NC="__type__",I6="__max__",Sd={mapValue:{}},DC="__vector__",df="value";function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K0(t)?4:D6(t)?9007199254740991:N6(t)?10:11:ke(28295,{value:t})}function _s(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Yr(a.timestampValue),f=Yr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Xr(a.bytesValue).isEqual(Xr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ot(a.doubleValue),f=Ot(l.doubleValue);return u===f?uf(u)===uf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Cl(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(S1(u)!==S1(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!_s(u[m],f[m])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Cu(t,e){return(t.values||[]).find((n=>_s(n,e)))!==void 0}function kl(t,e){if(t===e)return 0;const n=Wr(t),s=Wr(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Ot(l.integerValue||l.doubleValue),m=Ot(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return k1(t.timestampValue,e.timestampValue);case 4:return k1(Au(t),Au(e));case 5:return Sy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Xr(l),m=Xr(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=Fe(f[g],m[g]);if(y!==0)return y}return Fe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Fe(Ot(l.latitude),Ot(u.latitude));return f!==0?f:Fe(Ot(l.longitude),Ot(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return R1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},g=f[df]?.arrayValue,y=m[df]?.arrayValue,b=Fe(g?.values?.length||0,y?.values?.length||0);return b!==0?b:R1(g,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Sd.mapValue&&u===Sd.mapValue)return 0;if(l===Sd.mapValue)return 1;if(u===Sd.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let b=0;b<m.length&&b<y.length;++b){const w=Sy(m[b],y[b]);if(w!==0)return w;const k=kl(f[m[b]],g[y[b]]);if(k!==0)return k}return Fe(m.length,y.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function k1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Yr(t),s=Yr(e),a=Fe(n.seconds,s.seconds);return a!==0?a:Fe(n.nanos,s.nanos)}function R1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=kl(n[a],s[a]);if(l)return l}return Fe(n.length,s.length)}function Rl(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Cy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Cy(n.fields[u])}`;return a+"}"})(t.mapValue):ke(61005,{value:t})}function zd(t){switch(Wr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(t);return e?16+zd(e):16;case 5:return 2*t.stringValue.length;case 6:return Xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+zd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return aa(s.fields,((l,u)=>{a+=l.length+zd(u)})),a})(t.mapValue);default:throw ke(13486,{value:t})}}function I1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ky(t){return!!t&&"integerValue"in t}function $0(t){return!!t&&"arrayValue"in t}function N1(t){return!!t&&"nullValue"in t}function D1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function N6(t){return(t?.mapValue?.fields||{})[NC]?.stringValue===DC}function uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(t.arrayValue.values[n]);return e}return{...t}}function D6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I6}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=uu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];qd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){aa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Un(uu(this.value))}}function MC(t){const e=[];return aa(t.fields,((n,s)=>{const a=new pn([n]);if(qd(s)){const l=MC(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Jn(e)}class xn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new xn(e,0,Ie.min(),Ie.min(),Ie.min(),Un.empty(),0)}static newFoundDocument(e,n,s,a){return new xn(e,1,n,Ie.min(),s,a,0)}static newNoDocument(e,n){return new xn(e,2,n,Ie.min(),Ie.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Ie.min(),Ie.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ff{constructor(e,n){this.position=e,this.inclusive=n}}function M1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),n.key):s=kl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function P1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function M6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class PC{}class $t extends PC{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new O6(e,n,s):n==="array-contains"?new L6(e,s):n==="in"?new U6(e,s):n==="not-in"?new B6(e,s):n==="array-contains-any"?new z6(e,s):new $t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new V6(e,s):new j6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(kl(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends PC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return OC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OC(t){return t.op==="and"}function VC(t){return P6(t)&&OC(t)}function P6(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function Ry(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(VC(t))return t.filters.map((e=>Ry(e))).join(",");{const e=t.filters.map((n=>Ry(n))).join(",");return`${t.op}(${e})`}}function jC(t,e){return t instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&_s(s.value,a.value)})(t,e):t instanceof Ui?(function(s,a){return a instanceof Ui&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&jC(u,a.filters[f])),!0):!1})(t,e):void ke(19439)}function LC(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`})(t):t instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(LC).join(" ,")+"}"})(t):"Filter"}class O6 extends $t{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class V6 extends $t{constructor(e,n){super(e,"in",n),this.keys=UC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class j6 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=UC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UC(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class L6 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $0(n)&&Cu(n.arrayValue,this.value)}}class U6 extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class B6 extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class z6 extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}class q6{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function O1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new q6(t,e,n,s,a,l,u)}function Q0(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ry(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Rl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Rl(s))).join(",")),e.Te=n}return e.Te}function Y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P1(t.startAt,e.startAt)&&P1(t.endAt,e.endAt)}function Iy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F6(t,e,n,s,a,l,u,f){return new Bl(t,e,n,s,a,l,u,f)}function Bf(t){return new Bl(t)}function V1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BC(t){return t.collectionGroup!==null}function hu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Zt(pn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ku(l,s))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new ku(pn.keyField(),s))}return e.Ie}function ps(t){const e=Me(t);return e.Ee||(e.Ee=H6(e,hu(t))),e.Ee}function H6(t,e){if(t.limitType==="F")return O1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ku(a.field,l)}));const n=t.endAt?new ff(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ff(t.startAt.position,t.startAt.inclusive):null;return O1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ny(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dy(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return Y0(ps(t),ps(e))&&t.limitType===e.limitType}function zC(t){return`${Q0(ps(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>LC(a))).join(", ")}]`),Lf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Rl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Rl(a))).join(",")),`Target(${s})`})(ps(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of hu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const g=M1(u,f,m);return u.inclusive?g<=0:g<0})(s.startAt,hu(s),a)||s.endAt&&!(function(u,f,m){const g=M1(u,f,m);return u.inclusive?g>=0:g>0})(s.endAt,hu(s),a))})(t,e)}function G6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qC(t){return(e,n)=>{let s=!1;for(const a of hu(t)){const l=K6(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function K6(t,e,n){const s=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?kl(m,g):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return AC(this.inner)}size(){return this.innerSize}}const $6=new At(we.comparator);function er(){return $6}const FC=new At(we.comparator);function eu(...t){let e=FC;for(const n of t)e=e.insert(n.key,n);return e}function HC(t){let e=FC;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $a(){return du()}function GC(){return du()}function du(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Q6=new At(we.comparator),Y6=new Zt(we.comparator);function He(...t){let e=Y6;for(const n of t)e=e.add(n);return e}const X6=new Zt(Fe);function W6(){return X6}function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function KC(t){return{integerValue:""+t}}function $C(t,e){return A6(e)?KC(e):X0(t,e)}class Ff{constructor(){this._=void 0}}function Z6(t,e,n){return t instanceof Ru?(function(a,l){const u={fields:{[kC]:{stringValue:CC},[IC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&K0(l)&&(l=Uf(l)),l&&(u.fields[RC]=l),{mapValue:u}})(n,e):t instanceof Il?YC(t,e):t instanceof Iu?XC(t,e):(function(a,l){const u=QC(a,l),f=j1(u)+j1(a.Ae);return ky(u)&&ky(a.Ae)?KC(f):X0(a.serializer,f)})(t,e)}function J6(t,e,n){return t instanceof Il?YC(t,e):t instanceof Iu?XC(t,e):n}function QC(t,e){return t instanceof Nu?(function(s){return ky(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ru extends Ff{}class Il extends Ff{constructor(e){super(),this.elements=e}}function YC(t,e){const n=WC(e);for(const s of t.elements)n.some((a=>_s(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Iu extends Ff{constructor(e){super(),this.elements=e}}function XC(t,e){let n=WC(e);for(const s of t.elements)n=n.filter((a=>!_s(a,s)));return{arrayValue:{values:n}}}class Nu extends Ff{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function j1(t){return Ot(t.integerValue||t.doubleValue)}function WC(t){return $0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class W0{constructor(e,n){this.field=e,this.transform=n}}function eL(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Il&&a instanceof Il||s instanceof Iu&&a instanceof Iu?Cl(s.elements,a.elements,_s):s instanceof Nu&&a instanceof Nu?_s(s.Ae,a.Ae):s instanceof Ru&&a instanceof Ru})(t.transform,e.transform)}class tL{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hf{}function ZC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z0(t.key,_i.none()):new Fu(t.key,t.data,_i.none());{const n=t.data,s=Un.empty();let a=new Zt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new oa(t.key,s,new Jn(a.toArray()),_i.none())}}function nL(t,e,n){t instanceof Fu?(function(a,l,u){const f=a.value.clone(),m=U1(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof oa?(function(a,l,u){if(!Fd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=U1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(JC(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,s){return t instanceof Fu?(function(l,u,f,m){if(!Fd(l.precondition,u))return f;const g=l.value.clone(),y=B1(l.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof oa?(function(l,u,f,m){if(!Fd(l.precondition,u))return f;const g=B1(l.fieldTransforms,m,u),y=u.data;return y.setAll(JC(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,f){return Fd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function iL(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=QC(s.transform,a||null);l!=null&&(n===null&&(n=Un.empty()),n.set(s.field,l))}return n||null}function L1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Cl(s,a,((l,u)=>eL(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends Hf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends Hf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function U1(t,e,n){const s=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,J6(u,f,n[a]))}return s}function B1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,Z6(l,u,e))}return s}class Z0 extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sL extends Hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rL{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&nL(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=GC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=ZC(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,s)=>L1(n,s)))&&Cl(this.baseMutations,e.baseMutations,((n,s)=>L1(n,s)))}}class J0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return Q6})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new J0(e,n,s,a)}}class aL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oL{constructor(e,n){this.count=e,this.unchangedNames=n}}var Gt,$e;function lL(t){switch(t){case se.OK:return ke(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function ek(t){if(t===void 0)return Js("GRPC error has no .code"),se.UNKNOWN;switch(t){case Gt.OK:return se.OK;case Gt.CANCELLED:return se.CANCELLED;case Gt.UNKNOWN:return se.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return se.INTERNAL;case Gt.UNAVAILABLE:return se.UNAVAILABLE;case Gt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Gt.NOT_FOUND:return se.NOT_FOUND;case Gt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Gt.ABORTED:return se.ABORTED;case Gt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Gt.DATA_LOSS:return se.DATA_LOSS;default:return ke(39323,{code:t})}}($e=Gt||(Gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function cL(){return new TextEncoder}const uL=new Hr([4294967295,4294967295],0);function z1(t){const e=cL().encode(t),n=new mC;return n.update(e),new Uint8Array(n.digest())}function q1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hr([n,s],0),new Hr([a,l],0)]}class ev{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Hr.fromNumber(s)));return a.compare(uL)===1&&(a=new Hr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=z1(e),[s,a]=q1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new ev(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=z1(e),[s,a]=q1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gf(Ie.min(),a,new At(Fe),er(),He())}}class Hu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Hu(s,n,He(),He(),He())}}class Hd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class tk{constructor(e,n){this.targetId=e,this.Ce=n}}class nk{constructor(e,n,s=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class F1{constructor(){this.ve=0,this.Fe=H1(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ke(38017,{changeType:l})}})),new Hu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=H1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hL{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=Cd(),this.He=Cd(),this.Ye=new At(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Iy(l))if(s===0){const u=new we(l.path);this.et(n,u,xn.newNoDocument(u,Ie.min()))}else nt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Xr(s).toUint8Array()}catch(m){if(m instanceof SC)return Sl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new ev(u,a,l)}catch(m){return Sl(m instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Iy(f.target)){const m=new we(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,xn.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Gf(e,n,this.Ye,this.je,s);return this.je=er(),this.Je=Cd(),this.He=Cd(),this.Ye=new At(Fe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new F1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cd(){return new At(we.comparator)}function H1(){return new At(we.comparator)}const dL={asc:"ASCENDING",desc:"DESCENDING"},fL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mL={and:"AND",or:"OR"};class pL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function My(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gL(t,e){return mf(t,e.toTimestamp())}function gs(t){return nt(!!t,49232),Ie.fromTimestamp((function(n){const s=Yr(n);return new gt(s.seconds,s.nanos)})(t))}function tv(t,e){return Py(t,e).canonicalString()}function Py(t,e){const n=(function(a){return new pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sk(t){const e=pt.fromString(t);return nt(ck(e),10190,{key:e.toString()}),e}function Oy(t,e){return tv(t.databaseId,e.path)}function Mg(t,e){const n=sk(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(ak(n))}function rk(t,e){return tv(t.databaseId,e)}function yL(t){const e=sk(t);return e.length===4?pt.emptyPath():ak(e)}function Vy(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function G1(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function vL(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ke(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(nt(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const y=g.code===void 0?se.UNKNOWN:ek(g.code);return new ye(y,g.message||"")})(u);n=new nk(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Mg(t,s.document.name),l=gs(s.document.updateTime),u=s.document.createTime?gs(s.document.createTime):Ie.min(),f=new Un({mapValue:{fields:s.document.fields}}),m=xn.newFoundDocument(a,l,u,f),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Hd(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Mg(t,s.document),l=s.readTime?gs(s.readTime):Ie.min(),u=xn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Hd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Mg(t,s.document),l=s.removedTargetIds||[];n=new Hd([],l,a,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new oL(a,l),f=s.targetId;n=new tk(f,u)}}return n}function _L(t,e){let n;if(e instanceof Fu)n={update:G1(t,e.key,e.value)};else if(e instanceof Z0)n={delete:Oy(t,e.key)};else if(e instanceof oa)n={update:G1(t,e.key,e.data),updateMask:kL(e.fieldMask)};else{if(!(e instanceof sL))return ke(16599,{Vt:e.type});n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof Ru)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Iu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Nu)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:gL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(t,e.precondition)),n}function xL(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?gs(a.updateTime):gs(l);return u.isEqual(Ie.min())&&(u=gs(l)),new tL(u,a.transformResults||[])})(n,e)))):[]}function bL(t,e){return{documents:[rk(t,e.path)]}}function TL(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rk(t,a);const l=(function(g){if(g.length!==0)return lk(Ui.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(w){return{field:ll(w.field),direction:AL(w.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=My(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function wL(t){let e=yL(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){nt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(b){const w=ok(b);return w instanceof Ui&&VC(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(D){return new ku(cl(D.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,Lf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,k=b.values||[];return new ff(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,k=b.values||[];return new ff(k,w)})(n.endAt)),F6(e,a,u,l,f,"F",m,g)}function EL(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ok(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=cl(n.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=cl(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=cl(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cl(n.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(cl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>ok(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function AL(t){return dL[t]}function SL(t){return fL[t]}function CL(t){return mL[t]}function ll(t){return{fieldPath:t.canonicalString()}}function cl(t){return pn.fromServerFormat(t.fieldPath)}function lk(t){return t instanceof $t?(function(n){if(n.op==="=="){if(D1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(N1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(N1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:SL(n.op),value:n.value}}})(t):t instanceof Ui?(function(n){const s=n.getFilters().map((a=>lk(a)));return s.length===1?s[0]:{compositeFilter:{op:CL(n.op),filters:s}}})(t):ke(54877,{filter:t})}function kL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class zr{constructor(e,n,s,a,l=Ie.min(),u=Ie.min(),f=gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RL{constructor(e){this.yt=e}}function IL(t){const e=wL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dy(e,e.limit,"L"):e}class NL{constructor(){this.Cn=new DL}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Qr.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class DL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Zt(pt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Zt(pt.comparator)).toArray()}}const K1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uk=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(uk,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nl(0)}static cr(){return new Nl(-1)}}const $1="LruGarbageCollector",ML=1048576;function Q1([t,e],[n,s]){const a=Fe(t,n);return a===0?Fe(e,s):a}class PL{constructor(e){this.Ir=e,this.buffer=new Zt(Q1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Q1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve($1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?ve($1,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class VL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(jf.ce);const s=new PL(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(K1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,f,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),al()<=qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function jL(t,e){return new VL(t,e)}class LL{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class BL{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&fu(s.mutation,a,Jn.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const a=$a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=eu();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=$a();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=er();const u=du(),f=(function(){return du()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof oa)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),fu(y.mutation,g,y.mutation.getFieldMask(),gt.now())):u.set(g.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>u.set(g,y))),n.forEach(((g,y)=>f.set(g,new UL(y,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=du();let a=new At(((u,f)=>u-f)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Jn.empty();y=f.applyToLocalView(g,y),s.set(m,y);const b=(a.get(f.batchId)||He()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,b=GC();y.forEach((w=>{if(!l.has(w)){const k=ZC(n.get(w),s.get(w));k!==null&&b.set(w,k),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):le.resolve($a());let f=Eu,m=l;return u.next((g=>le.forEach(g,((y,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(y)?le.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{m=m.insert(y,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,He()))).next((y=>({batchId:f,changes:HC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let a=eu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=eu();return this.indexManager.getCollectionParents(e,l).next((f=>le.forEach(f,(m=>{const g=(function(b,w){return new Bl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((y=>{y.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,xn.newInvalidDocument(y)))}));let f=eu();return u.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&fu(y.mutation,g,Jn.empty(),gt.now()),qf(n,g)&&(f=f.insert(m,g))})),f}))}}class zL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:gs(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:IL(a.bundledQuery),readTime:gs(a.readTime)}})(n)),le.resolve()}}class qL{constructor(){this.overlays=new At(we.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$a();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const a=$a(),l=n.length+1,u=new we(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new At(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=$a(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=$a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return le.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new aL(n,s));let l=this.qr.get(n);l===void 0&&(l=He(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class FL{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class nv{constructor(){this.Qr=new Zt(sn.$r),this.Ur=new Zt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new sn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new pt([])),s=new sn(n,e),a=new sn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new pt([])),s=new sn(n,e),a=new sn(n,e+1);let l=He();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new sn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class HL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(sn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rL(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?G0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(Fe);return n.forEach((a=>{const l=new sn(a,0),u=new sn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{s=s.add(f.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new sn(new we(l),0);let f=new Zt(Fe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),u),le.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(n.mutations,(a=>{const l=new sn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new sn(n,0),a=this.Zr.firstAfterOrEqual(s);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class GL{constructor(e){this.ri=e,this.docs=(function(){return new At(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():xn.newInvalidDocument(a))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=er();const u=n.path,f=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||b6(x6(y),s)<=0||(a.has(y.key)||qf(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,s,a){ke(9500)}ii(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new KL(this)}getSize(e){return le.resolve(this.size)}}class KL extends LL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class $L{constructor(e){this.persistence=e,this.si=new co((n=>Q0(n)),Y0),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new nv,this.targetCount=0,this.ai=Nl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class hk{constructor(e,n){this.ui={},this.overlays={},this.ci=new jf(0),this.li=!1,this.li=!0,this.hi=new FL,this.referenceDelegate=e(this),this.Pi=new $L(this),this.indexManager=new NL,this.remoteDocumentCache=(function(a){return new GL(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new RL(n),this.Ii=new zL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new HL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const a=new QL(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class QL extends w6{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ri=new nv,this.Vi=null}static mi(e){return new iv(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const a=we.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pf{constructor(e,n){this.persistence=e,this.pi=new co((s=>S6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=jL(this,n)}static mi(e,n){return new pf(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ie.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zd(e.data.value)),n}br(e,n,s){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new sv(e,n.fromCache,s,a)}}class YL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E4()?8:E6(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new YL;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(al()<=qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(al()<=qe.DEBUG&&ve("QueryEngine","Query:",ol(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(al()<=qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ps(n))):le.resolve())}ys(e,n){if(V1(n))return le.resolve(null);let s=ps(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Dy(n,null,"F"),s=ps(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=He(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,u,m.readTime)?this.ys(e,Dy(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return V1(n)||a.isEqual(Ie.min())?le.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?le.resolve(null):(al()<=qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(n)),this.vs(e,u,n,_6(a,Eu)).next((f=>f)))}))}Ds(e,n){let s=new Zt(qC(e));return n.forEach(((a,l)=>{qf(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return al()<=qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(e,n,Qr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const rv="LocalStore",WL=3e8;class ZL{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new At(Fe),this.xs=new co((l=>Q0(l)),Y0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JL(t,e,n,s){return new ZL(t,e,n,s)}async function dk(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=He();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function e5(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const b=g.batch,w=b.keys();let k=le.resolve();return w.forEach((D=>{k=k.next((()=>y.getEntry(m,D))).next((O=>{const M=g.docVersions.get(D);nt(M!==null,48541),O.version.compareTo(M)<0&&(b.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),y.addEntry(O)))}))})),k.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=He();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function fk(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function t5(t,e){const n=Me(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((y,b)=>{const w=a.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,b))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(gn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(y.resumeToken,s)),a=a.insert(b,k),(function(O,M,F){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=WL?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,k,y)&&f.push(n.Pi.updateTargetData(l,k))}));let m=er(),g=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(n5(l,u,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!s.isEqual(Ie.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return le.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function n5(t,e,n){let s=He(),a=He();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=er();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):ve(rv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function i5(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=G0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function s5(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,le.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new zr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function jy(t,e,n){const s=Me(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ul(u))throw u;ve(rv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Y1(t,e,n){const s=Me(t);let a=Ie.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const b=Me(m),w=b.xs.get(y);return w!==void 0?le.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,y)})(s,u,ps(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Ie.min(),n?l:He()))).next((f=>(r5(s,G6(e),f),{documents:f,Qs:l})))))}function r5(t,e,n){let s=t.Os.get(e)||Ie.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class X1{constructor(){this.activeTargetIds=W6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a5{constructor(){this.Mo=new X1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new X1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class o5{Oo(e){}shutdown(){}}const W1="ConnectivityMonitor";class Z1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(W1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(W1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kd=null;function Ly(){return kd===null?kd=(function(){return 268435456+Math.round(2147483648*Math.random())})():kd++,"0x"+kd.toString(16)}const Pg="RestConnection",l5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===hf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Ly(),f=this.zo(e,n.toUriEncodedString());ve(Pg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),y=ta(g);return this.Jo(e,f,m,s,y).then((b=>(ve(Pg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Sl(Pg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=l5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class u5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class h5 extends c5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Ly();return new Promise(((f,m)=>{const g=new pC;g.setWithCredentials(!0),g.listenOnce(gC.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Bd.NO_ERROR:const b=g.getResponseJson();ve(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Bd.TIMEOUT:ve(vn,`RPC '${e}' ${u} timed out`),m(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const w=g.getStatus();if(ve(vn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const D=k?.error;if(D&&D.status&&D.message){const O=(function(F){const ee=F.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ee)>=0?ee:se.UNKNOWN})(D.status);m(new ye(O,D.message))}else m(new ye(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ye(se.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ve(vn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ve(vn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=Ly(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_C(),f=vC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ve(vn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const b=u.createWebChannel(y,m);this.I_(b);let w=!1,k=!1;const D=new u5({Yo:M=>{k?ve(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(w||(ve(vn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ve(vn,`RPC '${e}' stream ${a} sending:`,M),b.send(M))},Zo:()=>b.close()}),O=(M,F,ee)=>{M.listen(F,(Y=>{try{ee(Y)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return O(b,Jc.EventType.OPEN,(()=>{k||(ve(vn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),O(b,Jc.EventType.CLOSE,(()=>{k||(k=!0,ve(vn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(b))})),O(b,Jc.EventType.ERROR,(M=>{k||(k=!0,Sl(vn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),D.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),O(b,Jc.EventType.MESSAGE,(M=>{if(!k){const F=M.data[0];nt(!!F,16349);const ee=F,Y=ee?.error||ee[0]?.error;if(Y){ve(vn,`RPC '${e}' stream ${a} received error:`,Y);const ue=Y.status;let he=(function(C){const N=Gt[C];if(N!==void 0)return ek(N)})(ue),de=Y.message;he===void 0&&(he=se.INTERNAL,de="Unknown error status: "+ue+" with message "+Y.message),k=!0,D.a_(new ye(he,de)),b.close()}else ve(vn,`RPC '${e}' stream ${a} received:`,F),D.u_(F)}})),O(f,yC.STAT_EVENT,(M=>{M.stat===Ay.PROXY?ve(vn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Ay.NOPROXY&&ve(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Og(){return typeof document<"u"?document:null}function Kf(t){return new pL(t,!0)}class mk{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const J1="PersistentStream";class pk{constructor(e,n,s,a,l,u,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(J1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(J1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d5 extends pk{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vL(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?gs(u.readTime):Ie.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Vy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=Iy(m)?{documents:bL(l,m)}:{query:TL(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=ik(l,u.resumeToken);const g=My(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ie.min())>0){f.readTime=mf(l,u.snapshotVersion.toTimestamp());const g=My(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=EL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Vy(this.serializer),n.removeTarget=e,this.q_(n)}}class f5 extends pk{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xL(e.writeResults,e.commitTime),s=gs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Vy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>_L(this.serializer,s)))};this.q_(n)}}class m5{}class p5 extends m5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Py(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Py(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const io="RemoteStore";class y5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{uo(this)&&(ve(io,"Restarting streams for network reachability change."),await(async function(m){const g=Me(m);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await $f(g)})(this))}))})),this.Ra=new g5(s,a)}}async function $f(t){if(uo(t))for(const e of t.da)await e(!0)}async function Gu(t){for(const e of t.da)await e(!1)}function gk(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cv(n)?lv(n):zl(n).O_()&&ov(n,e))}function av(t,e){const n=Me(t),s=zl(n);n.Ia.delete(e),s.O_()&&yk(n,e),n.Ia.size===0&&(s.O_()?s.L_():uo(n)&&n.Ra.set("Unknown"))}function ov(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Y_(e)}function yk(t,e){t.Va.Ue(e),zl(t).Z_(e)}function lv(t){t.Va=new hL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Ra.ua()}function cv(t){return uo(t)&&!zl(t).x_()&&t.Ia.size>0}function uo(t){return Me(t).Ea.size===0}function vk(t){t.Va=void 0}async function v5(t){t.Ra.set("Online")}async function _5(t){t.Ia.forEach(((e,n)=>{ov(t,e)}))}async function x5(t,e){vk(t),cv(t)?(t.Ra.ha(e),lv(t)):t.Ra.set("Unknown")}async function b5(t,e,n){if(t.Ra.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){ve(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gf(t,s)}else if(e instanceof Hd?t.Va.Ze(e):e instanceof tk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const s=await fk(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),yk(l,m);const b=new zr(y.target,m,g,y.sequenceNumber);ov(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ve(io,"Failed to raise snapshot:",s),await gf(t,s)}}async function gf(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await Gu(t),t.Ra.set("Offline"),n||(n=()=>fk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $f(t)}))}function _k(t,e){return e().catch((n=>gf(t,n,e)))}async function Qf(t){const e=Me(t),n=Zr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:G0;for(;T5(e);)try{const a=await i5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,w5(e,a)}catch(a){await gf(e,a)}xk(e)&&bk(e)}function T5(t){return uo(t)&&t.Ta.length<10}function w5(t,e){t.Ta.push(e);const n=Zr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xk(t){return uo(t)&&!Zr(t).x_()&&t.Ta.length>0}function bk(t){Zr(t).start()}async function E5(t){Zr(t).ra()}async function A5(t){const e=Zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function S5(t,e,n){const s=t.Ta.shift(),a=J0.from(s,e,n);await _k(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Qf(t)}async function C5(t,e){e&&Zr(t).X_&&await(async function(s,a){if((function(u){return lL(u)&&u!==se.ABORTED})(a.code)){const l=s.Ta.shift();Zr(s).B_(),await _k(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Qf(s)}})(t,e),xk(t)&&bk(t)}async function eE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ve(io,"RemoteStore received new credentials");const s=uo(n);n.Ea.add(3),await Gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $f(n)}async function k5(t,e){const n=Me(t);e?(n.Ea.delete(2),await $f(n)):e||(n.Ea.add(2),await Gu(n),n.Ra.set("Unknown"))}function zl(t){return t.ma||(t.ma=(function(n,s,a){const l=Me(n);return l.sa(),new d5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:v5.bind(null,t),t_:_5.bind(null,t),r_:x5.bind(null,t),H_:b5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cv(t)?lv(t):t.Ra.set("Unknown")):(await t.ma.stop(),vk(t))}))),t.ma}function Zr(t){return t.fa||(t.fa=(function(n,s,a){const l=Me(n);return l.sa(),new f5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:E5.bind(null,t),r_:C5.bind(null,t),ta:A5.bind(null,t),na:S5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Qf(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class uv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new uv(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(t,e){if(Js("AsyncQueue",`${e}: ${t}`),Ul(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=eu(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class tE{constructor(){this.ga=new At(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Dl{constructor(e,n,s,a,l,u,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Dl(e,n,xl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class R5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I5{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Me(n),l=a.queries;a.queries=nE(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function nE(){return new co((t=>zC(t)),zf)}async function dv(t,e){const n=Me(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new R5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=hv(u,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&mv(n)}async function fv(t,e){const n=Me(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function N5(t,e){const n=Me(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(s=!0);u.wa=a}}s&&mv(n)}function D5(t,e,n){const s=Me(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function mv(t){t.Ca.forEach((e=>{e.next()}))}var Uy,iE;(iE=Uy||(Uy={})).Ma="default",iE.Cache="cache";class pv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Dl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Uy.Cache}}class Tk{constructor(e){this.key=e}}class wk{constructor(e){this.key=e}}class M5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=qC(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new tE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,b)=>{const w=a.get(y),k=qf(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),O=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let M=!1;w&&k?w.data.isEqual(k.data)?D!==O&&(s.track({type:3,doc:k}),M=!0):this.su(w,k)||(s.track({type:2,doc:k}),M=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(f=!0)):!w&&k?(s.track({type:0,doc:k}),M=!0):w&&!k&&(s.track({type:1,doc:w}),M=!0,(m||g)&&(f=!0)),M&&(k?(u=u.add(k),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,b)=>(function(k,D){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:M})}};return O(k)-O(D)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Dl(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new wk(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Tk(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gv="SyncEngine";class P5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class O5{constructor(e){this.key=e,this.hu=!1}}class V5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new co((f=>zC(f)),zf),this.Iu=new Map,this.Eu=new Set,this.du=new At(we.comparator),this.Au=new Map,this.Ru=new nv,this.Vu={},this.mu=new Map,this.fu=Nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j5(t,e,n=!0){const s=Rk(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Ek(s,e,n,!0),a}async function L5(t,e){const n=Rk(t);await Ek(n,e,!0,!1)}async function Ek(t,e,n,s){const a=await s5(t.localStore,ps(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await U5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&gk(t.remoteStore,a),f}async function U5(t,e,n,s,a){t.pu=(b,w,k)=>(async function(O,M,F,ee){let Y=M.view.ru(F);Y.Cs&&(Y=await Y1(O.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,Y))));const ue=ee&&ee.targetChanges.get(M.targetId),he=ee&&ee.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(Y,O.isPrimaryClient,ue,he);return rE(O,M.targetId,de.au),de.snapshot})(t,b,w,k);const l=await Y1(t.localStore,e,!0),u=new M5(e,l.Qs),f=u.ru(l.documents),m=Hu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,m);rE(t,n,g.au);const y=new P5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function B5(t,e,n){const s=Me(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!zf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await jy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&av(s.remoteStore,a.targetId),By(s,a.targetId)})).catch(Ll)):(By(s,a.targetId),await jy(s.localStore,a.targetId,!0))}async function z5(t,e){const n=Me(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),av(n.remoteStore,s.targetId))}async function q5(t,e,n){const s=Y5(t);try{const a=await(function(u,f){const m=Me(u),g=gt.now(),y=f.reduce(((k,D)=>k.add(D.key)),He());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let D=er(),O=He();return m.Ns.getEntries(k,y).next((M=>{D=M,D.forEach(((F,ee)=>{ee.isValidDocument()||(O=O.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,D))).next((M=>{b=M;const F=[];for(const ee of f){const Y=iL(ee,b.get(ee.key).overlayedDocument);Y!=null&&F.push(new oa(ee.key,Y,MC(Y.value.mapValue),_i.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,F,f)})).next((M=>{w=M;const F=M.applyToLocalDocumentSet(b,O);return m.documentOverlayCache.saveOverlays(k,M.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:HC(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new At(Fe)),g=g.insert(f,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Ku(s,a.changes),await Qf(s.remoteStore)}catch(a){const l=hv(a,"Failed to persist write");n.reject(l)}}async function Ak(t,e){const n=Me(t);try{const s=await t5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Ku(n,s,e)}catch(s){await Ll(s)}}function sE(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=Me(u);m.onlineState=f;let g=!1;m.queries.forEach(((y,b)=>{for(const w of b.Sa)w.va(f)&&(g=!0)})),g&&mv(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function F5(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new At(we.comparator);u=u.insert(l,xn.newNoDocument(l,Ie.min()));const f=He().add(l),m=new Gf(Ie.min(),new Map,new At(Fe),u,f);await Ak(s,m),s.du=s.du.remove(l),s.Au.delete(e),yv(s)}else await jy(s.localStore,e,!1).then((()=>By(s,e,n))).catch(Ll)}async function H5(t,e){const n=Me(t),s=e.batch.batchId;try{const a=await e5(n.localStore,e);Ck(n,s,null),Sk(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(n,a)}catch(a){await Ll(a)}}async function G5(t,e,n){const s=Me(t);try{const a=await(function(u,f){const m=Me(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((b=>(nt(b!==null,37113),y=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,e);Ck(s,e,n),Sk(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ku(s,a)}catch(a){await Ll(a)}}function Sk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ck(t,e,n){const s=Me(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function By(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||kk(t,s)}))}function kk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(av(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yv(t))}function rE(t,e,n){for(const s of n)s instanceof Tk?(t.Ru.addReference(s.key,e),K5(t,s)):s instanceof wk?(ve(gv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||kk(t,s.key)):ke(19791,{wu:s})}function K5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ve(gv,"New document in limbo: "+n),t.Eu.add(s),yv(t))}function yv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(pt.fromString(e)),s=t.fu.next();t.Au.set(s,new O5(n)),t.du=t.du.insert(n,s),gk(t.remoteStore,new zr(ps(Bf(n.path)),s,"TargetPurposeLimboResolution",jf.ce))}}async function Ku(t,e,n){const s=Me(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=sv.As(m.targetId,g);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const y=Me(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(g,(w=>le.forEach(w.Es,(k=>y.persistence.referenceDelegate.addReference(b,w.targetId,k))).next((()=>le.forEach(w.ds,(k=>y.persistence.referenceDelegate.removeReference(b,w.targetId,k)))))))))}catch(b){if(!Ul(b))throw b;ve(rv,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const k=y.Ms.get(w),D=k.snapshotVersion,O=k.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(w,O)}}})(s.localStore,l))}async function $5(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ve(gv,"User change. New user:",e.toKey());const s=await dk(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ye(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ku(n,s.Ls)}}function Q5(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function Rk(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F5.bind(null,e),e.Pu.H_=N5.bind(null,e.eventManager),e.Pu.yu=D5.bind(null,e.eventManager),e}function Y5(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,e),e}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JL(this.persistence,new XL,e.initialUser,this.serializer)}Cu(e){return new hk(iv.mi,this.serializer)}Du(e){return new a5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class X5 extends yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof pf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new hk((s=>pf.mi(s,n)),this.serializer)}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$5.bind(null,this.syncEngine),await k5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I5})()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),s=(function(l){return new h5(l)})(e.databaseInfo);return(function(l,u,f,m){return new p5(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new y5(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>sE(this.syncEngine,n,0)),(function(){return Z1.v()?new Z1:new o5})())}createSyncEngine(e,n){return(function(a,l,u,f,m,g,y){const b=new V5(a,l,u,f,m,g);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Me(n);ve(io,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zy.provider={build:()=>new zy};class vv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Jr="FirestoreClient";class W5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=H0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ve(Jr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ve(Jr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await dk(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z5(t);ve(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>eE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>eE(e.remoteStore,a))),t._onlineComponents=e}async function Z5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Jr,"Using user provided OfflineComponentProvider");try{await Vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Sl("Error using user provided cache. Falling back to memory cache: "+n),await Vg(t,new yf)}}else ve(Jr,"Using default OfflineComponentProvider"),await Vg(t,new X5(void 0));return t._offlineComponents}async function Ik(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Jr,"Using user provided OnlineComponentProvider"),await aE(t,t._uninitializedComponentsProvider._online)):(ve(Jr,"Using default OnlineComponentProvider"),await aE(t,new zy))),t._onlineComponents}function J5(t){return Ik(t).then((e=>e.syncEngine))}async function vf(t){const e=await Ik(t),n=e.eventManager;return n.onListen=j5.bind(null,e.syncEngine),n.onUnlisten=B5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z5.bind(null,e.syncEngine),n}function eU(t,e,n={}){const s=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const y=new vv({next:w=>{y.Nu(),u.enqueueAndForget((()=>fv(l,b)));const k=w.docs.has(f);!k&&w.fromCache?g.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&m&&m.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new pv(Bf(f.path),y,{includeMetadataChanges:!0,qa:!0});return dv(l,b)})(await vf(t),t.asyncQueue,e,n,s))),s.promise}function tU(t,e,n={}){const s=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const y=new vv({next:w=>{y.Nu(),u.enqueueAndForget((()=>fv(l,b))),w.fromCache&&m.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new pv(f,y,{includeMetadataChanges:!0,qa:!0});return dv(l,b)})(await vf(t),t.asyncQueue,e,n,s))),s.promise}function Nk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const oE=new Map;const Dk="firestore.googleapis.com",lE=!0;class cE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dk,this.ssl=lE}else this.host=e.host,this.ssl=e.ssl??lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ML)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nk(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new l6;switch(s.type){case"firstParty":return new d6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),oE.delete(n),s.terminate())})(this),Promise.resolve()}}function nU(t,e,n,s={}){t=qn(t,Yf);const a=ta(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(I0(`https://${f}`),N0("Firestore",!0)),l.host!==Dk&&l.host!==f&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Xs(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=_n.MOCK_USER;else{g=AS(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(b)}t._authCredentials=new c6(new bC(g,y))}}class la{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class It{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(qu(n,It._jsonSchema))return new It(e,s||null,new we(pt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Qt("string",It._jsonSchemaVersion),referencePath:Qt("string")};class Gr extends la{constructor(e,n,s){super(e,n,Bf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new we(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function us(t,e,...n){if(t=dt(t),TC("collection","path",e),t instanceof Yf){const s=pt.fromString(e,...n);return T1(s),new Gr(t,null,s)}{if(!(t instanceof It||t instanceof Gr))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return T1(s),new Gr(t.firestore,null,s)}}function mn(t,e,...n){if(t=dt(t),arguments.length===1&&(e=H0.newId()),TC("doc","path",e),t instanceof Yf){const s=pt.fromString(e,...n);return b1(s),new It(t,null,new we(s))}{if(!(t instanceof It||t instanceof Gr))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return b1(s),new It(t.firestore,t instanceof Gr?t.converter:null,new we(s))}}const uE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mk(this,"async_queue_retry"),this._c=()=>{const s=Og();s&&ve(uE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;ve(uE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",dE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=uv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ke(47125,{Pc:dE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function fE(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class tr extends Yf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new hE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function iU(t,e){const n=typeof t=="object"?t:Df(),s=typeof t=="string"?t:hf,a=na(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=TS("firestore");l&&nU(a,...l)}return a}function Xf(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sU(t),t._firestoreClient}function sU(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new R6(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Nk(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(gn.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Qt("string",gi._jsonSchemaVersion),bytes:Qt("string")};class Wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ql{constructor(e){this._methodName=e}}class ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(e){if(qu(e,ys._jsonSchema))return new ys(e.latitude,e.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:Qt("string",ys._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vs(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vs._jsonSchemaVersion="firestore/vectorValue/1.0",vs._jsonSchema={type:Qt("string",vs._jsonSchemaVersion),vectorValues:Qt("object")};const rU=/^__.*__$/;class aU{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class Mk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class Zf{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pk(this.Ac)&&rU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oU{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kf(e)}Cc(e,n,s,a=!1){return new Zf({Ac:e,methodName:n,Dc:s,path:pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new oU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ok(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Tv("Data must be an object, but it was:",u,s);const f=Vk(s,u);let m,g;if(l.merge)m=new Jn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const w=qy(e,b,n);if(!u.contains(w))throw new ye(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Lk(y,w)||y.push(w)}m=new Jn(y),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new aU(new Un(f),m,g)}class em extends ql{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}function lU(t,e,n){return new Zf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _v extends ql{_toFieldTransform(e){return new W0(e.path,new Ru)}isEqual(e){return e instanceof _v}}class xv extends ql{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=lU(this,e,!0),s=this.vc.map((l=>Fl(l,n))),a=new Il(s);return new W0(e.path,a)}isEqual(e){return e instanceof xv&&Xs(this.vc,e.vc)}}class bv extends ql{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Nu(e.serializer,$C(e.serializer,this.Fc));return new W0(e.path,n)}isEqual(e){return e instanceof bv&&this.Fc===e.Fc}}function cU(t,e,n,s){const a=t.Cc(1,e,n);Tv("Data must be an object, but it was:",a,s);const l=[],u=Un.empty();aa(s,((m,g)=>{const y=wv(e,m,n);g=dt(g);const b=a.yc(y);if(g instanceof em)l.push(y);else{const w=Fl(g,b);w!=null&&(l.push(y),u.set(y,w))}}));const f=new Jn(l);return new Mk(u,f,a.fieldTransforms)}function uU(t,e,n,s,a,l){const u=t.Cc(1,e,n),f=[qy(e,s,n)],m=[a];if(l.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(qy(e,l[w])),m.push(l[w+1]);const g=[],y=Un.empty();for(let w=f.length-1;w>=0;--w)if(!Lk(g,f[w])){const k=f[w];let D=m[w];D=dt(D);const O=u.yc(k);if(D instanceof em)g.push(k);else{const M=Fl(D,O);M!=null&&(g.push(k),y.set(k,M))}}const b=new Jn(g);return new Mk(y,b,u.fieldTransforms)}function hU(t,e,n,s=!1){return Fl(n,t.Cc(s?4:3,e))}function Fl(t,e){if(jk(t=dt(t)))return Tv("Unsupported field value:",e,t),Vk(t,e);if(t instanceof ql)return(function(s,a){if(!Pk(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=Fl(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $C(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:mf(a.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mf(a.serializer,l)}}if(s instanceof ys)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gi)return{bytesValue:ik(a.serializer,s._byteString)};if(s instanceof It){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vs)return(function(u,f){return{mapValue:{fields:{[NC]:{stringValue:DC},[df]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return X0(f.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Vf(s)}`)})(t,e)}function Vk(t,e){const n={};return AC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,((s,a)=>{const l=Fl(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function jk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof ys||t instanceof gi||t instanceof It||t instanceof ql||t instanceof vs)}function Tv(t,e,n){if(!jk(n)||!wC(n)){const s=Vf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function qy(t,e,n){if((e=dt(e))instanceof Wf)return e._internalPath;if(typeof e=="string")return wv(t,e);throw _f("Field path arguments must be of type string or ",t,!1,void 0,n)}const dU=new RegExp("[~\\*/\\[\\]]");function wv(t,e,n){if(e.search(dU)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wf(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _f(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ye(se.INVALID_ARGUMENT,f+t+m)}function Lk(t,e){return t.some((n=>n.isEqual(e)))}class Uk{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fU extends Uk{data(){return super.data()}}function tm(t,e){return typeof e=="string"?wv(t,e):e instanceof Wf?e._internalPath:e._delegate._internalPath}function Bk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class zk extends Ev{}function mu(t,e,...n){let s=[];e instanceof Ev&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof Av)).length,f=l.filter((m=>m instanceof nm)).length;if(u>1||u>0&&f>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class nm extends zk{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nm(e,n,s)}_apply(e){const n=this._parse(e);return qk(e._query,n),new la(e.firestore,e.converter,Ny(e._query,n))}_parse(e){const n=Jf(e.firestore);return(function(l,u,f,m,g,y,b){let w;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){gE(b,y);const D=[];for(const O of b)D.push(pE(m,l,O));w={arrayValue:{values:D}}}else w=pE(m,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||gE(b,y),w=hU(f,u,b,y==="in"||y==="not-in");return $t.create(g,y,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fy(t,e,n){const s=e,a=tm("where",t);return nm._create(a,s,n)}class Av extends Ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Av(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)qk(u,m),u=Ny(u,m)})(e._query,n),new la(e.firestore,e.converter,Ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sv extends zk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sv(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(l,u)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Bl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function mE(t,e="asc"){const n=e,s=tm("orderBy",t);return Sv._create(s,n)}function pE(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BC(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!we.isDocumentKey(s))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return I1(t,new we(s))}if(n instanceof It)return I1(t,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function gE(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qk(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mU{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return aa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[df].arrayValue?.values?.map((s=>Ot(s.doubleValue)));return new vs(n)}convertGeoPoint(e){return new ys(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);nt(ck(s),9688,{name:e});const a=new Su(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(n)||Js(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Fk(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends Uk{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Qt("string",Wa._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Gd extends Wa{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new nu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gd(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Gd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new nu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Gd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new nu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:pU(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}function Hy(t){t=qn(t,It);const e=qn(t.firestore,tr);return eU(Xf(e),t._key).then((n=>Hk(e,t,n)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Qt("string",Za._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Cv extends mU{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function xf(t){t=qn(t,la);const e=qn(t.firestore,tr),n=Xf(e),s=new Cv(e);return Bk(t._query),tU(n,t._query).then((a=>new Za(e,s,t,a)))}function iu(t,e,n){t=qn(t,It);const s=qn(t.firestore,tr),a=Fk(t.converter,e,n);return im(s,[Ok(Jf(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_i.none())])}function bl(t,e,n,...s){t=qn(t,It);const a=qn(t.firestore,tr),l=Jf(a);let u;return u=typeof(e=dt(e))=="string"||e instanceof Wf?uU(l,"updateDoc",t._key,e,n,s):cU(l,"updateDoc",t._key,e),im(a,[u.toMutation(t._key,_i.exists(!0))])}function bf(t){return im(qn(t.firestore,tr),[new Z0(t._key,_i.none())])}function Tf(t,e){const n=qn(t.firestore,tr),s=mn(t),a=Fk(t.converter,e);return im(n,[Ok(Jf(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then((()=>s))}function yE(t,...e){t=dt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fE(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,u,f;if(t instanceof It)u=qn(t.firestore,tr),f=Bf(t._key.path),l={next:m=>{e[s]&&e[s](Hk(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=qn(t,la);u=qn(m.firestore,tr),f=m._query;const g=new Cv(u);l={next:y=>{e[s]&&e[s](new Za(u,g,m,y))},error:e[s+1],complete:e[s+2]},Bk(t._query)}return(function(g,y,b,w){const k=new vv(w),D=new pv(y,k,b);return g.asyncQueue.enqueueAndForget((async()=>dv(await vf(g),D))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>fv(await vf(g),D)))}})(Xf(u),f,a,l)}function im(t,e){return(function(s,a){const l=new Ks;return s.asyncQueue.enqueueAndForget((async()=>q5(await J5(s),a,l))),l.promise})(Xf(t),e)}function Hk(t,e,n){const s=n.docs.get(e._key),a=new Cv(t);return new Wa(t,a,e._key,s,new nu(n.hasPendingWrites,n.fromCache),e.converter)}function il(){return new _v("serverTimestamp")}function gU(...t){return new xv("arrayUnion",t)}function vE(t){return new bv("increment",t)}(function(e,n=!0){(function(a){jl=a})(lo),Li(new xi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new tr(new u6(s.getProvider("auth-internal")),new f6(u,s.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),zn(y1,v1,e),zn(y1,v1,"esm2020")})();const Gk="firebasestorage.googleapis.com",Kk="storageBucket",yU=120*1e3,vU=600*1e3,_U=1e3;class St extends Ti{constructor(e,n,s=0){super(jg(e),`Firebase Storage: ${n} (${jg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function jg(t){return"storage/"+t}function kv(){const t="An unknown error occurred, please check the error payload for server response.";return new St(_t.UNKNOWN,t)}function xU(t){return new St(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function bU(t){return new St(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(_t.UNAUTHENTICATED,t)}function wU(){return new St(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EU(t){return new St(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $k(){return new St(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qk(){return new St(_t.CANCELED,"User canceled the upload/download.")}function AU(t){return new St(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function SU(t){return new St(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CU(){return new St(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kk+"' property when initializing the app?")}function Yk(){return new St(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kU(){return new St(_t.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function RU(){return new St(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IU(t){return new St(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gy(t){return new St(_t.INVALID_ARGUMENT,t)}function Xk(){return new St(_t.APP_DELETED,"The Firebase app was deleted.")}function NU(t){return new St(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pu(t,e){return new St(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qc(t){throw new St(_t.INTERNAL_ERROR,"Internal error: "+t)}class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(s.path==="")return s;throw SU(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const y="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${y}/b/${a}/o${w}`,"i"),D={bucket:1,path:3},O=n===Gk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",F=new RegExp(`^https?://${O}/${a}/${M}`,"i"),Y=[{regex:f,indices:m,postModify:l},{regex:k,indices:D,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<Y.length;ue++){const he=Y[ue],de=he.regex.exec(e);if(de){const R=de[he.indices.bucket];let C=de[he.indices.path];C||(C=""),s=new ei(R,C),he.postModify(s);break}}if(s==null)throw AU(e);return s}}class DU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function MU(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let g=!1;function y(...M){g||(g=!0,e.apply(null,M))}function b(M){a=setTimeout(()=>{a=null,t(k,m())},M)}function w(){l&&clearTimeout(l)}function k(M,...F){if(g){w();return}if(M){w(),y.call(null,M,...F);return}if(m()||u){w(),y.call(null,M,...F);return}s<64&&(s*=2);let Y;f===1?(f=2,Y=0):Y=(s+Math.random())*1e3,b(Y)}let D=!1;function O(M){D||(D=!0,w(),!g&&(a!==null?(M||(f=2),clearTimeout(a),b(0)):M||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,O(!0)},n),O}function PU(t){t(!1)}function OU(t){return t!==void 0}function VU(t){return typeof t=="function"}function jU(t){return typeof t=="object"&&!Array.isArray(t)}function sm(t){return typeof t=="string"||t instanceof String}function _E(t){return Rv()&&t instanceof Blob}function Rv(){return typeof Blob<"u"}function xE(t,e,n,s){if(s<e)throw Gy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Gy(`Invalid value for '${t}'. Expected ${n} or less.`)}function Hl(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function Wk(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ja||(Ja={}));function Zk(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class LU{constructor(e,n,s,a,l,u,f,m,g,y,b,w=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Rd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Ja.NO_ERROR,m=l.getStatus();if(!f||Zk(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ja.ABORT;s(!1,new Rd(!1,null,y));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Rd(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());OU(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=kv();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?Xk():Qk();u(m)}else{const m=$k();u(m)}};this.canceled_?n(!1,new Rd(!1,null,!0)):this.backoffId_=MU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function UU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FU(t,e,n,s,a,l,u=!0,f=!1){const m=Wk(t.urlParams),g=t.url+m,y=Object.assign({},t.headers);return zU(y,e),UU(y,n),BU(y,l),qU(y,s),new LU(g,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function HU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GU(...t){const e=HU();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Rv())return new Blob(t);throw new St(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function $U(t){if(typeof atob>"u")throw IU("base-64");return atob(t)}const hs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lg{constructor(e,n){this.data=e,this.contentType=n||null}}function QU(t,e){switch(t){case hs.RAW:return new Lg(Jk(e));case hs.BASE64:case hs.BASE64URL:return new Lg(e2(t,e));case hs.DATA_URL:return new Lg(XU(e),WU(e))}throw kv()}function Jk(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function YU(t){let e;try{e=decodeURIComponent(t)}catch{throw pu(hs.DATA_URL,"Malformed data URL.")}return Jk(e)}function e2(t,e){switch(t){case hs.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw pu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case hs.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw pu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$U(e)}catch(a){throw a.message.includes("polyfill")?a:pu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class t2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw pu(hs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=ZU(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function XU(t){const e=new t2(t);return e.base64?e2(hs.BASE64,e.rest):YU(e.rest)}function WU(t){return new t2(t).contentType}function ZU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class zs{constructor(e,n){let s=0,a="";_E(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(_E(this.data_)){const s=this.data_,a=KU(s,e,n);return a===null?null:new zs(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new zs(s,!0)}}static getBlob(...e){if(Rv()){const n=e.map(s=>s instanceof zs?s.data_:s);return new zs(GU.apply(null,n))}else{const n=e.map(u=>sm(u)?QU(hs.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new zs(a,!0)}}uploadData(){return this.data_}}function n2(t){let e;try{e=JSON.parse(t)}catch{return null}return jU(e)?e:null}function JU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eB(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function i2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function tB(t,e){return e}class Sn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||tB}}let Id=null;function nB(t){return!sm(t)||t.length<2?t:i2(t)}function Iv(){if(Id)return Id;const t=[];t.push(new Sn("bucket")),t.push(new Sn("generation")),t.push(new Sn("metageneration")),t.push(new Sn("name","fullPath",!0));function e(l,u){return nB(u)}const n=new Sn("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new Sn("size");return a.xform=s,t.push(a),t.push(new Sn("timeCreated")),t.push(new Sn("updated")),t.push(new Sn("md5Hash",null,!0)),t.push(new Sn("cacheControl",null,!0)),t.push(new Sn("contentDisposition",null,!0)),t.push(new Sn("contentEncoding",null,!0)),t.push(new Sn("contentLanguage",null,!0)),t.push(new Sn("contentType",null,!0)),t.push(new Sn("metadata","customMetadata",!0)),Id=t,Id}function iB(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new ei(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function sB(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return iB(s,t),s}function s2(t,e,n){const s=n2(e);return s===null?null:sB(t,s,n)}function rB(t,e,n,s){const a=n2(e);if(a===null||!sm(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const y=t.bucket,b=t.fullPath,w="/b/"+u(y)+"/o/"+u(b),k=Hl(w,n,s),D=Wk({alt:"media",token:g});return k+D})[0]}function r2(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class ho{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $s(t){if(!t)throw kv()}function Nv(t,e){function n(s,a){const l=s2(t,a,e);return $s(l!==null),l}return n}function aB(t,e){function n(s,a){const l=s2(t,a,e);return $s(l!==null),rB(l,a,t.host,t._protocol)}return n}function $u(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=wU():a=TU():n.getStatus()===402?a=bU(t.bucket):n.getStatus()===403?a=EU(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function Dv(t){const e=$u(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=xU(t.path)),l.serverResponse=a.serverResponse,l}return n}function oB(t,e,n){const s=e.fullServerUrl(),a=Hl(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new ho(a,l,Nv(t,n),u);return f.errorHandler=Dv(e),f}function lB(t,e,n){const s=e.fullServerUrl(),a=Hl(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new ho(a,l,aB(t,n),u);return f.errorHandler=Dv(e),f}function cB(t,e){const n=e.fullServerUrl(),s=Hl(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(m,g){}const f=new ho(s,a,u,l);return f.successCodes=[200,204],f.errorHandler=Dv(e),f}function uB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function a2(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=uB(null,e)),s}function o2(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let Y="";for(let ue=0;ue<2;ue++)Y=Y+Math.random().toString().slice(2);return Y}const m=f();u["Content-Type"]="multipart/related; boundary="+m;const g=a2(e,s,a),y=r2(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",k=zs.getBlob(b,s,w);if(k===null)throw Yk();const D={name:g.fullPath},O=Hl(l,t.host,t._protocol),M="POST",F=t.maxUploadRetryTime,ee=new ho(O,M,Nv(t,n),F);return ee.urlParams=D,ee.headers=u,ee.body=k.uploadData(),ee.errorHandler=$u(e),ee}class wf{constructor(e,n,s,a){this.current=e,this.total=n,this.finalized=!!s,this.metadata=a||null}}function Mv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{$s(!1)}return $s(!!n&&(e||["active"]).indexOf(n)!==-1),n}function hB(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u=a2(e,s,a),f={name:u.fullPath},m=Hl(l,t.host,t._protocol),g="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},b=r2(u,n),w=t.maxUploadRetryTime;function k(O){Mv(O);let M;try{M=O.getResponseHeader("X-Goog-Upload-URL")}catch{$s(!1)}return $s(sm(M)),M}const D=new ho(m,g,k,w);return D.urlParams=f,D.headers=y,D.body=b,D.errorHandler=$u(e),D}function dB(t,e,n,s){const a={"X-Goog-Upload-Command":"query"};function l(g){const y=Mv(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$s(!1)}b||$s(!1);const w=Number(b);return $s(!isNaN(w)),new wf(w,s.size(),y==="final")}const u="POST",f=t.maxUploadRetryTime,m=new ho(n,u,l,f);return m.headers=a,m.errorHandler=$u(e),m}const bE=256*1024;function fB(t,e,n,s,a,l,u,f){const m=new wf(0,0);if(u?(m.current=u.current,m.total=u.total):(m.current=0,m.total=s.size()),s.size()!==m.total)throw kU();const g=m.total-m.current;let y=g;a>0&&(y=Math.min(y,a));const b=m.current,w=b+y;let k="";y===0?k="finalize":g===y?k="upload, finalize":k="upload";const D={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${m.current}`},O=s.slice(b,w);if(O===null)throw Yk();function M(ue,he){const de=Mv(ue,["active","final"]),R=m.current+y,C=s.size();let N;return de==="final"?N=Nv(e,l)(ue,he):N=null,new wf(R,C,de==="final",N)}const F="POST",ee=e.maxUploadRetryTime,Y=new ho(n,F,M,ee);return Y.headers=D,Y.body=O.uploadData(),Y.progressCallback=f||null,Y.errorHandler=$u(t),Y}const jn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ug(t){switch(t){case"running":case"pausing":case"canceling":return jn.RUNNING;case"paused":return jn.PAUSED;case"success":return jn.SUCCESS;case"canceled":return jn.CANCELED;case"error":return jn.ERROR;default:return jn.ERROR}}class mB{constructor(e,n,s){if(VU(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function sl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class pB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Qc("cannot .send() more than once");if(ta(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gB extends pB{initXhr(){this.xhr_.responseType="text"}}function Br(){return new gB}class yB{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=Iv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(_t.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(Zk(a.status,[]))if(l)a=$k();else{this.sleepTime=Math.max(this.sleepTime*2,_U),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(_t.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=hB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Br,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const a=dB(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Br,n,s);this._request=l,l.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=bE*this._chunkMultiplier,n=new wf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let u;try{u=fB(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const f=this._ref.storage._makeRequest(u,Br,a,l,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){bE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=oB(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,Br,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=o2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Br,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Qk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ug(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,a){const l=new mB(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ug(this._state)){case jn.SUCCESS:sl(this._resolve.bind(null,this.snapshot))();break;case jn.CANCELED:case jn.ERROR:const n=this._reject;sl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ug(this._state)){case jn.RUNNING:case jn.PAUSED:e.next&&sl(e.next.bind(e,this.snapshot))();break;case jn.SUCCESS:e.complete&&sl(e.complete.bind(e))();break;case jn.CANCELED:case jn.ERROR:e.error&&sl(e.error.bind(e,this._error))();break;default:e.error&&sl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class so{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new so(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i2(this._location.path)}get storage(){return this._service}get parent(){const e=JU(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new so(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NU(e)}}function vB(t,e,n){t._throwIfRoot("uploadBytes");const s=o2(t.storage,t._location,Iv(),new zs(e,!0),n);return t.storage.makeRequestWithTokens(s,Br).then(a=>({metadata:a,ref:t}))}function _B(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new yB(t,new zs(e),n)}function xB(t){t._throwIfRoot("getDownloadURL");const e=lB(t.storage,t._location,Iv());return t.storage.makeRequestWithTokens(e,Br).then(n=>{if(n===null)throw RU();return n})}function bB(t){t._throwIfRoot("deleteObject");const e=cB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Br)}function TB(t,e){const n=eB(t._location.path,e),s=new ei(t._location.bucket,n);return new so(t.storage,s)}function wB(t){return/^[A-Za-z]+:\/\//.test(t)}function EB(t,e){return new so(t,e)}function l2(t,e){if(t instanceof Pv){const n=t;if(n._bucket==null)throw CU();const s=new so(n,n._bucket);return e!=null?l2(s,e):s}else return e!==void 0?TB(t,e):t}function AB(t,e){if(e&&wB(e)){if(t instanceof Pv)return EB(t,e);throw Gy("To use ref(service, url), the first argument must be a Storage instance.")}else return l2(t,e)}function TE(t,e){const n=e?.[Kk];return n==null?null:ei.makeFromBucketSpec(n,t)}function SB(t,e,n,s={}){t.host=`${e}:${n}`;const a=ta(e);a&&(I0(`https://${t.host}/b`),N0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:AS(l,t.app.options.projectId))}class Pv{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=Gk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yU,this._maxUploadRetryTime=vU,this._requests=new Set,a!=null?this._bucket=ei.makeFromBucketSpec(a,this._host):this._bucket=TE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=TE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new DU(Xk());{const u=FU(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const wE="@firebase/storage",EE="0.14.0";const c2="storage";function CB(t,e,n){return t=dt(t),vB(t,e,n)}function kB(t,e,n){return t=dt(t),_B(t,e,n)}function u2(t){return t=dt(t),xB(t)}function RB(t){return t=dt(t),bB(t)}function Ky(t,e){return t=dt(t),AB(t,e)}function IB(t=Df(),e){t=dt(t);const s=na(t,c2).getImmediate({identifier:e}),a=TS("storage");return a&&NB(s,...a),s}function NB(t,e,n,s={}){SB(t,e,n,s)}function DB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Pv(n,s,a,e,lo)}function MB(){Li(new xi(c2,DB,"PUBLIC").setMultipleInstances(!0)),zn(wE,EE,""),zn(wE,EE,"esm2020")}MB();const h2="@firebase/installations",Ov="0.6.19";const d2=1e4,f2=`w:${Ov}`,m2="FIS_v2",PB="https://firebaseinstallations.googleapis.com/v1",OB=3600*1e3,VB="installations",jB="Installations";const LB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ro=new oo(VB,jB,LB);function p2(t){return t instanceof Ti&&t.code.includes("request-failed")}function g2({projectId:t}){return`${PB}/projects/${t}/installations`}function y2(t){return{token:t.token,requestStatus:2,expiresIn:BB(t.expiresIn),creationTime:Date.now()}}async function v2(t,e){const s=(await e.json()).error;return ro.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function _2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function UB(t,{refreshToken:e}){const n=_2(t);return n.append("Authorization",zB(e)),n}async function x2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function BB(t){return Number(t.replace("s","000"))}function zB(t){return`${m2} ${t}`}async function qB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=g2(t),a=_2(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:n,authVersion:m2,appId:t.appId,sdkVersion:f2},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await x2(()=>fetch(s,f));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:y2(g.authToken)}}else throw await v2("Create Installation",m)}function b2(t){return new Promise(e=>{setTimeout(e,t)})}function FB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const HB=/^[cdef][\w-]{21}$/,$y="";function GB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=KB(t);return HB.test(n)?n:$y}catch{return $y}}function KB(t){return FB(t).substr(0,22)}function rm(t){return`${t.appName}!${t.appId}`}const T2=new Map;function w2(t,e){const n=rm(t);E2(n,e),$B(n,e)}function E2(t,e){const n=T2.get(t);if(n)for(const s of n)s(e)}function $B(t,e){const n=QB();n&&n.postMessage({key:t,fid:e}),YB()}let Qa=null;function QB(){return!Qa&&"BroadcastChannel"in self&&(Qa=new BroadcastChannel("[Firebase] FID Change"),Qa.onmessage=t=>{E2(t.data.key,t.data.fid)}),Qa}function YB(){T2.size===0&&Qa&&(Qa.close(),Qa=null)}const XB="firebase-installations-database",WB=1,ao="firebase-installations-store";let Bg=null;function Vv(){return Bg||(Bg=NS(XB,WB,{upgrade:(t,e)=>{e===0&&t.createObjectStore(ao)}})),Bg}async function Ef(t,e){const n=rm(t),a=(await Vv()).transaction(ao,"readwrite"),l=a.objectStore(ao),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&w2(t,e.fid),e}async function A2(t){const e=rm(t),s=(await Vv()).transaction(ao,"readwrite");await s.objectStore(ao).delete(e),await s.done}async function am(t,e){const n=rm(t),a=(await Vv()).transaction(ao,"readwrite"),l=a.objectStore(ao),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&w2(t,f.fid),f}async function jv(t){let e;const n=await am(t.appConfig,s=>{const a=ZB(s),l=JB(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===$y?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZB(t){const e=t||{fid:GB(),registrationStatus:0};return S2(e)}function JB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ro.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=e9(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:t9(t)}:{installationEntry:e}}async function e9(t,e){try{const n=await qB(t,e);return Ef(t.appConfig,n)}catch(n){throw p2(n)&&n.customData.serverCode===409?await A2(t.appConfig):await Ef(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function t9(t){let e=await AE(t.appConfig);for(;e.registrationStatus===1;)await b2(100),e=await AE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await jv(t);return s||n}return e}function AE(t){return am(t,e=>{if(!e)throw ro.create("installation-not-found");return S2(e)})}function S2(t){return n9(t)?{fid:t.fid,registrationStatus:0}:t}function n9(t){return t.registrationStatus===1&&t.registrationTime+d2<Date.now()}async function i9({appConfig:t,heartbeatServiceProvider:e},n){const s=s9(t,n),a=UB(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:f2,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await x2(()=>fetch(s,f));if(m.ok){const g=await m.json();return y2(g)}else throw await v2("Generate Auth Token",m)}function s9(t,{fid:e}){return`${g2(t)}/${e}/authTokens:generate`}async function Lv(t,e=!1){let n;const s=await am(t.appConfig,l=>{if(!C2(l))throw ro.create("not-registered");const u=l.authToken;if(!e&&o9(u))return l;if(u.requestStatus===1)return n=r9(t,e),l;{if(!navigator.onLine)throw ro.create("app-offline");const f=c9(l);return n=a9(t,f),f}});return n?await n:s.authToken}async function r9(t,e){let n=await SE(t.appConfig);for(;n.authToken.requestStatus===1;)await b2(100),n=await SE(t.appConfig);const s=n.authToken;return s.requestStatus===0?Lv(t,e):s}function SE(t){return am(t,e=>{if(!C2(e))throw ro.create("not-registered");const n=e.authToken;return u9(n)?{...e,authToken:{requestStatus:0}}:e})}async function a9(t,e){try{const n=await i9(t,e),s={...e,authToken:n};return await Ef(t.appConfig,s),n}catch(n){if(p2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await A2(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Ef(t.appConfig,s)}throw n}}function C2(t){return t!==void 0&&t.registrationStatus===2}function o9(t){return t.requestStatus===2&&!l9(t)}function l9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+OB}function c9(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function u9(t){return t.requestStatus===1&&t.requestTime+d2<Date.now()}async function h9(t){const e=t,{installationEntry:n,registrationPromise:s}=await jv(e);return s?s.catch(console.error):Lv(e).catch(console.error),n.fid}async function d9(t,e=!1){const n=t;return await f9(n),(await Lv(n,e)).token}async function f9(t){const{registrationPromise:e}=await jv(t);e&&await e}function m9(t){if(!t||!t.options)throw zg("App Configuration");if(!t.name)throw zg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw zg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function zg(t){return ro.create("missing-app-config-values",{valueName:t})}const k2="installations",p9="installations-internal",g9=t=>{const e=t.getProvider("app").getImmediate(),n=m9(e),s=na(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},y9=t=>{const e=t.getProvider("app").getImmediate(),n=na(e,k2).getImmediate();return{getId:()=>h9(n),getToken:a=>d9(n,a)}};function v9(){Li(new xi(k2,g9,"PUBLIC")),Li(new xi(p9,y9,"PRIVATE"))}v9();zn(h2,Ov);zn(h2,Ov,"esm2020");const Af="analytics",_9="firebase_id",x9="origin",b9=60*1e3,T9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uv="https://www.googletagmanager.com/gtag/js";const kn=new Nf("@firebase/analytics");const w9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ti=new oo("analytics","Analytics",w9);function E9(t){if(!t.startsWith(Uv)){const e=ti.create("invalid-gtag-resource",{gtagURL:t});return kn.warn(e.message),""}return t}function R2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function A9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function S9(t,e){const n=A9("firebase-js-sdk-policy",{createScriptURL:E9}),s=document.createElement("script"),a=`${Uv}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function C9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function k9(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await R2(n)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(f){kn.error(f)}t("config",a,l)}async function R9(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await R2(n);for(const m of u){const g=f.find(b=>b.measurementId===m),y=g&&e[g.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){kn.error(l)}}function I9(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await R9(t,e,n,f,m)}else if(l==="config"){const[f,m]=u;await k9(t,e,n,s,f,m)}else if(l==="consent"){const[f,m]=u;t("consent",f,m)}else if(l==="get"){const[f,m,g]=u;t("get",f,m,g)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){kn.error(f)}}return a}function N9(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=I9(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function D9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Uv)&&n.src.includes(t))return n;return null}const M9=30,P9=1e3;class O9{constructor(e={},n=P9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const I2=new O9;function V9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function j9(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:V9(n)},a=T9.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function L9(t,e=I2,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw ti.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw ti.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new z9;return setTimeout(async()=>{f.abort()},b9),N2({appId:s,apiKey:a,measurementId:l},u,f,e)}async function N2(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=I2){const{appId:l,measurementId:u}=t;try{await U9(s,e)}catch(f){if(u)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await j9(t);return a.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!B9(m)){if(a.deleteThrottleMetadata(l),u)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw f}const g=Number(m?.customData?.httpStatus)===503?qw(n,a.intervalMillis,M9):qw(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,y),kn.debug(`Calling attemptFetch again in ${g} millis`),N2(t,y,s,a)}}function U9(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(ti.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function B9(t){if(!(t instanceof Ti)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class z9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function q9(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function F9(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function H9(){if(CS())try{await kS()}catch(t){return kn.warn(ti.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return kn.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function G9(t,e,n,s,a,l,u){const f=L9(t);f.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>kn.error(w)),e.push(f);const m=H9().then(w=>{if(w)return s.getId()}),[g,y]=await Promise.all([f,m]);D9(l)||S9(l,g.measurementId),a("js",new Date);const b=u?.config??{};return b[x9]="firebase",b.update=!0,y!=null&&(b[_9]=y),a("config",g.measurementId,b),g.measurementId}class K9{constructor(e){this.app=e}_delete(){return delete Tl[this.app.options.appId],Promise.resolve()}}let Tl={},CE=[];const kE={};let qg="dataLayer",$9="gtag",RE,Bv,IE=!1;function Q9(){const t=[];if(SS()&&t.push("This is a browser extension environment."),A4()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=ti.create("invalid-analytics-context",{errorInfo:e});kn.warn(n.message)}}function Y9(t,e,n){Q9();const s=t.options.appId;if(!s)throw ti.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ti.create("no-api-key");if(Tl[s]!=null)throw ti.create("already-exists",{id:s});if(!IE){C9(qg);const{wrappedGtag:l,gtagCore:u}=N9(Tl,CE,kE,qg,$9);Bv=l,RE=u,IE=!0}return Tl[s]=G9(t,CE,kE,e,RE,qg,n),new K9(t)}function X9(t=Df()){t=dt(t);const e=na(t,Af);return e.isInitialized()?e.getImmediate():W9(t)}function W9(t,e={}){const n=na(t,Af);if(n.isInitialized()){const a=n.getImmediate();if(Xs(e,n.getOptions()))return a;throw ti.create("already-initialized")}return n.initialize({options:e})}function Z9(t,e,n){t=dt(t),F9(Bv,Tl[t.app.options.appId],e,n).catch(s=>kn.error(s))}function J9(t,e,n,s){t=dt(t),q9(Bv,Tl[t.app.options.appId],e,n,s).catch(a=>kn.error(a))}const NE="@firebase/analytics",DE="0.10.19";function ez(){Li(new xi(Af,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Y9(s,a,n)},"PUBLIC")),Li(new xi("analytics-internal",t,"PRIVATE")),zn(NE,DE),zn(NE,DE,"esm2020");function t(e){try{const n=e.getProvider(Af).getImmediate();return{logEvent:(s,a,l)=>J9(n,s,a,l),setUserProperties:(s,a)=>Z9(n,s,a)}}catch(n){throw ti.create("interop-component-reg-failed",{reason:n})}}}ez();const tz={apiKey:"AIzaSyB2FURkzhOCIsI4bi8-jc_uydZ_oFCbcYA",authDomain:"lets-try007.firebaseapp.com",databaseURL:"https://lets-try007-default-rtdb.firebaseio.com",projectId:"lets-try007",storageBucket:"lets-try007.firebasestorage.app",messagingSenderId:"218535335758",appId:"1:218535335758:web:3c03cb75cb2d10ec57301f",measurementId:"G-XE0W1LTN0G"},om=DS(tz);X9(om);const Yc=a6(om),mt=iU(om),Qy=IB(om),D2=te.createContext();function nz({children:t}){const[e,n]=te.useState(null),[s,a]=te.useState(!0);te.useEffect(()=>{const D=Q3(Yc,M=>{M?(n(F=>({...F,uid:M.uid,email:M.email,name:M.displayName||F?.name||"Loading...",username:F?.username||"User",gender:F?.gender||"male",history:F?.history||[],...M})),Hy(mn(mt,"users",M.uid)).then(async F=>{if(F.exists())n(ee=>({...ee,...F.data()}));else{console.warn("UserProvider: Profile missing, creating default.");const ee={name:M.displayName||"New User",username:M.email?.split("@")[0]||"user",gender:"male",email:M.email,createdAt:new Date().toISOString(),history:[]};await iu(mn(mt,"users",M.uid),ee),n(Y=>({...Y,...ee}))}}).catch(F=>{console.error("Error fetching/creating user profile:",F)})):n(null),a(!1)}),O=setTimeout(()=>{a(!1)},4e3);return()=>{D(),clearTimeout(O)}},[]);const l=async(D,O)=>{try{return await G3(Yc,D,O),{success:!0}}catch(M){return{success:!1,message:M.message}}},u=async D=>{try{const{user:O}=await H3(Yc,D.email,D.password),M={name:D.name,username:D.username,gender:D.gender,email:D.email,createdAt:new Date().toISOString(),history:[]};return await iu(mn(mt,"users",O.uid),M),n({...O,...M}),{success:!0}}catch(O){return{success:!1,message:O.message}}},f=async()=>{try{const D=new Bs,M=(await pj(Yc,D)).user,F=await Hy(mn(mt,"users",M.uid));if(F.exists())n({...M,...F.data()});else{const ee={name:M.displayName,username:M.email.split("@")[0],gender:"male",email:M.email,createdAt:new Date().toISOString(),history:[]};await iu(mn(mt,"users",M.uid),ee),n({...M,...ee})}return{success:!0}}catch(D){return console.error("Google Sign-In Error:",D),{success:!1,message:D.message}}},m=async()=>{try{await Y3(Yc)}catch(D){console.error("Logout failed",D)}},g=dT.useRef(0),y=async(D,O,M,F=[])=>{if(!e||!e.uid)return;const ee=Date.now();if(ee-g.current<2e3){console.log("History update throttled (preventing duplicate)");return}g.current=ee;const Y=Math.round(D/O*100),ue={score:D,total:O,percentage:Y,topic:M,details:F,date:new Date().toISOString()};try{const he=mn(mt,"users",e.uid);await bl(he,{history:gU(ue)}),n(de=>({...de,history:[...de.history||[],ue]}))}catch(he){console.error("Failed to save history",he)}},b=async D=>{if(!(!e||!e.uid))try{const O=e.history.filter((F,ee)=>ee!==D),M=mn(mt,"users",e.uid);return await bl(M,{history:O}),n(F=>({...F,history:O})),{success:!0}}catch(O){return console.error("Failed to delete history item",O),{success:!1,message:O.message}}},w=async D=>{if(!e||!e.uid)return{success:!1,message:"No user logged in"};try{const O=mn(mt,"users",e.uid);return await Promise.race([iu(O,D,{merge:!0}),new Promise((M,F)=>setTimeout(()=>F(new Error("Save timed out - Check connection")),1e4))]),n(M=>({...M,...D})),{success:!0}}catch(O){return console.error("Error updating profile:",O),{success:!1,message:O.message||"Failed to update profile"}}},k=dT.useMemo(()=>({user:e,loading:s,login:l,signup:u,logout:m,loginWithGoogle:f,updateUserHistory:y,updateUserProfile:w,deleteHistoryItem:b}),[e,s]);return v.jsx(D2.Provider,{value:k,children:t})}function ca(){return te.useContext(D2)}const iz=({onBack:t})=>{const{user:e}=ca(),[n,s]=te.useState({title:"",description:"",questions:[{id:1,question:"",options:[{key:"A",text:""},{key:"B",text:""},{key:"C",text:""},{key:"D",text:""}],answer:"A",explanation:""}]}),[a,l]=te.useState(!1),[u,f]=te.useState(""),m=()=>{s(k=>({...k,questions:[...k.questions,{id:k.questions.length+1,question:"",options:[{key:"A",text:""},{key:"B",text:""},{key:"C",text:""},{key:"D",text:""}],answer:"A",explanation:""}]}))},g=k=>{if(n.questions.length===1)return;const D=n.questions.filter((O,M)=>M!==k);s(O=>({...O,questions:D}))},y=(k,D,O)=>{const M=[...n.questions];M[k][D]=O,s(F=>({...F,questions:M}))},b=(k,D,O)=>{const M=[...n.questions];M[k].options[D].text=O,s(F=>({...F,questions:M}))},w=async()=>{if(!n.title||!n.description){f("Please fill in Title and Description");return}for(let k of n.questions){if(!k.question){f("All questions must have text");return}for(let D of k.options)if(!D.text){f("All options must be filled");return}}l(!0),f("Saving...");try{await Tf(us(mt,"quizzes"),{...n,createdBy:e.uid,authorName:e.name||e.username||"Anonymous",createdAt:new Date().toISOString(),plays:0}),f("Quiz Created Successfully! "),setTimeout(t,2e3)}catch(k){console.error(k),f("Error saving quiz: "+k.message),l(!1)}};return v.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[v.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-black mb-6",children:[v.jsx(Zd,{size:20})," Back to Menu"]}),v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create New Quiz"}),u&&v.jsx("div",{className:`p-4 rounded-xl mb-6 text-center font-bold ${u.includes("Success")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u}),v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Quiz Title"}),v.jsx("input",{className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-black transition-colors",placeholder:"e.g. Advanced JavaScript Trivia",value:n.title,onChange:k=>s({...n,title:k.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Description"}),v.jsx("textarea",{className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-black transition-colors",placeholder:"What is this quiz about?",value:n.description,onChange:k=>s({...n,description:k.target.value})})]})]}),v.jsx("div",{className:"space-y-8",children:n.questions.map((k,D)=>v.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200 relative",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h3",{className:"font-bold text-lg",children:["Question ",D+1]}),n.questions.length>1&&v.jsx("button",{onClick:()=>g(D),className:"text-red-500 hover:bg-red-100 p-2 rounded-lg",children:v.jsx(Al,{size:20})})]}),v.jsx("input",{className:"w-full p-3 rounded-xl border border-gray-300 mb-4",placeholder:"Enter question text here...",value:k.question,onChange:O=>y(D,"question",O.target.value)}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:k.options.map((O,M)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold border ${k.answer===O.key?"bg-green-500 text-white border-green-500":"bg-white border-gray-300"}`,children:O.key}),v.jsx("input",{className:"w-full p-2 rounded-lg border border-gray-300",placeholder:`Option ${O.key}`,value:O.text,onChange:F=>b(D,M,F.target.value)}),v.jsx("input",{type:"radio",name:`answer-${k.id}`,checked:k.answer===O.key,onChange:()=>y(D,"answer",O.key),className:"w-5 h-5 accent-black cursor-pointer"})]},O.key))}),v.jsx("input",{className:"w-full p-3 rounded-xl border border-gray-300 border-dashed bg-white",placeholder:"Explanation (Optional)",value:k.explanation,onChange:O=>y(D,"explanation",O.target.value)})]},k.id))}),v.jsxs("div",{className:"flex gap-4 mt-8",children:[v.jsxs("button",{onClick:m,className:"flex-1 py-4 border-2 border-black border-dashed rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50",children:[v.jsx(py,{size:20})," Add Question"]}),v.jsx("button",{onClick:w,disabled:a,className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 shadow-lg disabled:opacity-50",children:a?"Saving...":v.jsxs(v.Fragment,{children:[v.jsx(gS,{size:20})," Save Quiz"]})})]})]})]})},sz=({onBack:t,onPlay:e})=>{const{user:n}=ca(),[s,a]=te.useState([]),[l,u]=te.useState([]),[f,m]=te.useState(!0),g=async()=>{m(!0);try{const k=(await xf(us(mt,"quizzes"))).docs.map(D=>({id:D.id,...D.data()}));n?(a(k.filter(D=>D.createdBy===n.uid)),u(k.filter(D=>D.createdBy!==n.uid))):u(k)}catch(w){console.error("Error fetching quizzes:",w)}finally{m(!1)}};te.useEffect(()=>{g()},[n]);const y=async w=>{if(confirm("Are you sure you want to delete this quiz? This cannot be undone."))try{await bf(mn(mt,"quizzes",w)),a(k=>k.filter(D=>D.id!==w))}catch(k){console.error("Error deleting quiz:",k),alert("Failed to delete quiz.")}},b=({quiz:w,isMine:k})=>v.jsxs(Qe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col h-full",children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx("div",{className:`p-3 rounded-xl ${k?"bg-black text-white":"bg-purple-50 text-purple-600"}`,children:v.jsx(fy,{size:24})}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs font-bold bg-gray-100 text-gray-500 px-3 py-1 rounded-full",children:[w.questions?.length||0," Qs"]}),k&&v.jsx("button",{onClick:D=>{D.stopPropagation(),y(w.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Quiz",children:v.jsx(Al,{size:16})})]})]}),v.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-1",children:w.title}),v.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2 min-h-[40px] flex-grow",children:w.description}),v.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-50",children:[v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium",children:[v.jsx(Vu,{size:14}),v.jsx("span",{children:w.authorName||"Anonymous"})]}),v.jsxs("button",{onClick:()=>e(w),className:"px-4 py-2 bg-black text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors shadow-lg hover:shadow-xl",children:[v.jsx(ef,{size:14,fill:"currentColor"})," Play"]})]})]});return v.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-8",children:[v.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-black mb-8 font-bold transition-colors",children:[v.jsx(Zd,{size:20})," Back to Menu"]}),v.jsxs("div",{className:"mb-12 text-center",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-4",children:"Community Quizzes"}),v.jsx("p",{className:"text-gray-500 text-lg max-w-2xl mx-auto",children:"Explore and challenge yourself with quizzes created by the community, or manage your own creations."})]}),f?v.jsx("div",{className:"text-center text-gray-400 py-20 animate-pulse",children:"Loading amazing quizzes..."}):v.jsxs("div",{className:"space-y-16",children:[s.length>0&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-100 pb-4 flex items-center gap-3",children:[v.jsx("span",{className:"bg-black text-white px-3 py-1 rounded-lg text-sm",children:"You"}),"Your Created Quizzes"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.jsx(Hs,{children:s.map(w=>v.jsx(b,{quiz:w,isMine:!0},w.id))})})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-100 pb-4 flex items-center gap-3",children:[v.jsx("span",{className:"bg-purple-100 text-purple-600 px-3 py-1 rounded-lg text-sm",children:"Community"}),"Trending Quizzes"]}),l.length===0&&s.length===0?v.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border border-dashed border-gray-200",children:v.jsx("p",{className:"text-gray-500 font-medium",children:"No quizzes found yet. Be the first to create one!"})}):l.length===0?v.jsx("div",{className:"text-center py-12 text-gray-400 italic",children:"No community quizzes yet."}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(w=>v.jsx(b,{quiz:w,isMine:!1},w.id))})]})]})]})};function ME({topic:t,description:e,questionCount:n,onStart:s,disabled:a=!1,compact:l=!1}){return v.jsxs(Qe.div,{whileHover:a?{}:{y:-5},onClick:()=>!a&&s&&s(),className:`bg-white rounded-2xl border transition-all ${a?"opacity-50 border-gray-100 cursor-not-allowed":"border-gray-200 hover:border-black hover:shadow-xl cursor-pointer"} ${l?"p-4 flex items-center justify-between gap-4":"p-8 flex flex-col h-full"}`,children:[v.jsxs("div",{className:l?"":"mb-6",children:[v.jsx("h3",{className:`font-bold text-gray-900 ${l?"text-lg":"text-2xl mb-2"}`,children:t}),!l&&v.jsx("p",{className:"text-gray-500 leading-relaxed",children:e})]}),v.jsxs("div",{className:`${l?"flex-shrink-0":"mt-auto pt-6 flex items-center justify-between"}`,children:[!l&&v.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-medium text-sm",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n," Questions"]}),v.jsx("button",{onClick:u=>{u.stopPropagation(),!a&&s&&s()},disabled:a,className:`${l?"p-3":"px-6 py-3"} bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors ${a?"bg-gray-200 text-gray-400 cursor-not-allowed":""}`,children:l?v.jsx(ef,{size:18}):v.jsxs(v.Fragment,{children:["Start Quiz ",v.jsx(ef,{size:18})]})})]})]})}var zv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var U=new OffscreenCanvas(1,1),E=U.getContext("2d");E.fillRect(0,0,1,1);var q=U.transferToImageBitmap();E.createPattern(q,"no-repeat")}catch{return!1}return!0})();function m(){}function g(U){var E=n.exports.Promise,q=E!==void 0?E:e.Promise;return typeof q=="function"?new q(U):(U(m,m),null)}var y=(function(U,E){return{transform:function(q){if(U)return q;if(E.has(q))return E.get(q);var W=new OffscreenCanvas(q.width,q.height),oe=W.getContext("2d");return oe.drawImage(q,0,0),E.set(q,W),W},clear:function(){E.clear()}}})(f,new Map),b=(function(){var U=Math.floor(16.666666666666668),E,q,W={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(fe){var ge=Math.random();return W[ge]=requestAnimationFrame(function pe(be){oe===be||oe+U-1<be?(oe=be,delete W[ge],fe()):W[ge]=requestAnimationFrame(pe)}),ge},q=function(fe){W[fe]&&cancelAnimationFrame(W[fe])}):(E=function(fe){return setTimeout(fe,U)},q=function(fe){return clearTimeout(fe)}),{frame:E,cancel:q}})(),w=(function(){var U,E,q={};function W(oe){function fe(ge,pe){oe.postMessage({options:ge||{},callback:pe})}oe.init=function(pe){var be=pe.transferControlToOffscreen();oe.postMessage({canvas:be},[be])},oe.fire=function(pe,be,Ee){if(E)return fe(pe,null),E;var et=Math.random().toString(36).slice(2);return E=g(function(Ye){function it(xt){xt.data.callback===et&&(delete q[et],oe.removeEventListener("message",it),E=null,y.clear(),Ee(),Ye())}oe.addEventListener("message",it),fe(pe,et),q[et]=it.bind(null,{data:{callback:et}})}),E},oe.reset=function(){oe.postMessage({reset:!0});for(var pe in q)q[pe](),delete q[pe]}}return function(){if(U)return U;if(!s&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{U=new Worker(URL.createObjectURL(new Blob([oe])))}catch(fe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}W(U)}return U}})(),k={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(U,E){return E?E(U):U}function O(U){return U!=null}function M(U,E,q){return D(U&&O(U[E])?U[E]:k[E],q)}function F(U){return U<0?0:Math.floor(U)}function ee(U,E){return Math.floor(Math.random()*(E-U))+U}function Y(U){return parseInt(U,16)}function ue(U){return U.map(he)}function he(U){var E=String(U).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:Y(E.substring(0,2)),g:Y(E.substring(2,4)),b:Y(E.substring(4,6))}}function de(U){var E=M(U,"origin",Object);return E.x=M(E,"x",Number),E.y=M(E,"y",Number),E}function R(U){U.width=document.documentElement.clientWidth,U.height=document.documentElement.clientHeight}function C(U){var E=U.getBoundingClientRect();U.width=E.width,U.height=E.height}function N(U){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=U,E}function j(U,E,q,W,oe,fe,ge,pe,be){U.save(),U.translate(E,q),U.rotate(fe),U.scale(W,oe),U.arc(0,0,1,ge,pe,be),U.restore()}function I(U){var E=U.angle*(Math.PI/180),q=U.spread*(Math.PI/180);return{x:U.x,y:U.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:U.startVelocity*.5+Math.random()*U.startVelocity,angle2D:-E+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:U.color,shape:U.shape,tick:0,totalTicks:U.ticks,decay:U.decay,drift:U.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:U.gravity*3,ovalScalar:.6,scalar:U.scalar,flat:U.flat}}function z(U,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var q=E.tick++/E.totalTicks,W=E.x+E.random*E.tiltCos,oe=E.y+E.random*E.tiltSin,fe=E.wobbleX+E.random*E.tiltCos,ge=E.wobbleY+E.random*E.tiltSin;if(U.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-q)+")",U.beginPath(),u&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))U.fill(H(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(fe-W)*.1,Math.abs(ge-oe)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var pe=Math.PI/10*E.wobble,be=Math.abs(fe-W)*.1,Ee=Math.abs(ge-oe)*.1,et=E.shape.bitmap.width*E.scalar,Ye=E.shape.bitmap.height*E.scalar,it=new DOMMatrix([Math.cos(pe)*be,Math.sin(pe)*be,-Math.sin(pe)*Ee,Math.cos(pe)*Ee,E.x,E.y]);it.multiplySelf(new DOMMatrix(E.shape.matrix));var xt=U.createPattern(y.transform(E.shape.bitmap),"no-repeat");xt.setTransform(it),U.globalAlpha=1-q,U.fillStyle=xt,U.fillRect(E.x-et/2,E.y-Ye/2,et,Ye),U.globalAlpha=1}else if(E.shape==="circle")U.ellipse?U.ellipse(E.x,E.y,Math.abs(fe-W)*E.ovalScalar,Math.abs(ge-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):j(U,E.x,E.y,Math.abs(fe-W)*E.ovalScalar,Math.abs(ge-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Ne=Math.PI/2*3,Vt=4*E.scalar,Yt=8*E.scalar,rn=E.x,wn=E.y,ot=5,tt=Math.PI/ot;ot--;)rn=E.x+Math.cos(Ne)*Yt,wn=E.y+Math.sin(Ne)*Yt,U.lineTo(rn,wn),Ne+=tt,rn=E.x+Math.cos(Ne)*Vt,wn=E.y+Math.sin(Ne)*Vt,U.lineTo(rn,wn),Ne+=tt;else U.moveTo(Math.floor(E.x),Math.floor(E.y)),U.lineTo(Math.floor(E.wobbleX),Math.floor(oe)),U.lineTo(Math.floor(fe),Math.floor(ge)),U.lineTo(Math.floor(W),Math.floor(E.wobbleY));return U.closePath(),U.fill(),E.tick<E.totalTicks}function P(U,E,q,W,oe){var fe=E.slice(),ge=U.getContext("2d"),pe,be,Ee=g(function(et){function Ye(){pe=be=null,ge.clearRect(0,0,W.width,W.height),y.clear(),oe(),et()}function it(){s&&!(W.width===a.width&&W.height===a.height)&&(W.width=U.width=a.width,W.height=U.height=a.height),!W.width&&!W.height&&(q(U),W.width=U.width,W.height=U.height),ge.clearRect(0,0,W.width,W.height),fe=fe.filter(function(xt){return z(ge,xt)}),fe.length?pe=b.frame(it):Ye()}pe=b.frame(it),be=Ye});return{addFettis:function(et){return fe=fe.concat(et),Ee},canvas:U,promise:Ee,reset:function(){pe&&b.cancel(pe),be&&be()}}}function Se(U,E){var q=!U,W=!!M(E||{},"resize"),oe=!1,fe=M(E,"disableForReducedMotion",Boolean),ge=l&&!!M(E||{},"useWorker"),pe=ge?w():null,be=q?R:C,Ee=U&&pe?!!U.__confetti_initialized:!1,et=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function it(Ne,Vt,Yt){for(var rn=M(Ne,"particleCount",F),wn=M(Ne,"angle",Number),ot=M(Ne,"spread",Number),tt=M(Ne,"startVelocity",Number),Bi=M(Ne,"decay",Number),Gl=M(Ne,"gravity",Number),fo=M(Ne,"drift",Number),Jt=M(Ne,"colors",ue),xs=M(Ne,"ticks",Number),nr=M(Ne,"shapes"),ua=M(Ne,"scalar"),zi=!!M(Ne,"flat"),mo=de(Ne),ha=rn,ir=[],po=U.width*mo.x,Fn=U.height*mo.y;ha--;)ir.push(I({x:po,y:Fn,angle:wn,spread:ot,startVelocity:tt,color:Jt[ha%Jt.length],shape:nr[ee(0,nr.length)],ticks:xs,decay:Bi,gravity:Gl,drift:fo,scalar:ua,flat:zi}));return Ye?Ye.addFettis(ir):(Ye=P(U,ir,be,Vt,Yt),Ye.promise)}function xt(Ne){var Vt=fe||M(Ne,"disableForReducedMotion",Boolean),Yt=M(Ne,"zIndex",Number);if(Vt&&et)return g(function(tt){tt()});q&&Ye?U=Ye.canvas:q&&!U&&(U=N(Yt),document.body.appendChild(U)),W&&!Ee&&be(U);var rn={width:U.width,height:U.height};pe&&!Ee&&pe.init(U),Ee=!0,pe&&(U.__confetti_initialized=!0);function wn(){if(pe){var tt={getBoundingClientRect:function(){if(!q)return U.getBoundingClientRect()}};be(tt),pe.postMessage({resize:{width:tt.width,height:tt.height}});return}rn.width=rn.height=null}function ot(){Ye=null,W&&(oe=!1,e.removeEventListener("resize",wn)),q&&U&&(document.body.contains(U)&&document.body.removeChild(U),U=null,Ee=!1)}return W&&!oe&&(oe=!0,e.addEventListener("resize",wn,!1)),pe?pe.fire(Ne,rn,ot):it(Ne,rn,ot)}return xt.reset=function(){pe&&pe.reset(),Ye&&Ye.reset()},xt}var Ge;function L(){return Ge||(Ge=Se(null,{useWorker:!0,resize:!0})),Ge}function H(U,E,q,W,oe,fe,ge){var pe=new Path2D(U),be=new Path2D;be.addPath(pe,new DOMMatrix(E));var Ee=new Path2D;return Ee.addPath(be,new DOMMatrix([Math.cos(ge)*oe,Math.sin(ge)*oe,-Math.sin(ge)*fe,Math.cos(ge)*fe,q,W])),Ee}function ae(U){if(!u)throw new Error("path confetti are not supported in this browser");var E,q;typeof U=="string"?E=U:(E=U.path,q=U.matrix);var W=new Path2D(E),oe=document.createElement("canvas"),fe=oe.getContext("2d");if(!q){for(var ge=1e3,pe=ge,be=ge,Ee=0,et=0,Ye,it,xt=0;xt<ge;xt+=2)for(var Ne=0;Ne<ge;Ne+=2)fe.isPointInPath(W,xt,Ne,"nonzero")&&(pe=Math.min(pe,xt),be=Math.min(be,Ne),Ee=Math.max(Ee,xt),et=Math.max(et,Ne));Ye=Ee-pe,it=et-be;var Vt=10,Yt=Math.min(Vt/Ye,Vt/it);q=[Yt,0,0,Yt,-Math.round(Ye/2+pe)*Yt,-Math.round(it/2+be)*Yt]}return{type:"path",path:E,matrix:q}}function ce(U){var E,q=1,W="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof U=="string"?E=U:(E=U.text,q="scalar"in U?U.scalar:q,oe="fontFamily"in U?U.fontFamily:oe,W="color"in U?U.color:W);var fe=10*q,ge=""+fe+"px "+oe,pe=new OffscreenCanvas(fe,fe),be=pe.getContext("2d");be.font=ge;var Ee=be.measureText(E),et=Math.ceil(Ee.actualBoundingBoxRight+Ee.actualBoundingBoxLeft),Ye=Math.ceil(Ee.actualBoundingBoxAscent+Ee.actualBoundingBoxDescent),it=2,xt=Ee.actualBoundingBoxLeft+it,Ne=Ee.actualBoundingBoxAscent+it;et+=it+it,Ye+=it+it,pe=new OffscreenCanvas(et,Ye),be=pe.getContext("2d"),be.font=ge,be.fillStyle=W,be.fillText(E,xt,Ne);var Vt=1/q;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[Vt,0,0,Vt,-et*Vt/2,-Ye*Vt/2]}}n.exports=function(){return L().apply(this,arguments)},n.exports.reset=function(){L().reset()},n.exports.create=Se,n.exports.shapeFromPath=ae,n.exports.shapeFromText=ce})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),zv,!1);const M2=zv.exports;zv.exports.create;const PE=t=>{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const n=new e;if(t==="success")[523.25,659.25,783.99,1046.5].forEach((a,l)=>{const u=n.createOscillator(),f=n.createGain();u.type="sine",u.frequency.setValueAtTime(a,n.currentTime),f.gain.setValueAtTime(.1,n.currentTime),f.gain.exponentialRampToValueAtTime(.001,n.currentTime+.5+l*.1),u.connect(f),f.connect(n.destination),u.start(),u.stop(n.currentTime+1)});else if(t==="error"){const s=n.createOscillator(),a=n.createGain();s.type="sawtooth",s.frequency.setValueAtTime(150,n.currentTime),s.frequency.linearRampToValueAtTime(50,n.currentTime+.3),a.gain.setValueAtTime(.1,n.currentTime),a.gain.exponentialRampToValueAtTime(.001,n.currentTime+.3),s.connect(a),a.connect(n.destination),s.start(),s.stop(n.currentTime+.4)}},rz={hidden:{opacity:0,scale:.5,y:20},visible:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:-20}};function az({isCorrect:t,show:e}){return v.jsx(Hs,{children:e&&v.jsxs(Qe.div,{variants:rz,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",stiffness:400,damping:20},className:`absolute -top-16 right-0 p-4 rounded-2xl shadow-xl border-2 font-bold transform -rotate-6 z-10 ${t?"bg-green-100 border-green-500 text-green-800":"bg-red-100 border-red-500 text-red-800"}`,children:[t?"Doing great! ":"Uh oh... ",v.jsx("div",{className:`absolute bottom-0 right-6 translate-y-1/2 rotate-45 w-4 h-4 border-r-2 border-b-2 bg-inherit ${t?"border-green-500":"border-red-500"}`})]})})}const oz=({questions:t,onFinish:e})=>{const[n,s]=te.useState(0),[a,l]=te.useState(null),[u,f]=te.useState(!1),[m,g]=te.useState(0),[y,b]=te.useState([]);if(!t||t.length===0)return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center",children:[v.jsx(uO,{size:48,className:"text-red-500 mb-4"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Oops! No questions found."}),v.jsx("p",{className:"text-gray-500 mt-2",children:"There seems to be an issue loading this quiz."}),v.jsx("button",{onClick:()=>e(0,[]),className:"mt-6 px-6 py-2 bg-black text-white rounded-lg font-bold",children:"Go Back"})]});const w=t[n];(n+(u?1:0))/t.length*100;const k=F=>{if(u)return;l(F),f(!0);const ee=F===w.answer;b(Y=>[...Y,{question:w.question,selectedOption:F,correctAnswer:w.answer,isCorrect:ee,explanation:w.explanation||"No explanation provided."}]),ee?(g(Y=>Y+1),PE("success"),M2({particleCount:100,spread:70,origin:{y:.6}})):PE("error")},D=()=>{n<t.length-1?(s(F=>F+1),l(null),f(!1)):e(m,y)},O=F=>u?F===w.answer?"border-green-500 bg-green-50 text-green-700":a===F&&F!==w.answer?"border-red-500 bg-red-50 text-red-700":"border-gray-100 text-gray-400 opacity-50":"border-gray-200 hover:border-black hover:bg-gray-50 text-gray-700",M=()=>{window.confirm(`Are you sure you want to end the quiz early? 
Your current score will be submitted.`)&&e(m,y)};return v.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex justify-between items-end text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wide",children:[v.jsxs("span",{children:["Question ",n+1," / ",t.length]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"text-black font-bold text-sm",children:["Score: ",m]}),v.jsx("button",{onClick:M,className:"text-red-500 hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"End Quiz"})]})]}),v.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:v.jsx(Qe.div,{className:"h-full bg-black rounded-full",initial:{width:0},animate:{width:`${(n+1)/t.length*100}%`},transition:{duration:.5}})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[v.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-sm relative",children:[v.jsx(az,{isCorrect:a===w.answer,show:u}),v.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-8 leading-snug",children:w.question}),v.jsx("div",{className:"space-y-3",children:w.options.map(F=>v.jsxs("button",{onClick:()=>k(F.key),disabled:u,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-between group ${O(F.key)}`,children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold border ${u?F.key===w.answer?"bg-green-500 border-green-500 text-white":a===F.key?"bg-red-500 border-red-500 text-white":"border-gray-200 text-gray-400":"border-gray-200 text-gray-500 group-hover:border-black group-hover:text-black"}`,children:F.key}),v.jsx("span",{className:"text-base font-medium",children:F.text})]}),u&&F.key===w.answer&&v.jsx(Mw,{size:20,className:"text-green-500"}),u&&a===F.key&&F.key!==w.answer&&v.jsx(Pw,{size:20,className:"text-red-500"})]},F.key))})]}),v.jsx("div",{className:"lg:sticky lg:top-24",children:v.jsx(Hs,{mode:"wait",children:u&&v.jsx(Qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-lg",children:v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[a===w.answer?v.jsx("div",{className:"p-2 bg-green-100 rounded-full text-green-600",children:v.jsx(Mw,{size:24})}):v.jsx("div",{className:"p-2 bg-red-100 rounded-full text-red-600",children:v.jsx(Pw,{size:24})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-gray-900 text-lg",children:a===w.answer?"Correct!":"Incorrect"}),a!==w.answer&&v.jsxs("p",{className:"text-sm text-gray-500",children:["Correct Answer: ",w.answer]})]})]}),v.jsxs("div",{className:"bg-gray-50 p-5 rounded-2xl",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-900 font-semibold",children:[v.jsx(fO,{size:18}),v.jsx("span",{children:"Explanation"})]}),v.jsx("p",{className:"text-gray-600 leading-relaxed",children:w.explanation||"No additional explanation provided for this question."})]}),v.jsxs("button",{onClick:D,className:"w-full bg-black text-white px-8 py-4 rounded-xl font-bold text-base tracking-wide hover:bg-gray-800 transition-all flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[n===t.length-1?"Finish Result":"Next Question",v.jsx(Fa,{size:20})]})]})})})})]})]})},lz=({score:t,total:e,userAnswers:n,onRestart:s})=>{const{user:a,updateUserHistory:l}=ca(),u=Math.round(t/e*100);te.useEffect(()=>{a&&l(t,e,"Operating Systems",n)},[]);const f=()=>{if(!a)return u>=70?"Great Job!":"Completed";if(u<=60){const m=a.gender==="female"?"hojayegi":"hojayega";return`Padhle ${a.username} nahi to fail ${m}`}return u>80?`Impressive ${a.username}!`:`Good job ${a.username}!`};return v.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl p-10 max-w-md w-full mx-auto text-center border border-gray-200 shadow-xl",children:[v.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-gray-50 mb-8",children:v.jsx(yS,{size:48,className:"text-black"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:f()}),v.jsxs("p",{className:"text-gray-500 mb-8",children:["You scored ",t," out of ",e]}),v.jsx("div",{className:"relative h-4 bg-gray-100 rounded-full mb-8 overflow-hidden",children:v.jsx(Qe.div,{initial:{width:0},animate:{width:`${u}%`},transition:{delay:.5,duration:1},className:"absolute top-0 left-0 h-full bg-black rounded-full"})}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[v.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl",children:[v.jsx("span",{className:"block text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Percentage"}),v.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[u,"%"]})]}),v.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl",children:[v.jsx("span",{className:"block text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Correct"}),v.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t})]})]}),v.jsxs("button",{onClick:s,className:"w-full py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all",children:[v.jsx(HO,{size:18}),"Try Again"]})]})};function cz({onSwitchToSignup:t,onLoginSuccess:e}){const{login:n,loginWithGoogle:s}=ca(),[a,l]=te.useState({email:"",password:""}),[u,f]=te.useState(""),m=async g=>{g.preventDefault();const y=await n(a.email,a.password);y.success?e():f(y.message)};return v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[80vh] py-12",children:v.jsxs("div",{className:"w-full max-w-lg bg-white rounded-3xl p-10 shadow-xl border border-gray-100",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back!"}),v.jsx("p",{className:"text-gray-500 mt-2",children:"Please login to continue"})]}),u&&v.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm mb-4 text-center font-medium",children:u}),v.jsxs("form",{onSubmit:m,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(Vu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Enter your email",value:a.email,onChange:g=>l({...a,email:g.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(EO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),v.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Enter your password",value:a.password,onChange:g=>l({...a,password:g.target.value})})]})]}),v.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-xl font-bold hover:bg-gray-800 transition-colors shadow-lg",children:"Login"}),v.jsxs("div",{className:"relative my-6",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-200"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-white text-gray-400 font-medium",children:"Or continue with"})})]}),v.jsxs("button",{type:"button",onClick:async()=>{const g=await s();g.success?e():f(g.message)},className:"w-full py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-gray-500",children:["Don't have an account?"," ",v.jsx("button",{onClick:t,className:"text-black font-bold hover:underline",children:"Sign Up"})]})})]})})}function uz({onBack:t}){const{user:e,updateUserProfile:n,deleteHistoryItem:s}=ca(),[a,l]=te.useState(!1),[u,f]=te.useState({name:e?.name||"",username:e?.username||"",gender:e?.gender||"male"}),[m,g]=te.useState(!1),[y,b]=te.useState("");if(!e)return null;const w=async()=>{g(!0);const O=await n(u);g(!1),O.success?(l(!1),b("Profile updated successfully!"),setTimeout(()=>b(""),3e3)):b(O.message||"Error updating profile")},k=async O=>{if(!confirm("Are you sure you want to delete this history item?"))return;const M=e.history.length-1-O;await s(M)},D=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return v.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl mx-auto space-y-8",children:[v.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 flex flex-col md:flex-row gap-8 items-start relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4",children:v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-black transition-colors font-bold text-sm",children:"Close"})}),v.jsx("div",{className:"w-32 h-32 bg-black rounded-full flex items-center justify-center text-white shrink-0 mx-auto md:mx-0",children:v.jsx("span",{className:"text-4xl font-bold",children:e.name.charAt(0).toUpperCase()})}),v.jsxs("div",{className:"flex-1 w-full",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:a?"Edit Profile":"My Profile"}),!a&&v.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors",children:[v.jsx(BO,{size:16}),"Edit"]})]}),y&&v.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-bold ${y.includes("Error")?"bg-red-50 text-red-500":"bg-green-50 text-green-600"}`,children:y}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Full Name"}),a?v.jsx("input",{type:"text",value:u.name,onChange:O=>f({...u,name:O.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 font-medium"}):v.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900",children:[v.jsx(Vu,{size:20,className:"text-gray-400"}),e.name]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Username"}),a?v.jsx("input",{type:"text",value:u.username,onChange:O=>f({...u,username:O.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 font-medium"}):v.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900",children:[v.jsx("span",{className:"text-gray-400 font-bold",children:"@"}),e.username]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Email"}),v.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900 opacity-60",children:[v.jsx(NO,{size:20,className:"text-gray-400"}),e.email]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Gender"}),a?v.jsx("div",{className:"flex gap-4",children:["male","female"].map(O=>v.jsx("button",{onClick:()=>f({...u,gender:O}),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize border ${u.gender===O?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:O},O))}):v.jsx("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900 capitalize",children:e.gender})]})]}),a&&v.jsxs("div",{className:"flex gap-4 mt-8",children:[v.jsxs("button",{onClick:w,disabled:m,className:"px-6 py-3 bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[v.jsx(gS,{size:18}),m?"Saving...":"Save Changes"]}),v.jsxs("button",{onClick:()=>{l(!1),f({name:e.name,username:e.username,gender:e.gender})},className:"px-6 py-3 bg-white border border-gray-200 text-gray-600 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center gap-2",children:[v.jsx(R0,{size:18}),"Cancel"]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("div",{className:"p-3 bg-green-100 rounded-xl text-green-600",children:v.jsx(yS,{size:24})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quiz History"}),v.jsx("p",{className:"text-gray-500",children:"Your past attempts and scores"})]})]}),v.jsx("div",{className:"overflow-hidden",children:e.history&&e.history.length>0?v.jsx("div",{className:"space-y-4",children:[...e.history].reverse().map((O,M)=>v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors border border-gray-100 group",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900",children:O.topic}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[v.jsx(lO,{size:14}),D(O.date)]})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"text-2xl font-black text-black",children:[O.percentage!==void 0?O.percentage:Math.round(O.score/10*100),"%"]}),v.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Score"}),O.details&&v.jsx("button",{className:"text-xs font-bold text-blue-600 hover:underline mt-1 bg-transparent border-0 p-0 cursor-pointer",children:"Review"})]}),v.jsx("button",{onClick:()=>k(M),className:"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete from history",children:v.jsx(Al,{size:18})})]})]},M))}):v.jsx("div",{className:"text-center py-12 text-gray-400 italic",children:"No quiz history yet. Start learning!"})})]})]})}const hz=5*1024*1024,Fg=50*1024*1024,Hg=500,dz=["application/pdf","image/jpeg","image/png","image/webp"];function fz(){const{user:t}=ca(),[e,n]=te.useState("my-notes"),[s,a]=te.useState([]),[l,u]=te.useState([]),[f,m]=te.useState(!0),[g,y]=te.useState(!1),[b,w]=te.useState(0),[k,D]=te.useState(!1),[O,M]=te.useState(""),[F,ee]=te.useState(!1),Y=te.useRef(null),ue=s.reduce((L,H)=>L+(H.size||0),0),he=s.length;te.useEffect(()=>{t&&de()},[t,e]),te.useEffect(()=>{const L=new IntersectionObserver(([H])=>{ee(!H.isIntersecting)},{root:null,threshold:.1,rootMargin:"0px"});return Y.current&&e==="my-notes"&&L.observe(Y.current),()=>{Y.current&&L.unobserve(Y.current)}},[s,e]);const de=async()=>{m(!0);try{if(e==="my-notes"){const L=mu(us(mt,"notes"),Fy("userId","==",t.uid)),ae=(await xf(L)).docs.map(ce=>({id:ce.id,...ce.data()}));ae.sort((ce,U)=>new Date(U.createdAt)-new Date(ce.createdAt)),a(ae)}else{const L=mu(us(mt,"notes"),Fy("isPublic","==",!0)),ce=(await xf(L)).docs.map(U=>({id:U.id,...U.data()})).filter(U=>U.userId!==t.uid);ce.sort((U,E)=>new Date(E.createdAt)-new Date(U.createdAt)),u(ce)}}catch(L){console.error("Error fetching notes:",L),M("Failed to load notes.")}finally{m(!1)}},R=te.useCallback(L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?D(!0):L.type==="dragleave"&&D(!1)},[]),C=te.useCallback(L=>{L.preventDefault(),L.stopPropagation(),D(!1),L.dataTransfer.files&&L.dataTransfer.files[0]&&I(L.dataTransfer.files[0])},[]),N=L=>{L.target.files&&L.target.files[0]&&I(L.target.files[0])},j=()=>{document.getElementById("file-upload").click()},I=async L=>{if(M(""),!dz.includes(L.type)){M("Only PDF, JPEG, PNG, or WEBP files are allowed."),alert("Only PDF, JPEG, PNG, or WEBP files are allowed.");return}if(L.size>hz){M(`File is too large (${(L.size/1024/1024).toFixed(2)}MB). Max 5MB allowed.`),alert(`File is too large (${(L.size/1024/1024).toFixed(2)}MB). Max 5MB allowed.`);return}if(he>=Hg){M(`File limit reached (${Hg} files). Delete some files to upload more.`),alert("File limit reached.");return}if(ue+L.size>Fg){M(`Storage limit reached (${(Fg/1024/1024).toFixed(0)}MB). Delete some files to upload more.`),alert("Storage limit reached.");return}y(!0),w(0);try{const H=`${Date.now()}_${L.name}`,ae=Ky(Qy,`users/${t.uid}/notes/${H}`),ce=kB(ae,L);await new Promise((U,E)=>{ce.on("state_changed",q=>{const W=q.bytesTransferred/q.totalBytes*100;w(Math.round(W))},q=>{E(q)},async()=>{try{const q=await u2(ce.snapshot.ref);U(q)}catch(q){E(q)}})}).then(async U=>{const E={userId:t.uid,userName:t.name||"Anonymous",title:L.name,fileName:H,url:U,size:L.size,type:L.type,isPublic:!1,createdAt:new Date().toISOString()},q=await Tf(us(mt,"notes"),E);a(W=>[{id:q.id,...E},...W]),M2({particleCount:100,spread:70,origin:{y:.6}})})}catch(H){console.error("Upload failed:",H),M("Failed to upload file. Please try again."),alert("Upload failed. see console.")}finally{y(!1),w(0)}},z=async L=>{if(confirm("Are you sure you want to delete this file?"))try{const H=Ky(Qy,`users/${t.uid}/notes/${L.fileName}`);await RB(H).catch(ae=>console.warn("File not found in storage, deleting metadata only.",ae)),await bf(mn(mt,"notes",L.id)),a(ae=>ae.filter(ce=>ce.id!==L.id))}catch(H){console.error("Delete failed:",H),alert("Failed to delete note.")}},P=async L=>{try{const H=!L.isPublic;await bl(mn(mt,"notes",L.id),{isPublic:H}),a(ae=>ae.map(ce=>ce.id===L.id?{...ce,isPublic:H}:ce))}catch(H){console.error("Failed to update privacy:",H),alert("Failed to update privacy settings.")}},Se=L=>{if(L===0)return"0 B";const H=1024,ae=["B","KB","MB","GB"],ce=Math.floor(Math.log(L)/Math.log(H));return parseFloat((L/Math.pow(H,ce)).toFixed(1))+" "+ae[ce]},Ge=L=>L&&L.startsWith("image/")?v.jsx(TO,{size:24}):v.jsx(my,{size:24});return v.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20",children:[v.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:".pdf, .jpg, .jpeg, .png, .webp",onChange:N}),v.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Study Material"}),v.jsx("p",{className:"text-gray-500 mt-2",children:"Store your notes and resources or share them with others."})]}),v.jsxs("div",{className:"flex gap-4 bg-white p-3 rounded-xl border border-gray-200 shadow-sm text-sm",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(my,{size:16,className:"text-gray-400"}),v.jsx("span",{className:"font-bold",children:he}),v.jsxs("span",{className:"text-gray-400",children:["/ ",Hg," Files"]})]}),v.jsx("div",{className:"w-px bg-gray-200"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(xO,{size:16,className:"text-gray-400"}),v.jsx("span",{className:"font-bold",children:Se(ue)}),v.jsxs("span",{className:"text-gray-400",children:["/ ",Se(Fg)]})]})]})]}),v.jsxs("div",{className:"sticky top-0 z-30 bg-gray-50/95 backdrop-blur py-4 flex items-center justify-between border-b border-transparent transition-all",children:[v.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl w-fit",children:[v.jsx("button",{onClick:()=>n("my-notes"),className:`px-6 py-2 rounded-lg font-bold transition-all ${e==="my-notes"?"bg-white shadow text-black":"text-gray-500 hover:text-gray-700"}`,children:"My Notes"}),v.jsx("button",{onClick:()=>n("community"),className:`px-6 py-2 rounded-lg font-bold transition-all ${e==="community"?"bg-white shadow text-black":"text-gray-500 hover:text-gray-700"}`,children:"Community Notes"})]}),v.jsx(Hs,{children:F&&e==="my-notes"&&v.jsxs(Qe.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:j,className:"bg-black text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 shadow-lg hover:bg-gray-800 transition-colors",children:[v.jsx(Lw,{size:18}),"Upload"]})})]}),v.jsxs(Hs,{mode:"wait",children:[e==="my-notes"&&v.jsx(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:f?v.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading notes..."}):v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[s.map(L=>v.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all group relative aspect-square flex flex-col",children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx("div",{className:`p-3 rounded-xl ${L.type?.startsWith("image/")?"bg-blue-50 text-blue-500":"bg-red-50 text-red-500"}`,children:Ge(L.type)}),v.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx("button",{onClick:()=>P(L),className:`p-2 rounded-lg transition-colors ${L.isPublic?"text-green-500 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:L.isPublic?"Publicly Shared":"Private",children:L.isPublic?v.jsx(SO,{size:18}):v.jsx(kO,{size:18})}),v.jsx("button",{onClick:()=>z(L),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:v.jsx(Al,{size:18})})]})]}),v.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",title:L.title,children:L.title}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-6",children:[v.jsx("span",{children:Se(L.size)}),v.jsx("span",{children:""}),v.jsx("span",{children:new Date(L.createdAt).toLocaleDateString()})]}),v.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[v.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-md ${L.isPublic?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:L.isPublic?"Public":"Private"}),v.jsxs("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-bold text-black hover:underline",children:["View ",v.jsx(Ow,{size:14})]})]})]},L.id)),v.jsx("div",{ref:Y,onDragEnter:R,onDragLeave:R,onDragOver:R,onDrop:C,onClick:j,className:`border-2 border-dashed rounded-2xl flex flex-col items-center justify-center text-center p-6 aspect-square cursor-pointer transition-all duration-200 ${k?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:g?v.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[v.jsx("div",{className:"w-full flex items-center justify-between text-xs font-bold uppercase text-gray-400 mb-1",children:v.jsxs("span",{children:[b,"%"]})}),v.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:v.jsx(Qe.div,{className:"h-full bg-black rounded-full",initial:{width:0},animate:{width:`${b}%`},transition:{duration:.2}})}),v.jsx("p",{className:"text-xs font-bold text-gray-400",children:"Uploading..."})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4 group-hover:scale-110 transition-transform",children:v.jsx(Lw,{size:24})}),v.jsx("h3",{className:"font-bold text-gray-900",children:"Upload New"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF or Image"})]})})]})},"my-notes"),e==="community"&&v.jsx(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:f?v.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading community notes..."}):l.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(L=>v.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all aspect-square flex flex-col",children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx("div",{className:`p-3 rounded-xl ${L.type?.startsWith("image/")?"bg-blue-50 text-blue-500":"bg-red-50 text-red-500"}`,children:Ge(L.type)}),v.jsx("div",{className:"p-2 text-gray-400",children:v.jsx(ZO,{size:18})})]}),v.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",title:L.title,children:L.title}),v.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:v.jsxs("span",{children:["by ",L.userName]})}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-6",children:[v.jsx("span",{children:Se(L.size)}),v.jsx("span",{children:""}),v.jsx("span",{children:new Date(L.createdAt).toLocaleDateString()})]}),v.jsxs("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"w-full mt-auto py-3 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-colors",children:[v.jsx(Ow,{size:16})," View"]})]},L.id))}):v.jsx("div",{className:"text-center py-20 text-gray-400 italic",children:"No shared notes found. Share yours to get started!"})},"community")]})]})}const mz=({onGetStarted:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return v.jsxs("div",{className:"min-h-screen bg-white text-black overflow-hidden selection:bg-black selection:text-white",children:[v.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[v.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[500px] h-[500px] bg-green-100 rounded-full blur-3xl opacity-40 mix-blend-multiply animate-blob"}),v.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-blue-100 rounded-full blur-3xl opacity-40 mix-blend-multiply animate-blob animation-delay-2000"}),v.jsx("div",{className:"absolute top-[30%] left-[20%] w-[400px] h-[400px] bg-purple-100 rounded-full blur-3xl opacity-30 mix-blend-multiply animate-blob animation-delay-4000"})]}),v.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 sm:px-8 py-12 md:py-20 lg:py-32",children:[v.jsxs(Qe.div,{variants:e,initial:"hidden",animate:"visible",className:"text-center max-w-4xl mx-auto mb-24 md:mb-32",children:[v.jsxs(Qe.div,{variants:n,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full mb-8 border border-gray-200",children:[v.jsx("div",{className:"bg-black text-white p-1 rounded-md",children:v.jsx(Jd,{size:12})}),v.jsx("span",{className:"text-sm font-bold text-gray-700",children:"The Ultimate Learning Platform"})]}),v.jsxs(Qe.h1,{variants:n,className:"text-5xl sm:text-7xl md:text-8xl font-black tracking-tighter text-gray-900 mb-8 leading-[0.9]",children:["Learn. Create. ",v.jsx("br",{}),v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-gray-700 to-gray-500",children:"Grow Together."})]}),v.jsx(Qe.p,{variants:n,className:"text-xl md:text-2xl text-gray-500 mb-10 max-w-2xl mx-auto leading-relaxed",children:"Unlock your potential with collaborative quizzes, smart notes, and real-time discussions. Join the community today."}),v.jsxs(Qe.button,{variants:n,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"group px-10 py-5 bg-black text-white text-lg font-bold rounded-2xl shadow-2xl hover:bg-gray-900 transition-all flex items-center justify-center gap-2 mx-auto",children:["Get Started Free",v.jsx(Fa,{className:"group-hover:translate-x-1 transition-transform"})]})]}),v.jsxs(Qe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8},className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-32",children:[v.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 group",children:[v.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:v.jsx(o4,{size:32,className:"text-blue-600"})}),v.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Interactive Quizzes"}),v.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Challenge yourself with community-created quizzes or build your own to master any subject."})]}),v.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 group",children:[v.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:v.jsx(Od,{size:32,className:"text-green-600"})}),v.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Smart Notes Library"}),v.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Organize your study materials securely in the cloud. Access your notes anytime, anywhere."})]}),v.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 group",children:[v.jsx("div",{className:"w-16 h-16 bg-purple-50 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:v.jsx(s4,{size:32,className:"text-purple-600"})}),v.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Real-time Community"}),v.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Connect with peers, share knowledge, and chat in real-time to solve problems together."})]})]})]}),v.jsx("footer",{className:"border-t border-gray-100 py-12 bg-gray-50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 opacity-50",children:[v.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg",children:v.jsx(Jd,{size:16})}),v.jsx("span",{className:"font-bold text-lg",children:"Lets Try"})]}),v.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Lets Try. All rights reserved."]})]})})]})},pz=JSON.parse(`[{"id":1,"question":"Which of the following conditions is NOT necessary for a deadlock to occur?","options":[{"key":"A","text":"Mutual Exclusion"},{"key":"B","text":"Hold and Wait"},{"key":"C","text":"No Preemption"},{"key":"D","text":"Starvation"}],"answer":"D","explanation":"Starvation is a scheduling issue where a process waits indefinitely, but it is not a prerequisite for a deadlock. For a deadlock to occur, four specific conditions must hold simultaneously: Mutual Exclusion, Hold and Wait, No Preemption, and Circular Wait."},{"id":2,"question":"In a paging system, if the page size is increased, what is the most likely effect on fragmentation?","options":[{"key":"A","text":"Internal fragmentation increases"},{"key":"B","text":"External fragmentation increases"},{"key":"C","text":"Internal fragmentation decreases"},{"key":"D","text":"No change in fragmentation"}],"answer":"A","explanation":"When page size increases, the average unused space in the last page of a process (which is rarely perfectly filled) also increases. This wasted space within an allocated block is called internal fragmentation."},{"id":3,"question":"Which disk scheduling algorithm is most likely to cause starvation for requests far from the current head position?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SSTF"},{"key":"C","text":"SCAN"},{"key":"D","text":"C-SCAN"}],"answer":"B","explanation":"Shortest Seek Time First prioritizes requests closest to the current disk head position. If a continuous stream of requests arrives near the current position, requests at the far ends of the disk may wait indefinitely (starvation)."},{"id":4,"question":"A system is in a safe state if:","options":[{"key":"A","text":"There are no deadlocks currently."},{"key":"B","text":"There is at least one process that can complete."},{"key":"C","text":"There exists a safe sequence of all processes."},{"key":"D","text":"The resource allocation graph has no cycles."}],"answer":"C","explanation":"A system is in a safe state only if the OS can allocate resources to each process in some specific order (a safe sequence) such that every process can eventually obtain its maximum needed resources and terminate."},{"id":5,"question":"Which component of the disk structure is responsible for the time it takes for the desired sector to rotate under the disk head?","options":[{"key":"A","text":"Seek Time"},{"key":"B","text":"Rotational Latency"},{"key":"C","text":"Transfer Rate"},{"key":"D","text":"Access Time"}],"answer":"B","explanation":"Disk access time is composed of Seek Time (moving the arm), Rotational Latency (waiting for the sector to spin under the head), and Transfer Time. Latency specifically refers to the rotation delay."},{"id":6,"question":"In the context of the Critical Section Problem, \\"Progress\\" means:","options":[{"key":"A","text":"No process waits forever."},{"key":"B","text":"If no process is executing in its critical section, the selection of the next process cannot be postponed indefinitely."},{"key":"C","text":"Processes must enter the critical section in a specific order."},{"key":"D","text":"The CPU is never idle."}],"answer":"B","explanation":"The \\"Progress\\" requirement ensures that if the critical section is free and processes wish to enter, the decision of who enters next cannot be delayed forever; the system must make a decision and proceed."},{"id":7,"question":"Thrashing occurs when:","options":[{"key":"A","text":"The CPU is utilized 100%."},{"key":"B","text":"The sum of the size of the working sets exceeds the total number of available frames."},{"key":"C","text":"The page fault rate is very low."},{"key":"D","text":"Processes have too many frames allocated."}],"answer":"B","explanation":"Thrashing happens when the OS spends more time swapping pages in and out than executing instructions. This occurs when the total memory required by active processes (working sets) is larger than physical RAM."},{"id":8,"question":"Which mechanism is used to determine where in memory a process should be loaded (e.g., First-fit, Best-fit)?","options":[{"key":"A","text":"Address Binding"},{"key":"B","text":"Contiguous Allocation"},{"key":"C","text":"Paging"},{"key":"D","text":"Dynamic Linking"}],"answer":"B","explanation":"First-fit, Best-fit, and Worst-fit are strategies used in Contiguous Memory Allocation to find a suitable \\"hole\\" or free block in main memory to place a process."},{"id":9,"question":"Beladys Anomaly is observed in which page replacement algorithm?","options":[{"key":"A","text":"LRU"},{"key":"B","text":"Optimal"},{"key":"C","text":"FIFO"},{"key":"D","text":"LFU"}],"answer":"C","explanation":"Beladys Anomaly is a phenomenon where increasing the number of page frames results in an increase in the number of page faults. This is specific to the First-In-First-Out (FIFO) replacement algorithm."},{"id":10,"question":"The Bankers Algorithm is used for:","options":[{"key":"A","text":"Deadlock Prevention"},{"key":"B","text":"Deadlock Avoidance"},{"key":"C","text":"Deadlock Detection"},{"key":"D","text":"Deadlock Recovery"}],"answer":"B","explanation":"The Bankers Algorithm is a Deadlock Avoidance strategy. It simulates resource allocation for every request to check if granting it would leave the system in a \\"Safe State.\\" If not, the request is denied or delayed."},{"id":11,"question":"In Segmentation, the logical address consists of:","options":[{"key":"A","text":"Page number and Offset"},{"key":"B","text":"Frame number and Offset"},{"key":"C","text":"Segment number and Offset"},{"key":"D","text":"Segment number and Page number"}],"answer":"C","explanation":"In segmentation, the user views memory as a collection of segments. The logical address is a tuple <segment-number, offset>, where the segment number indexes into the Segment Table to find the base address."},{"id":12,"question":"Which system call is typically used by a parent process to wait for the termination of a child process?","options":[{"key":"A","text":"fork()"},{"key":"B","text":"exec()"},{"key":"C","text":"wait()"},{"key":"D","text":"signal()"}],"answer":"C","explanation":"The wait() system call suspends the execution of the calling process (parent) until one of its children terminates. It allows the parent to synchronize with the child's completion and retrieve its exit status."},{"id":13,"question":"In the Access Matrix model of protection, the rows typically represent ______ and the columns represent ______.","options":[{"key":"A","text":"Objects, Domains"},{"key":"B","text":"Domains, Objects"},{"key":"C","text":"Files, Users"},{"key":"D","text":"Processes, Resources"}],"answer":"B","explanation":"In the Access Matrix model, rows represent Domains (users or processes with specific rights) and columns represent Objects (resources or files). The intersection defines the access rights a domain has over an object."},{"id":14,"question":"Which CPU scheduling algorithm allows a process to move between different queues based on its behavior (e.g., CPU bursts)?","options":[{"key":"A","text":"Round Robin"},{"key":"B","text":"FCFS"},{"key":"C","text":"Multilevel Feedback Queue"},{"key":"D","text":"Priority Scheduling"}],"answer":"C","explanation":"This algorithm allows processes to move between queues. If a process uses too much CPU time, it is moved to a lower-priority queue; if it waits too long (aging), it may be moved to a higher-priority queue."},{"id":15,"question":"TLB (Translation Lookaside Buffer) is used to:","options":[{"key":"A","text":"Store the entire page table."},{"key":"B","text":"Speed up logical-to-physical address translation."},{"key":"C","text":"Handle page faults."},{"key":"D","text":"Store frequently accessed disk sectors."}],"answer":"B","explanation":"The TLB is a fast, associative hardware cache inside the MMU. It stores recent virtual-to-physical address translations to avoid the performance penalty of accessing the page table in main memory for every instruction."},{"id":16,"question":"If a system uses C-SCAN disk scheduling, how does the disk head move?","options":[{"key":"A","text":"It moves back and forth, servicing requests in both directions."},{"key":"B","text":"It moves in one direction servicing requests, then jumps back to the beginning without servicing requests on the return."},{"key":"C","text":"It always moves to the closest request."},{"key":"D","text":"It services requests in the order of arrival."}],"answer":"B","explanation":"Circular SCAN (C-SCAN) treats the cylinders as a circular list. It services requests in only one direction to ensure a more uniform wait time, then essentially \\"rewinds\\" to the start immediately without servicing on the return trip."},{"id":17,"question":"Which of the following is true regarding User-level threads vs Kernel-level threads?","options":[{"key":"A","text":"User-level threads are slower to create."},{"key":"B","text":"If a user-level thread performs a blocking system call, the entire process will block."},{"key":"C","text":"The kernel is aware of all user-level threads."},{"key":"D","text":"User-level threads require hardware support."}],"answer":"B","explanation":"Since the OS kernel is unaware of user-level threads, it views the process as a single thread of execution. If that single kernel-thread blocks (e.g., waiting for I/O), the OS blocks the whole process, stopping all other user threads within it."},{"id":18,"question":"What is the main advantage of Dynamic Loading?","options":[{"key":"A","text":"A routine is not loaded until it is called, saving memory space."},{"key":"B","text":"It allows multiple processes to share code."},{"key":"C","text":"It prevents internal fragmentation."},{"key":"D","text":"It eliminates the need for relocation."}],"answer":"A","explanation":"Dynamic loading delays the loading of a subroutine until it is explicitly called during execution. This improves memory utilization because unused routines are never loaded into RAM."},{"id":19,"question":"In a Resource Allocation Graph, a cycle indicates a deadlock only if:","options":[{"key":"A","text":"There is a single instance of each resource type."},{"key":"B","text":"There are multiple instances of each resource type."},{"key":"C","text":"There is a single instance of each resource type (necessary and sufficient)."},{"key":"D","text":"The graph is disconnected."}],"answer":"A","explanation":"If every resource type has only one instance, a cycle in the Resource Allocation Graph implies a circular wait, which is both necessary and sufficient for a deadlock. If multiple instances exist, a cycle implies a deadlock is only possible."},{"id":20,"question":"Which page replacement algorithm usually provides the minimum page fault rate?","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"LRU"},{"key":"C","text":"Optimal"},{"key":"D","text":"Counting-based"}],"answer":"C","explanation":"The Optimal Page Replacement algorithm (OPT) replaces the page that will not be used for the longest period of time. It is a theoretical benchmark that guarantees the lowest possible page fault rate but requires future knowledge."},{"id":21,"question":"Context Switching is:","options":[{"key":"A","text":"Switching the CPU from user mode to kernel mode."},{"key":"B","text":"Storing the state of the current process and loading the saved state of a new process."},{"key":"C","text":"Swapping a process from memory to disk."},{"key":"D","text":"Changing the priority of a process."}],"answer":"B","explanation":"Context Switching is the overhead process of saving the Process Control Block (PCB) of the currently running process and restoring the PCB of the next process to be executed."},{"id":22,"question":"The \\"Working Set\\" model is based on the assumption of:","options":[{"key":"A","text":"Global replacement."},{"key":"B","text":"Random access patterns."},{"key":"C","text":"Locality of reference."},{"key":"D","text":"Pre-paging."}],"answer":"C","explanation":"The Working Set model relies on the principle of Locality of Reference, which states that processes tend to access a specific set of pages (a \\"locality\\") frequently during a specific time window."},{"id":23,"question":"Which method of handling deadlocks involves granting resources only if the allocation leaves the system in a safe state?","options":[{"key":"A","text":"Prevention"},{"key":"B","text":"Avoidance"},{"key":"C","text":"Detection"},{"key":"D","text":"Recovery"}],"answer":"B","explanation":"Deadlock Avoidance checks the system state before allocation. It only grants a resource request if the resulting state is \\"safe\\" (i.e., deadlock is mathematically impossible), preventing the system from entering an unsafe state."},{"id":24,"question":"Internal Fragmentation is a common issue in:","options":[{"key":"A","text":"Fixed Partitioning and Paging"},{"key":"B","text":"Dynamic Partitioning and Segmentation"},{"key":"C","text":"Segmentation only"},{"key":"D","text":"Demand Paging only"}],"answer":"A","explanation":"Internal fragmentation occurs when memory is allocated in fixed-sized blocks (like pages or fixed partitions). If a process needs less space than the block size, the remaining space inside that block is wasted."},{"id":25,"question":"The problem of starvation in priority scheduling can be resolved by:","options":[{"key":"A","text":"Context Switching"},{"key":"B","text":"Aging"},{"key":"C","text":"Swapping"},{"key":"D","text":"Round Robin"}],"answer":"B","explanation":"Aging is a technique where the priority of a process is gradually increased the longer it waits in the system. This prevents low-priority processes from being starved indefinitely by high-priority ones."},{"id":26,"question":"Which file access method is best suited for database applications where arbitrary records need to be accessed quickly?","options":[{"key":"A","text":"Sequential Access"},{"key":"B","text":"Direct/Random Access"},{"key":"C","text":"Indexed Sequential Access"},{"key":"D","text":"Contiguous Access"}],"answer":"B","explanation":"Direct access allows a program to jump to any logical record in a file immediately (like a CD track). This is essential for databases where users need to retrieve specific records without reading everything preceding them."},{"id":27,"question":"If the time quantum in Round Robin scheduling is extremely large, the algorithm degenerates into:","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SJF"},{"key":"C","text":"Priority Scheduling"},{"key":"D","text":"Multilevel Queue"}],"answer":"A","explanation":"In Round Robin, if the time quantum is infinitely large, the first process will finish its entire CPU burst before the timer interrupts. This behavior is identical to First-Come, First-Served (FCFS)."},{"id":28,"question":"Compaction is a solution for:","options":[{"key":"A","text":"Internal Fragmentation"},{"key":"B","text":"External Fragmentation"},{"key":"C","text":"Thrashing"},{"key":"D","text":"Deadlocks"}],"answer":"B","explanation":"Compaction (or defragmentation) shuffles memory contents to place all free memory together in one large block. This resolves external fragmentation, where total free memory is sufficient but scattered in small chunks."},{"id":29,"question":"A semaphore that can take any non-negative integer value is called a:","options":[{"key":"A","text":"Binary Semaphore"},{"key":"B","text":"Mutex"},{"key":"C","text":"Counting Semaphore"},{"key":"D","text":"Spinlock"}],"answer":"C","explanation":"A counting semaphore is a synchronization variable that can value range over an unrestricted domain (non-negative integers). It is typically used to control access to a resource that has multiple instances."},{"id":30,"question":"In Demand Paging, a page fault occurs when:","options":[{"key":"A","text":"The page is in memory but locked."},{"key":"B","text":"The requested page is not currently in memory."},{"key":"C","text":"The process tries to access a restricted memory area."},{"key":"D","text":"The TLB is full."}],"answer":"B","explanation":"A page fault is a hardware trap raised by the MMU when a program accesses a logical page that is marked \\"invalid\\" in the page table because it has not yet been loaded into physical RAM."},{"id":31,"question":"Logical address space is generated by:","options":[{"key":"A","text":"The CPU"},{"key":"B","text":"The MMU"},{"key":"C","text":"The OS kernel"},{"key":"D","text":"The Disk Controller"}],"answer":"A","explanation":"The CPU generates logical (virtual) addresses while executing a program. The Memory Management Unit (MMU) is the hardware component that translates these logical addresses into physical addresses."},{"id":32,"question":"Which of the following disk scheduling algorithms yields the lowest variance in response time?","options":[{"key":"A","text":"SSTF"},{"key":"B","text":"FCFS"},{"key":"C","text":"C-SCAN"},{"key":"D","text":"SCAN"}],"answer":"C","explanation":"C-SCAN provides a more uniform wait time compared to SCAN or SSTF. By servicing requests in only one direction, it prevents the bias against requests located at the far ends of the disk (reducing variance)."},{"id":33,"question":"To prevent a deadlock by denying the \\"Hold and Wait\\" condition, a system could:","options":[{"key":"A","text":"Preempt resources from a holding process."},{"key":"B","text":"Require a process to request and be allocated all its resources before execution begins."},{"key":"C","text":"Order resources numerically."},{"key":"D","text":"Use the Banker's Algorithm."}],"answer":"B","explanation":"This strategy invalidates the \\"Hold and Wait\\" condition. If a process must grab all resources at the start, it never holds some resources while waiting for others, effectively preventing deadlock."},{"id":34,"question":"The Dirty Bit in a page table entry indicates:","options":[{"key":"A","text":"The page is invalid."},{"key":"B","text":"The page is read-only."},{"key":"C","text":"The page has been modified since it was loaded into memory."},{"key":"D","text":"The page is currently in the TLB."}],"answer":"C","explanation":"The Dirty Bit (or modify bit) is set by hardware whenever a page is written to. If the bit is set, the page must be written back to the disk (swapped out) before the frame can be reused; otherwise, the changes are lost."},{"id":35,"question":"Which structure helps resolve the issue of very large page tables in systems with large logical address spaces?","options":[{"key":"A","text":"TLB"},{"key":"B","text":"Multi-level Paging (Hierarchical Paging)"},{"key":"C","text":"Inverted Page Table"},{"key":"D","text":"Hashed Page Table"}],"answer":"B","explanation":"Systems with large logical address spaces would require massive page tables that consume too much contiguous memory. Multi-level paging breaks the page table into smaller pieces (paging the page table), so only parts of it need to be in memory."},{"id":36,"question":"In the context of disk management, boot block stores:","options":[{"key":"A","text":"The file system structure."},{"key":"B","text":"The bootstrap loader program."},{"key":"C","text":"Bad blocks info."},{"key":"D","text":"The operating system kernel."}],"answer":"B","explanation":"The boot block (usually the first block of the disk) contains the initial bootstrap program. The hardware loads this code on startup, which then locates and loads the full Operating System kernel."},{"id":37,"question":"A system has 3 processes sharing 4 resources. If each process needs a maximum of 2 units, deadlock is:","options":[{"key":"A","text":"Inevitable."},{"key":"B","text":"Possible."},{"key":"C","text":"Impossible."}],"answer":"C","explanation":"Deadlock occurs if all processes are holding resources and waiting for more. With 3 processes and 4 resources, even if every process holds 1 resource (Total 3), there is 1 resource left. One process can take it, reach its max of 2, finish, and return the resources."},{"id":38,"question":"Inverted Page Tables map:","options":[{"key":"A","text":"Logical addresses to physical addresses directly."},{"key":"B","text":"Logical pages to physical frames per process."},{"key":"C","text":"Physical frame numbers to logical page numbers (PID + Page#)."},{"key":"D","text":"Disk blocks to memory frames."}],"answer":"C","explanation":"Standard page tables map Page to Frame. Inverted Page Tables map Frame to Page (and Process ID). There is only one entry per physical frame, which saves memory but necessitates searching the table."},{"id":39,"question":"The Wait-for graph is a deadlock detection method used for systems with:","options":[{"key":"A","text":"Multiple instances of each resource type."},{"key":"B","text":"Single instance of each resource type."},{"key":"C","text":"Preemptible resources only."},{"key":"D","text":"Infinite resources."}],"answer":"B","explanation":"A Wait-for graph is a collapsed version of the Resource Allocation Graph. It is only applicable for deadlock detection when there is a single instance of each resource type; a cycle in this graph confirms a deadlock."},{"id":40,"question":"If Effective Access Time = (1-p) x ma + p x (page fault time), what does 'p' represent?","options":[{"key":"A","text":"Probability of a TLB hit."},{"key":"B","text":"Process priority."},{"key":"C","text":"Page fault rate."},{"key":"D","text":"CPU utilization."}],"answer":"C","explanation":"The variable p represents the probability that a memory access results in a page fault. The formula calculates the weighted average of memory access time based on how often faults occur."},{"id":41,"question":"In Linked Allocation of files:","options":[{"key":"A","text":"Random access is extremely fast."},{"key":"B","text":"There is no external fragmentation."},{"key":"C","text":"Seeking to the middle of a file is efficient."},{"key":"D","text":"All pointers are stored in a central index block."}],"answer":"B","explanation":"In Linked Allocation, files are stored as a linked list of blocks, which can be scattered anywhere on the disk. This eliminates external fragmentation because any free block can be used to extend the file."},{"id":42,"question":"What is the primary benefit of using Overlays?","options":[{"key":"A","text":"Faster context switching."},{"key":"B","text":"Running a process that is larger than the available physical memory."},{"key":"C","text":"Reducing internal fragmentation."},{"key":"D","text":"Simplifying address binding."}],"answer":"B","explanation":"Overlays allow a process to run even if it is larger than physical memory by keeping only the instructions needed at that moment in memory. When a different phase of the program is needed, it overwrites (overlays) the previous one."},{"id":43,"question":"Which deadlock recovery method involves rolling back a process to a safe state?","options":[{"key":"A","text":"Process Termination"},{"key":"B","text":"Resource Preemption"},{"key":"C","text":"Checkpointing and Rollback"},{"key":"D","text":"Starvation"}],"answer":"C","explanation":"Deadlock recovery often involves rolling back a process. To do this, the system periodically saves the state (checkpoint). If a deadlock is detected, the process is reset to a previous safe checkpoint rather than being killed entirely."},{"id":44,"question":"Circular Wait can be prevented by:","options":[{"key":"A","text":"Using semaphores."},{"key":"B","text":"Imposing a total ordering of all resource types."},{"key":"C","text":"Using time-outs."},{"key":"D","text":"Using counting semaphores."}],"answer":"B","explanation":"This prevents Circular Wait. If resources are numbered (1, 2, 3...) and processes can only request resources in increasing order, a cycle cannot form."},{"id":45,"question":"In Paged Segmentation:","options":[{"key":"A","text":"The segment is divided into pages."},{"key":"B","text":"The pages are divided into segments."},{"key":"C","text":"Memory allocation is done by frames, avoiding external fragmentation."},{"key":"D","text":"It eliminates internal fragmentation entirely."}],"answer":"A","explanation":"Paged Segmentation combines both schemes. The logical address space is segmented to support user view/protection, but the linear segments themselves are divided into pages to simplify physical memory management and avoid external fragmentation."},{"id":46,"question":"Which disk scheduling algorithm performs better for systems with a heavy load?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SCAN / Elevator"},{"key":"C","text":"Random"},{"key":"D","text":"Prioritized"}],"answer":"B","explanation":"Under heavy load, FCFS performs poorly due to excessive arm movement. SCAN (Elevator algorithm) is more efficient because it sweeps across the disk servicing multiple requests in a single pass, maximizing throughput."},{"id":47,"question":"The Access Matrix can be implemented using:","options":[{"key":"A","text":"Global Table"},{"key":"B","text":"Access Control Lists (ACL) for objects"},{"key":"C","text":"Capability Lists for domains"},{"key":"D","text":"All of the above"}],"answer":"D","explanation":"The Access Matrix is an abstract model. It can be implemented physically using a Global Table (sparse), Access Control Lists (storing columns with objects), or Capability Lists (storing rows with domains)."},{"id":48,"question":"When does Address Binding happen at Load Time?","options":[{"key":"A","text":"If the process can be moved during execution."},{"key":"B","text":"If it is known at compile time where the process will reside."},{"key":"C","text":"If the compiler generates relocatable code and the binding is done when the program is loaded into memory."},{"key":"D","text":"During the execution of the machine code instruction."}],"answer":"C","explanation":"Load-time binding occurs when the compiler doesn't know the absolute address. It generates relocatable addresses (relative to 0), and the loader adds the starting address of the memory block when the program is loaded."},{"id":49,"question":"SSTF (Shortest Seek Time First) is essentially a form of ______ scheduling.","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"Round Robin"},{"key":"C","text":"SJF (Shortest Job First)"},{"key":"D","text":"Priority"}],"answer":"C","explanation":"SSTF is the disk-scheduling equivalent of Shortest Job First CPU scheduling. By selecting the request with the minimum seek time (shortest \\"job\\"), it reduces average service time but risks starvation for \\"long\\" jobs."},{"id":50,"question":"Global replacement in page replacement algorithms allows:","options":[{"key":"A","text":"A process to select a replacement frame from the set of all frames in the system."},{"key":"B","text":"A process to select only from its own allocated frames."},{"key":"C","text":"The OS to replace kernel pages only."},{"key":"D","text":"Replacement only when memory is completely full."}],"answer":"A","explanation":"Global replacement allows a process to \\"steal\\" a frame from another process if it needs one. This improves system throughput but means a process's execution time can vary based on the behavior of other processes."},{"id":51,"question":"Which of the following is an example of a Deadlock Prevention strategy?","options":[{"key":"A","text":"Banker's Algorithm"},{"key":"B","text":"Wait-For Graph"},{"key":"C","text":"Spooling everything (to avoid Hold and Wait on physical devices)"},{"key":"D","text":"Killing the youngest process"}],"answer":"C","explanation":"Spooling (Simultaneous Peripheral Operations On-Line) virtualizes devices. Instead of a process holding a physical printer (Mutual Exclusion), it writes to a disk file (spool). The daemon handles the printer, removing the deadlock condition regarding exclusive hardware access."},{"id":52,"question":"The time it takes to move the disk arm to the required cylinder is called:","options":[{"key":"A","text":"Seek Time"},{"key":"B","text":"Latency"},{"key":"C","text":"Transmission Time"},{"key":"D","text":"Response Time"}],"answer":"A","explanation":"Seek time is the mechanical delay required for the disk arm (actuator) to move the read/write head from its current position to the cylinder containing the desired data."},{"id":53,"question":"Copy-on-Write allows parent and child processes to share pages until:","options":[{"key":"A","text":"The child terminates."},{"key":"B","text":"The parent terminates."},{"key":"C","text":"Either process modifies a shared page."},{"key":"D","text":"The time quantum expires."}],"answer":"C","explanation":"Copy-on-Write (COW) is an optimization where parent and child share physical pages after a fork(). The OS only creates a copy of a page when one of the processes tries to write to it, conserving memory."},{"id":54,"question":"If a system has a 32-bit logical address and a 4KB page size, the page table will have approximately how many entries?","options":[{"key":"A","text":"32,000"},{"key":"B","text":"64,000"},{"key":"C","text":"1 Million ($2^{20}$)"},{"key":"D","text":"4 Billion"}],"answer":"C","explanation":"The number of entries = Total Logical Address Space / Page Size. Calculation: 2^32 / 2^12 = 2^20. 2^20 is approximately 1,000,000 entries (specifically 1,048,576)."},{"id":55,"question":"Which of the following is true about FAT (File Allocation Table)?","options":[{"key":"A","text":"It uses contiguous allocation."},{"key":"B","text":"It is a variation of linked allocation where links are stored in a separate table."},{"key":"C","text":"It supports no random access."},{"key":"D","text":"It is an inode-based system."}],"answer":"B","explanation":"The FAT system pulls the pointers out of the data blocks and stores them in a dedicated table at the beginning of the volume. This allows the OS to follow the chain without reading every data block, enabling faster access."},{"id":56,"question":"The Protection Domain determines:","options":[{"key":"A","text":"The priority of the process."},{"key":"B","text":"The set of access rights a process has."},{"key":"C","text":"The memory space of the process."},{"key":"D","text":"The CPU time allocated."}],"answer":"B","explanation":"A Protection Domain defines the boundaries within which a process operates. It specifies strictly which objects (files, hardware) the process can access and what operations (read, write, execute) it can perform on them."},{"id":57,"question":"Swap space management is primarily concerned with:","options":[{"key":"A","text":"Managing RAM."},{"key":"B","text":"Managing disk space used for moving processes out of main memory."},{"key":"C","text":"Managing CPU registers."},{"key":"D","text":"Managing cache memory."}],"answer":"B","explanation":"Swap space is a reserved area on the disk (or a file). When physical RAM is full, the OS moves inactive pages or entire processes to this swap space to free up RAM for active tasks."},{"id":58,"question":"Which algorithm handles the \\"Beladys Anomaly\\"?","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"Stack-based algorithms (like LRU)"},{"key":"C","text":"Second-Chance"},{"key":"D","text":"Random"}],"answer":"B","explanation":"Stack algorithms satisfy the inclusion property: the set of pages in memory with N frames is always a subset of the pages in memory with N+1 frames. This mathematical property prevents Belady's Anomaly."},{"id":59,"question":"A Relocatable Code implies that:","options":[{"key":"A","text":"Physical addresses are generated at compile time."},{"key":"B","text":"Base registers are used to calculate physical addresses at runtime."},{"key":"C","text":"The code cannot be moved once loaded."},{"key":"D","text":"It uses absolute addressing."}],"answer":"B","explanation":"Relocatable code uses relative addressing. At runtime, the hardware adds the value of a relocation (base) register to every logical address generated to find the actual physical memory location."},{"id":60,"question":"The Wait and Signal operations of a semaphore are atomic. This means:","options":[{"key":"A","text":"They are executed very quickly."},{"key":"B","text":"They cannot be called recursively."},{"key":"C","text":"They cannot be interrupted."},{"key":"D","text":"They are implemented in user space."}],"answer":"C","explanation":"Atomicity is crucial for semaphores. If a process is executing a Wait or Signal operation, no other process can interrupt it or access the semaphore variable until the operation is fully complete, preventing race conditions."},{"id":61,"question":"Index Allocation (like inodes) solves the external fragmentation of Contiguous allocation and the poor direct access of Linked allocation by:","options":[{"key":"A","text":"Using a FAT."},{"key":"B","text":"Bringing all pointers together into an index block."},{"key":"C","text":"Using variable partition sizes."},{"key":"D","text":"Compressing the file."}],"answer":"B","explanation":"Indexed allocation gives each file an index block containing pointers to all its data blocks. This supports direct access (calculating the offset in the index block) and eliminates external fragmentation (blocks can be anywhere)."},{"id":62,"question":"If you want to ensure no process starves on a disk queue, you should avoid:","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SCAN"},{"key":"C","text":"SSTF"},{"key":"D","text":"C-LOOK"}],"answer":"C","explanation":"SSTF creates a risk of starvation. If requests continue to arrive near the current head position, the disk arm will stay there to minimize seek time, ignoring requests at the other end of the disk indefinitely."},{"id":63,"question":"Which condition must hold for a Critical Section?","options":[{"key":"A","text":"Mutual Exclusion"},{"key":"B","text":"Preemption"},{"key":"C","text":"Deadlock"},{"key":"D","text":"Latency"}],"answer":"A","explanation":"For a Critical Section to function correctly, Mutual Exclusion is mandatory. It ensures that if process P is executing in its critical section, no other process can be executing in their corresponding critical sections."},{"id":64,"question":"Dynamic Linking is most useful for:","options":[{"key":"A","text":"Embedded systems."},{"key":"B","text":"Shared libraries (like .dll or .so files)."},{"key":"C","text":"Real-time systems."},{"key":"D","text":"Boot loaders."}],"answer":"B","explanation":"Dynamic linking keeps libraries separate on disk. Multiple programs can link to the same library file at runtime. This saves disk space and RAM, as one copy of the library code is shared in memory."},{"id":65,"question":"A \\"page fault\\" is an interrupt raised by:","options":[{"key":"A","text":"The Operating System."},{"key":"B","text":"The Hardware (MMU)."},{"key":"C","text":"The User Program."},{"key":"D","text":"The Disk Drive."}],"answer":"B","explanation":"A page fault is a hardware exception (trap). When the MMU tries to translate an address and finds the \\"Valid/Invalid\\" bit set to Invalid, it raises a hardware interrupt to tell the OS to fetch the page from disk."},{"id":66,"question":"Monitor is a high-level synchronization construct that:","options":[{"key":"A","text":"Uses spinlocks internally."},{"key":"B","text":"Ensures only one process can be active within the monitor at a time."},{"key":"C","text":"Is faster than semaphores."},{"key":"D","text":"Causes deadlocks easily."}],"answer":"B","explanation":"A Monitor is a high-level language construct. The compiler automatically injects the mutual exclusion logic, ensuring only one thread can execute code inside the monitor instance at any moment."},{"id":67,"question":"What is the main purpose of the SSTF algorithm?","options":[{"key":"A","text":"To minimize total head movement."},{"key":"B","text":"To ensure fairness."},{"key":"C","text":"To service the oldest request first."},{"key":"D","text":"To minimize CPU usage."}],"answer":"A","explanation":"The primary goal of Shortest Seek Time First (SSTF) is performance optimization. By always choosing the closest request, it reduces the total distance the disk arm travels, thereby reducing the average seek time."},{"id":68,"question":"In RAID, redundancy is used to improve:","options":[{"key":"A","text":"Speed."},{"key":"B","text":"Reliability."},{"key":"C","text":"Capacity."},{"key":"D","text":"Formatting time."}],"answer":"B","explanation":"RAID (Redundant Array of Independent Disks) levels like RAID 1 (Mirroring) or RAID 5 (Parity) use redundancy to ensure that if a single disk fails, the data can be recovered or operations can continue without data loss."},{"id":69,"question":"Which file attribute is NOT typically stored in the file control block (inode)?","options":[{"key":"A","text":"File size."},{"key":"B","text":"File owner."},{"key":"C","text":"File content."},{"key":"D","text":"Time of last modification."}],"answer":"C","explanation":"The File Control Block (FCB or inode) stores metadata about the file (permissions, owner, size, timestamps, and pointers to data blocks). It does not store the actual data/content of the file itself."},{"id":70,"question":"Pure Code (Reentrant Code) is:","options":[{"key":"A","text":"Code that modifies itself."},{"key":"B","text":"Code that can be shared by multiple processes simultaneously without modification."},{"key":"C","text":"Code that has no variables."},{"key":"D","text":"Code written in Assembly."}],"answer":"B","explanation":"Pure (Reentrant) code does not change during execution; it holds no static data. This allows multiple processes to execute the same memory block of code safely while keeping their own separate data/stack areas."},{"id":71,"question":"Look and C-Look are optimizations of SCAN that:","options":[{"key":"A","text":"Don't go to the physical end of the disk, only to the furthest request."},{"key":"B","text":"Move faster."},{"key":"C","text":"Use caching."},{"key":"D","text":"Prioritize reads over writes."}],"answer":"A","explanation":"Standard SCAN goes from end-to-end even if the last request is at 90. LOOK and C-LOOK optimize this by reversing direction immediately after serving the last request at 90, saving idle travel time."},{"id":72,"question":"Preemption is required for which type of scheduling?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"Round Robin"},{"key":"C","text":"Non-preemptive SJF"},{"key":"D","text":"Cooperative Scheduling"}],"answer":"B","explanation":"Round Robin is inherently preemptive. It relies on a timer interrupt (time quantum). When the time is up, the OS forcibly takes the CPU away from the current process and gives it to the next one."},{"id":73,"question":"Peterson's Solution is a software-based solution for:","options":[{"key":"A","text":"Deadlock recovery."},{"key":"B","text":"Critical Section problem for 2 processes."},{"key":"C","text":"Memory fragmentation."},{"key":"D","text":"Disk scheduling."}],"answer":"B","explanation":"Petersons Solution is a classic algorithmic solution that provides Mutual Exclusion, Progress, and Bounded Waiting for two processes using two shared variables (turn and flag) without special hardware instructions."},{"id":74,"question":"If the page size is too small:","options":[{"key":"A","text":"The page table becomes very large."},{"key":"B","text":"Internal fragmentation increases."},{"key":"C","text":"Access time decreases."},{"key":"D","text":"Thrashing is eliminated."}],"answer":"A","explanation":"If pages are tiny (e.g., 256 bytes), a large memory space will be divided into millions of pages. This requires a massive page table to map them all, wasting memory on management overhead."},{"id":75,"question":"Safe Sequence <P1,P2,P3> implies:","options":[{"key":"A","text":"P1 must finish before P2 starts."},{"key":"B","text":"System can allocate resources to P1, then wait for P1 to finish/release, then satisfy P2, and so on."},{"key":"C","text":"P3 holds the most resources."},{"key":"D","text":"There is no circular wait."}],"answer":"B","explanation":"A safe sequence ensures that P1 can finish with currently available resources. Once P1 finishes, it returns its resources, whichadded to the available poolare enough to let P2 finish, and so on."},{"id":76,"question":"Contiguous Memory Allocation suffers primarily from:","options":[{"key":"A","text":"Internal Fragmentation."},{"key":"B","text":"External Fragmentation."},{"key":"C","text":"Page Faults."},{"key":"D","text":"Slow Access Time."}],"answer":"B","explanation":"Contiguous allocation requires a continuous block of memory. As processes are loaded and removed, free memory becomes broken into small, non-contiguous holes that are too small to be useful individually."},{"id":77,"question":"Which structure allows a large logical address space to be mapped to a smaller physical memory?","options":[{"key":"A","text":"Overlays."},{"key":"B","text":"Segmentation."},{"key":"C","text":"Virtual Memory (Paging)."},{"key":"D","text":"DMA."}],"answer":"C","explanation":"Virtual memory separates logical memory from physical memory. It allows a program to have a logical address space much larger than actual RAM by only keeping the currently needed pages in physical memory."},{"id":78,"question":"A Race Condition occurs when:","options":[{"key":"A","text":"Two processes read the same data."},{"key":"B","text":"The outcome of execution depends on the specific order in which access takes place."},{"key":"C","text":"One process is faster than the other."},{"key":"D","text":"A process dies unexpectedly."}],"answer":"B","explanation":"A race condition happens when multiple processes access and manipulate shared data concurrently. The final value of the data depends on the luck of the scheduling order, leading to bugs."},{"id":79,"question":"In Capability Lists:","options":[{"key":"A","text":"Each process has a list of objects it can access."},{"key":"B","text":"Each object has a list of processes that can access it."},{"key":"C","text":"There is a central matrix."},{"key":"D","text":"Access is public."}],"answer":"A","explanation":"In a Capability List implementation of the Access Matrix, the matrix is decomposed by row. Each process (domain) carries a list of \\"capabilities\\" (like tickets or keys) for the objects it is allowed to touch."},{"id":80,"question":"Memory Mapped I/O means:","options":[{"key":"A","text":"I/O devices have their own dedicated bus."},{"key":"B","text":"Device control registers are mapped into the memory address space of the processor."},{"key":"C","text":"I/O is handled only by the kernel."},{"key":"D","text":"Files are always loaded into RAM."}],"answer":"B","explanation":"Memory Mapped I/O allows the CPU to control hardware devices using standard memory instructions (like Load/Store) by assigning specific memory addresses to device registers, rather than using special I/O instructions."},{"id":81,"question":"Counting Semaphores are initialized to:","options":[{"key":"A","text":"0"},{"key":"B","text":"1"},{"key":"C","text":"The number of available resources."},{"key":"D","text":"-1"}],"answer":"C","explanation":"A counting semaphore is used to track available instances of a resource. It is initialized to the total count (e.g., 5 printers). Wait decrements the count; Signal increments it."},{"id":82,"question":"The seek time is the time to move the arm, and rotational latency is the time for the sector to rotate. The sum of these plus transfer time is:","options":[{"key":"A","text":"Throughput."},{"key":"B","text":"Disk Access Time."},{"key":"C","text":"Bus Latency."},{"key":"D","text":"Response Time."}],"answer":"B","explanation":"The total time to satisfy a disk request is the sum of getting to the right place (Seek Time + Rotational Latency) and the actual time to read the data (Transfer Time)."},{"id":83,"question":"Which is a technique to avoid External Fragmentation without using paging?","options":[{"key":"A","text":"Compaction"},{"key":"B","text":"Swapping"},{"key":"C","text":"Zoning"},{"key":"D","text":"Formatting"}],"answer":"A","explanation":"Compaction is the only way to fix external fragmentation in contiguous systems without changing the architecture. It physically moves memory contents to push all free space to one end, creating one large usable block."},{"id":84,"question":"FCFS disk scheduling is generally:","options":[{"key":"A","text":"Fair but performs poorly."},{"key":"B","text":"Unfair and performs poorly."},{"key":"C","text":"Optimal."},{"key":"D","text":"Complex to implement."}],"answer":"A","explanation":"FCFS is fair because it strictly follows the order of arrival (no starvation). However, it does not optimize for seek time, leading to \\"wild\\" swings of the disk arm and slow performance."},{"id":85,"question":"In a system using RR Scheduling, if a process is I/O bound, it will:","options":[{"key":"A","text":"Use its full time quantum."},{"key":"B","text":"Relinquish the CPU voluntarily before the quantum expires."},{"key":"C","text":"Be moved to a lower priority queue."},{"key":"D","text":"Cause a deadlock."}],"answer":"B","explanation":"I/O bound processes spend little time computing. They will issue an I/O request quickly and block themselves (give up the CPU) long before their time quantum runs out, leading to short CPU bursts."},{"id":86,"question":"Safe State is ______ condition for deadlock freedom.","options":[{"key":"A","text":"A Necessary"},{"key":"B","text":"A Sufficient"},{"key":"C","text":"Not a related"},{"key":"D","text":"An equivalent"}],"answer":"B","explanation":"If a system is in a Safe State, it is guaranteed that no deadlock exists. Therefore, being in a safe state is sufficient to prove the system is deadlock-free."},{"id":87,"question":"Which of the following allows a file to be distributed across different disks?","options":[{"key":"A","text":"Linked Allocation"},{"key":"B","text":"Contiguous Allocation"},{"key":"C","text":"Striping (RAID)"},{"key":"D","text":"Inode"}],"answer":"C","explanation":"Disk striping divides data into blocks and spreads them across multiple physical disks (RAID 0). This allows parallel reading/writing, improving performance, and creating a file system larger than a single disk."},{"id":88,"question":"If a process attempts to access a page that is not in its address space (invalid reference), the OS handles this by:","options":[{"key":"A","text":"Loading the page."},{"key":"B","text":"Ignoring it."},{"key":"C","text":"Terminating the process (Segmentation Fault)."},{"key":"D","text":"Waiting."}],"answer":"C","explanation":"If a process tries to access a logical address that is not mapped in its page table (not part of its allocated address space), it is an illegal access. The OS traps this error and terminates the process."},{"id":89,"question":"Working Set is defined as the set of pages referenced in the most recent:","options":[{"key":"A","text":"Time quantum."},{"key":"B","text":"Delta ($\\\\Delta$) time units."},{"key":"C","text":"Process lifetime."},{"key":"D","text":"Critical section."}],"answer":"B","explanation":"The Working Set model looks at the most recent Delta time references. The set of unique pages accessed during this time window is considered the process's current \\"Working Set.\\""},{"id":90,"question":"Base and Limit registers define:","options":[{"key":"A","text":"The logical address space of a process."},{"key":"B","text":"The physical memory size."},{"key":"C","text":"The disk capacity."},{"key":"D","text":"The page table size."}],"answer":"A","explanation":"In contiguous allocation, the Base register holds the smallest physical address, and the Limit register holds the size of the range. Together, they define and protect the process's logical address space."},{"id":91,"question":"Bit Vector is a common method for:","options":[{"key":"A","text":"Page replacement."},{"key":"B","text":"Free space management on disk."},{"key":"C","text":"Deadlock detection."},{"key":"D","text":"Process scheduling."}],"answer":"B","explanation":"A Bit Vector (or Bit Map) is a compact way to track free disk blocks. Each block is represented by 1 bit (0 for allocated, 1 for free). This allows the OS to quickly find free blocks."},{"id":92,"question":"The Dispatcher is the module that:","options":[{"key":"A","text":"Selects the process to run."},{"key":"B","text":"Gives control of the CPU to the process selected by the short-term scheduler."},{"key":"C","text":"Moves processes to disk."},{"key":"D","text":"Handles interrupts."}],"answer":"B","explanation":"The Scheduler decides who runs next. The Dispatcher is the mechanism that actually switches to that process (performing context switch, switching to user mode, and jumping to the instruction)."},{"id":93,"question":"Priority Inversion can be solved by:","options":[{"key":"A","text":"Disabling interrupts."},{"key":"B","text":"Priority Inheritance Protocol."},{"key":"C","text":"Killing the low-priority process."},{"key":"D","text":"Using FCFS."}],"answer":"B","explanation":"Priority Inversion happens when a low-priority task holds a lock needed by a high-priority task. Priority Inheritance temporarily raises the priority of the lock-holder to that of the waiter, so it can finish and release the lock faster."},{"id":94,"question":"Spinlocks are useful in:","options":[{"key":"A","text":"Single-processor systems."},{"key":"B","text":"Multi-processor systems (for short waits)."},{"key":"C","text":"I/O bound processes."},{"key":"D","text":"Long critical sections."}],"answer":"B","explanation":"Spinlocks cause the CPU to \\"busy wait\\". On a single core, this wastes time. On multicore systems, if the wait is short, spinning is cheaper than the overhead of a context switch."},{"id":95,"question":"In Indexed Allocation, the max file size depends on:","options":[{"key":"A","text":"Disk size."},{"key":"B","text":"The number of pointers in the index block."},{"key":"C","text":"RAM size."},{"key":"D","text":"The file name."}],"answer":"B","explanation":"In standard Indexed Allocation, the file size is limited by how many block pointers fit inside the single index block."},{"id":96,"question":"Which is false about threads?","options":[{"key":"A","text":"They share the code section."},{"key":"B","text":"They share open files."},{"key":"C","text":"They share the stack."},{"key":"D","text":"They share data section."}],"answer":"C","explanation":"Threads within the same process share the code segment, data segment, and OS resources. However, each thread must have its own stack to manage its own function calls and local variables."},{"id":97,"question":"The Bootstrap program is typically stored in:","options":[{"key":"A","text":"RAM."},{"key":"B","text":"ROM or EEPROM."},{"key":"C","text":"Hard Disk (Sector 100)."},{"key":"D","text":"Cache."}],"answer":"B","explanation":"The bootstrap program runs when the computer is first turned on. Since RAM is volatile, this initial code must be stored in non-volatile memory like ROM or firmware (BIOS/UEFI)."},{"id":98,"question":"Shortest Job First (SJF) is optimal in terms of:","options":[{"key":"A","text":"Throughput."},{"key":"B","text":"Minimum average waiting time."},{"key":"C","text":"Fairness."},{"key":"D","text":"CPU utilization."}],"answer":"B","explanation":"SJF is mathematically proven to provide the lowest possible average waiting time for a given set of processes because it clears the queue of short tasks quickly."},{"id":99,"question":"A system has 4 processes and 3 resource types. To ensure deadlock freedom using the Banker's algorithm, we must check the:","options":[{"key":"A","text":"Need Matrix vs Available Vector."},{"key":"B","text":"Allocation Matrix vs Max Matrix."},{"key":"C","text":"Hold count."},{"key":"D","text":"Wait queue length."}],"answer":"A","explanation":"The Banker's Algorithm checks safety by comparing the Need (Max - Allocation) of a process against the currently Available resources. If Available >= Need, the process can theoretically finish."},{"id":100,"question":"File System consistency checks (like fsck or chkdsk) compare:","options":[{"key":"A","text":"Data in memory vs Disk."},{"key":"B","text":"Directory structure vs the actual blocks allocated on disk."},{"key":"C","text":"User permissions."},{"key":"D","text":"File names."}],"answer":"B","explanation":"Consistency checkers ensure the file system metadata is valid. They check if a block is marked as \\"used\\" in the free-space list but not claimed by any file in the directory structure."}]`),rl=(t,e)=>{let n=[...t];for(;n.length<e;){const s=t.map((a,l)=>({...a,id:n.length+l+1}));n=[...n,...s]}return n.slice(0,e)},gz=[{id:1,question:"What does ACID stand for in DBMS?",options:[{key:"A",text:"Atomicity, Consistency, Isolation, Durability"},{key:"B",text:"Atomicity, Consistency, Integrity, Durability"},{key:"C",text:"Accuracy, Consistency, Isolation, Durability"},{key:"D",text:"Atomicity, Concurrency, Isolation, Durability"}],answer:"A",explanation:"ACID properties (Atomicity, Consistency, Isolation, Durability) guarantee that database transactions are processed reliably."},{id:2,question:"Which key uniquely identifies a record in a table?",options:[{key:"A",text:"Foreign Key"},{key:"B",text:"Primary Key"},{key:"C",text:"Secondary Key"},{key:"D",text:"Alternate Key"}],answer:"B",explanation:"A Primary Key is a minimal set of attributes that uniquely identifies a specific tuple (row) in a relation (table)."},{id:3,question:"What is Normalization used for?",options:[{key:"A",text:"To add redundancy"},{key:"B",text:"To reduce redundancy and dependency"},{key:"C",text:"To increase query speed"},{key:"D",text:"To backup data"}],answer:"B",explanation:"Normalization is the process of organizing data to minimize redundancy and prevent update anomalies."},{id:4,question:"Which SQL command is used to remove a table from the database?",options:[{key:"A",text:"DELETE"},{key:"B",text:"REMOVE"},{key:"C",text:"DROP"},{key:"D",text:"TRUNCATE"}],answer:"C",explanation:"DROP TABLE deletes the table structure and all its data. DELETE removes rows, TRUNCATE removes all rows but keeps structure."},{id:5,question:"A relationship where one record refers to many records in another table is:",options:[{key:"A",text:"One-to-One"},{key:"B",text:"Many-to-Many"},{key:"C",text:"One-to-Many"},{key:"D",text:"None of the above"}],answer:"C",explanation:"One-to-Many relationship is the most common type, where a single record in Table A is related to multiple records in Table B."},{id:6,question:"Which level of RAID provides disk mirroring?",options:[{key:"A",text:"RAID 0"},{key:"B",text:"RAID 1"},{key:"C",text:"RAID 5"},{key:"D",text:"RAID 10"}],answer:"B",explanation:"RAID 1 consists of an exact copy (or mirror) of a set of data on two or more disks."},{id:7,question:"In E-R diagram, a rectangle represents:",options:[{key:"A",text:"Attribute"},{key:"B",text:"Relationship"},{key:"C",text:"Entity Set"},{key:"D",text:"Key"}],answer:"C",explanation:"A rectangle represents an entity set in an E-R diagram."},{id:8,question:"Which operation is used to select specific columns from a table?",options:[{key:"A",text:"Selection"},{key:"B",text:"Projection"},{key:"C",text:"Join"},{key:"D",text:"Union"}],answer:"B",explanation:"Projection (Pi) is used to select specific columns (attributes) from a relation."},{id:9,question:"A transaction that has not completed is called:",options:[{key:"A",text:"Aborted"},{key:"B",text:"Active"},{key:"C",text:"Committed"},{key:"D",text:"Partially Committed"}],answer:"B",explanation:"A transaction is in the Active state while it is executing."},{id:10,question:"BCNF stands for:",options:[{key:"A",text:"Basic Codd Normal Form"},{key:"B",text:"Boyce-Codd Normal Form"},{key:"C",text:"Binary Codd Normal Form"},{key:"D",text:"Basic Column Normal Form"}],answer:"B",explanation:"BCNF is a stricter version of 3NF."}],yz=[{id:1,question:"Layer responsible for routing?",options:[{key:"A",text:"Data Link"},{key:"B",text:"Network"},{key:"C",text:"Transport"},{key:"D",text:"Session"}],answer:"B",explanation:"The Network Layer is responsible for routing."},{id:2,question:"IPv4 address size?",options:[{key:"A",text:"32 bits"},{key:"B",text:"64 bits"},{key:"C",text:"128 bits"},{key:"D",text:"256 bits"}],answer:"A",explanation:"IPv4 addresses are 32 bits long."},{id:3,question:"Default HTTP port?",options:[{key:"A",text:"21"},{key:"B",text:"443"},{key:"C",text:"80"},{key:"D",text:"25"}],answer:"C",explanation:"HTTP uses port 80."},{id:4,question:"Protocol for sending email?",options:[{key:"A",text:"POP3"},{key:"B",text:"IMAP"},{key:"C",text:"SMTP"},{key:"D",text:"HTTP"}],answer:"C",explanation:"SMTP is for sending; POP3/IMAP for receiving."},{id:5,question:"Layer 2 device?",options:[{key:"A",text:"Hub"},{key:"B",text:"Switch"},{key:"C",text:"Router"},{key:"D",text:"Repeater"}],answer:"B",explanation:"A Switch operates at the Data Link Layer (Layer 2)."},{id:6,question:"Which protocol is connectionless?",options:[{key:"A",text:"TCP"},{key:"B",text:"UDP"},{key:"C",text:"FTP"},{key:"D",text:"HTTP"}],answer:"B",explanation:"UDP is a connectionless protocol."},{id:7,question:"What is MAC?",options:[{key:"A",text:"Media Access Control"},{key:"B",text:"Memory Access Control"},{key:"C",text:"Main Access Control"},{key:"D",text:"Media Address Code"}],answer:"A",explanation:"MAC stands for Media Access Control."},{id:8,question:"Which command checks connectivity?",options:[{key:"A",text:"ipconfig"},{key:"B",text:"ping"},{key:"C",text:"netstat"},{key:"D",text:"nslookup"}],answer:"B",explanation:"Ping checks connectivity using ICMP."},{id:9,question:"DNS maps names to:",options:[{key:"A",text:"MAC Addresses"},{key:"B",text:"IP Addresses"},{key:"C",text:"Ports"},{key:"D",text:"URLs"}],answer:"B",explanation:"DNS maps domain names to IP addresses."},{id:10,question:"Fastest topology?",options:[{key:"A",text:"Bus"},{key:"B",text:"Ring"},{key:"C",text:"Star"},{key:"D",text:"Mesh"}],answer:"D",explanation:"Mesh topology is most robust but expensive; Star is most common and fast."}],vz=[{id:1,question:"Deriving properties from another class?",options:[{key:"A",text:"Polymorphism"},{key:"B",text:"Encapsulation"},{key:"C",text:"Inheritance"},{key:"D",text:"Abstraction"}],answer:"C",explanation:"Inheritance."},{id:2,question:"Same function name, different params?",options:[{key:"A",text:"Overriding"},{key:"B",text:"Overloading"},{key:"C",text:"Encapsulation"},{key:"D",text:"Detailed"}],answer:"B",explanation:"Function Overloading."},{id:3,question:"Hiding implementation details?",options:[{key:"A",text:"Encapsulation"},{key:"B",text:"Abstraction"},{key:"C",text:"Inheritance"},{key:"D",text:"Polymorphism"}],answer:"B",explanation:"Abstraction."},{id:4,question:"Private members accessible where?",options:[{key:"A",text:"Anywhere"},{key:"B",text:"Within same class"},{key:"C",text:"Derived classes"},{key:"D",text:"Same package"}],answer:"B",explanation:"Only inside the defining class."},{id:5,question:"Instance of a class?",options:[{key:"A",text:"Object"},{key:"B",text:"Method"},{key:"C",text:"Variable"},{key:"D",text:"Pointer"}],answer:"A",explanation:"An Object."},{id:6,question:"Wrapping data and code?",options:[{key:"A",text:"Abstraction"},{key:"B",text:"Encapsulation"},{key:"C",text:"Polymorphism"},{key:"D",text:"Interpolation"}],answer:"B",explanation:"Encapsulation."},{id:7,question:"Runtime Polymorphism uses?",options:[{key:"A",text:"Overloading"},{key:"B",text:"Overriding"},{key:"C",text:"Constructor"},{key:"D",text:"Destructor"}],answer:"B",explanation:"Method Overriding is runtime polymorphism."},{id:8,question:"Pure virtual function makes a class?",options:[{key:"A",text:"Static"},{key:"B",text:"Abstract"},{key:"C",text:"Final"},{key:"D",text:"Public"}],answer:"B",explanation:"A class with a pure virtual function is Abstract."},{id:9,question:"Does Java support multiple inheritance?",options:[{key:"A",text:"Yes"},{key:"B",text:"No"},{key:"C",text:"Through classes"},{key:"D",text:"Through pointers"}],answer:"B",explanation:"Java supports multiple inheritance only through Interfaces."},{id:10,question:"Constructor name must match?",options:[{key:"A",text:"File name"},{key:"B",text:"Class name"},{key:"C",text:"Package name"},{key:"D",text:"Object name"}],answer:"B",explanation:"Constructor matches Class name."}],_z=[{id:1,question:"Runs Java programs?",options:[{key:"A",text:"JVM"},{key:"B",text:"JDK"},{key:"C",text:"JRE"},{key:"D",text:"JIT"}],answer:"C",explanation:"JRE."},{id:2,question:"Size of int?",options:[{key:"A",text:"8 bit"},{key:"B",text:"16 bit"},{key:"C",text:"32 bit"},{key:"D",text:"64 bit"}],answer:"C",explanation:"32 bit."},{id:3,question:"No explicit pointers in Java?",options:[{key:"A",text:"True"},{key:"B",text:"False"},{key:"C",text:"Maybe"},{key:"D",text:"Sometimes"}],answer:"A",explanation:"True, for security."},{id:4,question:"Constant keyword?",options:[{key:"A",text:"const"},{key:"B",text:"static"},{key:"C",text:"final"},{key:"D",text:"var"}],answer:"C",explanation:"final."},{id:5,question:"Divide by Zero exception?",options:[{key:"A",text:"NullPointer"},{key:"B",text:"Arithmetic"},{key:"C",text:"NumberFormat"},{key:"D",text:"IO"}],answer:"B",explanation:"ArithmeticException."},{id:6,question:"Entry point of program?",options:[{key:"A",text:"start()"},{key:"B",text:"main()"},{key:"C",text:"run()"},{key:"D",text:"init()"}],answer:"B",explanation:"public static void main(String[] args)."},{id:7,question:"Is Java platform independent?",options:[{key:"A",text:"Yes"},{key:"B",text:"No"},{key:"C",text:"Only on Windows"},{key:"D",text:"Only on Linux"}],answer:"A",explanation:"Yes, Write Once Run Anywhere (WORA)."},{id:8,question:"Superclass of all?",options:[{key:"A",text:"Class"},{key:"B",text:"Object"},{key:"C",text:"Main"},{key:"D",text:"System"}],answer:"B",explanation:"The Object class."},{id:9,question:"Keyword for inheritance?",options:[{key:"A",text:"implements"},{key:"B",text:"extends"},{key:"C",text:"inherits"},{key:"D",text:"super"}],answer:"B",explanation:"extends."},{id:10,question:"Compiled Java extension?",options:[{key:"A",text:".java"},{key:"B",text:".class"},{key:"C",text:".jar"},{key:"D",text:".exe"}],answer:"B",explanation:".class (Bytecode)."}],xz=[{id:1,question:"Extract data?",options:[{key:"A",text:"GET"},{key:"B",text:"OPEN"},{key:"C",text:"SELECT"},{key:"D",text:"PULL"}],answer:"C",explanation:"SELECT."},{id:2,question:"Pattern match?",options:[{key:"A",text:"LIKE"},{key:"B",text:"MATCH"},{key:"C",text:"SIMILAR"},{key:"D",text:"SAME"}],answer:"A",explanation:"LIKE."},{id:3,question:"Sort results?",options:[{key:"A",text:"SORT BY"},{key:"B",text:"ORDER BY"},{key:"C",text:"GROUP BY"},{key:"D",text:"ALIGN"}],answer:"B",explanation:"ORDER BY."},{id:4,question:"Unique values?",options:[{key:"A",text:"NOT NULL"},{key:"B",text:"UNIQUE"},{key:"C",text:"PRIMARY"},{key:"D",text:"DISTINCT"}],answer:"B",explanation:"UNIQUE."},{id:5,question:"SQL stands for?",options:[{key:"A",text:"Structured Question Language"},{key:"B",text:"Structured Query Language"},{key:"C",text:"Strong Query Language"},{key:"D",text:"Standard Query Language"}],answer:"B",explanation:"Structured Query Language."},{id:6,question:"Modify existing data?",options:[{key:"A",text:"MODIFY"},{key:"B",text:"CHANGE"},{key:"C",text:"UPDATE"},{key:"D",text:"ALTER"}],answer:"C",explanation:"UPDATE."},{id:7,question:"Add new row?",options:[{key:"A",text:"ADD"},{key:"B",text:"INSERT INTO"},{key:"C",text:"CREATE"},{key:"D",text:"NEW"}],answer:"B",explanation:"INSERT INTO."},{id:8,question:"Constraint for no empty values?",options:[{key:"A",text:"UNIQUE"},{key:"B",text:"NOT NULL"},{key:"C",text:"PRIMARY KEY"},{key:"D",text:"CHECK"}],answer:"B",explanation:"NOT NULL."},{id:9,question:"Delete table structure?",options:[{key:"A",text:"DELETE"},{key:"B",text:"DROP"},{key:"C",text:"TRUNCATE"},{key:"D",text:"REMOVE"}],answer:"B",explanation:"DROP."},{id:10,question:"Filter groups?",options:[{key:"A",text:"WHERE"},{key:"B",text:"HAVING"},{key:"C",text:"GROUP BY"},{key:"D",text:"ORDER BY"}],answer:"B",explanation:"HAVING filters aggregated groups; WHERE filters rows."}],OE=[{id:"os",title:"Operating Systems",description:"Processes, threads, scheduling, synchronization.",questions:rl(pz,100),category:"CS Core"},{id:"dbms",title:"DBMS",description:"ACID, Normalization, SQL, Transactions.",questions:rl(gz,100),category:"CS Core"},{id:"cn",title:"Computer Networks",description:"OSI, TCP/IP, Protocols, Addressing.",questions:rl(yz,100),category:"CS Core"},{id:"oop",title:"OOP Concepts",description:"Inheritance, Polymorphism, Encapsulation.",questions:rl(vz,100),category:"Programming"},{id:"java",title:"Java Programming",description:"Syntax, JVM, Exceptions, OOP in Java.",questions:rl(_z,100),category:"Language"},{id:"sql",title:"SQL Fundamentals",description:"Queries, Joins, Constraints, Database logic.",questions:rl(xz,100),category:"Language"}],bz=({notification:t,onClose:e,onClick:n})=>(te.useEffect(()=>{if(t){const s=setTimeout(()=>{e()},5e3);return()=>clearTimeout(s)}},[t,e]),v.jsx(Hs,{children:t&&v.jsxs(Qe.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:20,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:"fixed top-0 left-1/2 z-50 flex items-center gap-4 bg-white px-6 py-4 rounded-2xl shadow-2xl border border-gray-100 min-w-[320px] max-w-md cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>{n(),e()},children:[v.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(gl,{size:20})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-gray-900 text-sm truncate",children:t.title}),v.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.body})]}),v.jsx("button",{onClick:s=>{s.stopPropagation(),e()},className:"p-1 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:v.jsx(R0,{size:16})})]})}));function Tz({onBack:t}){const{user:e}=ca(),[n,s]=te.useState(null),[a,l]=te.useState(!1),[u,f]=te.useState([]),[m,g]=te.useState([]),[y,b]=te.useState(""),[w,k]=te.useState([]),[D,O]=te.useState(!1),[M,F]=te.useState(null),[ee,Y]=te.useState(null),[ue,he]=te.useState(!1),[de,R]=te.useState(""),C=te.useRef(),N=te.useRef(null);te.useEffect(()=>{if(!e)return;const H=mu(us(mt,"chats"),Fy("participants","array-contains",e.uid),mE("updatedAt","desc")),ae=yE(H,ce=>{const U=ce.docs.map(E=>{const q=E.data(),W=q.users?.find(oe=>oe.uid!==e.uid)||{name:"Unknown",uid:"unknown"};return{id:E.id,...q,otherUser:W}});f(U),Y(null)},ce=>{console.error("Error fetching chats (Likely missing index):",ce),Y(ce.message)});return()=>ae()},[e]),te.useEffect(()=>{if(!n)return;const H=j(e.uid,n.uid),ae=mu(us(mt,"chats",H,"messages"),mE("createdAt","asc")),ce=yE(ae,U=>{const E=new Date,q=U.docs.map(W=>({id:W.id,...W.data()})).filter(W=>{if(W.expiresAt){const oe=W.expiresAt.toDate();if(E>oe)return!1}return!0});g(q),l(!0)});return()=>ce()},[n,e]),te.useEffect(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[m]);const j=(H,ae)=>[H,ae].sort().join("_"),I=async H=>{if(H.preventDefault(),F(null),console.log("Starting search for:",y),!!y.trim()){O(!0);try{const ae=us(mt,"users"),ce=mu(ae);console.log("Fetching users...");const U=await xf(ce);console.log("Users fetched:",U.size);const E=y.toLowerCase(),q=U.docs.map(W=>({uid:W.id,...W.data()})).filter(W=>W.uid!==e.uid&&(W.username?.toLowerCase()?.includes(E)||W.name?.toLowerCase()?.includes(E)||W.email?.toLowerCase()?.includes(E)));console.log("Matches found:",q.length),k(q)}catch(ae){console.error("Search failed:",ae),F(ae.message)}O(!1)}},z=async H=>{b(""),k([]),O(!1),F(null),s(H),l(!0);const ae=j(e.uid,H.uid),ce=mn(mt,"chats",ae);(await Hy(ce)).exists()?await bl(ce,{[`unreadCounts.${e.uid}`]:0}):await iu(ce,{participants:[e.uid,H.uid],users:[{uid:e.uid,name:e.name,username:e.username,photoURL:e.photoURL||null},{uid:H.uid,name:H.name,username:H.username,photoURL:H.photoURL||null}],createdAt:il(),updatedAt:il(),lastMessage:{text:"Chat started",senderId:"system",createdAt:new Date},unreadCounts:{[e.uid]:0,[H.uid]:0}})},P=async H=>{const ae=H.target.files[0];if(!ae||!n)return;he(!0);const ce=j(e.uid,n.uid);try{const U=Ky(Qy,`chat-media/${ce}/${Date.now()}_${ae.name}`),E=await CB(U,ae),q=await u2(U),W=new Date;W.setHours(W.getHours()+24),await Tf(us(mt,"chats",ce,"messages"),{text:"",mediaUrl:q,mediaType:ae.type.startsWith("image/")?"image":"file",mediaName:ae.name,expiresAt:gt.fromDate(W),createdAt:il(),senderId:e.uid,senderName:e.name}),await bl(mn(mt,"chats",ce),{lastMessage:{text:ae.type.startsWith("image/")?" Image":"Cc File",senderId:e.uid,createdAt:new Date},updatedAt:il(),[`unreadCounts.${n.uid}`]:vE(1)})}catch(U){console.error("Upload failed:",U),alert("Failed to send file: "+U.message)}he(!1),H.target.value=null},Se=async H=>{if(H.preventDefault(),!de.trim()||!n||!e)return;const ae=j(e.uid,n.uid),ce=de.trim();R("");try{await Tf(us(mt,"chats",ae,"messages"),{text:ce,createdAt:il(),senderId:e.uid,senderName:e.name}),await bl(mn(mt,"chats",ae),{lastMessage:{text:ce,senderId:e.uid,createdAt:new Date},updatedAt:il(),[`unreadCounts.${n.uid}`]:vE(1)})}catch(U){console.error("Error sending message: ",U)}},Ge=async H=>{if(!n)return;const ae=j(e.uid,n.uid);try{await bf(mn(mt,"chats",ae,"messages",H))}catch(ce){console.error("Error deleting message:",ce),alert("Failed to delete message.")}},L=async()=>{if(!n||!window.confirm("Are you sure you want to delete this chat permanently?"))return;const H=j(e.uid,n.uid);try{await bf(mn(mt,"chats",H)),s(null),l(!1)}catch(ae){console.error("Error deleting chat:",ae),alert("Failed to delete chat.")}};return v.jsxs("div",{className:"flex w-full h-[calc(100vh-73px)] bg-white border-t border-gray-100",children:[v.jsxs("div",{className:`${a?"hidden md:flex":"flex"} w-full md:w-[350px] flex-col border-r border-gray-100 bg-gray-50/50`,children:[v.jsx("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-gray-100 rounded-full",children:v.jsx(Zd,{size:20})}),v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chats"})]})}),v.jsxs("div",{className:"p-4 bg-white border-b border-gray-100",children:[v.jsxs("form",{onSubmit:I,className:"relative flex items-center gap-2",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(jw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),v.jsx("input",{type:"text",placeholder:"Search username/email...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 border-none rounded-xl focus:ring-1 focus:ring-black text-sm",value:y,onChange:H=>b(H.target.value)})]}),v.jsx("button",{type:"submit",disabled:D,className:"p-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:v.jsx(jw,{size:18})})]}),M&&v.jsxs("div",{className:"mt-2 text-xs text-red-500 bg-red-50 p-2 rounded border border-red-100 break-words",children:["Search Error: ",M]}),ee&&v.jsxs("div",{className:"mt-2 text-xs text-orange-600 bg-orange-50 p-2 rounded border border-orange-100 break-words",children:[v.jsx("strong",{children:"Sidebar Error:"})," ",ee.includes("index")?"Missing Index":ee,v.jsx("br",{}),v.jsx("span",{className:"opacity-75",children:"Check console (F12) for the link to fix it."})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y&&v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Search Results"}),w.length===0&&!D?v.jsx("p",{className:"px-4 text-sm text-gray-500",children:"No users found."}):w.map(H=>v.jsxs("button",{onClick:()=>z(H),className:"w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-b border-gray-50 text-left group",children:[v.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 group-hover:bg-black group-hover:text-white transition-colors",children:v.jsx(Vu,{size:20})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900",children:H.name}),v.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.username]})]})]},H.uid))]}),!y&&v.jsx(v.Fragment,{children:u.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400 text-center px-6",children:[v.jsx(gl,{size:32,className:"mb-2 opacity-50"}),v.jsx("p",{className:"text-sm",children:"No conversations yet."}),v.jsx("p",{className:"text-xs mt-1",children:"Search for a username above to start chatting!"})]}):u.map(H=>{const ae=H.unreadCounts?.[e.uid]||0,ce=ae>0;return v.jsxs("button",{onClick:()=>z(H.otherUser),className:`w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-b border-gray-50 text-left ${n?.uid===H.otherUser.uid?"bg-white border-l-4 border-l-black":""}`,children:[v.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-gray-600 relative ${ce?"border-2 border-green-500 bg-green-50":"border border-gray-200 bg-gray-100"}`,children:[v.jsx("span",{className:`font-bold text-lg ${ce?"text-green-700":""}`,children:H.otherUser.name?.[0]?.toUpperCase()}),ce&&v.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white translate-x-1 -translate-y-1"})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1",children:[v.jsx("h4",{className:`font-bold text-gray-900 truncate ${ce?"text-black":""}`,children:H.otherUser.name}),v.jsx("span",{className:`text-[10px] ${ce?"text-green-600 font-bold":"text-gray-400"}`,children:H.updatedAt?.seconds?new Date(H.updatedAt.seconds*1e3).toLocaleDateString():""})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("p",{className:`text-xs truncate max-w-[85%] ${ce?"font-bold text-gray-900":"text-gray-500"}`,children:[H.lastMessage?.senderId===e.uid?"You: ":"",H.lastMessage?.text]}),ce&&v.jsx("span",{className:"flex items-center justify-center bg-green-500 text-white text-[9px] font-bold rounded-full h-5 min-w-[20px] px-1",children:ae})]})]})]},H.id)})})]})]}),v.jsx("div",{className:`${a?"flex":"hidden md:flex"} w-full flex-col bg-white relative`,children:n?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3 bg-white shadow-sm z-10 sticky top-0",children:[v.jsx("button",{onClick:()=>l(!1),className:"md:hidden p-2 hover:bg-gray-100 rounded-full",children:v.jsx(Zd,{size:20})}),v.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center font-bold",children:n.name?.[0]?.toUpperCase()}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-gray-900",children:n.name}),v.jsxs("p",{className:"text-xs text-green-500 font-bold flex items-center gap-1",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Online"]})]}),v.jsx("button",{onClick:L,className:"ml-auto p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Chat",children:v.jsx(Al,{size:18})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white",children:[m.map((H,ae)=>{const ce=H.senderId===e.uid;return v.jsx(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${ce?"justify-end":"justify-start"}`,children:v.jsxs("div",{className:`max-w-[70%] px-4 py-2.5 rounded-2xl text-sm relative leading-relaxed ${ce?"bg-black text-white rounded-br-sm":"bg-gray-100 text-gray-900 rounded-bl-sm"}`,children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 group/msg",children:[v.jsx("div",{className:"flex-1",children:H.mediaUrl?v.jsxs("div",{className:"mb-1",children:[H.mediaType==="image"?v.jsx("a",{href:H.mediaUrl,target:"_blank",rel:"noopener noreferrer",children:v.jsx("img",{src:H.mediaUrl,alt:"Shared",className:"rounded-lg max-w-full max-h-[200px] object-cover border border-black/10"})}):v.jsxs("a",{href:H.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 p-2 rounded-lg ${ce?"bg-white/10":"bg-black/5"} hover:opacity-80 transition-opacity`,children:[v.jsx(my,{size:20}),v.jsx("span",{className:"underline truncate max-w-[150px]",children:H.mediaName||"File"})]}),v.jsx("div",{className:"text-[10px] mt-1 opacity-75 flex items-center gap-1",children:" Expires in 24h"})]}):v.jsx("p",{children:H.text})}),ce&&v.jsx("button",{onClick:()=>Ge(H.id),className:"opacity-0 group-hover/msg:opacity-100 p-1 text-red-400 hover:text-red-500 transition-opacity",title:"Delete",children:v.jsx(Al,{size:12})})]}),v.jsx("p",{className:`text-[10px] text-right mt-1 opacity-60 ${ce?"text-gray-300":"text-gray-500"}`,children:H.createdAt?.seconds?new Date(H.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"..."})]})},H.id)}),v.jsx("div",{ref:C})]}),v.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[v.jsx("input",{type:"file",ref:N,onChange:P,className:"hidden",accept:"image/*,application/pdf"}),v.jsxs("form",{onSubmit:Se,className:"flex items-center gap-2",children:[v.jsx("button",{type:"button",onClick:()=>N.current?.click(),disabled:ue,className:"p-3 text-gray-500 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50",title:"Attach File (24h expiry)",children:ue?v.jsx("span",{className:"text-xs font-bold animate-pulse",children:"..."}):v.jsx(jO,{size:20})}),v.jsx("input",{type:"text",className:"flex-1 py-3 px-5 bg-gray-50 border-transparent focus:bg-white focus:border-black rounded-full transition-all focus:ring-0",placeholder:"Type your message...",value:de,onChange:H=>R(H.target.value)}),v.jsx("button",{type:"submit",disabled:!de.trim(),className:"p-3 bg-black text-white rounded-full hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-transform hover:scale-105 active:scale-95",children:v.jsx(QO,{size:20})})]})]})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[v.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:v.jsx(gl,{size:40,className:"text-gray-300"})}),v.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Messages"}),v.jsx("p",{className:"text-sm mt-2 max-w-xs text-center",children:"Select a chat from the left or search for a user to start a conversation."})]})})]})}function wz(){const{user:t,logout:e,loading:n}=ca(),[s,a]=te.useState(null),[l,u]=te.useState(!1),[f,m]=te.useState(()=>new URLSearchParams(window.location.search).get("screen")||"login"),[g,y]=te.useState(()=>new URLSearchParams(window.location.search).get("section")||"quiz"),[b,w]=te.useState(null),[k,D]=te.useState(0),[O,M]=te.useState([]),[F,ee]=te.useState([]),[Y,ue]=te.useState(10);te.useEffect(()=>{const I=new URLSearchParams(window.location.search),z=I.get("screen"),P=I.get("section");if(z!==f||P!==g){const Se=new URL(window.location);Se.searchParams.set("screen",f),f==="home"?Se.searchParams.set("section",g):Se.searchParams.delete("section"),window.history.pushState({},"",Se)}},[f,g]),te.useEffect(()=>{const I=()=>{const z=new URLSearchParams(window.location.search),P=z.get("screen"),Se=z.get("section");P&&m(P),Se&&y(Se)};return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)},[]),te.useEffect(()=>{n||(t?(f==="login"||f==="signup")&&m("home"):f!=="login"&&f!=="signup"&&f!=="home"&&m("login"))},[t,n,f]);const he=I=>{w(I),m("config")},de=I=>{try{if(console.log("Starting Quiz with Data:",I),!I||!I.questions||I.questions.length===0){alert("Error: No questions found in this quiz data."),console.error("Quiz Data missing questions:",I);return}y("quiz");const z=I.questions;console.log("Total Questions Available:",z.length);const P=[...z].sort(()=>.5-Math.random());console.log("Requested Question Count:",Y);let Se=10;Y==="all"?Se=P.length:Se=Math.min(Number(Y)||10,P.length);const Ge=P.slice(0,Se);if(console.log("Final Selection Size:",Ge.length),Ge.length===0){alert("Error: Selection resulted in 0 questions.");return}M(Ge),ee([]),m("quiz"),D(0)}catch(z){console.error("Failed to start quiz:",z),alert("An error occurred while starting the quiz. Check console for details.")}},R=I=>{D(I),m("result")},C=()=>{m("welcome"),y("quiz"),w(null),D(0),M([])},N=()=>{e(),m("login")},j={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};return n?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):v.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans selection:bg-black selection:text-white",children:[v.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white/70 backdrop-blur-2xl saturate-150 border-b border-white/80 shadow-sm transition-all duration-300",children:[v.jsxs("div",{className:"max-w-screen-2xl mx-auto px-6 py-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>{m("home"),y("quiz")},children:[v.jsx(Qe.div,{whileHover:{rotate:15,scale:1.1},whileTap:{scale:.9},className:"bg-black text-white p-2 rounded-lg",children:v.jsx(Jd,{size:20})}),v.jsx("h1",{className:"text-xl font-bold tracking-tight text-black group-hover:text-gray-700 transition-colors",children:"Let's Try"})]}),v.jsx("div",{className:"flex items-center gap-4",children:t?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[v.jsxs("button",{onClick:()=>m("chat"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${f==="chat"?"bg-gray-100 font-bold":"hover:bg-gray-50 text-gray-600"}`,children:[v.jsx(gl,{size:18}),v.jsx("span",{children:"Chat"})]}),v.jsxs("button",{onClick:()=>m("notes"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${f==="notes"?"bg-gray-100 font-bold":"hover:bg-gray-50 text-gray-600"}`,children:[v.jsx(Od,{size:18}),v.jsx("span",{children:"Notes"})]}),v.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),v.jsxs("button",{onClick:()=>{m("home"),y("profile")},className:"flex items-center gap-2 hover:bg-gray-100 p-2 rounded-full transition-colors",children:[v.jsx("div",{className:"bg-gray-100 p-2 rounded-full border border-gray-200",children:v.jsx(Vu,{size:18})}),v.jsx("span",{className:"hover:underline",children:t.name})]}),v.jsx("button",{onClick:N,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Logout",children:v.jsx(Vw,{size:20})})]}),v.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[v.jsx("button",{onClick:()=>m("chat"),className:`p-2 rounded-xl transition-colors ${f==="chat"?"bg-black text-white":"bg-gray-100 text-gray-600"}`,children:v.jsx(gl,{size:20})}),v.jsx("button",{onClick:()=>u(!0),className:"p-2 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors",children:v.jsx(MO,{size:20})})]})]}):v.jsx("button",{onClick:()=>m("login"),className:"px-6 py-2.5 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors font-medium shadow-lg shadow-black/10",children:"Get Started"})})]}),v.jsx(Hs,{children:l&&v.jsxs(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 w-full bg-white z-50 shadow-2xl border-b border-gray-100 p-6 md:hidden",children:[v.jsxs("div",{className:"flex items-center justify-between mb-8",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-black text-white p-2 rounded-lg",children:v.jsx(Jd,{size:20})}),v.jsx("h2",{className:"text-xl font-bold",children:"Menu"})]}),v.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:v.jsx(R0,{size:20})})]}),t&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{onClick:()=>{m("home"),y("profile"),u(!1)},className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl border border-gray-100 active:scale-95 transition-transform",children:[v.jsx("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center text-white font-bold text-xl",children:t.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-gray-900",children:t.name}),v.jsx("p",{className:"text-sm text-gray-500",children:"View Profile"})]}),v.jsx(Fa,{size:16,className:"ml-auto text-gray-400"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("button",{onClick:()=>{m("home"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[v.jsx(vO,{size:20})," Dashboard"]}),v.jsxs("button",{onClick:()=>{m("notes"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[v.jsx(Od,{size:20})," Notes"]}),v.jsxs("button",{onClick:()=>{m("chat"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[v.jsx(gl,{size:20})," Chat"]})]}),v.jsx("div",{className:"pt-6 border-t border-gray-100",children:v.jsxs("button",{onClick:()=>{N(),u(!1)},className:"w-full py-3 bg-red-50 text-red-500 font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[v.jsx(Vw,{size:18})," Logout"]})})]})]})})]}),v.jsx("main",{className:`flex-1 relative z-0 ${f==="chat"||!t?"w-full":"w-full max-w-[1920px] mx-auto px-4 sm:px-8 py-8"}`,children:v.jsxs(Hs,{mode:"wait",children:[f==="login"&&v.jsx(cz,{onSwitchToSignup:()=>m("signup"),onLoginSuccess:()=>m("home")},"login"),f==="home"&&v.jsx(Hs,{mode:"wait",children:t?v.jsxs(v.Fragment,{children:[g==="profile"&&v.jsx(uz,{onBack:()=>y("quiz")},"profile"),g==="create"&&v.jsx(iz,{onBack:()=>y("quiz")},"create"),g==="community"&&v.jsx(sz,{onBack:()=>y("quiz"),onPlay:I=>de(I)},"community"),g==="quiz"&&v.jsxs(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},className:"space-y-16",children:[v.jsx("div",{className:"relative overflow-hidden rounded-[3rem] bg-gradient-to-br from-white to-gray-100 p-8 md:p-16 text-gray-900 shadow-2xl border border-gray-200",children:v.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-12",children:[v.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-6",children:[v.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter leading-tight",children:["Ready to ",v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-emerald-600",children:"Level Up?"})]}),v.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-lg mx-auto lg:mx-0 font-medium",children:"Master your skills with our curated quizzes or challenge the community with your own creations."}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 pt-4",children:[v.jsxs("button",{onClick:()=>y("create"),className:"px-8 py-4 bg-gray-900 text-white rounded-2xl font-bold hover:bg-gray-800 transition-all flex items-center gap-2 group shadow-lg hover:shadow-xl",children:[v.jsx(py,{size:20,className:"group-hover:scale-110 transition-transform"}),"Create Quiz"]}),v.jsxs("button",{onClick:()=>y("community"),className:"px-8 py-4 bg-white border border-gray-200 text-gray-700 rounded-2xl font-bold hover:bg-gray-50 transition-all flex items-center gap-2 shadow-sm hover:shadow-md",children:[v.jsx(fy,{size:20}),"Community"]})]})]}),v.jsx("div",{className:"w-full max-w-md",children:v.jsxs("div",{className:"bg-white/60 backdrop-blur-xl border border-white/40 p-6 rounded-3xl shadow-xl flex flex-col gap-4",children:[v.jsxs("div",{className:"flex items-center justify-between text-gray-800",children:[v.jsx("h3",{className:"font-bold uppercase tracking-wider text-sm",children:"Study Material"}),v.jsxs("button",{onClick:()=>m("notes"),className:"text-xs font-bold hover:text-blue-600 flex items-center gap-1 transition-colors",children:["Go to Notes ",v.jsx(Fa,{size:12})]})]}),v.jsxs("div",{className:"bg-white/40 rounded-2xl p-4 flex flex-col items-center justify-center text-center space-y-3 min-h-[140px] border border-white/50",children:[v.jsx("div",{className:"bg-white p-3 rounded-full text-green-600 shadow-sm",children:v.jsx(Od,{size:28})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900",children:"Your Notes Library"}),v.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px]",children:"Upload and manage your study notes securely in the cloud."})]}),v.jsx("button",{onClick:()=>m("notes"),className:"mt-8 w-full py-2 bg-white text-black text-sm font-bold rounded-xl border-2 border-green-600 hover:bg-green-50 transition-colors shadow-sm hover:shadow-md",children:"Add Notes"})]})]})})]})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-8 text-center sm:text-left",children:"What do you want to learn today?"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsxs(Qe.div,{whileHover:{y:-5},className:"bg-white text-black rounded-3xl p-8 shadow-xl cursor-pointer flex flex-col justify-between h-[320px] group relative overflow-hidden border-2 border-black",onClick:()=>y("create"),children:[v.jsx("div",{className:"absolute top-0 right-0 p-32 bg-black/5 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-black/10"}),v.jsxs("div",{children:[v.jsx("div",{className:"bg-black w-12 h-12 rounded-2xl flex items-center justify-center mb-6",children:v.jsx(py,{size:24,className:"text-white"})}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Create New"}),v.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Craft your own quiz to challenge yourself and others."})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-black opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:["Start Creating ",v.jsx(Fa,{size:16})]})]}),v.jsxs(Qe.div,{whileHover:{y:-5},className:"bg-white border border-gray-100 text-gray-900 rounded-3xl p-8 shadow-xl cursor-pointer flex flex-col justify-between h-[320px] group relative overflow-hidden hover:shadow-2xl transition-all",onClick:()=>y("community"),children:[v.jsx("div",{className:"absolute top-0 right-0 p-32 bg-green-50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-green-100"}),v.jsxs("div",{children:[v.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-2xl flex items-center justify-center mb-6",children:v.jsx(fy,{size:24,className:"text-green-600"})}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Community"}),v.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Explore quizzes created by other users."})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-green-600 opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:["Browse Library ",v.jsx(Fa,{size:16})]})]}),OE.map(I=>v.jsx("div",{className:"lg:col-span-2 h-full",children:v.jsx(ME,{topic:I.title,icon:I.icon,description:I.description,color:I.color,onStart:()=>he(I),questionCount:I.questions.length})},I.id))]})]})]},"dashboard"),g==="all-curated"&&v.jsxs(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",className:"space-y-8",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[v.jsx("button",{onClick:()=>y("quiz"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:v.jsx(Fa,{className:"rotate-180",size:24})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"All Topics"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:OE.map(I=>v.jsx(ME,{topic:I.title,icon:I.icon,description:I.description,color:I.color,onStart:()=>he(I),questionCount:I.questions.length},I.id))})]},"all-curated")]}):v.jsx(mz,{onGetStarted:()=>m("login")})}),f==="notes"&&v.jsx(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",className:"w-full",children:v.jsx(fz,{})},"notes"),f==="chat"&&v.jsx(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",className:"w-full",children:v.jsx(Tz,{onBack:()=>m("home")})},"chat"),f==="config"&&v.jsx(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},className:"flex items-center justify-center min-h-[60vh]",children:v.jsxs("div",{className:"w-full max-w-xl bg-white rounded-3xl p-10 border border-gray-200 shadow-xl text-center",children:[v.jsx("div",{className:"inline-flex justify-center items-center p-4 bg-gray-100 rounded-full mb-6",children:v.jsx(XO,{size:32,className:"text-gray-700"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configure Quiz"}),v.jsx("p",{className:"text-gray-500 mb-8",children:"How many questions would you like to attempt?"}),v.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[10,20,30,50,"all"].map(I=>v.jsx("button",{onClick:()=>ue(I),className:`py-4 rounded-xl font-bold border-2 transition-all ${Y===I?"border-black bg-black text-white shadow-lg":"border-gray-100 bg-white text-gray-600 hover:border-gray-300 transform hover:-translate-y-0.5"}`,children:I==="all"?"All Questions":`${I} Questions`},I))}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:()=>m("home"),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-50 rounded-xl transition-colors",children:"Cancel"}),v.jsxs("button",{onClick:()=>de(b),className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[v.jsx(ef,{size:20}),"Start Now"]})]})]})},"config"),f==="quiz"&&v.jsx(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:v.jsx(oz,{questions:O,onFinish:R})},"quiz"),f==="result"&&v.jsx(Qe.div,{variants:j,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:v.jsx(lz,{score:k,total:O.length,userAnswers:F,onRestart:C})},"result")]})}),v.jsx(bz,{notification:s,onClose:()=>a(null),onClick:()=>m("chat")})]})}xI.createRoot(document.getElementById("root")).render(v.jsx(te.StrictMode,{children:v.jsx(nz,{children:v.jsx(wz,{})})}));
