(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function NI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cg={exports:{}},Zc={};var gT;function DI(){if(gT)return Zc;gT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Zc.Fragment=e,Zc.jsx=n,Zc.jsxs=n,Zc}var yT;function MI(){return yT||(yT=1,cg.exports=DI()),cg.exports}var y=MI(),ug={exports:{}},Oe={};var vT;function PI(){if(vT)return Oe;vT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function q(E,F,Z){this.props=E,this.context=F,this.refs=P,this.updater=Z||D}q.prototype.isReactComponent={},q.prototype.setState=function(E,F){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,F,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ee(){}ee.prototype=q.prototype;function Q(E,F,Z){this.props=E,this.context=F,this.refs=P,this.updater=Z||D}var ce=Q.prototype=new ee;ce.constructor=Q,O(ce,q.prototype),ce.isPureReactComponent=!0;var he=Array.isArray;function ue(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(E,F,Z){var oe=Z.ref;return{$$typeof:t,type:E,key:F,ref:oe!==void 0?oe:null,props:Z}}function L(E,F){return N(E.type,F,E.props)}function V(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function M(E){var F={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Z){return F[Z]})}var R=/\/+/g;function Ee(E,F){return typeof E=="object"&&E!==null&&E.key!=null?M(""+E.key):F.toString(36)}function De(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ue,ue):(E.status="pending",E.then(function(F){E.status==="pending"&&(E.status="fulfilled",E.value=F)},function(F){E.status==="pending"&&(E.status="rejected",E.reason=F)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,F,Z,oe,fe){var ge=typeof E;(ge==="undefined"||ge==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(ge){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case t:case e:pe=!0;break;case v:return pe=E._init,U(pe(E._payload),F,Z,oe,fe)}}if(pe)return fe=fe(E),pe=oe===""?"."+Ee(E,0):oe,he(fe)?(Z="",pe!=null&&(Z=pe.replace(R,"$&/")+"/"),U(fe,F,Z,"",function(et){return et})):fe!=null&&(V(fe)&&(fe=L(fe,Z+(fe.key==null||E&&E.key===fe.key?"":(""+fe.key).replace(R,"$&/")+"/")+pe)),F.push(fe)),1;pe=0;var be=oe===""?".":oe+":";if(he(E))for(var Ae=0;Ae<E.length;Ae++)oe=E[Ae],ge=be+Ee(oe,Ae),pe+=U(oe,F,Z,ge,fe);else if(Ae=k(E),typeof Ae=="function")for(E=Ae.call(E),Ae=0;!(oe=E.next()).done;)oe=oe.value,ge=be+Ee(oe,Ae++),pe+=U(oe,F,Z,ge,fe);else if(ge==="object"){if(typeof E.then=="function")return U(De(E),F,Z,oe,fe);throw F=String(E),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return pe}function H(E,F,Z){if(E==null)return E;var oe=[],fe=0;return U(E,oe,"","",function(ge){return F.call(Z,ge,fe++)}),oe}function ae(E){if(E._status===-1){var F=E._result;F=F(),F.then(function(Z){(E._status===0||E._status===-1)&&(E._status=1,E._result=Z)},function(Z){(E._status===0||E._status===-1)&&(E._status=2,E._result=Z)}),E._status===-1&&(E._status=0,E._result=F)}if(E._status===1)return E._result.default;throw E._result}var de=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},B={map:H,forEach:function(E,F,Z){H(E,function(){F.apply(this,arguments)},Z)},count:function(E){var F=0;return H(E,function(){F++}),F},toArray:function(E){return H(E,function(F){return F})||[]},only:function(E){if(!V(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Oe.Activity=b,Oe.Children=B,Oe.Component=q,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=Q,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},Oe.cache=function(E){return function(){return E.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(E,F,Z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var oe=O({},E.props),fe=E.key;if(F!=null)for(ge in F.key!==void 0&&(fe=""+F.key),F)!S.call(F,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&F.ref===void 0||(oe[ge]=F[ge]);var ge=arguments.length-2;if(ge===1)oe.children=Z;else if(1<ge){for(var pe=Array(ge),be=0;be<ge;be++)pe[be]=arguments[be+2];oe.children=pe}return N(E.type,fe,oe)},Oe.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},Oe.createElement=function(E,F,Z){var oe,fe={},ge=null;if(F!=null)for(oe in F.key!==void 0&&(ge=""+F.key),F)S.call(F,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=F[oe]);var pe=arguments.length-2;if(pe===1)fe.children=Z;else if(1<pe){for(var be=Array(pe),Ae=0;Ae<pe;Ae++)be[Ae]=arguments[Ae+2];fe.children=be}if(E&&E.defaultProps)for(oe in pe=E.defaultProps,pe)fe[oe]===void 0&&(fe[oe]=pe[oe]);return N(E,ge,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(E){return{$$typeof:f,render:E}},Oe.isValidElement=V,Oe.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:ae}},Oe.memo=function(E,F){return{$$typeof:g,type:E,compare:F===void 0?null:F}},Oe.startTransition=function(E){var F=I.T,Z={};I.T=Z;try{var oe=E(),fe=I.S;fe!==null&&fe(Z,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ue,de)}catch(ge){de(ge)}finally{F!==null&&Z.types!==null&&(F.types=Z.types),I.T=F}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(E){return I.H.use(E)},Oe.useActionState=function(E,F,Z){return I.H.useActionState(E,F,Z)},Oe.useCallback=function(E,F){return I.H.useCallback(E,F)},Oe.useContext=function(E){return I.H.useContext(E)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(E,F){return I.H.useDeferredValue(E,F)},Oe.useEffect=function(E,F){return I.H.useEffect(E,F)},Oe.useEffectEvent=function(E){return I.H.useEffectEvent(E)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(E,F,Z){return I.H.useImperativeHandle(E,F,Z)},Oe.useInsertionEffect=function(E,F){return I.H.useInsertionEffect(E,F)},Oe.useLayoutEffect=function(E,F){return I.H.useLayoutEffect(E,F)},Oe.useMemo=function(E,F){return I.H.useMemo(E,F)},Oe.useOptimistic=function(E,F){return I.H.useOptimistic(E,F)},Oe.useReducer=function(E,F,Z){return I.H.useReducer(E,F,Z)},Oe.useRef=function(E){return I.H.useRef(E)},Oe.useState=function(E){return I.H.useState(E)},Oe.useSyncExternalStore=function(E,F,Z){return I.H.useSyncExternalStore(E,F,Z)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var xT;function i0(){return xT||(xT=1,ug.exports=PI()),ug.exports}var W=i0();const Zg=NI(W);var hg={exports:{}},Jc={},dg={exports:{}},fg={};var _T;function OI(){return _T||(_T=1,(function(t){function e(U,H){var ae=U.length;U.push(H);e:for(;0<ae;){var de=ae-1>>>1,B=U[de];if(0<a(B,H))U[de]=H,U[ae]=B,ae=de;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var H=U[0],ae=U.pop();if(ae!==H){U[0]=ae;e:for(var de=0,B=U.length,E=B>>>1;de<E;){var F=2*(de+1)-1,Z=U[F],oe=F+1,fe=U[oe];if(0>a(Z,ae))oe<B&&0>a(fe,Z)?(U[de]=fe,U[oe]=ae,de=oe):(U[de]=Z,U[F]=ae,de=F);else if(oe<B&&0>a(fe,ae))U[de]=fe,U[oe]=ae,de=oe;else break e}}return H}function a(U,H){var ae=U.sortIndex-H.sortIndex;return ae!==0?ae:U.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],g=[],v=1,b=null,w=3,k=!1,D=!1,O=!1,P=!1,q=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ce(U){for(var H=n(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=U)s(g),H.sortIndex=H.expirationTime,e(m,H);else break;H=n(g)}}function he(U){if(O=!1,ce(U),!D)if(n(m)!==null)D=!0,ue||(ue=!0,M());else{var H=n(g);H!==null&&De(he,H.startTime-U)}}var ue=!1,I=-1,S=5,N=-1;function L(){return P?!0:!(t.unstable_now()-N<S)}function V(){if(P=!1,ue){var U=t.unstable_now();N=U;var H=!0;try{e:{D=!1,O&&(O=!1,ee(I),I=-1),k=!0;var ae=w;try{t:{for(ce(U),b=n(m);b!==null&&!(b.expirationTime>U&&L());){var de=b.callback;if(typeof de=="function"){b.callback=null,w=b.priorityLevel;var B=de(b.expirationTime<=U);if(U=t.unstable_now(),typeof B=="function"){b.callback=B,ce(U),H=!0;break t}b===n(m)&&s(m),ce(U)}else s(m);b=n(m)}if(b!==null)H=!0;else{var E=n(g);E!==null&&De(he,E.startTime-U),H=!1}}break e}finally{b=null,w=ae,k=!1}H=void 0}}finally{H?M():ue=!1}}}var M;if(typeof Q=="function")M=function(){Q(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ee=R.port2;R.port1.onmessage=V,M=function(){Ee.postMessage(null)}}else M=function(){q(V,0)};function De(U,H){I=q(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(U){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var ae=w;w=H;try{return U()}finally{w=ae}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=w;w=U;try{return H()}finally{w=ae}},t.unstable_scheduleCallback=function(U,H,ae){var de=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?de+ae:de):ae=de,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ae+B,U={id:v++,callback:H,priorityLevel:U,startTime:ae,expirationTime:B,sortIndex:-1},ae>de?(U.sortIndex=ae,e(g,U),n(m)===null&&U===n(g)&&(O?(ee(I),I=-1):O=!0,De(he,ae-de))):(U.sortIndex=B,e(m,U),D||k||(D=!0,ue||(ue=!0,M()))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var H=w;return function(){var ae=w;w=H;try{return U.apply(this,arguments)}finally{w=ae}}}})(fg)),fg}var bT;function jI(){return bT||(bT=1,dg.exports=OI()),dg.exports}var mg={exports:{}},yn={};var TT;function VI(){if(TT)return yn;TT=1;var t=i0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,yn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},yn.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},yn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},yn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},yn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:k}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},yn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},yn.requestFormReset=function(m){s.d.r(m)},yn.unstable_batchedUpdates=function(m,g){return m(g)},yn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var wT;function LI(){if(wT)return mg.exports;wT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=VI(),mg.exports}var ET;function UI(){if(ET)return Jc;ET=1;var t=jI(),e=i0(),n=LI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),i;if(p===c)return m(d),r;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=p;else{for(var _=!1,A=d.child;A;){if(A===o){_=!0,o=d,c=p;break}if(A===c){_=!0,c=d,o=p;break}A=A.sibling}if(!_){for(A=p.child;A;){if(A===o){_=!0,o=p,c=d;break}if(A===c){_=!0,c=p,o=d;break}A=A.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var R=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===R?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case q:return"Profiler";case P:return"StrictMode";case he:return"Suspense";case ue:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case Q:return i.displayName||"Context";case ee:return(i._context.displayName||"Context")+".Consumer";case ce:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return r=i.displayName||null,r!==null?r:Ee(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return Ee(i(r))}catch{}}return null}var De=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},de=[],B=-1;function E(i){return{current:i}}function F(i){0>B||(i.current=de[B],de[B]=null,B--)}function Z(i,r){B++,de[B]=i.current,i.current=r}var oe=E(null),fe=E(null),ge=E(null),pe=E(null);function be(i,r){switch(Z(ge,r),Z(fe,i),Z(oe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ub(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ub(r),i=Bb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(oe),Z(oe,i)}function Ae(){F(oe),F(fe),F(ge)}function et(i){i.memoizedState!==null&&Z(pe,i);var r=oe.current,o=Bb(r,i.type);r!==o&&(Z(fe,i),Z(oe,o))}function Ye(i){fe.current===i&&(F(oe),F(fe)),pe.current===i&&(F(pe),Qc._currentValue=ae)}var it,_t;function Pe(i){if(it===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);it=r&&r[1]||"",_t=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+_t}var jt=!1;function Yt(i,r){if(!i||jt)return"";jt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(te){var X=te}Reflect.construct(i,[],re)}else{try{re.call()}catch(te){X=te}i.call(re.prototype)}}else{try{throw Error()}catch(te){X=te}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],A=p[1];if(_&&A){var j=_.split(`
`),Y=A.split(`
`);for(d=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(c===j.length||d===Y.length)for(c=j.length-1,d=Y.length-1;1<=c&&0<=d&&j[c]!==Y[d];)d--;for(;1<=c&&0<=d;c--,d--)if(j[c]!==Y[d]){if(c!==1||d!==1)do if(c--,d--,0>d||j[c]!==Y[d]){var ne=`
`+j[c].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=c&&0<=d);break}}}finally{jt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Pe(o):""}function rn(i,r){switch(i.tag){case 26:case 27:case 5:return Pe(i.type);case 16:return Pe("Lazy");case 13:return i.child!==r&&r!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Yt(i.type,!1);case 11:return Yt(i.type.render,!1);case 1:return Yt(i.type,!0);case 31:return Pe("Activity");default:return""}}function wn(i){try{var r="",o=null;do r+=rn(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ot=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,qi=t.unstable_cancelCallback,Zl=t.unstable_shouldYield,vo=t.unstable_requestPaint,Jt=t.unstable_now,Ts=t.unstable_getCurrentPriorityLevel,sr=t.unstable_ImmediatePriority,da=t.unstable_UserBlockingPriority,Fi=t.unstable_NormalPriority,xo=t.unstable_LowPriority,fa=t.unstable_IdlePriority,rr=t.log,_o=t.unstable_setDisableYieldValue,Hn=null,an=null;function si(i){if(typeof rr=="function"&&_o(i),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Hn,i)}catch{}}var Nt=Math.clz32?Math.clz32:nh,th=Math.log,bo=Math.LN2;function nh(i){return i>>>=0,i===0?32:31-(th(i)/bo|0)|0}var Hi=256,ma=262144,Vt=4194304;function Gi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ki(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,p=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~p,c!==0?d=Gi(c):(_&=A,_!==0?d=Gi(_):o||(o=A&~i,o!==0&&(d=Gi(o))))):(A=c&~p,A!==0?d=Gi(A):_!==0?d=Gi(_):o||(o=c&~i,o!==0&&(d=Gi(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function Ai(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function fm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(){var i=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),i}function $i(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function pa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mm(i,r,o,c,d,p){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,j=i.expirationTimes,Y=i.hiddenUpdates;for(o=_&~o;0<o;){var ne=31-Nt(o),re=1<<ne;A[ne]=0,j[ne]=-1;var X=Y[ne];if(X!==null)for(Y[ne]=null,ne=0;ne<X.length;ne++){var te=X[ne];te!==null&&(te.lane&=-536870913)}o&=~re}c!==0&&ga(i,c,0),p!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=p&~(_&~r))}function ga(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Nt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Jl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Nt(o),d=1<<c;d&r|i[c]&r&&(i[c]|=r),o&=~d}}function ec(i,r){var o=r&-r;return o=(o&42)!==0?1:ya(o),(o&(i.suspendedLanes|r))!==0?0:o}function ya(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ws(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sh(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:cT(i.type))}function Si(i,r){var o=H.p;try{return H.p=i,r()}finally{H.p=o}}var Ci=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ci,en="__reactProps$"+Ci,Qi="__reactContainer$"+Ci,To="__reactEvents$"+Ci,pm="__reactListeners$"+Ci,rh="__reactHandles$"+Ci,ah="__reactResources$"+Ci,Yi="__reactMarker$"+Ci;function wo(i){delete i[Lt],delete i[en],delete i[To],delete i[pm],delete i[rh]}function Xi(i){var r=i[Lt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Qi]||o[Lt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=$b(i);i!==null;){if(o=i[Lt])return o;i=$b(i)}return r}i=o,o=i.parentNode}return null}function ri(i){if(i=i[Lt]||i[Qi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Gn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Wi(i){var r=i[ah];return r||(r=i[ah]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(i){i[Yi]=!0}var tc=new Set,nc={};function Zi(i,r){Ji(i,r),Ji(i+"Capture",r)}function Ji(i,r){for(nc[i]=r,i=0;i<r.length;i++)tc.add(r[i])}var ic=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},rc={};function oh(i){return ot.call(rc,i)?!0:ot.call(sc,i)?!1:ic.test(i)?rc[i]=!0:(sc[i]=!0,!1)}function Eo(i,r,o){if(oh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Bt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ar(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ac(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function st(i){if(!i._valueTracker){var r=ar(i)?"checked":"value";i._valueTracker=ac(i,r,""+i[r])}}function va(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=ar(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function es(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xa=/[\n"\\]/g;function Rn(i){return i.replace(xa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ao(i,r,o,c,d,p,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+tn(r)):i.value!==""+tn(r)&&(i.value=""+tn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?oc(i,_,tn(r)):o!=null?oc(i,_,tn(o)):c!=null&&i.removeAttribute("value"),d==null&&p!=null&&(i.defaultChecked=!!p),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+tn(A):i.removeAttribute("name")}function lh(i,r,o,c,d,p,_,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){st(i);return}o=o!=null?""+tn(o):"",r=r!=null?""+tn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),st(i)}function oc(i,r,o){r==="number"&&es(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function or(i,r,o,c){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&c&&(i[o].defaultSelected=!0)}else{for(o=""+tn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function ch(i,r,o){if(r!=null&&(r=""+tn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+tn(o):""}function lr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(De(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=tn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),st(i)}function In(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||uh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function cc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in r)c=r[d],r.hasOwnProperty(d)&&o[d]!==c&&lc(i,d,c)}else for(var p in r)r.hasOwnProperty(p)&&lc(i,p,r[p])}function So(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(i){return cr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ki(){}var uc=null;function ai(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,ts=null;function _a(i){var r=ri(i);if(r&&(i=r.stateNode)){var o=i[en]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ao(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var d=c[en]||null;if(!d)throw Error(s(90));Ao(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&va(c)}break e;case"textarea":ch(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&or(i,!!o.multiple,r,!1)}}}var ko=!1;function hr(i,r,o){if(ko)return i(r,o);ko=!0;try{var c=i(r);return c}finally{if(ko=!1,(ur!==null||ts!==null)&&(sd(),ur&&(r=ur,i=ts,ts=ur=null,_a(r),i)))for(r=0;r<i.length;r++)_a(i[r])}}function Ri(i,r){var o=i.stateNode;if(o===null)return null;var c=o[en]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(oi)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){ba=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{ba=!1}var ns=null,hc=null,Ta=null;function dc(){if(Ta)return Ta;var i,r=hc,o=r.length,c,d="value"in ns?ns.value:ns.textContent,p=d.length;for(i=0;i<o&&r[i]===d[i];i++);var _=o-i;for(c=1;c<=_&&r[o-c]===d[p-c];c++);return Ta=d.slice(i,1<c?1-c:void 0)}function wa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Es(){return!0}function Ii(){return!1}function on(i){function r(o,c,d,p,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Es:Ii,this.isPropagationStopped=Ii,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),r}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=on(As),dr=b({},As,{view:0,detail:0}),fc=on(dr),fr,Ro,ss,Io=b({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(fr=i.screenX-ss.screenX,Ro=i.screenY-ss.screenY):Ro=fr=0,ss=i),fr)},movementY:function(i){return"movementY"in i?i.movementY:Ro}}),mc=on(Io),Ea=b({},Io,{dataTransfer:0}),dh=on(Ea),fh=b({},dr,{relatedTarget:0}),Aa=on(fh),pc=b({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=on(pc),No=b({},As,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ph=on(No),gh=b({},As,{data:0}),rs=on(gh),yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _h(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=xh[i])?!!r[i]:!1}function mr(){return _h}var En=b({},dr,{key:function(i){if(i.key){var r=yh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=wa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(i){return i.type==="keypress"?wa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bh=on(En),Th=b({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ss=on(Th),h=b({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),x=on(h),T=b({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=on(T),K=b({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=on(K),me=b({},As,{newState:0,oldState:0}),Ve=on(me),Dt=[9,13,27,32],Ze=oi&&"CompositionEvent"in window,bt=null;oi&&"documentMode"in document&&(bt=document.documentMode);var li=oi&&"TextEvent"in window&&!bt,as=oi&&(!Ze||bt&&8<bt&&11>=bt),Ni=" ",Di=!1;function Sa(i,r){switch(i){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function tR(i,r){switch(i){case"compositionend":return Do(r);case"keypress":return r.which!==32?null:(Di=!0,Ni);case"textInput":return i=r.data,i===Ni&&Di?null:i;default:return null}}function nR(i,r){if(Mo)return i==="compositionend"||!Ze&&Sa(i,r)?(i=dc(),Ta=hc=ns=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return as&&r.locale!=="ko"?null:r.data;default:return null}}var iR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!iR[i.type]:r==="textarea"}function Wv(i,r,o,c){ur?ts?ts.push(c):ts=[c]:ur=c,r=hd(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var gc=null,yc=null;function sR(i){Mb(i,0)}function wh(i){var r=Gn(i);if(va(r))return i}function Zv(i,r){if(i==="change")return r}var Jv=!1;if(oi){var gm;if(oi){var ym="oninput"in document;if(!ym){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),ym=typeof ex.oninput=="function"}gm=ym}else gm=!1;Jv=gm&&(!document.documentMode||9<document.documentMode)}function tx(){gc&&(gc.detachEvent("onpropertychange",nx),yc=gc=null)}function nx(i){if(i.propertyName==="value"&&wh(yc)){var r=[];Wv(r,yc,i,ai(i)),hr(sR,r)}}function rR(i,r,o){i==="focusin"?(tx(),gc=r,yc=o,gc.attachEvent("onpropertychange",nx)):i==="focusout"&&tx()}function aR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wh(yc)}function oR(i,r){if(i==="click")return wh(r)}function lR(i,r){if(i==="input"||i==="change")return wh(r)}function cR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var $n=typeof Object.is=="function"?Object.is:cR;function vc(i,r){if($n(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ot.call(r,d)||!$n(i[d],r[d]))return!1}return!0}function ix(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sx(i,r){var o=ix(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ix(o)}}function rx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?rx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ax(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=es(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=es(i.document)}return r}function vm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var uR=oi&&"documentMode"in document&&11>=document.documentMode,Po=null,xm=null,xc=null,_m=!1;function ox(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_m||Po==null||Po!==es(c)||(c=Po,"selectionStart"in c&&vm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xc&&vc(xc,c)||(xc=c,c=hd(xm,"onSelect"),0<c.length&&(r=new is("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Po)))}function Ca(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Oo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},bm={},lx={};oi&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function ka(i){if(bm[i])return bm[i];if(!Oo[i])return i;var r=Oo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in lx)return bm[i]=r[o];return i}var cx=ka("animationend"),ux=ka("animationiteration"),hx=ka("animationstart"),hR=ka("transitionrun"),dR=ka("transitionstart"),fR=ka("transitioncancel"),dx=ka("transitionend"),fx=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function Mi(i,r){fx.set(i,r),Zi(r,[i])}var Eh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ci=[],jo=0,wm=0;function Ah(){for(var i=jo,r=wm=jo=0;r<i;){var o=ci[r];ci[r++]=null;var c=ci[r];ci[r++]=null;var d=ci[r];ci[r++]=null;var p=ci[r];if(ci[r++]=null,c!==null&&d!==null){var _=c.pending;_===null?d.next=d:(d.next=_.next,_.next=d),c.pending=d}p!==0&&mx(o,d,p)}}function Sh(i,r,o,c){ci[jo++]=i,ci[jo++]=r,ci[jo++]=o,ci[jo++]=c,wm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Em(i,r,o,c){return Sh(i,r,o,c),Ch(i)}function Ra(i,r){return Sh(i,null,null,r),Ch(i)}function mx(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var d=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(d=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,d&&r!==null&&(d=31-Nt(o),i=p.hiddenUpdates,c=i[d],c===null?i[d]=[r]:c.push(r),r.lane=o|536870912),p):null}function Ch(i){if(50<zc)throw zc=0,Mp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Vo={};function mR(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,r,o,c){return new mR(i,r,o,c)}function Am(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,r){var o=i.alternate;return o===null?(o=Qn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function px(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function kh(i,r,o,c,d,p){var _=0;if(c=i,typeof i=="function")Am(i)&&(_=1);else if(typeof i=="string")_=xI(i,o,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Qn(31,o,r,d),i.elementType=N,i.lanes=p,i;case O:return Ia(o.children,d,p,r);case P:_=8,d|=24;break;case q:return i=Qn(12,o,r,d|2),i.elementType=q,i.lanes=p,i;case he:return i=Qn(13,o,r,d),i.elementType=he,i.lanes=p,i;case ue:return i=Qn(19,o,r,d),i.elementType=ue,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:_=10;break e;case ee:_=9;break e;case ce:_=11;break e;case I:_=14;break e;case S:_=16,c=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Qn(_,o,r,d),r.elementType=i,r.type=c,r.lanes=p,r}function Ia(i,r,o,c){return i=Qn(7,i,c,r),i.lanes=o,i}function Sm(i,r,o){return i=Qn(6,i,null,r),i.lanes=o,i}function gx(i){var r=Qn(18,null,null,0);return r.stateNode=i,r}function Cm(i,r,o){return r=Qn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var yx=new WeakMap;function ui(i,r){if(typeof i=="object"&&i!==null){var o=yx.get(i);return o!==void 0?o:(r={value:i,source:r,stack:wn(r)},yx.set(i,r),r)}return{value:i,source:r,stack:wn(r)}}var Lo=[],Uo=0,Rh=null,_c=0,hi=[],di=0,pr=null,os=1,ls="";function ks(i,r){Lo[Uo++]=_c,Lo[Uo++]=Rh,Rh=i,_c=r}function vx(i,r,o){hi[di++]=os,hi[di++]=ls,hi[di++]=pr,pr=i;var c=os;i=ls;var d=32-Nt(c)-1;c&=~(1<<d),o+=1;var p=32-Nt(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,os=1<<32-Nt(r)+d|o<<d|c,ls=p+i}else os=1<<p|o<<d|c,ls=i}function km(i){i.return!==null&&(ks(i,1),vx(i,1,0))}function Rm(i){for(;i===Rh;)Rh=Lo[--Uo],Lo[Uo]=null,_c=Lo[--Uo],Lo[Uo]=null;for(;i===pr;)pr=hi[--di],hi[di]=null,ls=hi[--di],hi[di]=null,os=hi[--di],hi[di]=null}function xx(i,r){hi[di++]=os,hi[di++]=ls,hi[di++]=pr,os=r.id,ls=r.overflow,pr=i}var ln=null,yt=null,$e=!1,gr=null,fi=!1,Im=Error(s(519));function yr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(ui(r,i)),Im}function _x(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Lt]=i,r[en]=c,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Fc.length;o++)ze(Fc[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),lh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),lr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Vb(r.textContent,o)?(c.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),c.onScroll!=null&&ze("scroll",r),c.onScrollEnd!=null&&ze("scrollend",r),c.onClick!=null&&(r.onclick=ki),r=!0):r=!1,r||yr(i,!0)}function bx(i){for(ln=i.return;ln;)switch(ln.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:ln=ln.return}}function Bo(i){if(i!==ln)return!1;if(!$e)return bx(i),$e=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qp(i.type,i.memoizedProps)),o=!o),o&&yt&&yr(i),bx(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));yt=Kb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));yt=Kb(i)}else r===27?(r=yt,Nr(i.type)?(i=Jp,Jp=null,yt=i):yt=r):yt=ln?pi(i.stateNode.nextSibling):null;return!0}function Na(){yt=ln=null,$e=!1}function Nm(){var i=gr;return i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i),gr=null),i}function bc(i){gr===null?gr=[i]:gr.push(i)}var Dm=E(null),Da=null,Rs=null;function vr(i,r,o){Z(Dm,r._currentValue),r._currentValue=o}function Is(i){i._currentValue=Dm.current,F(Dm)}function Mm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Pm(i,r,o,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var p=d.dependencies;if(p!==null){var _=d.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=d;for(var j=0;j<r.length;j++)if(A.context===r[j]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Mm(p.return,o,i),c||(_=null);break e}p=A.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),Mm(_,o,i),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===i){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function zo(i,r,o,c){i=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=d.type;$n(d.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(d===pe.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Qc):i=[Qc])}d=d.return}i!==null&&Pm(r,i,o,c),r.flags|=262144}function Ih(i){for(i=i.firstContext;i!==null;){if(!$n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){Da=i,Rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cn(i){return Tx(Da,i)}function Nh(i,r){return Da===null&&Ma(i),Tx(i,r)}function Tx(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Rs===null){if(i===null)throw Error(s(308));Rs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Rs=Rs.next=r;return o}var pR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},gR=t.unstable_scheduleCallback,yR=t.unstable_NormalPriority,zt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Om(){return{controller:new pR,data:new Map,refCount:0}}function Tc(i){i.refCount--,i.refCount===0&&gR(yR,function(){i.controller.abort()})}var wc=null,jm=0,qo=0,Fo=null;function vR(i,r){if(wc===null){var o=wc=[];jm=0,qo=Up(),Fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return jm++,r.then(wx,wx),r}function wx(){if(--jm===0&&wc!==null){Fo!==null&&(Fo.status="fulfilled");var i=wc;wc=null,qo=0,Fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function xR(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Ex=U.S;U.S=function(i,r){ob=Jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&vR(i,r),Ex!==null&&Ex(i,r)};var Pa=E(null);function Vm(){var i=Pa.current;return i!==null?i:ft.pooledCache}function Dh(i,r){r===null?Z(Pa,Pa.current):Z(Pa,r.pool)}function Ax(){var i=Vm();return i===null?null:{parent:zt._currentValue,pool:i}}var Ho=Error(s(460)),Lm=Error(s(474)),Mh=Error(s(542)),Ph={then:function(){}};function Sx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Cx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ki,ki),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Rx(i),i;default:if(typeof r.status=="string")r.then(ki,ki);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=c}},function(c){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Rx(i),i}throw ja=r,Ho}}function Oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ja=o,Ho):o}}var ja=null;function kx(){if(ja===null)throw Error(s(459));var i=ja;return ja=null,i}function Rx(i){if(i===Ho||i===Mh)throw Error(s(483))}var Go=null,Ec=0;function Oh(i){var r=Ec;return Ec+=1,Go===null&&(Go=[]),Cx(Go,i,r)}function Ac(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function jh(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ix(i){function r(G,z){if(i){var $=G.deletions;$===null?(G.deletions=[z],G.flags|=16):$.push(z)}}function o(G,z){if(!i)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function d(G,z){return G=Cs(G,z),G.index=0,G.sibling=null,G}function p(G,z,$){return G.index=$,i?($=G.alternate,$!==null?($=$.index,$<z?(G.flags|=67108866,z):$):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function _(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,z,$,ie){return z===null||z.tag!==6?(z=Sm($,G.mode,ie),z.return=G,z):(z=d(z,$),z.return=G,z)}function j(G,z,$,ie){var Te=$.type;return Te===O?ne(G,z,$.props.children,ie,$.key):z!==null&&(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Oa(Te)===z.type)?(z=d(z,$.props),Ac(z,$),z.return=G,z):(z=kh($.type,$.key,$.props,null,G.mode,ie),Ac(z,$),z.return=G,z)}function Y(G,z,$,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Cm($,G.mode,ie),z.return=G,z):(z=d(z,$.children||[]),z.return=G,z)}function ne(G,z,$,ie,Te){return z===null||z.tag!==7?(z=Ia($,G.mode,ie,Te),z.return=G,z):(z=d(z,$),z.return=G,z)}function re(G,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Sm(""+z,G.mode,$),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return $=kh(z.type,z.key,z.props,null,G.mode,$),Ac($,z),$.return=G,$;case D:return z=Cm(z,G.mode,$),z.return=G,z;case S:return z=Oa(z),re(G,z,$)}if(De(z)||M(z))return z=Ia(z,G.mode,$,null),z.return=G,z;if(typeof z.then=="function")return re(G,Oh(z),$);if(z.$$typeof===Q)return re(G,Nh(G,z),$);jh(G,z)}return null}function X(G,z,$,ie){var Te=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Te!==null?null:A(G,z,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===Te?j(G,z,$,ie):null;case D:return $.key===Te?Y(G,z,$,ie):null;case S:return $=Oa($),X(G,z,$,ie)}if(De($)||M($))return Te!==null?null:ne(G,z,$,ie,null);if(typeof $.then=="function")return X(G,z,Oh($),ie);if($.$$typeof===Q)return X(G,z,Nh(G,$),ie);jh(G,$)}return null}function te(G,z,$,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get($)||null,A(z,G,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:return G=G.get(ie.key===null?$:ie.key)||null,j(z,G,ie,Te);case D:return G=G.get(ie.key===null?$:ie.key)||null,Y(z,G,ie,Te);case S:return ie=Oa(ie),te(G,z,$,ie,Te)}if(De(ie)||M(ie))return G=G.get($)||null,ne(z,G,ie,Te,null);if(typeof ie.then=="function")return te(G,z,$,Oh(ie),Te);if(ie.$$typeof===Q)return te(G,z,$,Nh(z,ie),Te);jh(z,ie)}return null}function xe(G,z,$,ie){for(var Te=null,Xe=null,_e=z,Ue=z=0,Fe=null;_e!==null&&Ue<$.length;Ue++){_e.index>Ue?(Fe=_e,_e=null):Fe=_e.sibling;var We=X(G,_e,$[Ue],ie);if(We===null){_e===null&&(_e=Fe);break}i&&_e&&We.alternate===null&&r(G,_e),z=p(We,z,Ue),Xe===null?Te=We:Xe.sibling=We,Xe=We,_e=Fe}if(Ue===$.length)return o(G,_e),$e&&ks(G,Ue),Te;if(_e===null){for(;Ue<$.length;Ue++)_e=re(G,$[Ue],ie),_e!==null&&(z=p(_e,z,Ue),Xe===null?Te=_e:Xe.sibling=_e,Xe=_e);return $e&&ks(G,Ue),Te}for(_e=c(_e);Ue<$.length;Ue++)Fe=te(_e,G,Ue,$[Ue],ie),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ue:Fe.key),z=p(Fe,z,Ue),Xe===null?Te=Fe:Xe.sibling=Fe,Xe=Fe);return i&&_e.forEach(function(jr){return r(G,jr)}),$e&&ks(G,Ue),Te}function Se(G,z,$,ie){if($==null)throw Error(s(151));for(var Te=null,Xe=null,_e=z,Ue=z=0,Fe=null,We=$.next();_e!==null&&!We.done;Ue++,We=$.next()){_e.index>Ue?(Fe=_e,_e=null):Fe=_e.sibling;var jr=X(G,_e,We.value,ie);if(jr===null){_e===null&&(_e=Fe);break}i&&_e&&jr.alternate===null&&r(G,_e),z=p(jr,z,Ue),Xe===null?Te=jr:Xe.sibling=jr,Xe=jr,_e=Fe}if(We.done)return o(G,_e),$e&&ks(G,Ue),Te;if(_e===null){for(;!We.done;Ue++,We=$.next())We=re(G,We.value,ie),We!==null&&(z=p(We,z,Ue),Xe===null?Te=We:Xe.sibling=We,Xe=We);return $e&&ks(G,Ue),Te}for(_e=c(_e);!We.done;Ue++,We=$.next())We=te(_e,G,Ue,We.value,ie),We!==null&&(i&&We.alternate!==null&&_e.delete(We.key===null?Ue:We.key),z=p(We,z,Ue),Xe===null?Te=We:Xe.sibling=We,Xe=We);return i&&_e.forEach(function(II){return r(G,II)}),$e&&ks(G,Ue),Te}function ht(G,z,$,ie){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:e:{for(var Te=$.key;z!==null;){if(z.key===Te){if(Te=$.type,Te===O){if(z.tag===7){o(G,z.sibling),ie=d(z,$.props.children),ie.return=G,G=ie;break e}}else if(z.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Oa(Te)===z.type){o(G,z.sibling),ie=d(z,$.props),Ac(ie,$),ie.return=G,G=ie;break e}o(G,z);break}else r(G,z);z=z.sibling}$.type===O?(ie=Ia($.props.children,G.mode,ie,$.key),ie.return=G,G=ie):(ie=kh($.type,$.key,$.props,null,G.mode,ie),Ac(ie,$),ie.return=G,G=ie)}return _(G);case D:e:{for(Te=$.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(G,z.sibling),ie=d(z,$.children||[]),ie.return=G,G=ie;break e}else{o(G,z);break}else r(G,z);z=z.sibling}ie=Cm($,G.mode,ie),ie.return=G,G=ie}return _(G);case S:return $=Oa($),ht(G,z,$,ie)}if(De($))return xe(G,z,$,ie);if(M($)){if(Te=M($),typeof Te!="function")throw Error(s(150));return $=Te.call($),Se(G,z,$,ie)}if(typeof $.then=="function")return ht(G,z,Oh($),ie);if($.$$typeof===Q)return ht(G,z,Nh(G,$),ie);jh(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(G,z.sibling),ie=d(z,$),ie.return=G,G=ie):(o(G,z),ie=Sm($,G.mode,ie),ie.return=G,G=ie),_(G)):o(G,z)}return function(G,z,$,ie){try{Ec=0;var Te=ht(G,z,$,ie);return Go=null,Te}catch(_e){if(_e===Ho||_e===Mh)throw _e;var Xe=Qn(29,_e,null,G.mode);return Xe.lanes=ie,Xe.return=G,Xe}}}var Va=Ix(!0),Nx=Ix(!1),xr=!1;function Um(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function br(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,r=Ch(i),mx(i,null,o),r}return Sh(i,c,r,o),Ch(i)}function Sc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Jl(i,o)}}function zm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var qm=!1;function Cc(){if(qm){var i=Fo;if(i!==null)throw i}}function kc(i,r,o,c){qm=!1;var d=i.updateQueue;xr=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var j=A,Y=j.next;j.next=null,_===null?p=Y:_.next=Y,_=j;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==_&&(A===null?ne.firstBaseUpdate=Y:A.next=Y,ne.lastBaseUpdate=j))}if(p!==null){var re=d.baseState;_=0,ne=Y=j=null,A=p;do{var X=A.lane&-536870913,te=X!==A.lane;if(te?(qe&X)===X:(c&X)===X){X!==0&&X===qo&&(qm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var xe=i,Se=A;X=r;var ht=o;switch(Se.tag){case 1:if(xe=Se.payload,typeof xe=="function"){re=xe.call(ht,re,X);break e}re=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Se.payload,X=typeof xe=="function"?xe.call(ht,re,X):xe,X==null)break e;re=b({},re,X);break e;case 2:xr=!0}}X=A.callback,X!==null&&(i.flags|=64,te&&(i.flags|=8192),te=d.callbacks,te===null?d.callbacks=[X]:te.push(X))}else te={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(Y=ne=te,j=re):ne=ne.next=te,_|=X;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;te=A,A=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);ne===null&&(j=re),d.baseState=j,d.firstBaseUpdate=Y,d.lastBaseUpdate=ne,p===null&&(d.shared.lanes=0),Sr|=_,i.lanes=_,i.memoizedState=re}}function Dx(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Mx(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Dx(o[i],r)}var Ko=E(null),Vh=E(0);function Px(i,r){i=Us,Z(Vh,i),Z(Ko,r),Us=i|r.baseLanes}function Fm(){Z(Vh,Us),Z(Ko,Ko.current)}function Hm(){Us=Vh.current,F(Ko),F(Vh)}var Yn=E(null),mi=null;function Tr(i){var r=i.alternate;Z(Mt,Mt.current&1),Z(Yn,i),mi===null&&(r===null||Ko.current!==null||r.memoizedState!==null)&&(mi=i)}function Gm(i){Z(Mt,Mt.current),Z(Yn,i),mi===null&&(mi=i)}function Ox(i){i.tag===22?(Z(Mt,Mt.current),Z(Yn,i),mi===null&&(mi=i)):wr()}function wr(){Z(Mt,Mt.current),Z(Yn,Yn.current)}function Xn(i){F(Yn),mi===i&&(mi=null),F(Mt)}var Mt=E(0);function Lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wp(o)||Zp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ns=0,Le=null,ct=null,qt=null,Uh=!1,$o=!1,La=!1,Bh=0,Rc=0,Qo=null,_R=0;function Ct(){throw Error(s(321))}function Km(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!$n(i[o],r[o]))return!1;return!0}function $m(i,r,o,c,d,p){return Ns=p,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=i===null||i.memoizedState===null?v_:lp,La=!1,p=o(c,d),La=!1,$o&&(p=Vx(r,o,c,d)),jx(i),p}function jx(i){U.H=Dc;var r=ct!==null&&ct.next!==null;if(Ns=0,qt=ct=Le=null,Uh=!1,Rc=0,Qo=null,r)throw Error(s(300));i===null||Ft||(i=i.dependencies,i!==null&&Ih(i)&&(Ft=!0))}function Vx(i,r,o,c){Le=i;var d=0;do{if($o&&(Qo=null),Rc=0,$o=!1,25<=d)throw Error(s(301));if(d+=1,qt=ct=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}U.H=x_,p=r(o,c)}while($o);return p}function bR(){var i=U.H,r=i.useState()[0];return r=typeof r.then=="function"?Ic(r):r,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Le.flags|=1024),r}function Qm(){var i=Bh!==0;return Bh=0,i}function Ym(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Xm(i){if(Uh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Uh=!1}Ns=0,qt=ct=Le=null,$o=!1,Rc=Bh=0,Qo=null}function An(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Le.memoizedState=qt=i:qt=qt.next=i,qt}function Pt(){if(ct===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var r=qt===null?Le.memoizedState:qt.next;if(r!==null)qt=r,ct=i;else{if(i===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},qt===null?Le.memoizedState=qt=i:qt=qt.next=i}return qt}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(i){var r=Rc;return Rc+=1,Qo===null&&(Qo=[]),i=Cx(Qo,i,r),r=Le,(qt===null?r.memoizedState:qt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?v_:lp),i}function qh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ic(i);if(i.$$typeof===Q)return cn(i)}throw Error(s(438,String(i)))}function Wm(i){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Le.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=zh(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=L;return r.index++,o}function Ds(i,r){return typeof r=="function"?r(i):r}function Fh(i){var r=Pt();return Zm(r,ct,i)}function Zm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=i.baseQueue,p=c.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}r.baseQueue=d=p,c.pending=null}if(p=i.baseState,d===null)i.memoizedState=p;else{r=d.next;var A=_=null,j=null,Y=r,ne=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(qe&re)===re:(Ns&re)===re){var X=Y.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===qo&&(ne=!0);else if((Ns&X)===X){Y=Y.next,X===qo&&(ne=!0);continue}else re={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(A=j=re,_=p):j=j.next=re,Le.lanes|=X,Sr|=X;re=Y.action,La&&o(p,re),p=Y.hasEagerState?Y.eagerState:o(p,re)}else X={lane:re,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},j===null?(A=j=X,_=p):j=j.next=X,Le.lanes|=re,Sr|=re;Y=Y.next}while(Y!==null&&Y!==r);if(j===null?_=p:j.next=A,!$n(p,i.memoizedState)&&(Ft=!0,ne&&(o=Fo,o!==null)))throw o;i.memoizedState=p,i.baseState=_,i.baseQueue=j,c.lastRenderedState=p}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Jm(i){var r=Pt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=i(p,_.action),_=_.next;while(_!==d);$n(p,r.memoizedState)||(Ft=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Lx(i,r,o){var c=Le,d=Pt(),p=$e;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!$n((ct||d).memoizedState,o);if(_&&(d.memoizedState=o,Ft=!0),d=d.queue,np(zx.bind(null,c,d,i),[i]),d.getSnapshot!==r||_||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,Yo(9,{destroy:void 0},Bx.bind(null,c,d,o,r),null),ft===null)throw Error(s(349));p||(Ns&127)!==0||Ux(c,r,o)}return o}function Ux(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=zh(),Le.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Bx(i,r,o,c){r.value=o,r.getSnapshot=c,qx(r)&&Fx(i)}function zx(i,r,o){return o(function(){qx(r)&&Fx(i)})}function qx(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!$n(i,o)}catch{return!0}}function Fx(i){var r=Ra(i,2);r!==null&&On(r,i,2)}function ep(i){var r=An();if(typeof i=="function"){var o=i;if(i=o(),La){si(!0);try{o()}finally{si(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},r}function Hx(i,r,o,c){return i.baseState=o,Zm(i,ct,typeof c=="function"?c:Ds)}function TR(i,r,o,c,d){if(Kh(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};U.T!==null?o(!0):p.isTransition=!1,c(p),o=r.pending,o===null?(p.next=r.pending=p,Gx(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Gx(i,r){var o=r.action,c=r.payload,d=i.state;if(r.isTransition){var p=U.T,_={};U.T=_;try{var A=o(d,c),j=U.S;j!==null&&j(_,A),Kx(i,r,A)}catch(Y){tp(i,r,Y)}finally{p!==null&&_.types!==null&&(p.types=_.types),U.T=p}}else try{p=o(d,c),Kx(i,r,p)}catch(Y){tp(i,r,Y)}}function Kx(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){$x(i,r,c)},function(c){return tp(i,r,c)}):$x(i,r,o)}function $x(i,r,o){r.status="fulfilled",r.value=o,Qx(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Gx(i,o)))}function tp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Qx(r),r=r.next;while(r!==c)}i.action=null}function Qx(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Yx(i,r){return r}function Xx(i,r){if($e){var o=ft.formState;if(o!==null){e:{var c=Le;if($e){if(yt){t:{for(var d=yt,p=fi;d.nodeType!==8;){if(!p){d=null;break t}if(d=pi(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){yt=pi(d.nextSibling),c=d.data==="F!";break e}}yr(c)}c=!1}c&&(r=o[0])}}return o=An(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yx,lastRenderedState:r},o.queue=c,o=p_.bind(null,Le,c),c.dispatch=o,c=ep(!1),p=op.bind(null,Le,!1,c.queue),c=An(),d={state:r,dispatch:null,action:i,pending:null},c.queue=d,o=TR.bind(null,Le,d,p,o),d.dispatch=o,c.memoizedState=i,[r,o,!1]}function Wx(i){var r=Pt();return Zx(r,ct,i)}function Zx(i,r,o){if(r=Zm(i,r,Yx)[0],i=Fh(Ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Ic(r)}catch(_){throw _===Ho?Mh:_}else c=r;r=Pt();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,Yo(9,{destroy:void 0},wR.bind(null,d,o),null)),[c,p,i]}function wR(i,r){i.action=r}function Jx(i){var r=Pt(),o=ct;if(o!==null)return Zx(r,o,i);Pt(),r=r.memoizedState,o=Pt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Yo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Le.updateQueue,r===null&&(r=zh(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function e_(){return Pt().memoizedState}function Hh(i,r,o,c){var d=An();Le.flags|=i,d.memoizedState=Yo(1|r,{destroy:void 0},o,c===void 0?null:c)}function Gh(i,r,o,c){var d=Pt();c=c===void 0?null:c;var p=d.memoizedState.inst;ct!==null&&c!==null&&Km(c,ct.memoizedState.deps)?d.memoizedState=Yo(r,p,o,c):(Le.flags|=i,d.memoizedState=Yo(1|r,p,o,c))}function t_(i,r){Hh(8390656,8,i,r)}function np(i,r){Gh(2048,8,i,r)}function ER(i){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=zh(),Le.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function n_(i){var r=Pt().memoizedState;return ER({ref:r,nextImpl:i}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function i_(i,r){return Gh(4,2,i,r)}function s_(i,r){return Gh(4,4,i,r)}function r_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function a_(i,r,o){o=o!=null?o.concat([i]):null,Gh(4,4,r_.bind(null,r,i),o)}function ip(){}function o_(i,r){var o=Pt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Km(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function l_(i,r){var o=Pt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Km(r,c[1]))return c[0];if(c=i(),La){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,r],c}function sp(i,r,o){return o===void 0||(Ns&1073741824)!==0&&(qe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=cb(),Le.lanes|=i,Sr|=i,o)}function c_(i,r,o,c){return $n(o,r)?o:Ko.current!==null?(i=sp(i,o,c),$n(i,r)||(Ft=!0),i):(Ns&42)===0||(Ns&1073741824)!==0&&(qe&261930)===0?(Ft=!0,i.memoizedState=o):(i=cb(),Le.lanes|=i,Sr|=i,r)}function u_(i,r,o,c,d){var p=H.p;H.p=p!==0&&8>p?p:8;var _=U.T,A={};U.T=A,op(i,!1,r,o);try{var j=d(),Y=U.S;if(Y!==null&&Y(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=xR(j,c);Nc(i,r,ne,Jn(i))}else Nc(i,r,c,Jn(i))}catch(re){Nc(i,r,{then:function(){},status:"rejected",reason:re},Jn())}finally{H.p=p,_!==null&&A.types!==null&&(_.types=A.types),U.T=_}}function AR(){}function rp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var d=h_(i).queue;u_(i,d,r,ae,o===null?AR:function(){return d_(i),o(c)})}function h_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:ae},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function d_(i){var r=h_(i);r.next===null&&(r=i.alternate.memoizedState),Nc(i,r.next.queue,{},Jn())}function ap(){return cn(Qc)}function f_(){return Pt().memoizedState}function m_(){return Pt().memoizedState}function SR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Jn();i=_r(o);var c=br(r,i,o);c!==null&&(On(c,r,o),Sc(c,r,o)),r={cache:Om()},i.payload=r;return}r=r.return}}function CR(i,r,o){var c=Jn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Kh(i)?g_(r,o):(o=Em(i,r,o,c),o!==null&&(On(o,i,c),y_(o,r,c)))}function p_(i,r,o){var c=Jn();Nc(i,r,o,c)}function Nc(i,r,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))g_(r,d);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,A=p(_,o);if(d.hasEagerState=!0,d.eagerState=A,$n(A,_))return Sh(i,r,d,0),ft===null&&Ah(),!1}catch{}if(o=Em(i,r,d,c),o!==null)return On(o,i,c),y_(o,r,c),!0}return!1}function op(i,r,o,c){if(c={lane:2,revertLane:Up(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Kh(i)){if(r)throw Error(s(479))}else r=Em(i,o,c,2),r!==null&&On(r,i,2)}function Kh(i){var r=i.alternate;return i===Le||r!==null&&r===Le}function g_(i,r){$o=Uh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function y_(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Jl(i,o)}}var Dc={readContext:cn,use:qh,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Dc.useEffectEvent=Ct;var v_={readContext:cn,use:qh,useCallback:function(i,r){return An().memoizedState=[i,r===void 0?null:r],i},useContext:cn,useEffect:t_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Hh(4194308,4,r_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Hh(4194308,4,i,r)},useInsertionEffect:function(i,r){Hh(4,2,i,r)},useMemo:function(i,r){var o=An();r=r===void 0?null:r;var c=i();if(La){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=An();if(o!==void 0){var d=o(r);if(La){si(!0);try{o(r)}finally{si(!1)}}}else d=r;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=CR.bind(null,Le,i),[c.memoizedState,i]},useRef:function(i){var r=An();return i={current:i},r.memoizedState=i},useState:function(i){i=ep(i);var r=i.queue,o=p_.bind(null,Le,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ip,useDeferredValue:function(i,r){var o=An();return sp(o,i,r)},useTransition:function(){var i=ep(!1);return i=u_.bind(null,Le,i.queue,!0,!1),An().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Le,d=An();if($e){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ft===null)throw Error(s(349));(qe&127)!==0||Ux(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,t_(zx.bind(null,c,p,i),[i]),c.flags|=2048,Yo(9,{destroy:void 0},Bx.bind(null,c,p,o,r),null),o},useId:function(){var i=An(),r=ft.identifierPrefix;if($e){var o=ls,c=os;o=(c&~(1<<32-Nt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Bh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=_R++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:ap,useFormState:Xx,useActionState:Xx,useOptimistic:function(i){var r=An();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=op.bind(null,Le,!0,o),o.dispatch=r,[i,r]},useMemoCache:Wm,useCacheRefresh:function(){return An().memoizedState=SR.bind(null,Le)},useEffectEvent:function(i){var r=An(),o={impl:i};return r.memoizedState=o,function(){if((Je&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},lp={readContext:cn,use:qh,useCallback:o_,useContext:cn,useEffect:np,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:l_,useReducer:Fh,useRef:e_,useState:function(){return Fh(Ds)},useDebugValue:ip,useDeferredValue:function(i,r){var o=Pt();return c_(o,ct.memoizedState,i,r)},useTransition:function(){var i=Fh(Ds)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:Ic(i),r]},useSyncExternalStore:Lx,useId:f_,useHostTransitionStatus:ap,useFormState:Wx,useActionState:Wx,useOptimistic:function(i,r){var o=Pt();return Hx(o,ct,i,r)},useMemoCache:Wm,useCacheRefresh:m_};lp.useEffectEvent=n_;var x_={readContext:cn,use:qh,useCallback:o_,useContext:cn,useEffect:np,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:l_,useReducer:Jm,useRef:e_,useState:function(){return Jm(Ds)},useDebugValue:ip,useDeferredValue:function(i,r){var o=Pt();return ct===null?sp(o,i,r):c_(o,ct.memoizedState,i,r)},useTransition:function(){var i=Jm(Ds)[0],r=Pt().memoizedState;return[typeof i=="boolean"?i:Ic(i),r]},useSyncExternalStore:Lx,useId:f_,useHostTransitionStatus:ap,useFormState:Jx,useActionState:Jx,useOptimistic:function(i,r){var o=Pt();return ct!==null?Hx(o,ct,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Wm,useCacheRefresh:m_};x_.useEffectEvent=n_;function cp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var up={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Jn(),d=_r(c);d.payload=r,o!=null&&(d.callback=o),r=br(i,d,c),r!==null&&(On(r,i,c),Sc(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Jn(),d=_r(c);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=br(i,d,c),r!==null&&(On(r,i,c),Sc(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Jn(),c=_r(o);c.tag=2,r!=null&&(c.callback=r),r=br(i,c,o),r!==null&&(On(r,i,o),Sc(r,i,o))}};function __(i,r,o,c,d,p,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!vc(o,c)||!vc(d,p):!0}function b_(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&up.enqueueReplaceState(r,r.state,null)}function Ua(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function T_(i){Eh(i)}function w_(i){console.error(i)}function E_(i){Eh(i)}function $h(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function A_(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function hp(i,r,o){return o=_r(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(i,r)},o}function S_(i){return i=_r(i),i.tag=3,i}function C_(i,r,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;i.payload=function(){return d(p)},i.callback=function(){A_(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){A_(r,o,c),typeof d!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function kR(i,r,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&zo(r,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 31:case 13:return mi===null?rd():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===Ph?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),jp(i,c,d)),!1;case 22:return o.flags|=65536,c===Ph?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),jp(i,c,d)),!1}throw Error(s(435,o.tag))}return jp(i,c,d),rd(),!1}if($e)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,c!==Im&&(i=Error(s(422),{cause:c}),bc(ui(i,o)))):(c!==Im&&(r=Error(s(423),{cause:c}),bc(ui(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=ui(c,o),d=hp(i.stateNode,c,d),zm(i,d),kt!==4&&(kt=2)),!1;var p=Error(s(520),{cause:c});if(p=ui(p,o),Bc===null?Bc=[p]:Bc.push(p),kt!==4&&(kt=2),r===null)return!0;c=ui(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=hp(o.stateNode,c,i),zm(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Cr===null||!Cr.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=S_(d),C_(d,i,o,c),zm(o,d),!1}o=o.return}while(o!==null);return!1}var dp=Error(s(461)),Ft=!1;function un(i,r,o,c){r.child=i===null?Nx(r,null,o,c):Va(r,i.child,o,c)}function k_(i,r,o,c,d){o=o.render;var p=r.ref;if("ref"in c){var _={};for(var A in c)A!=="ref"&&(_[A]=c[A])}else _=c;return Ma(r),c=$m(i,r,o,_,p,d),A=Qm(),i!==null&&!Ft?(Ym(i,r,d),Ms(i,r,d)):($e&&A&&km(r),r.flags|=1,un(i,r,c,d),r.child)}function R_(i,r,o,c,d){if(i===null){var p=o.type;return typeof p=="function"&&!Am(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,I_(i,r,p,c,d)):(i=kh(o.type,null,c,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!_p(i,d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:vc,o(_,c)&&i.ref===r.ref)return Ms(i,r,d)}return r.flags|=1,i=Cs(p,c),i.ref=r.ref,i.return=r,r.child=i}function I_(i,r,o,c,d){if(i!==null){var p=i.memoizedProps;if(vc(p,c)&&i.ref===r.ref)if(Ft=!1,r.pendingProps=c=p,_p(i,d))(i.flags&131072)!==0&&(Ft=!0);else return r.lanes=i.lanes,Ms(i,r,d)}return fp(i,r,o,c,d)}function N_(i,r,o,c){var d=c.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=r.child=i.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,r.child=null;return D_(i,r,p,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Dh(r,p!==null?p.cachePool:null),p!==null?Px(r,p):Fm(),Ox(r);else return c=r.lanes=536870912,D_(i,r,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(Dh(r,p.cachePool),Px(r,p),wr(),r.memoizedState=null):(i!==null&&Dh(r,null),Fm(),wr());return un(i,r,d,o),r.child}function Mc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function D_(i,r,o,c,d){var p=Vm();return p=p===null?null:{parent:zt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&Dh(r,null),Fm(),Ox(r),i!==null&&zo(i,r,c,!0),r.childLanes=d,null}function Qh(i,r){return r=Xh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function M_(i,r,o){return Va(r,i.child,null,o),i=Qh(r,r.pendingProps),i.flags|=2,Xn(r),r.memoizedState=null,i}function RR(i,r,o){var c=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if($e){if(c.mode==="hidden")return i=Qh(r,c),r.lanes=536870912,Mc(null,i);if(Gm(r),(i=yt)?(i=Gb(i,fi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:pr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},o=gx(i),o.return=r,r.child=o,ln=r,yt=null)):i=null,i===null)throw yr(r);return r.lanes=536870912,null}return Qh(r,c)}var p=i.memoizedState;if(p!==null){var _=p.dehydrated;if(Gm(r),d)if(r.flags&256)r.flags&=-257,r=M_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ft||zo(i,r,o,!1),d=(o&i.childLanes)!==0,Ft||d){if(c=ft,c!==null&&(_=ec(c,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,Ra(i,_),On(c,i,_),dp;rd(),r=M_(i,r,o)}else i=p.treeContext,yt=pi(_.nextSibling),ln=r,$e=!0,gr=null,fi=!1,i!==null&&xx(r,i),r=Qh(r,c),r.flags|=4096;return r}return i=Cs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Yh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function fp(i,r,o,c,d){return Ma(r),o=$m(i,r,o,c,void 0,d),c=Qm(),i!==null&&!Ft?(Ym(i,r,d),Ms(i,r,d)):($e&&c&&km(r),r.flags|=1,un(i,r,o,d),r.child)}function P_(i,r,o,c,d,p){return Ma(r),r.updateQueue=null,o=Vx(r,c,o,d),jx(i),c=Qm(),i!==null&&!Ft?(Ym(i,r,p),Ms(i,r,p)):($e&&c&&km(r),r.flags|=1,un(i,r,o,p),r.child)}function O_(i,r,o,c,d){if(Ma(r),r.stateNode===null){var p=Vo,_=o.contextType;typeof _=="object"&&_!==null&&(p=cn(_)),p=new o(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=up,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},Um(r),_=o.contextType,p.context=typeof _=="object"&&_!==null?cn(_):Vo,p.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(cp(r,o,_,c),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&up.enqueueReplaceState(p,p.state,null),kc(r,c,p,d),Cc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var A=r.memoizedProps,j=Ua(o,A);p.props=j;var Y=p.context,ne=o.contextType;_=Vo,typeof ne=="object"&&ne!==null&&(_=cn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||Y!==_)&&b_(r,p,c,_),xr=!1;var X=r.memoizedState;p.state=X,kc(r,c,p,d),Cc(),Y=r.memoizedState,A||X!==Y||xr?(typeof re=="function"&&(cp(r,o,re,c),Y=r.memoizedState),(j=xr||__(r,o,j,c,X,Y,_))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),p.props=c,p.state=Y,p.context=_,c=j):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,Bm(i,r),_=r.memoizedProps,ne=Ua(o,_),p.props=ne,re=r.pendingProps,X=p.context,Y=o.contextType,j=Vo,typeof Y=="object"&&Y!==null&&(j=cn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==re||X!==j)&&b_(r,p,c,j),xr=!1,X=r.memoizedState,p.state=X,kc(r,c,p,d),Cc();var te=r.memoizedState;_!==re||X!==te||xr||i!==null&&i.dependencies!==null&&Ih(i.dependencies)?(typeof A=="function"&&(cp(r,o,A,c),te=r.memoizedState),(ne=xr||__(r,o,ne,c,X,te,j)||i!==null&&i.dependencies!==null&&Ih(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,te,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,te,j)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=te),p.props=c,p.state=te,p.context=j,c=ne):(typeof p.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,Yh(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Va(r,i.child,null,d),r.child=Va(r,null,o,d)):un(i,r,o,d),r.memoizedState=p.state,i=r.child):i=Ms(i,r,d),i}function j_(i,r,o,c){return Na(),r.flags|=256,un(i,r,o,c),r.child}var mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(i){return{baseLanes:i,cachePool:Ax()}}function gp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Zn),i}function V_(i,r,o){var c=r.pendingProps,d=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=i!==null&&i.memoizedState===null?!1:(Mt.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if($e){if(d?Tr(r):wr(),(i=yt)?(i=Gb(i,fi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:pr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},o=gx(i),o.return=r,r.child=o,ln=r,yt=null)):i=null,i===null)throw yr(r);return Zp(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,d?(wr(),d=r.mode,A=Xh({mode:"hidden",children:A},d),c=Ia(c,d,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=pp(o),c.childLanes=gp(i,_,o),r.memoizedState=mp,Mc(null,c)):(Tr(r),yp(r,A))}var j=i.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(p)r.flags&256?(Tr(r),r.flags&=-257,r=vp(i,r,o)):r.memoizedState!==null?(wr(),r.child=i.child,r.flags|=128,r=null):(wr(),A=c.fallback,d=r.mode,c=Xh({mode:"visible",children:c.children},d),A=Ia(A,d,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Va(r,i.child,null,o),c=r.child,c.memoizedState=pp(o),c.childLanes=gp(i,_,o),r.memoizedState=mp,r=Mc(null,c));else if(Tr(r),Zp(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var Y=_.dgst;_=Y,c=Error(s(419)),c.stack="",c.digest=_,bc({value:c,source:null,stack:null}),r=vp(i,r,o)}else if(Ft||zo(i,r,o,!1),_=(o&i.childLanes)!==0,Ft||_){if(_=ft,_!==null&&(c=ec(_,o),c!==0&&c!==j.retryLane))throw j.retryLane=c,Ra(i,c),On(_,i,c),dp;Wp(A)||rd(),r=vp(i,r,o)}else Wp(A)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,yt=pi(A.nextSibling),ln=r,$e=!0,gr=null,fi=!1,i!==null&&xx(r,i),r=yp(r,c.children),r.flags|=4096);return r}return d?(wr(),A=c.fallback,d=r.mode,j=i.child,Y=j.sibling,c=Cs(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,Y!==null?A=Cs(Y,A):(A=Ia(A,d,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Mc(null,c),c=r.child,A=i.child.memoizedState,A===null?A=pp(o):(d=A.cachePool,d!==null?(j=zt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=Ax(),A={baseLanes:A.baseLanes|o,cachePool:d}),c.memoizedState=A,c.childLanes=gp(i,_,o),r.memoizedState=mp,Mc(i.child,c)):(Tr(r),o=i.child,i=o.sibling,o=Cs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function yp(i,r){return r=Xh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Xh(i,r){return i=Qn(22,i,null,r),i.lanes=0,i}function vp(i,r,o){return Va(r,i.child,null,o),i=yp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function L_(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Mm(i.return,r,o)}function xp(i,r,o,c,d,p){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:p}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=d,_.treeForkCount=p)}function U_(i,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var _=Mt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,Z(Mt,_),un(i,r,c,o),c=$e?_c:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L_(i,o,r);else if(i.tag===19)L_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Lh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),xp(r,!1,d,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Lh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}xp(r,!0,o,null,p,c);break;case"together":xp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(zo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Cs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Cs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function _p(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ih(i)))}function IR(i,r,o){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),vr(r,zt,i.memoizedState.cache),Na();break;case 27:case 5:et(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?V_(i,r,o):(Tr(r),i=Ms(i,r,o),i!==null?i.sibling:null);Tr(r);break;case 19:var d=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(zo(i,r,o,!1),c=(o&r.childLanes)!==0),d){if(c)return U_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Mt,Mt.current),c)break;return null;case 22:return r.lanes=0,N_(i,r,o,r.pendingProps);case 24:vr(r,zt,i.memoizedState.cache)}return Ms(i,r,o)}function B_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ft=!0;else{if(!_p(i,o)&&(r.flags&128)===0)return Ft=!1,IR(i,r,o);Ft=(i.flags&131072)!==0}else Ft=!1,$e&&(r.flags&1048576)!==0&&vx(r,_c,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Oa(r.elementType),r.type=i,typeof i=="function")Am(i)?(c=Ua(i,c),r.tag=1,r=O_(null,r,i,c,o)):(r.tag=0,r=fp(null,r,i,c,o));else{if(i!=null){var d=i.$$typeof;if(d===ce){r.tag=11,r=k_(null,r,i,c,o);break e}else if(d===I){r.tag=14,r=R_(null,r,i,c,o);break e}}throw r=Ee(i)||i,Error(s(306,r,""))}}return r;case 0:return fp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,d=Ua(c,r.pendingProps),O_(i,r,c,d,o);case 3:e:{if(be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var p=r.memoizedState;d=p.element,Bm(i,r),kc(r,c,null,o);var _=r.memoizedState;if(c=_.cache,vr(r,zt,c),c!==p.cache&&Pm(r,[zt],o,!0),Cc(),c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=j_(i,r,c,o);break e}else if(c!==d){d=ui(Error(s(424)),r),bc(d),r=j_(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,yt=pi(i.firstChild),ln=r,$e=!0,gr=null,fi=!0,o=Nx(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Na(),c===d){r=Ms(i,r,o);break e}un(i,r,c,o)}r=r.child}return r;case 26:return Yh(i,r),i===null?(o=Wb(r.type,null,r.pendingProps,null))?r.memoizedState=o:$e||(o=r.type,i=r.pendingProps,c=dd(ge.current).createElement(o),c[Lt]=r,c[en]=i,hn(c,o,i),Ut(c),r.stateNode=c):r.memoizedState=Wb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return et(r),i===null&&$e&&(c=r.stateNode=Qb(r.type,r.pendingProps,ge.current),ln=r,fi=!0,d=yt,Nr(r.type)?(Jp=d,yt=pi(c.firstChild)):yt=d),un(i,r,r.pendingProps.children,o),Yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&$e&&((d=c=yt)&&(c=aI(c,r.type,r.pendingProps,fi),c!==null?(r.stateNode=c,ln=r,yt=pi(c.firstChild),fi=!1,d=!0):d=!1),d||yr(r)),et(r),d=r.type,p=r.pendingProps,_=i!==null?i.memoizedProps:null,c=p.children,Qp(d,p)?c=null:_!==null&&Qp(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=$m(i,r,bR,null,null,o),Qc._currentValue=d),Yh(i,r),un(i,r,c,o),r.child;case 6:return i===null&&$e&&((i=o=yt)&&(o=oI(o,r.pendingProps,fi),o!==null?(r.stateNode=o,ln=r,yt=null,i=!0):i=!1),i||yr(r)),null;case 13:return V_(i,r,o);case 4:return be(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Va(r,null,c,o):un(i,r,c,o),r.child;case 11:return k_(i,r,r.type,r.pendingProps,o);case 7:return un(i,r,r.pendingProps,o),r.child;case 8:return un(i,r,r.pendingProps.children,o),r.child;case 12:return un(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,vr(r,r.type,c.value),un(i,r,c.children,o),r.child;case 9:return d=r.type._context,c=r.pendingProps.children,Ma(r),d=cn(d),c=c(d),r.flags|=1,un(i,r,c,o),r.child;case 14:return R_(i,r,r.type,r.pendingProps,o);case 15:return I_(i,r,r.type,r.pendingProps,o);case 19:return U_(i,r,o);case 31:return RR(i,r,o);case 22:return N_(i,r,o,r.pendingProps);case 24:return Ma(r),c=cn(zt),i===null?(d=Vm(),d===null&&(d=ft,p=Om(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:c,cache:d},Um(r),vr(r,zt,d)):((i.lanes&o)!==0&&(Bm(i,r),kc(r,null,null,o),Cc()),d=i.memoizedState,p=r.memoizedState,d.parent!==c?(d={parent:c,cache:c},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),vr(r,zt,c)):(c=p.cache,vr(r,zt,c),c!==d.cache&&Pm(r,[zt],o,!0))),un(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ps(i){i.flags|=4}function bp(i,r,o,c,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(fb())i.flags|=8192;else throw ja=Ph,Lm}else i.flags&=-16777217}function z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nT(r))if(fb())i.flags|=8192;else throw ja=Ph,Lm}function Wh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ih():536870912,i.lanes|=r,Jo|=r)}function Pc(i,r){if(!$e)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function vt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function NR(i,r,o){var c=r.pendingProps;switch(Rm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(r),null;case 1:return vt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Is(zt),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Bo(r)?Ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Nm())),vt(r),null;case 26:var d=r.type,p=r.memoizedState;return i===null?(Ps(r),p!==null?(vt(r),z_(r,p)):(vt(r),bp(r,d,null,c,o))):p?p!==i.memoizedState?(Ps(r),vt(r),z_(r,p)):(vt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ps(r),vt(r),bp(r,d,i,c,o)),null;case 27:if(Ye(r),o=ge.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return vt(r),null}i=oe.current,Bo(r)?_x(r):(i=Qb(d,c,o),r.stateNode=i,Ps(r))}return vt(r),null;case 5:if(Ye(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return vt(r),null}if(p=oe.current,Bo(r))_x(r);else{var _=dd(ge.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?_.createElement(d,{is:c.is}):_.createElement(d)}}p[Lt]=r,p[en]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=p;e:switch(hn(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ps(r)}}return vt(r),bp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=ge.current,Bo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,d=ln,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Lt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Vb(i.nodeValue,o)),i||yr(r,!0)}else i=dd(i).createTextNode(c),i[Lt]=r,r.stateNode=i}return vt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Bo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Lt]=r}else Na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),i=!1}else o=Nm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Xn(r),r):(Xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return vt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Bo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Lt]=r}else Na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;vt(r),d=!1}else d=Nm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Xn(r),r):(Xn(r),null)}return Xn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Wh(r,r.updateQueue),vt(r),null);case 4:return Ae(),i===null&&Fp(r.stateNode.containerInfo),vt(r),null;case 10:return Is(r.type),vt(r),null;case 19:if(F(Mt),c=r.memoizedState,c===null)return vt(r),null;if(d=(r.flags&128)!==0,p=c.rendering,p===null)if(d)Pc(c,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Lh(i),p!==null){for(r.flags|=128,Pc(c,!1),i=p.updateQueue,r.updateQueue=i,Wh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)px(o,i),o=o.sibling;return Z(Mt,Mt.current&1|2),$e&&ks(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Jt()>nd&&(r.flags|=128,d=!0,Pc(c,!1),r.lanes=4194304)}else{if(!d)if(i=Lh(p),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Wh(r,i),Pc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!$e)return vt(r),null}else 2*Jt()-c.renderingStartTime>nd&&o!==536870912&&(r.flags|=128,d=!0,Pc(c,!1),r.lanes=4194304);c.isBackwards?(p.sibling=r.child,r.child=p):(i=c.last,i!==null?i.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Jt(),i.sibling=null,o=Mt.current,Z(Mt,d?o&1|2:o&1),$e&&ks(r,c.treeForkCount),i):(vt(r),null);case 22:case 23:return Xn(r),Hm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(vt(r),r.subtreeFlags&6&&(r.flags|=8192)):vt(r),o=r.updateQueue,o!==null&&Wh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&F(Pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Is(zt),vt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function DR(i,r){switch(Rm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Is(zt),Ae(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ye(r),null;case 31:if(r.memoizedState!==null){if(Xn(r),r.alternate===null)throw Error(s(340));Na()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Xn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Na()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return F(Mt),null;case 4:return Ae(),null;case 10:return Is(r.type),null;case 22:case 23:return Xn(r),Hm(),i!==null&&F(Pa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Is(zt),null;case 25:return null;default:return null}}function q_(i,r){switch(Rm(r),r.tag){case 3:Is(zt),Ae();break;case 26:case 27:case 5:Ye(r);break;case 4:Ae();break;case 31:r.memoizedState!==null&&Xn(r);break;case 13:Xn(r);break;case 19:F(Mt);break;case 10:Is(r.type);break;case 22:case 23:Xn(r),Hm(),i!==null&&F(Pa);break;case 24:Is(zt)}}function Oc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&i)===i){c=void 0;var p=o.create,_=o.inst;c=p(),_.destroy=c}o=o.next}while(o!==d)}}catch(A){at(r,r.return,A)}}function Er(i,r,o){try{var c=r.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){var _=c.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,d=r;var j=o,Y=A;try{Y()}catch(ne){at(d,j,ne)}}}c=c.next}while(c!==p)}}catch(ne){at(r,r.return,ne)}}function F_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Mx(r,o)}catch(c){at(i,i.return,c)}}}function H_(i,r,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){at(i,r,c)}}function jc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(d){at(i,r,d)}}function cs(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){at(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){at(i,r,d)}else o.current=null}function G_(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){at(i,i.return,d)}}function Tp(i,r,o){try{var c=i.stateNode;eI(c,i.type,o,r),c[en]=r}catch(d){at(i,i.return,d)}}function K_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nr(i.type)||i.tag===4}function wp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||K_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ep(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ki));else if(c!==4&&(c===27&&Nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Ep(i,r,o),i=i.sibling;i!==null;)Ep(i,r,o),i=i.sibling}function Zh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Zh(i,r,o),i=i.sibling;i!==null;)Zh(i,r,o),i=i.sibling}function $_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);hn(r,c,o),r[Lt]=i,r[en]=o}catch(p){at(i,i.return,p)}}var Os=!1,Ht=!1,Ap=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,nn=null;function MR(i,r){if(i=i.containerInfo,Kp=xd,i=ax(i),vm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,A=-1,j=-1,Y=0,ne=0,re=i,X=null;t:for(;;){for(var te;re!==o||d!==0&&re.nodeType!==3||(A=_+d),re!==p||c!==0&&re.nodeType!==3||(j=_+c),re.nodeType===3&&(_+=re.nodeValue.length),(te=re.firstChild)!==null;)X=re,re=te;for(;;){if(re===i)break t;if(X===o&&++Y===d&&(A=_),X===p&&++ne===c&&(j=_),(te=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=te}o=A===-1||j===-1?null:{start:A,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for($p={focusedElem:i,selectionRange:o},xd=!1,nn=r;nn!==null;)if(r=nn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,nn=i;else for(;nn!==null;){switch(r=nn,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var xe=Ua(o.type,d);i=c.getSnapshotBeforeUpdate(xe,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){at(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Xp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,nn=i;break}nn=r.return}}function Y_(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(i,o),c&4&&Oc(5,o);break;case 1:if(Vs(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){at(o,o.return,_)}else{var d=Ua(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){at(o,o.return,_)}}c&64&&F_(o),c&512&&jc(o,o.return);break;case 3:if(Vs(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Mx(i,r)}catch(_){at(o,o.return,_)}}break;case 27:r===null&&c&4&&$_(o);case 26:case 5:Vs(i,o),r===null&&c&4&&G_(o),c&512&&jc(o,o.return);break;case 12:Vs(i,o);break;case 31:Vs(i,o),c&4&&Z_(i,o);break;case 13:Vs(i,o),c&4&&J_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=qR.bind(null,o),lI(i,o))));break;case 22:if(c=o.memoizedState!==null||Os,!c){r=r!==null&&r.memoizedState!==null||Ht,d=Os;var p=Ht;Os=c,(Ht=r)&&!p?Ls(i,o,(o.subtreeFlags&8772)!==0):Vs(i,o),Os=d,Ht=p}break;case 30:break;default:Vs(i,o)}}function X_(i){var r=i.alternate;r!==null&&(i.alternate=null,X_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&wo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Tt=null,Nn=!1;function js(i,r,o){for(o=o.child;o!==null;)W_(i,r,o),o=o.sibling}function W_(i,r,o){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Hn,o)}catch{}switch(o.tag){case 26:Ht||cs(o,r),js(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||cs(o,r);var c=Tt,d=Nn;Nr(o.type)&&(Tt=o.stateNode,Nn=!1),js(i,r,o),Gc(o.stateNode),Tt=c,Nn=d;break;case 5:Ht||cs(o,r);case 6:if(c=Tt,d=Nn,Tt=null,js(i,r,o),Tt=c,Nn=d,Tt!==null)if(Nn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(o.stateNode)}catch(p){at(o,r,p)}else try{Tt.removeChild(o.stateNode)}catch(p){at(o,r,p)}break;case 18:Tt!==null&&(Nn?(i=Tt,Fb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ol(i)):Fb(Tt,o.stateNode));break;case 4:c=Tt,d=Nn,Tt=o.stateNode.containerInfo,Nn=!0,js(i,r,o),Tt=c,Nn=d;break;case 0:case 11:case 14:case 15:Er(2,o,r),Ht||Er(4,o,r),js(i,r,o);break;case 1:Ht||(cs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&H_(o,r,c)),js(i,r,o);break;case 21:js(i,r,o);break;case 22:Ht=(c=Ht)||o.memoizedState!==null,js(i,r,o),Ht=c;break;default:js(i,r,o)}}function Z_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ol(i)}catch(o){at(r,r.return,o)}}}function J_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ol(i)}catch(o){at(r,r.return,o)}}function PR(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Q_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Q_),r;default:throw Error(s(435,i.tag))}}function Jh(i,r){var o=PR(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var d=FR.bind(null,i,c);c.then(d,d)}})}function Dn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],p=i,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Nr(A.type)){Tt=A.stateNode,Nn=!1;break e}break;case 5:Tt=A.stateNode,Nn=!1;break e;case 3:case 4:Tt=A.stateNode.containerInfo,Nn=!0;break e}A=A.return}if(Tt===null)throw Error(s(160));W_(p,_,d),Tt=null,Nn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eb(r,i),r=r.sibling}var Pi=null;function eb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(r,i),Mn(i),c&4&&(Er(3,i,i.return),Oc(3,i),Er(5,i,i.return));break;case 1:Dn(r,i),Mn(i),c&512&&(Ht||o===null||cs(o,o.return)),c&64&&Os&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Pi;if(Dn(r,i),Mn(i),c&512&&(Ht||o===null||cs(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Yi]||p[Lt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),hn(p,c,o),p[Lt]=i,Ut(p),c=p;break e;case"link":var _=eT("link","href",d).get(c+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(p=_[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}p=d.createElement(c),hn(p,c,o),d.head.appendChild(p);break;case"meta":if(_=eT("meta","content",d).get(c+(o.content||""))){for(A=0;A<_.length;A++)if(p=_[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}p=d.createElement(c),hn(p,c,o),d.head.appendChild(p);break;default:throw Error(s(468,c))}p[Lt]=i,Ut(p),c=p}i.stateNode=c}else tT(d,i.type,i.stateNode);else i.stateNode=Jb(d,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?tT(d,i.type,i.stateNode):Jb(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Tp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,i),Mn(i),c&512&&(Ht||o===null||cs(o,o.return)),o!==null&&c&4&&Tp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,i),Mn(i),c&512&&(Ht||o===null||cs(o,o.return)),i.flags&32){d=i.stateNode;try{In(d,"")}catch(xe){at(i,i.return,xe)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,Tp(i,d,o!==null?o.memoizedProps:d)),c&1024&&(Ap=!0);break;case 6:if(Dn(r,i),Mn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(xe){at(i,i.return,xe)}}break;case 3:if(pd=null,d=Pi,Pi=fd(r.containerInfo),Dn(r,i),Pi=d,Mn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ol(r.containerInfo)}catch(xe){at(i,i.return,xe)}Ap&&(Ap=!1,tb(i));break;case 4:c=Pi,Pi=fd(i.stateNode.containerInfo),Dn(r,i),Mn(i),Pi=c;break;case 12:Dn(r,i),Mn(i);break;case 31:Dn(r,i),Mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jh(i,c)));break;case 13:Dn(r,i),Mn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(td=Jt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jh(i,c)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,Y=Os,ne=Ht;if(Os=Y||d,Ht=ne||j,Dn(r,i),Ht=ne,Os=Y,Mn(i),c&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||Os||Ht||Ba(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(p=j.stateNode,d)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=j.stateNode;var re=j.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(xe){at(j,j.return,xe)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(xe){at(j,j.return,xe)}}}else if(r.tag===18){if(o===null){j=r;try{var te=j.stateNode;d?Hb(te,!0):Hb(j.stateNode,!1)}catch(xe){at(j,j.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Jh(i,o))));break;case 19:Dn(r,i),Mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Jh(i,c)));break;case 30:break;case 21:break;default:Dn(r,i),Mn(i)}}function Mn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(K_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=wp(i);Zh(i,p,d);break;case 5:var _=o.stateNode;o.flags&32&&(In(_,""),o.flags&=-33);var A=wp(i);Zh(i,A,_);break;case 3:case 4:var j=o.stateNode.containerInfo,Y=wp(i);Ep(i,Y,j);break;default:throw Error(s(161))}}catch(ne){at(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Vs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Y_(i,r.alternate,r),r=r.sibling}function Ba(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),Ba(r);break;case 1:cs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&H_(r,r.return,o),Ba(r);break;case 27:Gc(r.stateNode);case 26:case 5:cs(r,r.return),Ba(r);break;case 22:r.memoizedState===null&&Ba(r);break;case 30:Ba(r);break;default:Ba(r)}i=i.sibling}}function Ls(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,d=i,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:Ls(d,p,o),Oc(4,p);break;case 1:if(Ls(d,p,o),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){at(c,c.return,Y)}if(c=p,d=c.updateQueue,d!==null){var A=c.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)Dx(j[d],A)}catch(Y){at(c,c.return,Y)}}o&&_&64&&F_(p),jc(p,p.return);break;case 27:$_(p);case 26:case 5:Ls(d,p,o),o&&c===null&&_&4&&G_(p),jc(p,p.return);break;case 12:Ls(d,p,o);break;case 31:Ls(d,p,o),o&&_&4&&Z_(d,p);break;case 13:Ls(d,p,o),o&&_&4&&J_(d,p);break;case 22:p.memoizedState===null&&Ls(d,p,o),jc(p,p.return);break;case 30:break;default:Ls(d,p,o)}r=r.sibling}}function Sp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Tc(o))}function Cp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tc(i))}function Oi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(i,r,o,c),r=r.sibling}function nb(i,r,o,c){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(i,r,o,c),d&2048&&Oc(9,r);break;case 1:Oi(i,r,o,c);break;case 3:Oi(i,r,o,c),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tc(i)));break;case 12:if(d&2048){Oi(i,r,o,c),i=r.stateNode;try{var p=r.memoizedProps,_=p.id,A=p.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){at(r,r.return,j)}}else Oi(i,r,o,c);break;case 31:Oi(i,r,o,c);break;case 13:Oi(i,r,o,c);break;case 23:break;case 22:p=r.stateNode,_=r.alternate,r.memoizedState!==null?p._visibility&2?Oi(i,r,o,c):Vc(i,r):p._visibility&2?Oi(i,r,o,c):(p._visibility|=2,Xo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Sp(_,r);break;case 24:Oi(i,r,o,c),d&2048&&Cp(r.alternate,r);break;default:Oi(i,r,o,c)}}function Xo(i,r,o,c,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,_=r,A=o,j=c,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Xo(p,_,A,j,d),Oc(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Xo(p,_,A,j,d):Vc(p,_):(ne._visibility|=2,Xo(p,_,A,j,d)),d&&Y&2048&&Sp(_.alternate,_);break;case 24:Xo(p,_,A,j,d),d&&Y&2048&&Cp(_.alternate,_);break;default:Xo(p,_,A,j,d)}r=r.sibling}}function Vc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,d=c.flags;switch(c.tag){case 22:Vc(o,c),d&2048&&Sp(c.alternate,c);break;case 24:Vc(o,c),d&2048&&Cp(c.alternate,c);break;default:Vc(o,c)}r=r.sibling}}var Lc=8192;function Wo(i,r,o){if(i.subtreeFlags&Lc)for(i=i.child;i!==null;)ib(i,r,o),i=i.sibling}function ib(i,r,o){switch(i.tag){case 26:Wo(i,r,o),i.flags&Lc&&i.memoizedState!==null&&_I(o,Pi,i.memoizedState,i.memoizedProps);break;case 5:Wo(i,r,o);break;case 3:case 4:var c=Pi;Pi=fd(i.stateNode.containerInfo),Wo(i,r,o),Pi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Lc,Lc=16777216,Wo(i,r,o),Lc=c):Wo(i,r,o));break;default:Wo(i,r,o)}}function sb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Uc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];nn=c,ab(c,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:Uc(i),i.flags&2048&&Er(9,i,i.return);break;case 3:Uc(i);break;case 12:Uc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,ed(i)):Uc(i);break;default:Uc(i)}}function ed(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];nn=c,ab(c,i)}sb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Er(8,r,r.return),ed(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,ed(r));break;default:ed(r)}i=i.sibling}}function ab(i,r){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:Er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,nn=c;else e:for(o=i;nn!==null;){c=nn;var d=c.sibling,p=c.return;if(X_(c),c===o){nn=null;break e}if(d!==null){d.return=p,nn=d;break e}nn=p}}}var OR={getCacheForType:function(i){var r=cn(zt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return cn(zt).controller.signal}},jR=typeof WeakMap=="function"?WeakMap:Map,Je=0,ft=null,Be=null,qe=0,rt=0,Wn=null,Ar=!1,Zo=!1,kp=!1,Us=0,kt=0,Sr=0,za=0,Rp=0,Zn=0,Jo=0,Bc=null,Pn=null,Ip=!1,td=0,ob=0,nd=1/0,id=null,Cr=null,Xt=0,kr=null,el=null,Bs=0,Np=0,Dp=null,lb=null,zc=0,Mp=null;function Jn(){return(Je&2)!==0&&qe!==0?qe&-qe:U.T!==null?Up():sh()}function cb(){if(Zn===0)if((qe&536870912)===0||$e){var i=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),Zn=i}else Zn=536870912;return i=Yn.current,i!==null&&(i.flags|=32),Zn}function On(i,r,o){(i===ft&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(tl(i,0),Rr(i,qe,Zn,!1)),pa(i,o),((Je&2)===0||i!==ft)&&(i===ft&&((Je&2)===0&&(za|=o),kt===4&&Rr(i,qe,Zn,!1)),us(i))}function ub(i,r,o){if((Je&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Ai(i,r),d=c?UR(i,r):Op(i,r,!0),p=c;do{if(d===0){Zo&&!c&&Rr(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!VR(o)){d=Op(i,r,!1),p=!1;continue}if(d===2){if(p=r,i.errorRecoveryDisabledLanes&p)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=i;d=Bc;var j=A.current.memoizedState.isDehydrated;if(j&&(tl(A,_).flags|=256),_=Op(A,_,!1),_!==2){if(kp&&!j){A.errorRecoveryDisabledLanes|=p,za|=p,d=4;break e}p=Pn,Pn=d,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}d=_}if(p=!1,d!==2)continue}}if(d===1){tl(i,0),Rr(i,r,0,!0);break}e:{switch(c=i,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Rr(c,r,Zn,!Ar);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=td+300-Jt(),10<d)){if(Rr(c,r,Zn,!Ar),Ki(c,0,!0)!==0)break e;Bs=r,c.timeoutHandle=zb(hb.bind(null,c,o,Pn,id,Ip,r,Zn,za,Jo,Ar,p,"Throttled",-0,0),d);break e}hb(c,o,Pn,id,Ip,r,Zn,za,Jo,Ar,p,null,-0,0)}}break}while(!0);us(i)}function hb(i,r,o,c,d,p,_,A,j,Y,ne,re,X,te){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ki},ib(r,p,re);var xe=(p&62914560)===p?td-Jt():(p&4194048)===p?ob-Jt():0;if(xe=bI(re,xe),xe!==null){Bs=p,i.cancelPendingCommit=xe(xb.bind(null,i,r,p,o,c,d,_,A,j,ne,re,null,X,te)),Rr(i,p,_,!Y);return}}xb(i,r,p,o,c,d,_,A,j)}function VR(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!$n(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rr(i,r,o,c){r&=~Rp,r&=~za,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var d=r;0<d;){var p=31-Nt(d),_=1<<p;c[p]=-1,d&=~_}o!==0&&ga(i,o,r)}function sd(){return(Je&6)===0?(qc(0),!1):!0}function Pp(){if(Be!==null){if(rt===0)var i=Be.return;else i=Be,Rs=Da=null,Xm(i),Go=null,Ec=0,i=Be;for(;i!==null;)q_(i.alternate,i),i=i.return;Be=null}}function tl(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,iI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bs=0,Pp(),ft=i,Be=o=Cs(i.current,null),qe=r,rt=0,Wn=null,Ar=!1,Zo=Ai(i,r),kp=!1,Jo=Zn=Rp=za=Sr=kt=0,Pn=Bc=null,Ip=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var d=31-Nt(c),p=1<<d;r|=i[d],c&=~p}return Us=r,Ah(),o}function db(i,r){Le=null,U.H=Dc,r===Ho||r===Mh?(r=kx(),rt=3):r===Lm?(r=kx(),rt=4):rt=r===dp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Wn=r,Be===null&&(kt=1,$h(i,ui(r,i.current)))}function fb(){var i=Yn.current;return i===null?!0:(qe&4194048)===qe?mi===null:(qe&62914560)===qe||(qe&536870912)!==0?i===mi:!1}function mb(){var i=U.H;return U.H=Dc,i===null?Dc:i}function pb(){var i=U.A;return U.A=OR,i}function rd(){kt=4,Ar||(qe&4194048)!==qe&&Yn.current!==null||(Zo=!0),(Sr&134217727)===0&&(za&134217727)===0||ft===null||Rr(ft,qe,Zn,!1)}function Op(i,r,o){var c=Je;Je|=2;var d=mb(),p=pb();(ft!==i||qe!==r)&&(id=null,tl(i,r)),r=!1;var _=kt;e:do try{if(rt!==0&&Be!==null){var A=Be,j=Wn;switch(rt){case 8:Pp(),_=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var Y=rt;if(rt=0,Wn=null,nl(i,A,j,Y),o&&Zo){_=0;break e}break;default:Y=rt,rt=0,Wn=null,nl(i,A,j,Y)}}LR(),_=kt;break}catch(ne){db(i,ne)}while(!0);return r&&i.shellSuspendCounter++,Rs=Da=null,Je=c,U.H=d,U.A=p,Be===null&&(ft=null,qe=0,Ah()),_}function LR(){for(;Be!==null;)gb(Be)}function UR(i,r){var o=Je;Je|=2;var c=mb(),d=pb();ft!==i||qe!==r?(id=null,nd=Jt()+500,tl(i,r)):Zo=Ai(i,r);e:do try{if(rt!==0&&Be!==null){r=Be;var p=Wn;t:switch(rt){case 1:rt=0,Wn=null,nl(i,r,p,1);break;case 2:case 9:if(Sx(p)){rt=0,Wn=null,yb(r);break}r=function(){rt!==2&&rt!==9||ft!==i||(rt=7),us(i)},p.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Sx(p)?(rt=0,Wn=null,yb(r)):(rt=0,Wn=null,nl(i,r,p,7));break;case 5:var _=null;switch(Be.tag){case 26:_=Be.memoizedState;case 5:case 27:var A=Be;if(_?nT(_):A.stateNode.complete){rt=0,Wn=null;var j=A.sibling;if(j!==null)Be=j;else{var Y=A.return;Y!==null?(Be=Y,ad(Y)):Be=null}break t}}rt=0,Wn=null,nl(i,r,p,5);break;case 6:rt=0,Wn=null,nl(i,r,p,6);break;case 8:Pp(),kt=6;break e;default:throw Error(s(462))}}BR();break}catch(ne){db(i,ne)}while(!0);return Rs=Da=null,U.H=c,U.A=d,Je=o,Be!==null?0:(ft=null,qe=0,Ah(),kt)}function BR(){for(;Be!==null&&!Zl();)gb(Be)}function gb(i){var r=B_(i.alternate,i,Us);i.memoizedProps=i.pendingProps,r===null?ad(i):Be=r}function yb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=P_(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=P_(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Xm(r);default:q_(o,r),r=Be=px(r,Us),r=B_(o,r,Us)}i.memoizedProps=i.pendingProps,r===null?ad(i):Be=r}function nl(i,r,o,c){Rs=Da=null,Xm(r),Go=null,Ec=0;var d=r.return;try{if(kR(i,d,r,o,qe)){kt=1,$h(i,ui(o,i.current)),Be=null;return}}catch(p){if(d!==null)throw Be=d,p;kt=1,$h(i,ui(o,i.current)),Be=null;return}r.flags&32768?($e||c===1?i=!0:Zo||(qe&536870912)!==0?i=!1:(Ar=i=!0,(c===2||c===9||c===3||c===6)&&(c=Yn.current,c!==null&&c.tag===13&&(c.flags|=16384))),vb(r,i)):ad(r)}function ad(i){var r=i;do{if((r.flags&32768)!==0){vb(r,Ar);return}i=r.return;var o=NR(r.alternate,r,Us);if(o!==null){Be=o;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=i}while(r!==null);kt===0&&(kt=5)}function vb(i,r){do{var o=DR(i.alternate,i);if(o!==null){o.flags&=32767,Be=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Be=i;return}Be=i=o}while(i!==null);kt=6,Be=null}function xb(i,r,o,c,d,p,_,A,j){i.cancelPendingCommit=null;do od();while(Xt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=wm,mm(i,o,p,_,A,j),i===ft&&(Be=ft=null,qe=0),el=r,kr=i,Bs=o,Np=p,Dp=d,lb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HR(Fi,function(){return Eb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,d=H.p,H.p=2,_=Je,Je|=4;try{MR(i,r,o)}finally{Je=_,H.p=d,U.T=c}}Xt=1,_b(),bb(),Tb()}}function _b(){if(Xt===1){Xt=0;var i=kr,r=el,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var c=H.p;H.p=2;var d=Je;Je|=4;try{eb(r,i);var p=$p,_=ax(i.containerInfo),A=p.focusedElem,j=p.selectionRange;if(_!==A&&A&&A.ownerDocument&&rx(A.ownerDocument.documentElement,A)){if(j!==null&&vm(A)){var Y=j.start,ne=j.end;if(ne===void 0&&(ne=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(ne,A.value.length);else{var re=A.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var te=X.getSelection(),xe=A.textContent.length,Se=Math.min(j.start,xe),ht=j.end===void 0?Se:Math.min(j.end,xe);!te.extend&&Se>ht&&(_=ht,ht=Se,Se=_);var G=sx(A,Se),z=sx(A,ht);if(G&&z&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var $=re.createRange();$.setStart(G.node,G.offset),te.removeAllRanges(),Se>ht?(te.addRange($),te.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),te.addRange($))}}}}for(re=[],te=A;te=te.parentNode;)te.nodeType===1&&re.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ie=re[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}xd=!!Kp,$p=Kp=null}finally{Je=d,H.p=c,U.T=o}}i.current=r,Xt=2}}function bb(){if(Xt===2){Xt=0;var i=kr,r=el,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var c=H.p;H.p=2;var d=Je;Je|=4;try{Y_(i,r.alternate,r)}finally{Je=d,H.p=c,U.T=o}}Xt=3}}function Tb(){if(Xt===4||Xt===3){Xt=0,vo();var i=kr,r=el,o=Bs,c=lb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xt=5:(Xt=0,el=kr=null,wb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Cr=null),ws(o),r=r.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=U.T,d=H.p,H.p=2,U.T=null;try{for(var p=i.onRecoverableError,_=0;_<c.length;_++){var A=c[_];p(A.value,{componentStack:A.stack})}}finally{U.T=r,H.p=d}}(Bs&3)!==0&&od(),us(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Mp?zc++:(zc=0,Mp=i):zc=0,qc(0)}}function wb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Tc(r)))}function od(){return _b(),bb(),Tb(),Eb()}function Eb(){if(Xt!==5)return!1;var i=kr,r=Np;Np=0;var o=ws(Bs),c=U.T,d=H.p;try{H.p=32>o?32:o,U.T=null,o=Dp,Dp=null;var p=kr,_=Bs;if(Xt=0,el=kr=null,Bs=0,(Je&6)!==0)throw Error(s(331));var A=Je;if(Je|=4,rb(p.current),nb(p,p.current,_,o),Je=A,qc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Hn,p)}catch{}return!0}finally{H.p=d,U.T=c,wb(i,r)}}function Ab(i,r,o){r=ui(o,r),r=hp(i.stateNode,r,2),i=br(i,r,2),i!==null&&(pa(i,2),us(i))}function at(i,r,o){if(i.tag===3)Ab(i,i,o);else for(;r!==null;){if(r.tag===3){Ab(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Cr===null||!Cr.has(c))){i=ui(o,i),o=S_(2),c=br(r,o,2),c!==null&&(C_(o,c,r,i),pa(c,2),us(c));break}}r=r.return}}function jp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new jR;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(kp=!0,d.add(o),i=zR.bind(null,i,r,o),r.then(i,i))}function zR(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(qe&o)===o&&(kt===4||kt===3&&(qe&62914560)===qe&&300>Jt()-td?(Je&2)===0&&tl(i,0):Rp|=o,Jo===qe&&(Jo=0)),us(i)}function Sb(i,r){r===0&&(r=ih()),i=Ra(i,r),i!==null&&(pa(i,r),us(i))}function qR(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Sb(i,o)}function FR(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Sb(i,o)}function HR(i,r){return tt(i,r)}var ld=null,il=null,Vp=!1,cd=!1,Lp=!1,Ir=0;function us(i){i!==il&&i.next===null&&(il===null?ld=il=i:il=il.next=i),cd=!0,Vp||(Vp=!0,KR())}function qc(i,r){if(!Lp&&cd){Lp=!0;do for(var o=!1,c=ld;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var _=c.suspendedLanes,A=c.pingedLanes;p=(1<<31-Nt(42|i)+1)-1,p&=d&~(_&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Ib(c,p))}else p=qe,p=Ki(c,c===ft?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Ai(c,p)||(o=!0,Ib(c,p));c=c.next}while(o);Lp=!1}}function GR(){Cb()}function Cb(){cd=Vp=!1;var i=0;Ir!==0&&nI()&&(i=Ir);for(var r=Jt(),o=null,c=ld;c!==null;){var d=c.next,p=kb(c,r);p===0?(c.next=null,o===null?ld=d:o.next=d,d===null&&(il=o)):(o=c,(i!==0||(p&3)!==0)&&(cd=!0)),c=d}Xt!==0&&Xt!==5||qc(i),Ir!==0&&(Ir=0)}function kb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var _=31-Nt(p),A=1<<_,j=d[_];j===-1?((A&o)===0||(A&c)!==0)&&(d[_]=fm(A,r)):j<=r&&(i.expiredLanes|=A),p&=~A}if(r=ft,o=qe,o=Ki(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&qi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ai(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&qi(c),ws(o)){case 2:case 8:o=da;break;case 32:o=Fi;break;case 268435456:o=fa;break;default:o=Fi}return c=Rb.bind(null,i),o=tt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&qi(c),i.callbackPriority=2,i.callbackNode=null,2}function Rb(i,r){if(Xt!==0&&Xt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(od()&&i.callbackNode!==o)return null;var c=qe;return c=Ki(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ub(i,c,r),kb(i,Jt()),i.callbackNode!=null&&i.callbackNode===o?Rb.bind(null,i):null)}function Ib(i,r){if(od())return null;ub(i,r,!0)}function KR(){sI(function(){(Je&6)!==0?tt(sr,GR):Cb()})}function Up(){if(Ir===0){var i=qo;i===0&&(i=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Ir=i}return Ir}function Nb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Co(""+i)}function Db(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function $R(i,r,o,c,d){if(r==="submit"&&o&&o.stateNode===d){var p=Nb((d[en]||null).action),_=c.submitter;_&&(r=(r=_[en]||null)?Nb(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var A=new is("action","action",null,c,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ir!==0){var j=_?Db(d,_):new FormData(d);rp(o,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(A.preventDefault(),j=_?Db(d,_):new FormData(d),rp(o,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var Bp=0;Bp<Tm.length;Bp++){var zp=Tm[Bp],QR=zp.toLowerCase(),YR=zp[0].toUpperCase()+zp.slice(1);Mi(QR,"on"+YR)}Mi(cx,"onAnimationEnd"),Mi(ux,"onAnimationIteration"),Mi(hx,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(hR,"onTransitionRun"),Mi(dR,"onTransitionStart"),Mi(fR,"onTransitionCancel"),Mi(dx,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function Mb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var A=c[_],j=A.instance,Y=A.currentTarget;if(A=A.listener,j!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=Y;try{p(d)}catch(ne){Eh(ne)}d.currentTarget=null,p=j}else for(_=0;_<c.length;_++){if(A=c[_],j=A.instance,Y=A.currentTarget,A=A.listener,j!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=Y;try{p(d)}catch(ne){Eh(ne)}d.currentTarget=null,p=j}}}}function ze(i,r){var o=r[To];o===void 0&&(o=r[To]=new Set);var c=i+"__bubble";o.has(c)||(Pb(r,i,2,!1),o.add(c))}function qp(i,r,o){var c=0;r&&(c|=4),Pb(o,i,c,r)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Fp(i){if(!i[ud]){i[ud]=!0,tc.forEach(function(o){o!=="selectionchange"&&(XR.has(o)||qp(o,!1,i),qp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ud]||(r[ud]=!0,qp("selectionchange",!1,r))}}function Pb(i,r,o,c){switch(cT(r)){case 2:var d=EI;break;case 8:d=AI;break;default:d=sg}o=d.bind(null,r,o,i),d=void 0,!ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Hp(i,r,o,c,d){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d)break;if(_===4)for(_=c.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;A!==null;){if(_=Xi(A),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){c=p=_;continue e}A=A.parentNode}}c=c.return}hr(function(){var Y=p,ne=ai(o),re=[];e:{var X=fx.get(i);if(X!==void 0){var te=is,xe=i;switch(i){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":te=bh;break;case"focusin":xe="focus",te=Aa;break;case"focusout":xe="blur",te=Aa;break;case"beforeblur":case"afterblur":te=Aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case cx:case ux:case hx:te=mh;break;case dx:te=C;break;case"scroll":case"scrollend":te=fc;break;case"wheel":te=J;break;case"copy":case"cut":case"paste":te=ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Ss;break;case"toggle":case"beforetoggle":te=Ve}var Se=(r&4)!==0,ht=!Se&&(i==="scroll"||i==="scrollend"),G=Se?X!==null?X+"Capture":null:X;Se=[];for(var z=Y,$;z!==null;){var ie=z;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||G===null||(ie=Ri(z,G),ie!=null&&Se.push(Hc(z,ie,$))),ht)break;z=z.return}0<Se.length&&(X=new te(X,xe,null,o,ne),re.push({event:X,listeners:Se}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",X&&o!==uc&&(xe=o.relatedTarget||o.fromElement)&&(Xi(xe)||xe[Qi]))break e;if((te||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,te?(xe=o.relatedTarget||o.toElement,te=Y,xe=xe?Xi(xe):null,xe!==null&&(ht=l(xe),Se=xe.tag,xe!==ht||Se!==5&&Se!==27&&Se!==6)&&(xe=null)):(te=null,xe=Y),te!==xe)){if(Se=mc,ie="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Ss,ie="onPointerLeave",G="onPointerEnter",z="pointer"),ht=te==null?X:Gn(te),$=xe==null?X:Gn(xe),X=new Se(ie,z+"leave",te,o,ne),X.target=ht,X.relatedTarget=$,ie=null,Xi(ne)===Y&&(Se=new Se(G,z+"enter",xe,o,ne),Se.target=$,Se.relatedTarget=ht,ie=Se),ht=ie,te&&xe)t:{for(Se=WR,G=te,z=xe,$=0,ie=G;ie;ie=Se(ie))$++;ie=0;for(var Te=z;Te;Te=Se(Te))ie++;for(;0<$-ie;)G=Se(G),$--;for(;0<ie-$;)z=Se(z),ie--;for(;$--;){if(G===z||z!==null&&G===z.alternate){Se=G;break t}G=Se(G),z=Se(z)}Se=null}else Se=null;te!==null&&Ob(re,X,te,Se,!1),xe!==null&&ht!==null&&Ob(re,ht,xe,Se,!0)}}e:{if(X=Y?Gn(Y):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var Xe=Zv;else if(Xv(X))if(Jv)Xe=lR;else{Xe=aR;var _e=rR}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&So(Y.elementType)&&(Xe=Zv):Xe=oR;if(Xe&&(Xe=Xe(i,Y))){Wv(re,Xe,o,ne);break e}_e&&_e(i,X,Y),i==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&oc(X,"number",X.value)}switch(_e=Y?Gn(Y):window,i){case"focusin":(Xv(_e)||_e.contentEditable==="true")&&(Po=_e,xm=Y,xc=null);break;case"focusout":xc=xm=Po=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,ox(re,o,ne);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":ox(re,o,ne)}var Ue;if(Ze)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Mo?Sa(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(as&&o.locale!=="ko"&&(Mo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Mo&&(Ue=dc()):(ns=ne,hc="value"in ns?ns.value:ns.textContent,Mo=!0)),_e=hd(Y,Fe),0<_e.length&&(Fe=new rs(Fe,i,null,o,ne),re.push({event:Fe,listeners:_e}),Ue?Fe.data=Ue:(Ue=Do(o),Ue!==null&&(Fe.data=Ue)))),(Ue=li?tR(i,o):nR(i,o))&&(Fe=hd(Y,"onBeforeInput"),0<Fe.length&&(_e=new rs("onBeforeInput","beforeinput",null,o,ne),re.push({event:_e,listeners:Fe}),_e.data=Ue)),$R(re,i,Y,o,ne)}Mb(re,r)})}function Hc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function hd(i,r){for(var o=r+"Capture",c=[];i!==null;){var d=i,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ri(i,o),d!=null&&c.unshift(Hc(i,d,p)),d=Ri(i,r),d!=null&&c.push(Hc(i,d,p))),i.tag===3)return c;i=i.return}return[]}function WR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ob(i,r,o,c,d){for(var p=r._reactName,_=[];o!==null&&o!==c;){var A=o,j=A.alternate,Y=A.stateNode;if(A=A.tag,j!==null&&j===c)break;A!==5&&A!==26&&A!==27||Y===null||(j=Y,d?(Y=Ri(o,p),Y!=null&&_.unshift(Hc(o,Y,j))):d||(Y=Ri(o,p),Y!=null&&_.push(Hc(o,Y,j)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var ZR=/\r\n?/g,JR=/\u0000|\uFFFD/g;function jb(i){return(typeof i=="string"?i:""+i).replace(ZR,`
`).replace(JR,"")}function Vb(i,r){return r=jb(r),jb(i)===r}function ut(i,r,o,c,d,p){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||In(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&In(i,""+c);break;case"className":Kn(i,"class",c);break;case"tabIndex":Kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(i,o,c);break;case"style":cc(i,c,p);break;case"data":if(r!=="object"){Kn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Co(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&ut(i,r,"name",d.name,d,null),ut(i,r,"formEncType",d.formEncType,d,null),ut(i,r,"formMethod",d.formMethod,d,null),ut(i,r,"formTarget",d.formTarget,d,null)):(ut(i,r,"encType",d.encType,d,null),ut(i,r,"method",d.method,d,null),ut(i,r,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Co(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=ki);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Co(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),Eo(i,"popover",c);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Eo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hh.get(o)||o,Eo(i,o,c))}}function Gp(i,r,o,c,d,p){switch(o){case"style":cc(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?In(i,c):(typeof c=="number"||typeof c=="bigint")&&In(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=i[en]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,d);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Eo(i,o,c)}}}function hn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,p,_,o,null)}}d&&ut(i,r,"srcSet",o.srcSet,o,null),c&&ut(i,r,"src",o.src,o,null);return;case"input":ze("invalid",i);var A=p=_=d=null,j=null,Y=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":d=ne;break;case"type":_=ne;break;case"checked":j=ne;break;case"defaultChecked":Y=ne;break;case"value":p=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:ut(i,r,c,ne,o,null)}}lh(i,p,A,j,Y,_,d,!1);return;case"select":ze("invalid",i),c=_=p=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":p=A;break;case"defaultValue":_=A;break;case"multiple":c=A;default:ut(i,r,d,A,o,null)}r=p,o=_,i.multiple=!!c,r!=null?or(i,!!c,r,!1):o!=null&&or(i,!!c,o,!0);return;case"textarea":ze("invalid",i),p=d=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":c=A;break;case"defaultValue":d=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ut(i,r,_,A,o,null)}lr(i,c,d,p);return;case"option":for(j in o)o.hasOwnProperty(j)&&(c=o[j],c!=null)&&(j==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":ut(i,r,j,c,o,null));return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<Fc.length;c++)ze(Fc[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(c=o[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(i,r,Y,c,o,null)}return;default:if(So(r)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&Gp(i,r,ne,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&ut(i,r,A,c,o,null))}function eI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,_=null,A=null,j=null,Y=null,ne=null;for(te in o){var re=o[te];if(o.hasOwnProperty(te)&&re!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=re;default:c.hasOwnProperty(te)||ut(i,r,te,null,c,re)}}for(var X in c){var te=c[X];if(re=o[X],c.hasOwnProperty(X)&&(te!=null||re!=null))switch(X){case"type":p=te;break;case"name":d=te;break;case"checked":Y=te;break;case"defaultChecked":ne=te;break;case"value":_=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:te!==re&&ut(i,r,X,te,c,re)}}Ao(i,_,A,j,Y,ne,p,d);return;case"select":te=_=A=X=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":te=j;default:c.hasOwnProperty(p)||ut(i,r,p,null,c,j)}for(d in c)if(p=c[d],j=o[d],c.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":X=p;break;case"defaultValue":A=p;break;case"multiple":_=p;default:p!==j&&ut(i,r,d,p,c,j)}r=A,o=_,c=te,X!=null?or(i,!!o,X,!1):!!c!=!!o&&(r!=null?or(i,!!o,r,!0):or(i,!!o,o?[]:"",!1));return;case"textarea":te=X=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(i,r,A,null,c,d)}for(_ in c)if(d=c[_],p=o[_],c.hasOwnProperty(_)&&(d!=null||p!=null))switch(_){case"value":X=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&ut(i,r,_,d,c,p)}ch(i,X,te);return;case"option":for(var xe in o)X=o[xe],o.hasOwnProperty(xe)&&X!=null&&!c.hasOwnProperty(xe)&&(xe==="selected"?i.selected=!1:ut(i,r,xe,null,c,X));for(j in c)X=c[j],te=o[j],c.hasOwnProperty(j)&&X!==te&&(X!=null||te!=null)&&(j==="selected"?i.selected=X&&typeof X!="function"&&typeof X!="symbol":ut(i,r,j,X,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)X=o[Se],o.hasOwnProperty(Se)&&X!=null&&!c.hasOwnProperty(Se)&&ut(i,r,Se,null,c,X);for(Y in c)if(X=c[Y],te=o[Y],c.hasOwnProperty(Y)&&X!==te&&(X!=null||te!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ut(i,r,Y,X,c,te)}return;default:if(So(r)){for(var ht in o)X=o[ht],o.hasOwnProperty(ht)&&X!==void 0&&!c.hasOwnProperty(ht)&&Gp(i,r,ht,void 0,c,X);for(ne in c)X=c[ne],te=o[ne],!c.hasOwnProperty(ne)||X===te||X===void 0&&te===void 0||Gp(i,r,ne,X,c,te);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&ut(i,r,G,null,c,X);for(re in c)X=c[re],te=o[re],!c.hasOwnProperty(re)||X===te||X==null&&te==null||ut(i,r,re,X,c,te)}function Lb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],p=d.transferSize,_=d.initiatorType,A=d.duration;if(p&&A&&Lb(_)){for(_=0,A=d.responseEnd,c+=1;c<o.length;c++){var j=o[c],Y=j.startTime;if(Y>A)break;var ne=j.transferSize,re=j.initiatorType;ne&&Lb(re)&&(j=j.responseEnd,_+=ne*(j<A?1:(A-Y)/(j-Y)))}if(--c,r+=8*(p+_)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Kp=null,$p=null;function dd(i){return i.nodeType===9?i:i.ownerDocument}function Ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yp=null;function nI(){var i=window.event;return i&&i.type==="popstate"?i===Yp?!1:(Yp=i,!0):(Yp=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(i){return qb.resolve(null).then(i).catch(rI)}:zb;function rI(i){setTimeout(function(){throw i})}function Nr(i){return i==="head"}function Fb(i,r){var o=r,c=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(d),ol(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Gc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Gc(o);for(var p=o.firstChild;p;){var _=p.nextSibling,A=p.nodeName;p[Yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&Gc(i.ownerDocument.body);o=d}while(o);ol(r)}function Hb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Xp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xp(o),wo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function aI(i,r,o,c){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Yi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function oI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pi(i.nextSibling),i===null))return null;return i}function Gb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=pi(i.nextSibling),i===null))return null;return i}function Wp(i){return i.data==="$?"||i.data==="$~"}function Zp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function pi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Jp=null;function Kb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return pi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function $b(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Qb(i,r,o){switch(r=dd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Gc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);wo(i)}var gi=new Map,Yb=new Set;function fd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zs=H.d;H.d={f:cI,r:uI,D:hI,C:dI,L:fI,m:mI,X:gI,S:pI,M:yI};function cI(){var i=zs.f(),r=sd();return i||r}function uI(i){var r=ri(i);r!==null&&r.tag===5&&r.type==="form"?d_(r):zs.r(i)}var sl=typeof document>"u"?null:document;function Xb(i,r,o){var c=sl;if(c&&typeof r=="string"&&r){var d=Rn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Yb.has(d)||(Yb.add(d),i={rel:i,crossOrigin:o,href:r},c.querySelector(d)===null&&(r=c.createElement("link"),hn(r,"link",i),Ut(r),c.head.appendChild(r)))}}function hI(i){zs.D(i),Xb("dns-prefetch",i,null)}function dI(i,r){zs.C(i,r),Xb("preconnect",i,r)}function fI(i,r,o){zs.L(i,r,o);var c=sl;if(c&&i&&r){var d='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Rn(o.imageSizes)+'"]')):d+='[href="'+Rn(i)+'"]';var p=d;switch(r){case"style":p=rl(i);break;case"script":p=al(i)}gi.has(p)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),gi.set(p,i),c.querySelector(d)!==null||r==="style"&&c.querySelector(Kc(p))||r==="script"&&c.querySelector($c(p))||(r=c.createElement("link"),hn(r,"link",i),Ut(r),c.head.appendChild(r)))}}function mI(i,r){zs.m(i,r);var o=sl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Rn(c)+'"][href="'+Rn(i)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=al(i)}if(!gi.has(p)&&(i=b({rel:"modulepreload",href:i},r),gi.set(p,i),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($c(p)))return}c=o.createElement("link"),hn(c,"link",i),Ut(c),o.head.appendChild(c)}}}function pI(i,r,o){zs.S(i,r,o);var c=sl;if(c&&i){var d=Wi(c).hoistableStyles,p=rl(i);r=r||"default";var _=d.get(p);if(!_){var A={loading:0,preload:null};if(_=c.querySelector(Kc(p)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=gi.get(p))&&eg(i,o);var j=_=c.createElement("link");Ut(j),hn(j,"link",i),j._p=new Promise(function(Y,ne){j.onload=Y,j.onerror=ne}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,md(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:A},d.set(p,_)}}}function gI(i,r){zs.X(i,r);var o=sl;if(o&&i){var c=Wi(o).hoistableScripts,d=al(i),p=c.get(d);p||(p=o.querySelector($c(d)),p||(i=b({src:i,async:!0},r),(r=gi.get(d))&&tg(i,r),p=o.createElement("script"),Ut(p),hn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function yI(i,r){zs.M(i,r);var o=sl;if(o&&i){var c=Wi(o).hoistableScripts,d=al(i),p=c.get(d);p||(p=o.querySelector($c(d)),p||(i=b({src:i,async:!0,type:"module"},r),(r=gi.get(d))&&tg(i,r),p=o.createElement("script"),Ut(p),hn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Wb(i,r,o,c){var d=(d=ge.current)?fd(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=rl(o.href),o=Wi(d).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=rl(o.href);var p=Wi(d).hoistableStyles,_=p.get(i);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,_),(p=d.querySelector(Kc(i)))&&!p._p&&(_.instance=p,_.state.loading=5),gi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gi.set(i,o),p||vI(d,i,o,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=al(o),o=Wi(d).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function rl(i){return'href="'+Rn(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function Zb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function vI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),hn(r,"link",o),Ut(r),i.head.appendChild(r))}function al(i){return'[src="'+Rn(i)+'"]'}function $c(i){return"script[async]"+i}function Jb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(c)return r.instance=c,Ut(c),c;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ut(c),hn(c,"style",d),md(c,o.precedence,i),r.instance=c;case"stylesheet":d=rl(o.href);var p=i.querySelector(Kc(d));if(p)return r.state.loading|=4,r.instance=p,Ut(p),p;c=Zb(o),(d=gi.get(d))&&eg(c,d),p=(i.ownerDocument||i).createElement("link"),Ut(p);var _=p;return _._p=new Promise(function(A,j){_.onload=A,_.onerror=j}),hn(p,"link",c),r.state.loading|=4,md(p,o.precedence,i),r.instance=p;case"script":return p=al(o.src),(d=i.querySelector($c(p)))?(r.instance=d,Ut(d),d):(c=o,(d=gi.get(p))&&(c=b({},o),tg(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ut(d),hn(d,"link",c),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,md(c,o.precedence,i));return r.instance}function md(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,_=0;_<c.length;_++){var A=c[_];if(A.dataset.precedence===r)p=A;else if(p!==d)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function eg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function tg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var pd=null;function eT(i,r,o){if(pd===null){var c=new Map,d=pd=new Map;d.set(o,c)}else d=pd,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var p=o[d];if(!(p[Yi]||p[Lt]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=i+_;var A=c.get(_);A?A.push(p):c.set(_,[p])}}return c}function tT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function xI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _I(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=rl(c.href),p=r.querySelector(Kc(d));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=gd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Ut(p);return}p=r.ownerDocument||r,c=Zb(c),(d=gi.get(d))&&eg(c,d),p=p.createElement("link"),Ut(p);var _=p;_._p=new Promise(function(A,j){_.onload=A,_.onerror=j}),hn(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=gd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var ng=0;function bI(i,r){return i.stylesheets&&i.count===0&&vd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&ng===0&&(ng=62500*tI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&vd(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>ng?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function gd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yd=null;function vd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yd=new Map,r.forEach(TI,i),yd=null,gd.call(i))}function TI(i,r){if(!(r.state.loading&4)){var o=yd.get(i);if(o)var c=o.get(null);else{o=new Map,yd.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var _=d[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}d=r.instance,_=d.getAttribute("data-precedence"),p=o.get(_)||c,p===c&&o.set(null,d),o.set(_,d),this.count++,c=gd.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Qc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function wI(i,r,o,c,d,p,_,A,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function iT(i,r,o,c,d,p,_,A,j,Y,ne,re){return i=new wI(i,r,o,_,j,Y,ne,re,A),r=1,p===!0&&(r|=24),p=Qn(3,null,null,r),i.current=p,p.stateNode=i,r=Om(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:r},Um(p),i}function sT(i){return i?(i=Vo,i):Vo}function rT(i,r,o,c,d,p){d=sT(d),c.context===null?c.context=d:c.pendingContext=d,c=_r(r),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=br(i,c,r),o!==null&&(On(o,i,r),Sc(o,i,r))}function aT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ig(i,r){aT(i,r),(i=i.alternate)&&aT(i,r)}function oT(i){if(i.tag===13||i.tag===31){var r=Ra(i,67108864);r!==null&&On(r,i,67108864),ig(i,67108864)}}function lT(i){if(i.tag===13||i.tag===31){var r=Jn();r=ya(r);var o=Ra(i,r);o!==null&&On(o,i,r),ig(i,r)}}var xd=!0;function EI(i,r,o,c){var d=U.T;U.T=null;var p=H.p;try{H.p=2,sg(i,r,o,c)}finally{H.p=p,U.T=d}}function AI(i,r,o,c){var d=U.T;U.T=null;var p=H.p;try{H.p=8,sg(i,r,o,c)}finally{H.p=p,U.T=d}}function sg(i,r,o,c){if(xd){var d=rg(c);if(d===null)Hp(i,r,c,_d,o),uT(i,c);else if(CI(d,i,r,o,c))c.stopPropagation();else if(uT(i,c),r&4&&-1<SI.indexOf(i)){for(;d!==null;){var p=ri(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Gi(p.pendingLanes);if(_!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var j=1<<31-Nt(_);A.entanglements[1]|=j,_&=~j}us(p),(Je&6)===0&&(nd=Jt()+500,qc(0))}}break;case 31:case 13:A=Ra(p,2),A!==null&&On(A,p,2),sd(),ig(p,2)}if(p=rg(c),p===null&&Hp(i,r,c,_d,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Hp(i,r,c,null,o)}}function rg(i){return i=ai(i),ag(i)}var _d=null;function ag(i){if(_d=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return _d=i,null}function cT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case sr:return 2;case da:return 8;case Fi:case xo:return 32;case fa:return 268435456;default:return 32}default:return 32}}var og=!1,Dr=null,Mr=null,Pr=null,Yc=new Map,Xc=new Map,Or=[],SI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(i,r){switch(i){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Yc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(r.pointerId)}}function Wc(i,r,o,c,d,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=ri(r),r!==null&&oT(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function CI(i,r,o,c,d){switch(r){case"focusin":return Dr=Wc(Dr,i,r,o,c,d),!0;case"dragenter":return Mr=Wc(Mr,i,r,o,c,d),!0;case"mouseover":return Pr=Wc(Pr,i,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return Yc.set(p,Wc(Yc.get(p)||null,i,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Xc.set(p,Wc(Xc.get(p)||null,i,r,o,c,d)),!0}return!1}function hT(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Si(i.priority,function(){lT(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Si(i.priority,function(){lT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=rg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);uc=c,o.target.dispatchEvent(c),uc=null}else return r=ri(o),r!==null&&oT(r),i.blockedOn=o,!1;r.shift()}return!0}function dT(i,r,o){bd(i)&&o.delete(r)}function kI(){og=!1,Dr!==null&&bd(Dr)&&(Dr=null),Mr!==null&&bd(Mr)&&(Mr=null),Pr!==null&&bd(Pr)&&(Pr=null),Yc.forEach(dT),Xc.forEach(dT)}function Td(i,r){i.blockedOn===r&&(i.blockedOn=null,og||(og=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kI)))}var wd=null;function fT(i){wd!==i&&(wd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wd===i&&(wd=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],d=i[r+2];if(typeof c!="function"){if(ag(c||o)===null)continue;break}var p=ri(o);p!==null&&(i.splice(r,3),r-=3,rp(p,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function ol(i){function r(j){return Td(j,i)}Dr!==null&&Td(Dr,i),Mr!==null&&Td(Mr,i),Pr!==null&&Td(Pr,i),Yc.forEach(r),Xc.forEach(r);for(var o=0;o<Or.length;o++){var c=Or[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Or.length&&(o=Or[0],o.blockedOn===null);)hT(o),o.blockedOn===null&&Or.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],_=d[en]||null;if(typeof p=="function")_||fT(o);else if(_){var A=null;if(p&&p.hasAttribute("formAction")){if(d=p,_=p[en]||null)A=_.formAction;else if(ag(d)!==null)continue}else A=_.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),fT(o)}}}function mT(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function lg(i){this._internalRoot=i}Ed.prototype.render=lg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Jn();rT(o,c,i,r,null,null)},Ed.prototype.unmount=lg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rT(i.current,2,null,i,null,null),sd(),r[Qi]=null}};function Ed(i){this._internalRoot=i}Ed.prototype.unstable_scheduleHydration=function(i){if(i){var r=sh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Or.length&&r!==0&&r<Or[o].priority;o++);Or.splice(o,0,i),o===0&&hT(i)}};var pT=e.version;if(pT!=="19.2.3")throw Error(s(527,pT,"19.2.3"));H.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var RI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Hn=Ad.inject(RI),an=Ad}catch{}}return Jc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",d=T_,p=w_,_=E_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=iT(i,1,!1,null,null,o,c,null,d,p,_,mT),i[Qi]=r.current,Fp(i),new lg(r)},Jc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,d="",p=T_,_=w_,A=E_,j=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=iT(i,1,!0,r,o??null,c,d,j,p,_,A,mT),r.context=sT(null),o=r.current,c=Jn(),c=ya(c),d=_r(c),d.callback=null,br(o,d,c),o=c,r.current.lanes=o,pa(r,o),us(r),i[Qi]=r.current,Fp(i),new Ed(r)},Jc.version="19.2.3",Jc}var AT;function BI(){if(AT)return hg.exports;AT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hg.exports=UI(),hg.exports}var zI=BI();const qI=()=>{};var ST={};const HE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},FI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,k=g&63;m||(k=64,u||(w=64)),s.push(n[v],n[b],n[w],n[k])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new HI;const w=l<<2|f>>4;if(s.push(w),g!==64){const k=f<<4&240|g>>2;if(s.push(k),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(t){const e=HE(t);return GE.encodeByteArray(e,!0)},Zd=function(t){return GI(t).replace(/\./g,"")},KE=function(t){try{return GE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $I=()=>KI().__FIREBASE_DEFAULTS__,QI=()=>{if(typeof process>"u"||typeof ST>"u")return;const t=ST.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return qI()||$I()||QI()||YI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$E=t=>Nf()?.emulatorHosts?.[t],QE=t=>{const e=$E(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YE=()=>Nf()?.config,XE=t=>Nf()?.[`_${t}`];class XI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s0(t){return(await fetch(t,{credentials:"include"})).ok}function WE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zd(JSON.stringify(n)),Zd(JSON.stringify(u)),""].join(".")}const hu={};function WI(){const t={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?t.emulator.push(e):t.prod.push(e);return t}function ZI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CT=!1;function r0(t,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||hu[t]===e||hu[t]||CT)return;hu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=WI().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{CT=!0,u()},w}function v(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=ZI(s),k=n("text"),D=document.getElementById(k)||document.createElement("span"),O=n("learnmore"),P=document.getElementById(O)||document.createElement("a"),q=n("preprendIcon"),ee=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;f(Q),v(P,O);const ce=g();m(ee,q),Q.append(ee,D,P,ce),document.body.appendChild(Q)}l?(D.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function eN(){const t=Nf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iN(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sN(){return!eN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JE(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function rN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const aN="FirebaseError";class Ei extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aN,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?oN(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Ei(a,f,s)}}function oN(t,e){return t.replace(lN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const lN=/\{\$([^}]+)}/g;function cN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ys(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(kT(l)&&kT(u)){if(!Ys(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function kT(t){return t!==null&&typeof t=="object"}function Bu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function su(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uN(t,e){const n=new hN(t,e);return n.subscribe.bind(n)}class hN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=pg),a.error===void 0&&(a.error=pg),a.complete===void 0&&(a.complete=pg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pg(){}const fN=1e3,mN=2,pN=14400*1e3,gN=.5;function RT(t,e=fN,n=mN){const s=e*Math.pow(n,t),a=Math.round(gN*s*(Math.random()-.5)*2);return Math.min(pN,s+a)}function dt(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ha="[DEFAULT]";class yN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xN(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vN(t){return t===Ha?void 0:t}function xN(t){return t.instantiationMode==="EAGER"}class _N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const bN={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},TN=He.INFO,wN={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},EN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=wN[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Df{constructor(e){this.name=e,this._logLevel=TN,this._logHandler=EN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const AN=(t,e)=>e.some(n=>t instanceof n);let IT,NT;function SN(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CN(){return NT||(NT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tA=new WeakMap,Jg=new WeakMap,nA=new WeakMap,gg=new WeakMap,a0=new WeakMap;function kN(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Gr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&tA.set(n,t)}).catch(()=>{}),a0.set(e,t),e}function RN(t){if(Jg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Jg.set(t,e)}let ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IN(t){ey=t(ey)}function NN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(yg(this),e,...n);return nA.set(s,e.sort?e.sort():[e]),Gr(s)}:CN().includes(t)?function(...e){return t.apply(yg(this),e),Gr(tA.get(this))}:function(...e){return Gr(t.apply(yg(this),e))}}function DN(t){return typeof t=="function"?NN(t):(t instanceof IDBTransaction&&RN(t),AN(t,SN())?new Proxy(t,ey):t)}function Gr(t){if(t instanceof IDBRequest)return kN(t);if(gg.has(t))return gg.get(t);const e=DN(t);return e!==t&&(gg.set(t,e),a0.set(e,t)),e}const yg=t=>a0.get(t);function iA(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Gr(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Gr(u.result),m.oldVersion,m.newVersion,Gr(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const MN=["get","getKey","getAll","getAllKeys","count"],PN=["put","add","delete","clear"],vg=new Map;function DT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=PN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||MN.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return vg.set(e,l),l}IN(t=>({...t,get:(e,n,s)=>DT(e,n)||t.get(e,n,s),has:(e,n)=>!!DT(e,n)||t.has(e,n)}));class ON{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jN(t){return t.getComponent()?.type==="VERSION"}const ty="@firebase/app",MT="0.14.6";const Xs=new Df("@firebase/app"),VN="@firebase/app-compat",LN="@firebase/analytics-compat",UN="@firebase/analytics",BN="@firebase/app-check-compat",zN="@firebase/app-check",qN="@firebase/auth",FN="@firebase/auth-compat",HN="@firebase/database",GN="@firebase/data-connect",KN="@firebase/database-compat",$N="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",XN="@firebase/installations-compat",WN="@firebase/messaging",ZN="@firebase/messaging-compat",JN="@firebase/performance",eD="@firebase/performance-compat",tD="@firebase/remote-config",nD="@firebase/remote-config-compat",iD="@firebase/storage",sD="@firebase/storage-compat",rD="@firebase/firestore",aD="@firebase/ai",oD="@firebase/firestore-compat",lD="firebase",cD="12.6.0";const ny="[DEFAULT]",uD={[ty]:"fire-core",[VN]:"fire-core-compat",[UN]:"fire-analytics",[LN]:"fire-analytics-compat",[zN]:"fire-app-check",[BN]:"fire-app-check-compat",[qN]:"fire-auth",[FN]:"fire-auth-compat",[HN]:"fire-rtdb",[GN]:"fire-data-connect",[KN]:"fire-rtdb-compat",[$N]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[XN]:"fire-iid-compat",[WN]:"fire-fcm",[ZN]:"fire-fcm-compat",[JN]:"fire-perf",[eD]:"fire-perf-compat",[tD]:"fire-rc",[nD]:"fire-rc-compat",[iD]:"fire-gcs",[sD]:"fire-gcs-compat",[rD]:"fire-fst",[oD]:"fire-fst-compat",[aD]:"fire-vertex","fire-js":"fire-js",[lD]:"fire-js-all"};const Jd=new Map,hD=new Map,iy=new Map;function PT(t,e){try{t.container.addComponent(e)}catch(n){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){const e=t.name;if(iy.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;iy.set(e,t);for(const n of Jd.values())PT(n,t);for(const n of hD.values())PT(n,t);return!0}function sa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}const dD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ho("app","Firebase",dD);class fD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const fo=cD;function sA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ny,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=YE()),!n)throw Kr.create("no-options");const l=Jd.get(a);if(l){if(Ys(n,l.options)&&Ys(s,l.config))return l;throw Kr.create("duplicate-app",{appName:a})}const u=new _N(a);for(const m of iy.values())u.addComponent(m);const f=new fD(n,s,u);return Jd.set(a,f),f}function Mf(t=ny){const e=Jd.get(t);if(!e&&t===ny&&YE())return sA();if(!e)throw Kr.create("no-app",{appName:t});return e}function qn(t,e,n){let s=uD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(u.join(" "));return}Bi(new Ti(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mD="firebase-heartbeat-database",pD=1,wu="firebase-heartbeat-store";let xg=null;function rA(){return xg||(xg=iA(mD,pD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),xg}async function gD(t){try{const n=(await rA()).transaction(wu),s=await n.objectStore(wu).get(aA(t));return await n.done,s}catch(e){if(e instanceof Ei)Xs.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(n.message)}}}async function OT(t,e){try{const s=(await rA()).transaction(wu,"readwrite");await s.objectStore(wu).put(e,aA(t)),await s.done}catch(n){if(n instanceof Ei)Xs.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});Xs.warn(s.message)}}}function aA(t){return`${t.name}!${t.options.appId}`}const yD=1024,vD=30;class xD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vD){const a=TD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jT(),{heartbeatsToSend:n,unsentEntries:s}=_D(this._heartbeatsCache.heartbeats),a=Zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xs.warn(e),""}}}function jT(){return new Date().toISOString().substring(0,10)}function _D(t,e=yD){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),VT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),VT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JE()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function VT(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function TD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function wD(t){Bi(new Ti("platform-logger",e=>new ON(e),"PRIVATE")),Bi(new Ti("heartbeat",e=>new xD(e),"PRIVATE")),qn(ty,MT,t),qn(ty,MT,"esm2020"),qn("fire-js","")}wD("");function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=oA,lA=new ho("auth","Firebase",oA());const ef=new Df("@firebase/auth");function AD(t,...e){ef.logLevel<=He.WARN&&ef.warn(`Auth (${fo}): ${t}`,...e)}function Ld(t,...e){ef.logLevel<=He.ERROR&&ef.error(`Auth (${fo}): ${t}`,...e)}function wi(t,...e){throw l0(t,...e)}function Ui(t,...e){return l0(t,...e)}function o0(t,e,n){const s={...ED(),[e]:n};return new ho("auth","Firebase",s).create(e,{appName:t.name})}function Ks(t){return o0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SD(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&wi(t,"argument-error"),o0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function l0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return lA.create(t,...e)}function ke(t,e,...n){if(!t)throw l0(e,...n)}function Hs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ld(e),new Error(e)}function Ws(t,e){t||Hs(e)}function sy(){return typeof self<"u"&&self.location?.href||""}function CD(){return LT()==="http:"||LT()==="https:"}function LT(){return typeof self<"u"&&self.location?.protocol||null}function kD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||ZE()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nN()}get(){return kD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function c0(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ID={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ND=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DD=new zu(3e4,6e4);function ra(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function aa(t,e,n,s,a={}){return uA(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Bu({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return tN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ia(t.emulatorConfig.host)&&(g.credentials="include"),cA.fetch()(await hA(t,t.config.apiHost,n,f),g)})}async function uA(t,e,n){t._canInitEmulator=!1;const s={...ID,...e};try{const a=new PD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Sd(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw o0(t,v,g);wi(t,v)}}catch(a){if(a instanceof Ei)throw a;wi(t,"network-request-failed",{message:String(a)})}}async function qu(t,e,n,s,a={}){const l=await aa(t,e,n,s,a);return"mfaPendingCredential"in l&&wi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function hA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?c0(t.config,a):`${t.config.apiScheme}://${a}`;return ND.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function MD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),DD.get())})}}function Sd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ui(t,e,s);return a.customData._tokenResponse=n,a}function UT(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jD(t,e){return aa(t,"GET","/v2/recaptchaConfig",ra(t,e))}async function VD(t,e){return aa(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return aa(t,"POST","/v1/accounts:lookup",e)}function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LD(t,e=!1){const n=dt(t),s=await n.getIdToken(e),a=u0(s);ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:du(_g(a.auth_time)),issuedAtTime:du(_g(a.iat)),expirationTime:du(_g(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function _g(t){return Number(t)*1e3}function u0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ld("JWT malformed, contained fewer than 3 sections"),null;try{const a=KE(n);return a?JSON.parse(a):(Ld("Failed to decode base64 JWT payload"),null)}catch(a){return Ld("Caught error parsing JWT payload as JSON",a?.toString()),null}}function BT(t){const e=u0(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ei&&UD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function UD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class BD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nf(t){const e=t.auth,n=await t.getIdToken(),s=await Eu(t,tf(e,{idToken:n}));ke(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?dA(a.providerUserInfo):[],u=qD(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function zD(t){const e=dt(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qD(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function dA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function FD(t,e){const n=await uA(t,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await hA(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&ia(t.emulatorConfig.host)&&(m.credentials="include"),cA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HD(t,e){return aa(t,"POST","/v2/accounts:revokeToken",ra(t,e))}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=BT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await FD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new _l;return s&&(ke(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(ke(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ke(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Hs("not implemented")}}function Vr(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LD(this,e)}reload(){return zD(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ks(this.auth));const e=await this.getIdToken();return await Eu(this,VD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:k,providerData:D,stsTokenManager:O}=n;ke(b&&O,e,"internal-error");const P=_l.fromJSON(this.name,O);ke(typeof b=="string",e,"internal-error"),Vr(s,e.name),Vr(a,e.name),ke(typeof w=="boolean",e,"internal-error"),ke(typeof k=="boolean",e,"internal-error"),Vr(l,e.name),Vr(u,e.name),Vr(f,e.name),Vr(m,e.name),Vr(g,e.name),Vr(v,e.name);const q=new Li({uid:b,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(q.providerData=D.map(ee=>({...ee}))),m&&(q._redirectEventId=m),q}static async _fromIdTokenResponse(e,n,s=!1){const a=new _l;a.updateFromServerResponse(n);const l=new Li({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];ke(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?dA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new _l;f.updateFromIdToken(s);const m=new Li({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const zT=new Map;function Gs(t){Ws(t instanceof Function,"Expected a class definition");let e=zT.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zT.set(t,e),e)}class fA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fA.type="NONE";const qT=fA;function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ud(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ud("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bl(Gs(qT),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Gs(qT);const u=Ud(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const w=await tf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Li._fromGetAccountInfoResponse(e,w,v)}else b=Li._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bl(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new bl(l,e,s))}}function FT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xA(e))return"Blackberry";if(_A(e))return"Webos";if(pA(e))return"Safari";if((e.includes("chrome/")||gA(e))&&!e.includes("edge/"))return"Chrome";if(vA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function mA(t=Tn()){return/firefox\//i.test(t)}function pA(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gA(t=Tn()){return/crios\//i.test(t)}function yA(t=Tn()){return/iemobile/i.test(t)}function vA(t=Tn()){return/android/i.test(t)}function xA(t=Tn()){return/blackberry/i.test(t)}function _A(t=Tn()){return/webos/i.test(t)}function h0(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GD(t=Tn()){return h0(t)&&!!window.navigator?.standalone}function KD(){return iN()&&document.documentMode===10}function bA(t=Tn()){return h0(t)||vA(t)||_A(t)||xA(t)||/windows phone/i.test(t)||yA(t)}function TA(t,e=[]){let n;switch(t){case"Browser":n=FT(Tn());break;case"Worker":n=`${FT(Tn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QD(t,e={}){return aa(t,"GET","/v2/passwordPolicy",ra(t,e))}const YD=6;class XD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class WD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HT(this),this.idTokenSubscription=new HT(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),s=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Ks(this));const n=e?dt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QD(this),n=new XD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gs(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[Gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oa(t){return dt(t)}class HT{constructor(e){this.auth=e,this.observer=null,this.addObserver=uN(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(t){Pf=t}function wA(t){return Pf.loadJS(t)}function JD(){return Pf.recaptchaEnterpriseScript}function eM(){return Pf.gapiScript}function tM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sM="recaptcha-enterprise",EA="NO_RECAPTCHA";class rM{constructor(e){this.type=sM,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{jD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new OD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;UT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(EA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&UT(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=JD();m.length!==0&&(m+=f),wA(m).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function GT(t,e,n,s=!1,a=!1){const l=new rM(t);let u;if(a)u=EA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ay(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await GT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await GT(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function aM(t,e){const n=sa(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ys(l,e??{}))return a;wi(a,"already-initialized")}return n.initialize({options:e})}function oM(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function lM(t,e,n){const s=oa(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=AA(e),{host:u,port:f}=cM(e),m=f===null?"":`:${f}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(Ys(g,s.config.emulator)&&Ys(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ia(u)?(s0(`${l}//${u}${m}`),r0("Auth",!0)):uM()}function AA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cM(t){const e=AA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:KT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:KT(u)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class d0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function hM(t,e){return aa(t,"POST","/v1/accounts:signUp",e)}async function dM(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",ra(t,e))}async function fM(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}async function mM(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}class Au extends d0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ay(e,n,"signInWithPassword",dM);case"emailLink":return fM(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ay(e,s,"signUpPassword",hM);case"emailLink":return mM(e,{idToken:n,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tl(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",ra(t,e))}const pM="http://localhost";class so extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new so(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:pM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}function gM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yM(t){const e=iu(su(t)).link,n=e?iu(su(e)).deep_link_id:null,s=iu(su(t)).deep_link_id;return(s?iu(su(s)).link:null)||s||n||e||t}class f0{constructor(e){const n=iu(su(e)),s=n.apiKey??null,a=n.oobCode??null,l=gM(n.mode??null);ke(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yM(e);try{return new f0(n)}catch{return null}}}class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=f0.parseLink(n);return ke(s,"argument-error"),Au._fromEmailAndCode(e,s.code,s.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class m0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fu extends m0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ur extends Fu{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class qs extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qs.credential(n,s)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Br extends Fu{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class zr extends Fu{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function vM(t,e){return qu(t,"POST","/v1/accounts:signUp",ra(t,e))}class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Li._fromIdTokenResponse(e,s,a),u=$T(s);return new ro({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=$T(s);return new ro({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function $T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class sf extends Ei{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new sf(e,n,s,a)}}function SA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(t,l,e,s):l})}async function xM(t,e,n=!1){const s=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",s)}async function _M(t,e,n=!1){const{auth:s}=t;if(Ln(s.app))return Promise.reject(Ks(s));const a="reauthenticate";try{const l=await Eu(t,SA(s,a,e,t),n);ke(l.idToken,s,"internal-error");const u=u0(l.idToken);ke(u,s,"internal-error");const{sub:f}=u;return ke(t.uid===f,s,"user-mismatch"),ro._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&wi(s,"user-mismatch"),l}}async function CA(t,e,n=!1){if(Ln(t.app))return Promise.reject(Ks(t));const s="signIn",a=await SA(t,s,e),l=await ro._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function bM(t,e){return CA(oa(t),e)}async function kA(t){const e=oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TM(t,e,n){if(Ln(t.app))return Promise.reject(Ks(t));const s=oa(t),u=await ay(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vM).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&kA(t),m}),f=await ro._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(f.user),f}function wM(t,e,n){return Ln(t.app)?Promise.reject(Ks(t)):bM(dt(t),Bl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kA(t),s})}function EM(t,e,n,s){return dt(t).onIdTokenChanged(e,n,s)}function AM(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function SM(t,e,n,s){return dt(t).onAuthStateChanged(e,n,s)}function CM(t){return dt(t).signOut()}const rf="__sak";class RA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kM=1e3,RM=10;class IA extends RA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);KD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IA.type="LOCAL";const IM=IA;class NA extends RA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NA.type="SESSION";const DA=NA;function NM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),m=await NM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];function p0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class DM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=p0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ms(){return window}function MM(t){ms().location.href=t}function MA(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function PM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OM(){return navigator?.serviceWorker?.controller||null}function jM(){return MA()?self:null}const PA="firebaseLocalStorageDb",VM=1,af="firebaseLocalStorage",OA="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([af],e?"readwrite":"readonly").objectStore(af)}function LM(){const t=indexedDB.deleteDatabase(PA);return new Hu(t).toPromise()}function oy(){const t=indexedDB.open(PA,VM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(af,{keyPath:OA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(af)?e(s):(s.close(),await LM(),e(await oy()))})})}async function QT(t,e,n){const s=jf(t,!0).put({[OA]:e,value:n});return new Hu(s).toPromise()}async function UM(t,e){const n=jf(t,!1).get(e),s=await new Hu(n).toPromise();return s===void 0?null:s.value}function YT(t,e){const n=jf(t,!0).delete(e);return new Hu(n).toPromise()}const BM=800,zM=3;class jA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(jM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PM(),!this.activeServiceWorker)return;this.sender=new DM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oy();return await QT(e,rf,"1"),await YT(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=jf(a,!1).getAll();return new Hu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jA.type="LOCAL";const qM=jA;new zu(3e4,6e4);function VA(t,e){return e?Gs(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class g0 extends d0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FM(t){return CA(t.auth,new g0(t),t.bypassAuthState)}function HM(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),_M(n,new g0(t),t.bypassAuthState)}async function GM(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),xM(n,new g0(t),t.bypassAuthState)}class LA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FM;case"linkViaPopup":case"linkViaRedirect":return GM;case"reauthViaPopup":case"reauthViaRedirect":return HM;default:wi(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KM=new zu(2e3,1e4);async function $M(t,e,n){if(Ln(t.app))return Promise.reject(Ui(t,"operation-not-supported-in-this-environment"));const s=oa(t);SD(t,e,m0);const a=VA(s,n);return new Ka(s,"signInViaPopup",e,a).executeNotNull()}class Ka extends LA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=p0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KM.get())};e()}}Ka.currentPopupAction=null;const QM="pendingRedirect",Bd=new Map;class YM extends LA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const s=await XM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XM(t,e){const n=JM(e),s=ZM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function WM(t,e){Bd.set(t._key(),e)}function ZM(t){return Gs(t._redirectPersistence)}function JM(t){return Ud(QM,t.config.apiKey,t.name)}async function e4(t,e,n=!1){if(Ln(t.app))return Promise.reject(Ks(t));const s=oa(t),a=VA(s,e),u=await new YM(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const t4=600*1e3;class n4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!UA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t4&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UA(t);default:return!1}}async function s4(t,e={}){return aa(t,"GET","/v1/projects",e)}const r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a4=/^https?/;async function o4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s4(t);for(const n of e)try{if(l4(n))return}catch{}wi(t,"unauthorized-domain")}function l4(t){const e=sy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!a4.test(n))return!1;if(r4.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const c4=new zu(3e4,6e4);function WT(){const t=ms().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u4(t){return new Promise((e,n)=>{function s(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Ui(t,"network-request-failed"))},timeout:c4.get()})}if(ms().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ms().gapi?.load)s();else{const a=tM("iframefcb");return ms()[a]=()=>{gapi.load?s():n(Ui(t,"network-request-failed"))},wA(`${eM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zd=null,e})}let zd=null;function h4(t){return zd=zd||u4(t),zd}const d4=new zu(5e3,15e3),f4="__/auth/iframe",m4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y4(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c0(e,m4):`https://${t.config.authDomain}/${f4}`,s={apiKey:e.apiKey,appName:t.name,v:fo},a=g4.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Bu(s).slice(1)}`}async function v4(t){const e=await h4(t),n=ms().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:y4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ui(t,"network-request-failed"),f=ms().setTimeout(()=>{l(u)},d4.get());function m(){ms().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}const x4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_4=500,b4=600,T4="_blank",w4="http://localhost";class ZT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(t,e,n,s=_4,a=b4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...x4,width:s.toString(),height:a.toString(),top:l,left:u},g=Tn().toLowerCase();n&&(f=gA(g)?T4:n),mA(g)&&(e=e||w4,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[k,D])=>`${w}${k}=${D},`,"");if(GD(g)&&f!=="_self")return A4(e||"",f),new ZT(null);const b=window.open(e||"",f,v);ke(b,t,"popup-blocked");try{b.focus()}catch{}return new ZT(b)}function A4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const S4="__/auth/handler",C4="emulator/auth/handler",k4=encodeURIComponent("fac");async function JT(t,e,n,s,a,l){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:fo,eventId:a};if(e instanceof m0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",cN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Fu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),g=m?`#${k4}=${encodeURIComponent(m)}`:"";return`${R4(t)}?${Bu(f).slice(1)}${g}`}function R4({config:t}){return t.emulator?c0(t,C4):`https://${t.authDomain}/${S4}`}const bg="webStorageSupport";class I4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DA,this._completeRedirectFn=e4,this._overrideRedirectResult=WM}async _openPopup(e,n,s,a){Ws(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await JT(e,n,s,sy(),a);return E4(e,l,p0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await JT(e,n,s,sy(),a);return MM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ws(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await v4(e),s=new n4(e);return n.register("authEvent",a=>(ke(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},a=>{const l=a?.[0]?.[bg];l!==void 0&&n(!!l),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bA()||pA()||h0()}}const N4=I4;var ew="@firebase/auth",tw="1.12.0";class D4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P4(t){Bi(new Ti("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;ke(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TA(t)},g=new WD(s,a,l,m);return oM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bi(new Ti("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new D4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(ew,tw,M4(t)),qn(ew,tw,"esm2020")}const O4=300,j4=XE("authIdTokenMaxAge")||O4;let nw=null;const V4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>j4)return;const a=n?.token;nw!==a&&(nw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function L4(t=Mf()){const e=sa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aM(t,{popupRedirectResolver:N4,persistence:[qM,IM,DA]}),s=XE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=V4(l.toString());AM(n,u,()=>u(n.currentUser)),EM(n,f=>u(f))}}const a=$E("auth");return a&&lM(n,`http://${a}`),n}function U4(){return document.getElementsByTagName("head")?.[0]??document}ZD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ui("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",U4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P4("Browser");var iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,BA;(function(){var t;function e(I,S){function N(){}N.prototype=S.prototype,I.F=S.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(L,V,M){for(var R=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)R[Ee-2]=arguments[Ee];return S.prototype[V].apply(L,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,N){N||(N=0);const L=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)L[V]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(V=0;V<16;++V)L[V]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=I.g[0],N=I.g[1],V=I.g[2];let M=I.g[3],R;R=S+(M^N&(V^M))+L[0]+3614090360&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(V^S&(N^V))+L[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(N^M&(S^N))+L[2]+606105819&4294967295,V=M+(R<<17&4294967295|R>>>15),R=N+(S^V&(M^S))+L[3]+3250441966&4294967295,N=V+(R<<22&4294967295|R>>>10),R=S+(M^N&(V^M))+L[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(V^S&(N^V))+L[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(N^M&(S^N))+L[6]+2821735955&4294967295,V=M+(R<<17&4294967295|R>>>15),R=N+(S^V&(M^S))+L[7]+4249261313&4294967295,N=V+(R<<22&4294967295|R>>>10),R=S+(M^N&(V^M))+L[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(V^S&(N^V))+L[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(N^M&(S^N))+L[10]+4294925233&4294967295,V=M+(R<<17&4294967295|R>>>15),R=N+(S^V&(M^S))+L[11]+2304563134&4294967295,N=V+(R<<22&4294967295|R>>>10),R=S+(M^N&(V^M))+L[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=M+(V^S&(N^V))+L[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=V+(N^M&(S^N))+L[14]+2792965006&4294967295,V=M+(R<<17&4294967295|R>>>15),R=N+(S^V&(M^S))+L[15]+1236535329&4294967295,N=V+(R<<22&4294967295|R>>>10),R=S+(V^M&(N^V))+L[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^V&(S^N))+L[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^N&(M^S))+L[11]+643717713&4294967295,V=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(V^M))+L[0]+3921069994&4294967295,N=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(N^V))+L[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^V&(S^N))+L[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^N&(M^S))+L[15]+3634488961&4294967295,V=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(V^M))+L[4]+3889429448&4294967295,N=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(N^V))+L[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^V&(S^N))+L[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^N&(M^S))+L[3]+4107603335&4294967295,V=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(V^M))+L[8]+1163531501&4294967295,N=V+(R<<20&4294967295|R>>>12),R=S+(V^M&(N^V))+L[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=M+(N^V&(S^N))+L[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=V+(S^N&(M^S))+L[7]+1735328473&4294967295,V=M+(R<<14&4294967295|R>>>18),R=N+(M^S&(V^M))+L[12]+2368359562&4294967295,N=V+(R<<20&4294967295|R>>>12),R=S+(N^V^M)+L[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^V)+L[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^N)+L[11]+1839030562&4294967295,V=M+(R<<16&4294967295|R>>>16),R=N+(V^M^S)+L[14]+4259657740&4294967295,N=V+(R<<23&4294967295|R>>>9),R=S+(N^V^M)+L[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^V)+L[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^N)+L[7]+4139469664&4294967295,V=M+(R<<16&4294967295|R>>>16),R=N+(V^M^S)+L[10]+3200236656&4294967295,N=V+(R<<23&4294967295|R>>>9),R=S+(N^V^M)+L[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^V)+L[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^N)+L[3]+3572445317&4294967295,V=M+(R<<16&4294967295|R>>>16),R=N+(V^M^S)+L[6]+76029189&4294967295,N=V+(R<<23&4294967295|R>>>9),R=S+(N^V^M)+L[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=M+(S^N^V)+L[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=V+(M^S^N)+L[15]+530742520&4294967295,V=M+(R<<16&4294967295|R>>>16),R=N+(V^M^S)+L[2]+3299628645&4294967295,N=V+(R<<23&4294967295|R>>>9),R=S+(V^(N|~M))+L[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~V))+L[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~N))+L[14]+2878612391&4294967295,V=M+(R<<15&4294967295|R>>>17),R=N+(M^(V|~S))+L[5]+4237533241&4294967295,N=V+(R<<21&4294967295|R>>>11),R=S+(V^(N|~M))+L[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~V))+L[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~N))+L[10]+4293915773&4294967295,V=M+(R<<15&4294967295|R>>>17),R=N+(M^(V|~S))+L[1]+2240044497&4294967295,N=V+(R<<21&4294967295|R>>>11),R=S+(V^(N|~M))+L[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~V))+L[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~N))+L[6]+2734768916&4294967295,V=M+(R<<15&4294967295|R>>>17),R=N+(M^(V|~S))+L[13]+1309151649&4294967295,N=V+(R<<21&4294967295|R>>>11),R=S+(V^(N|~M))+L[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=M+(N^(S|~V))+L[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=V+(S^(M|~N))+L[2]+718787259&4294967295,V=M+(R<<15&4294967295|R>>>17),R=N+(M^(V|~S))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+M&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const N=S-this.blockSize,L=this.C;let V=this.h,M=0;for(;M<S;){if(V==0)for(;M<=N;)a(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(L[V++]=I.charCodeAt(M++),V==this.blockSize){a(this,L),V=0;break}}else for(;M<S;)if(L[V++]=I[M++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)I[S++]=this.g[N]>>>L&255;return I};function l(I,S){var N=f;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=S(I)}function u(I,S){this.h=S;const N=[];let L=!0;for(let V=I.length-1;V>=0;V--){const M=I[V]|0;L&&M==S||(N[V]=M,L=!1)}this.g=N}var f={};function m(I){return-128<=I&&I<128?l(I,function(S){return new u([S|0],S<0?-1:0)}):new u([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return P(g(-I));const S=[];let N=1;for(let L=0;I>=N;L++)S[L]=I/N|0,N*=4294967296;return new u(S,0)}function v(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return P(v(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(S,8));let L=b;for(let M=0;M<I.length;M+=8){var V=Math.min(8,I.length-M);const R=parseInt(I.substring(M,M+V),S);V<8?(V=g(Math.pow(S,V)),L=L.j(V).add(g(R))):(L=L.j(N),L=L.add(g(R)))}return L}var b=m(0),w=m(1),k=m(16777216);t=u.prototype,t.m=function(){if(O(this))return-P(this).m();let I=0,S=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);I+=(L>=0?L:4294967296+L)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(O(this))return"-"+P(this).toString(I);const S=g(Math.pow(I,6));var N=this;let L="";for(;;){const V=ce(N,S).g;N=q(N,V.j(S));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=V,D(N))return M+L;for(;M.length<6;)M="0"+M;L=M+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=q(this,I),O(I)?-1:D(I)?0:1};function P(I){const S=I.g.length,N=[];for(let L=0;L<S;L++)N[L]=~I.g[L];return new u(N,~I.h).add(w)}t.abs=function(){return O(this)?P(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),N=[];let L=0;for(let V=0;V<=S;V++){let M=L+(this.i(V)&65535)+(I.i(V)&65535),R=(M>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=R>>>16,M&=65535,R&=65535,N[V]=R<<16|M}return new u(N,N[N.length-1]&-2147483648?-1:0)};function q(I,S){return I.add(P(S))}t.j=function(I){if(D(this)||D(I))return b;if(O(this))return O(I)?P(this).j(P(I)):P(P(this).j(I));if(O(I))return P(this.j(P(I)));if(this.l(k)<0&&I.l(k)<0)return g(this.m()*I.m());const S=this.g.length+I.g.length,N=[];for(var L=0;L<2*S;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const M=this.i(L)>>>16,R=this.i(L)&65535,Ee=I.i(V)>>>16,De=I.i(V)&65535;N[2*L+2*V]+=R*De,ee(N,2*L+2*V),N[2*L+2*V+1]+=M*De,ee(N,2*L+2*V+1),N[2*L+2*V+1]+=R*Ee,ee(N,2*L+2*V+1),N[2*L+2*V+2]+=M*Ee,ee(N,2*L+2*V+2)}for(I=0;I<S;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=S;I<2*S;I++)N[I]=0;return new u(N,0)};function ee(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function Q(I,S){this.g=I,this.h=S}function ce(I,S){if(D(S))throw Error("division by zero");if(D(I))return new Q(b,b);if(O(I))return S=ce(P(I),S),new Q(P(S.g),P(S.h));if(O(S))return S=ce(I,P(S)),new Q(P(S.g),S.h);if(I.g.length>30){if(O(I)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var N=w,L=S;L.l(I)<=0;)N=he(N),L=he(L);var V=ue(N,1),M=ue(L,1);for(L=ue(L,2),N=ue(N,2);!D(L);){var R=M.add(L);R.l(I)<=0&&(V=V.add(N),M=R),L=ue(L,1),N=ue(N,1)}return S=q(I,V.j(S)),new Q(V,S)}for(V=b;I.l(S)>=0;){for(N=Math.max(1,Math.floor(I.m()/S.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),M=g(N),R=M.j(S);O(R)||R.l(I)>0;)N-=L,M=g(N),R=M.j(S);D(M)&&(M=w),V=V.add(M),I=q(I,R)}return new Q(V,I)}t.B=function(I){return ce(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<S;L++)N[L]=this.i(L)&I.i(L);return new u(N,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<S;L++)N[L]=this.i(L)|I.i(L);return new u(N,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<S;L++)N[L]=this.i(L)^I.i(L);return new u(N,this.h^I.h)};function he(I){const S=I.g.length+1,N=[];for(let L=0;L<S;L++)N[L]=I.i(L)<<1|I.i(L-1)>>>31;return new u(N,I.h)}function ue(I,S){const N=S>>5;S%=32;const L=I.g.length-N,V=[];for(let M=0;M<L;M++)V[M]=S>0?I.i(M+N)>>>S|I.i(M+N+1)<<32-S:I.i(M+N);return new u(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BA=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,$r=u}).apply(typeof iw<"u"?iw:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zA,ru,qA,qd,ly,FA,HA,GA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,x){if(x)e:{var T=s;h=h.split(".");for(var C=0;C<h.length-1;C++){var K=h[C];if(!(K in T))break e;T=T[K]}h=h[h.length-1],C=T[h],x=x(C),x!=C&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var T=[],C;for(C in x)Object.prototype.hasOwnProperty.call(x,C)&&T.push([C,x[C]]);return T}});var l=l||{},u=this||self;function f(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,T){return h.call.apply(h.bind,arguments)}function g(h,x,T){return g=m,g.apply(null,arguments)}function v(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function b(h,x){function T(){}T.prototype=x.prototype,h.Z=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(C,K,J){for(var me=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)me[Ve-2]=arguments[Ve];return x.prototype[K].apply(C,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function k(h){const x=h.length;if(x>0){const T=Array(x);for(let C=0;C<x;C++)T[C]=h[C];return T}return[]}function D(h,x){for(let C=1;C<arguments.length;C++){const K=arguments[C];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=h.length||0;const J=K.length||0;h.length=T+J;for(let me=0;me<J;me++)h[T+me]=K[me]}else h.push(K)}}class O{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function P(h){u.setTimeout(()=>{throw h},0)}function q(){var h=I;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class ee{constructor(){this.h=this.g=null}add(x,T){const C=Q.get();C.set(x,T),this.h?this.h.next=C:this.g=C,this.h=C}}var Q=new O(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ue=!1,I=new ee,S=()=>{const h=Promise.resolve(void 0);he=()=>{h.then(N)}};function N(){for(var h;h=q();){try{h.h.call(h.g)}catch(T){P(T)}var x=Q;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ue=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,x),u.removeEventListener("test",T,x)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function Ee(h,x){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(Ee,V),Ee.prototype.init=function(h,x){const T=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),U=0;function H(h,x,T,C,K){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!C,this.ha=K,this.key=++U,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function de(h,x,T){for(const C in h)x.call(T,h[C],C,h)}function B(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function E(h){const x={};for(const T in h)x[T]=h[T];return x}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(h,x){let T,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(T in C)h[T]=C[T];for(let J=0;J<F.length;J++)T=F[J],Object.prototype.hasOwnProperty.call(C,T)&&(h[T]=C[T])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,x,T,C,K){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const me=ge(h,x,C,K);return me>-1?(x=h[me],T||(x.fa=!1)):(x=new H(x,this.src,J,!!C,K),x.fa=T,h.push(x)),x};function fe(h,x){const T=x.type;if(T in h.g){var C=h.g[T],K=Array.prototype.indexOf.call(C,x,void 0),J;(J=K>=0)&&Array.prototype.splice.call(C,K,1),J&&(ae(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ge(h,x,T,C){for(let K=0;K<h.length;++K){const J=h[K];if(!J.da&&J.listener==x&&J.capture==!!T&&J.ha==C)return K}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),be={};function Ae(h,x,T,C,K){if(Array.isArray(x)){for(let J=0;J<x.length;J++)Ae(h,x[J],T,C,K);return null}return T=wn(T),h&&h[De]?h.J(x,T,f(C)?!!C.capture:!1,K):et(h,x,T,!1,C,K)}function et(h,x,T,C,K,J){if(!x)throw Error("Invalid event type");const me=f(K)?!!K.capture:!!K;let Ve=Yt(h);if(Ve||(h[pe]=Ve=new oe(h)),T=Ve.add(x,T,C,me,J),T.proxy)return T;if(C=Ye(),T.proxy=C,C.src=h,C.listener=T,h.addEventListener)M||(K=me),K===void 0&&(K=!1),h.addEventListener(x.toString(),C,K);else if(h.attachEvent)h.attachEvent(Pe(x.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ye(){function h(T){return x.call(h.src,h.listener,T)}const x=jt;return h}function it(h,x,T,C,K){if(Array.isArray(x))for(var J=0;J<x.length;J++)it(h,x[J],T,C,K);else C=f(C)?!!C.capture:!!C,T=wn(T),h&&h[De]?(h=h.i,J=String(x).toString(),J in h.g&&(x=h.g[J],T=ge(x,T,C,K),T>-1&&(ae(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete h.g[J],h.h--)))):h&&(h=Yt(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ge(x,T,C,K)),(T=h>-1?x[h]:null)&&_t(T))}function _t(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[De])fe(x.i,h);else{var T=h.type,C=h.proxy;x.removeEventListener?x.removeEventListener(T,C,h.capture):x.detachEvent?x.detachEvent(Pe(T),C):x.addListener&&x.removeListener&&x.removeListener(C),(T=Yt(x))?(fe(T,h),T.h==0&&(T.src=null,x[pe]=null)):ae(h)}}}function Pe(h){return h in be?be[h]:be[h]="on"+h}function jt(h,x){if(h.da)h=!0;else{x=new Ee(x,this);const T=h.listener,C=h.ha||h.src;h.fa&&_t(h),h=T.call(C,x)}return h}function Yt(h){return h=h[pe],h instanceof oe?h:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function wn(h){return typeof h=="function"?h:(h[rn]||(h[rn]=function(x){return h.handleEvent(x)}),h[rn])}function ot(){L.call(this),this.i=new oe(this),this.M=this,this.G=null}b(ot,L),ot.prototype[De]=!0,ot.prototype.removeEventListener=function(h,x,T,C){it(this,h,x,T,C)};function tt(h,x){var T,C=h.G;if(C)for(T=[];C;C=C.G)T.push(C);if(h=h.M,C=x.type||x,typeof x=="string")x=new V(x,h);else if(x instanceof V)x.target=x.target||h;else{var K=x;x=new V(C,h),Z(x,K)}K=!0;let J,me;if(T)for(me=T.length-1;me>=0;me--)J=x.g=T[me],K=qi(J,C,!0,x)&&K;if(J=x.g=h,K=qi(J,C,!0,x)&&K,K=qi(J,C,!1,x)&&K,T)for(me=0;me<T.length;me++)J=x.g=T[me],K=qi(J,C,!1,x)&&K}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const T=h.g[x];for(let C=0;C<T.length;C++)ae(T[C]);delete h.g[x],h.h--}}this.G=null},ot.prototype.J=function(h,x,T,C){return this.i.add(String(h),x,!1,T,C)},ot.prototype.K=function(h,x,T,C){return this.i.add(String(h),x,!0,T,C)};function qi(h,x,T,C){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let J=0;J<x.length;++J){const me=x[J];if(me&&!me.da&&me.capture==T){const Ve=me.listener,Dt=me.ha||me.src;me.fa&&fe(h.i,me),K=Ve.call(Dt,C)!==!1&&K}}return K&&!C.defaultPrevented}function Zl(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(h,x||0)}function vo(h){h.g=Zl(()=>{h.g=null,h.i&&(h.i=!1,vo(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Jt extends L{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:vo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(h){L.call(this),this.h=h,this.g={}}b(Ts,L);var sr=[];function da(h){de(h.g,function(x,T){this.g.hasOwnProperty(T)&&_t(x)},h),h.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),da(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=u.JSON.stringify,xo=u.JSON.parse,fa=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function rr(){}function _o(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){V.call(this,"d")}b(an,V);function si(){V.call(this,"c")}b(si,V);var Nt={},th=null;function bo(){return th=th||new ot}Nt.Ia="serverreachability";function nh(h){V.call(this,Nt.Ia,h)}b(nh,V);function Hi(h){const x=bo();tt(x,new nh(x))}Nt.STAT_EVENT="statevent";function ma(h,x){V.call(this,Nt.STAT_EVENT,h),this.stat=x}b(ma,V);function Vt(h){const x=bo();tt(x,new ma(x,h))}Nt.Ja="timingevent";function Gi(h,x){V.call(this,Nt.Ja,h),this.size=x}b(Gi,V);function Ki(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},x)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function fm(h,x,T,C,K,J){h.info(function(){if(h.g)if(J){var me="",Ve=J.split("&");for(let Ze=0;Ze<Ve.length;Ze++){var Dt=Ve[Ze].split("=");if(Dt.length>1){const bt=Dt[0];Dt=Dt[1];const li=bt.split("_");me=li.length>=2&&li[1]=="type"?me+(bt+"="+Dt+"&"):me+(bt+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+x+`
`+T+`
`+me})}function ih(h,x,T,C,K,J,me){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+x+`
`+T+`
`+J+" "+me})}function $i(h,x,T,C){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+mm(h,T)+(C?" "+C:"")})}function pa(h,x){h.info(function(){return"TIMEOUT: "+x})}Ai.prototype.info=function(){};function mm(h,x){if(!h.g)return x;if(!x)return null;try{const J=JSON.parse(x);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var T=J[h];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var K=C[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<C.length;me++)C[me]=""}}}}return Fi(J)}catch{return x}}var ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ec;function ya(){}b(ya,rr),ya.prototype.g=function(){return new XMLHttpRequest},ec=new ya;function ws(h){return encodeURIComponent(String(h))}function sh(h){var x=1;h=h.split(":");const T=[];for(;x>0&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function Si(h,x,T,C){this.j=h,this.i=x,this.l=T,this.S=C||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}var Lt={},en={};function Qi(h,x,T){h.M=1,h.A=va(Bt(x)),h.u=T,h.R=!0,To(h,null)}function To(h,x){h.F=Date.now(),Yi(h),h.B=Bt(h.A);var T=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),So(T.i,"t",C),h.C=0,T=h.j.L,h.h=new Ci,h.g=xh(h.j,T?x:null,!h.u),h.P>0&&(h.O=new Jt(g(h.Y,h,h.g),h.P)),x=h.V,T=h.g,C=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(sr[0]=K.toString()),K=sr);for(let J=0;J<K.length;J++){const me=Ae(T,K[J],C||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=h.J?E(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Hi(),fm(h.i,h.v,h.B,h.l,h.S,h.u)}Si.prototype.ba=function(h){h=h.target;const x=this.O;x&&Ii(h)==3?x.j():this.Y(h)},Si.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=Ii(this.g),Dt=this.g.ya(),Ze=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Ve!=4||Dt==7||(Dt==8||Ze<=0?Hi(3):Hi(2)),Xi(this);var x=this.g.ca();this.X=x;var T=pm(this);if(this.o=x==200,ih(this.i,this.v,this.B,this.l,this.S,Ve,x),this.o){if(this.U&&!this.L){t:{if(this.g){var C,K=this.g;if((C=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(C)){var J=C;break t}}J=null}if(h=J)$i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wi(this,h);else{this.o=!1,this.m=3,Vt(12),Gn(this),ri(this);break e}}if(this.R){h=!0;let bt;for(;!this.K&&this.C<T.length;)if(bt=ah(this,T),bt==en){Ve==4&&(this.m=4,Vt(14),h=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Lt){this.m=4,Vt(15),$i(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else $i(this.i,this.l,bt,null),Wi(this,bt);if(rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,Vt(16),h=!1),this.o=this.o&&h,!h)$i(this.i,this.l,T,"[Invalid Chunked Response]"),Gn(this),ri(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),pc(me),me.P=!0,Vt(11))}}else $i(this.i,this.l,T,null),Wi(this,T);Ve==4&&Gn(this),this.o&&!this.K&&(Ve==4?ph(this.j,this):(this.o=!1,Yi(this)))}else As(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Gn(this),ri(this)}}}catch{}};function pm(h){if(!rh(h))return h.g.la();const x=on(h.g);if(x==="")return"";let T="";const C=x.length,K=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Gn(h),ri(h),"";h.h.i=new u.TextDecoder}for(let J=0;J<C;J++)h.h.h=!0,T+=h.h.i.decode(x[J],{stream:!(K&&J==C-1)});return x.length=0,h.h.g+=T,h.C=0,h.h.g}function rh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ah(h,x){var T=h.C,C=x.indexOf(`
`,T);return C==-1?en:(T=Number(x.substring(T,C)),isNaN(T)?Lt:(C+=1,C+T>x.length?en:(x=x.slice(C,C+T),h.C=C+T,x)))}Si.prototype.cancel=function(){this.K=!0,Gn(this)};function Yi(h){h.T=Date.now()+h.H,wo(h,h.H)}function wo(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ki(g(h.aa,h),x)}function Xi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Si.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(pa(this.i,this.B),this.M!=2&&(Hi(),Vt(17)),Gn(this),this.m=2,ri(this)):wo(this,this.T-h)};function ri(h){h.j.I==0||h.K||ph(h.j,h)}function Gn(h){Xi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,da(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Wi(h,x){try{var T=h.j;if(T.I!=0&&(T.g==h||Ji(T.h,h))){if(!h.L&&Ji(T.h,h)&&T.I==3){try{var C=T.Ba.g.parse(x)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)No(T),fr(T);else break e;Aa(T),Vt(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ki(g(T.Va,T),6e3));Zi(T.h)<=1&&T.ta&&(T.ta=void 0)}else rs(T,11)}else if((h.L||T.g==h)&&No(T),!R(x))for(K=T.Ba.g.parse(x),x=0;x<K.length;x++){let Ze=K[x];const bt=Ze[0];if(!(bt<=T.K))if(T.K=bt,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const li=Ze[3];li!=null&&(T.ka=li,T.j.info("VER="+T.ka));const as=Ze[4];as!=null&&(T.za=as,T.j.info("SVER="+T.za));const Ni=Ze[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(C=1.5*Ni,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Di=h.g;if(Di){const Sa=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var J=C.h;J.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ic(J,J.h),J.h=null))}if(C.G){const Do=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(C.wa=Do,st(C.J,C.G,Do))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var me=h;if(C.na=vh(C,C.L?C.ba:null,C.W),me.L){sc(C.h,me);var Ve=me,Dt=C.O;Dt&&(Ve.H=Dt),Ve.D&&(Xi(Ve),Yi(Ve)),C.g=me}else fh(C);T.i.length>0&&ss(T)}else Ze[0]!="stop"&&Ze[0]!="close"||rs(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?rs(T,7):fc(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}Hi(4)}catch{}}var Ut=class{constructor(h,x){this.g=h,this.map=x}};function tc(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zi(h){return h.h?1:h.g?h.g.size:0}function Ji(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function ic(h,x){h.g?h.g.add(x):h.h=x}function sc(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}tc.prototype.cancel=function(){if(this.i=rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function rc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.G);return x}return k(h.i)}var oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(h,x){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const C=h[T].indexOf("=");let K,J=null;C>=0?(K=h[T].substring(0,C),J=h[T].substring(C+1)):K=h[T],x(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Kn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Kn?(this.l=h.l,tn(this,h.j),this.o=h.o,this.g=h.g,ar(this,h.u),this.h=h.h,ac(this,hh(h.i)),this.m=h.m):h&&(x=String(h).match(oh))?(this.l=!1,tn(this,x[1]||"",!0),this.o=es(x[2]||""),this.g=es(x[3]||"",!0),ar(this,x[4]),this.h=es(x[5]||"",!0),ac(this,x[6]||"",!0),this.m=es(x[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}Kn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(xa(x,Ao,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(xa(x,Ao,!0),"@"),h.push(ws(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(xa(T,T.charAt(0)=="/"?oc:lh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",xa(T,ch)),h.join("")},Kn.prototype.resolve=function(h){const x=Bt(this);let T=!!h.j;T?tn(x,h.j):T=!!h.o,T?x.o=h.o:T=!!h.g,T?x.g=h.g:T=h.u!=null;var C=h.h;if(T)ar(x,h.u);else if(T=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var K=x.h.lastIndexOf("/");K!=-1&&(C=x.h.slice(0,K+1)+C)}if(K=C,K==".."||K==".")C="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){C=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let me=0;me<K.length;){const Ve=K[me++];Ve=="."?C&&me==K.length&&J.push(""):Ve==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),C&&me==K.length&&J.push("")):(J.push(Ve),C=!0)}C=J.join("/")}else C=K}return T?x.h=C:T=h.i.toString()!=="",T?ac(x,hh(h.i)):T=!!h.m,T&&(x.m=h.m),x};function Bt(h){return new Kn(h)}function tn(h,x,T){h.j=T?es(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function ar(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function ac(h,x,T){x instanceof lr?(h.i=x,Co(h.i,h.l)):(T||(x=xa(x,or)),h.i=new lr(x,h.l))}function st(h,x,T){h.i.set(x,T)}function va(h){return st(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function es(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xa(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,Rn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ao=/[#\/\?@]/g,lh=/[#\?:]/g,oc=/[#\?]/g,or=/[#\?@]/g,ch=/#/g;function lr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&Eo(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=lr.prototype,t.add=function(h,x){In(this),this.i=null,h=cr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function uh(h,x){In(h),x=cr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function lc(h,x){return In(h),x=cr(h,x),h.g.has(x)}t.forEach=function(h,x){In(this),this.g.forEach(function(T,C){T.forEach(function(K){h.call(x,K,C,this)},this)},this)};function cc(h,x){In(h);let T=[];if(typeof x=="string")lc(h,x)&&(T=T.concat(h.g.get(cr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)T=T.concat(h[x]);return T}t.set=function(h,x){return In(this),this.i=null,h=cr(this,h),lc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=cc(this,h),h.length>0?String(h[0]):x):x};function So(h,x,T){uh(h,x),T.length>0&&(h.i=null,h.g.set(cr(h,x),k(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let C=0;C<x.length;C++){var T=x[C];const K=ws(T);T=cc(this,T);for(let J=0;J<T.length;J++){let me=K;T[J]!==""&&(me+="="+ws(T[J])),h.push(me)}}return this.i=h.join("&")};function hh(h){const x=new lr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function cr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Co(h,x){x&&!h.j&&(In(h),h.i=null,h.g.forEach(function(T,C){const K=C.toLowerCase();C!=K&&(uh(this,C),So(this,K,T))},h)),h.j=x}function ki(h,x){const T=new Ai;if(u.Image){const C=new Image;C.onload=v(ai,T,"TestLoadImage: loaded",!0,x,C),C.onerror=v(ai,T,"TestLoadImage: error",!1,x,C),C.onabort=v(ai,T,"TestLoadImage: abort",!1,x,C),C.ontimeout=v(ai,T,"TestLoadImage: timeout",!1,x,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else x(!1)}function uc(h,x){const T=new Ai,C=new AbortController,K=setTimeout(()=>{C.abort(),ai(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout(K),J.ok?ai(T,"TestPingServer: ok",!0,x):ai(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),ai(T,"TestPingServer: error",!1,x)})}function ai(h,x,T,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(T)}catch{}}function ur(){this.g=new fa}function ts(h){this.i=h.Sb||null,this.h=h.ab||!1}b(ts,rr),ts.prototype.g=function(){return new _a(this.i,this.h)};function _a(h,x){ot.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(_a,ot),t=_a.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Ri(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ko(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ko(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?hr(this):Ri(this),this.readyState==3&&ko(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,hr(this))},t.Na=function(h){this.g&&(this.response=h,hr(this))},t.ga=function(){this.g&&hr(this)};function hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ri(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oi(h){let x="";return de(h,function(T,C){x+=C,x+=":",x+=T,x+=`\r
`}),x}function ba(h,x,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=oi(T),typeof h=="string"?T!=null&&ws(T):st(h,x,T))}function lt(h){ot.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(lt,ot);var ns=/^https?$/i,hc=["POST","PUT"];t=lt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ec.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(J){Ta(this,J);return}if(h=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)T.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())T.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),K=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(hc,x,void 0)>=0)||C||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of T)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Ta(this,J)}};function Ta(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,dc(h),Es(h)}function dc(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,tt(this,"complete"),tt(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(h){if(h.h&&typeof l<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(tt(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var C;if(C=J===0){let me=String(h.D).match(oh)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),C=!ns.test(me?me.toLowerCase():"")}T=C}if(T)tt(h,"complete"),tt(h,"success");else{h.o=6;try{var K=Ii(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",dc(h)}}finally{Es(h)}}}}function Es(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,x||tt(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),xo(x)}};function on(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function As(h){const x={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(R(h[C]))continue;var T=sh(h[C]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=x[K]||[];x[K]=J,J.push(T)}B(x,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function dr(h){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,h),this.Za=is("retryDelaySeedMs",1e4,h),this.Ta=is("forwardChannelMaxRetries",2,h),this.va=is("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new tc(h&&h.concurrentRequestLimit),this.Ba=new ur,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dr.prototype,t.ka=8,t.I=1,t.connect=function(h,x,T,C){Vt(0),this.W=h,this.H=x||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=vh(this,null,this.W),ss(this)};function fc(h){if(Ro(h),h.I==3){var x=h.V++,T=Bt(h.J);if(st(T,"SID",h.M),st(T,"RID",x),st(T,"TYPE","terminate"),Ea(h,T),x=new Si(h,h.j,x),x.M=2,x.A=va(Bt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=x.A,T=!0),T||(x.g=xh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Yi(x)}yh(h)}function fr(h){h.g&&(pc(h),h.g.cancel(),h.g=null)}function Ro(h){fr(h),h.v&&(u.clearTimeout(h.v),h.v=null),No(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ss(h){if(!nc(h.h)&&!h.m){h.m=!0;var x=h.Ea;he||S(),ue||(he(),ue=!0),I.add(x,h),h.D=0}}function Io(h,x){return Zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ki(g(h.Ea,h,x),gh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new Si(this,this.j,h);let J=this.o;if(this.U&&(J?(J=E(J),Z(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(x+=C,x>4096){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=dh(this,K,x),T=Bt(this.J),st(T,"RID",h),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),Ea(this,T),J&&(this.R?x="headers="+ws(oi(J))+"&"+x:this.u&&ba(T,this.u,J)),ic(this.h,K),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",x),st(T,"SID","null"),K.U=!0,Qi(K,T,null)):Qi(K,T,x),this.I=2}}else this.I==3&&(h?mc(this,h):this.i.length==0||nc(this.h)||mc(this))};function mc(h,x){var T;x?T=x.l:T=h.V++;const C=Bt(h.J);st(C,"SID",h.M),st(C,"RID",T),st(C,"AID",h.K),Ea(h,C),h.u&&h.o&&ba(C,h.u,h.o),T=new Si(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),x&&(h.i=x.G.concat(h.i)),x=dh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ic(h.h,T),Qi(T,C,x)}function Ea(h,x){h.H&&de(h.H,function(T,C){st(x,C,T)}),h.l&&de({},function(T,C){st(x,C,T)})}function dh(h,x,T){T=Math.min(h.i.length,T);const C=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let Ve=-1;for(;;){const Dt=["count="+T];Ve==-1?T>0?(Ve=K[0].g,Dt.push("ofs="+Ve)):Ve=0:Dt.push("ofs="+Ve);let Ze=!0;for(let bt=0;bt<T;bt++){var J=K[bt].g;const li=K[bt].map;if(J-=Ve,J<0)Ve=Math.max(0,K[bt].g-100),Ze=!1;else try{J="req"+J+"_"||"";try{var me=li instanceof Map?li:Object.entries(li);for(const[as,Ni]of me){let Di=Ni;f(Ni)&&(Di=Fi(Ni)),Dt.push(J+as+"="+encodeURIComponent(Di))}}catch(as){throw Dt.push(J+"type="+encodeURIComponent("_badmap")),as}}catch{C&&C(li)}}if(Ze){me=Dt.join("&");break e}}me=void 0}return h=h.i.splice(0,T),x.G=h,me}function fh(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;he||S(),ue||(he(),ue=!0),I.add(x,h),h.A=0}}function Aa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ki(g(h.Da,h),gh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,mh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ki(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),fr(this),mh(this))};function pc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function mh(h){h.g=new Si(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Bt(h.na);st(x,"RID","rpc"),st(x,"SID",h.M),st(x,"AID",h.K),st(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&st(x,"TO",h.ia),st(x,"TYPE","xmlhttp"),Ea(h,x),h.u&&h.o&&ba(x,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=va(Bt(x)),T.u=null,T.R=!0,To(T,h)}t.Va=function(){this.C!=null&&(this.C=null,fr(this),Aa(this),Vt(19))};function No(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ph(h,x){var T=null;if(h.g==x){No(h),pc(h),h.g=null;var C=2}else if(Ji(h.h,x))T=x.G,sc(h.h,x),C=1;else return;if(h.I!=0){if(x.o)if(C==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var K=h.D;C=bo(),tt(C,new Gi(C,T)),ss(h)}else fh(h);else if(K=x.m,K==3||K==0&&x.X>0||!(C==1&&Io(h,x)||C==2&&Aa(h)))switch(T&&T.length>0&&(x=h.h,x.i=x.i.concat(T)),K){case 1:rs(h,5);break;case 4:rs(h,10);break;case 3:rs(h,6);break;default:rs(h,2)}}}function gh(h,x){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*x}function rs(h,x){if(h.j.info("Error code "+x),x==2){var T=g(h.bb,h),C=h.Ua;const K=!C;C=new Kn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||tn(C,"https"),va(C),K?ki(C.toString(),T):uc(C.toString(),T)}else Vt(2);h.I=0,h.l&&h.l.pa(x),yh(h),Ro(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function yh(h){if(h.I=0,h.ja=[],h.l){const x=rc(h.h);(x.length!=0||h.i.length!=0)&&(D(h.ja,x),D(h.ja,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.oa()}}function vh(h,x,T){var C=T instanceof Kn?Bt(T):new Kn(T);if(C.g!="")x&&(C.g=x+"."+C.g),ar(C,C.u);else{var K=u.location;C=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const J=new Kn(null);C&&tn(J,C),x&&(J.g=x),K&&ar(J,K),T&&(J.h=T),C=J}return T=h.G,x=h.wa,T&&x&&st(C,T,x),st(C,"VER",h.ka),Ea(h,C),C}function xh(h,x,T){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new lt(new ts({ab:T})):new lt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _h(){}t=_h.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mr(){}mr.prototype.g=function(h,x){return new En(h,x)};function En(h,x){ot.call(this),this.g=new dr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!R(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ss(this)}b(En,ot),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){fc(this.g)},En.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Fi(h),h=T);x.i.push(new Ut(x.Ya++,h)),x.I==3&&ss(x)},En.prototype.N=function(){this.g.l=null,delete this.j,fc(this.g),delete this.g,En.Z.N.call(this)};function bh(h){an.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(bh,an);function Th(){si.call(this),this.status=1}b(Th,si);function Ss(h){this.g=h}b(Ss,_h),Ss.prototype.ra=function(){tt(this.g,"a")},Ss.prototype.qa=function(h){tt(this.g,new bh(h))},Ss.prototype.pa=function(h){tt(this.g,new Th)},Ss.prototype.oa=function(){tt(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,GA=function(){return new mr},HA=function(){return bo()},FA=Nt,ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,qd=ga,Jl.COMPLETE="complete",qA=Jl,_o.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,ru=_o,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,zA=lt}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const sw="@firebase/firestore",rw="4.9.3";let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let zl="12.7.0";const ao=new Df("@firebase/firestore");function hl(){return ao.logLevel}function ve(t,...e){if(ao.logLevel<=He.DEBUG){const n=e.map(y0);ao.debug(`Firestore (${zl}): ${t}`,...n)}}function Zs(t,...e){if(ao.logLevel<=He.ERROR){const n=e.map(y0);ao.error(`Firestore (${zl}): ${t}`,...n)}}function kl(t,...e){if(ao.logLevel<=He.WARN){const n=e.map(y0);ao.warn(`Firestore (${zl}): ${t}`,...n)}}function y0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Re(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KA(t,s,n)}function KA(t,e,n){let s=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zs(s),new Error(s)}function nt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||KA(e,a,s)}function je(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $s{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $A{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class z4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q4{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $s,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $s)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new $A(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class F4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new F4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new aw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class v0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=K4(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ge(t,e){return t<e?-1:t>e?1:0}function cy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?Ge(a,l):Tg(a)?1:-1}return Ge(t.length,e.length)}const $4=55296,Q4=57343;function Tg(t){const e=t.charCodeAt(0);return e>=$4&&e<=Q4}function Rl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const ow="__name__";class hs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=hs.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ge(e.length,n.length)}static compareSegments(e,n){const s=hs.isNumericId(e),a=hs.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?hs.extractNumericId(e).compare(hs.extractNumericId(n)):cy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class pt extends hs{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const Y4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends hs{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return Y4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ow}static keyField(){return new pn([ow])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(pt.fromString(e))}static fromName(e){return new we(pt.fromString(e).popFirst(5))}static empty(){return new we(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new pt(e.slice()))}}function QA(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X4(t,e,n,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lw(t){if(!we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cw(t){if(we.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gu(t,e){if(!YA(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}const uw=-62135596800,hw=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hw);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uw)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hw}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Qt("string",gt._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new gt(0,0))}static max(){return new Me(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Su=-1;function W4(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new Yr(a,we.empty(),e)}function Z4(t){return new Yr(t.readTime,t.key,Su)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Me.min(),we.empty(),Su)}static max(){return new Yr(Me.max(),we.empty(),Su)}}function J4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}const eP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ql(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==eP)throw t;ve("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((a=>a?le.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{u[g]=v,++f,f===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new le(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function nP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fl(t){return t.name==="IndexedDbTransactionError"}class Lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lf.ce=-1;const x0=-1;function Uf(t){return t==null}function of(t){return t===0&&1/t==-1/0}function iP(t){return typeof t=="number"&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const XA="";function sP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dw(e)),e=rP(t.get(n),e);return dw(e)}function rP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case XA:n+="";break;default:n+=l}}return n}function dw(t){return t+XA+""}function fw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new fn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mw(this.data.getIterator())}getIteratorFrom(e){return new mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Zt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ZA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZA("Invalid base64 string: "+l):l}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const aP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=aP.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}const JA="server_timestamp",eS="__type__",tS="__previous_value__",nS="__local_write_time__";function _0(t){return(t?.mapValue?.fields||{})[eS]?.stringValue===JA}function Bf(t){const e=t.mapValue.fields[tS];return _0(e)?Bf(e):e}function Cu(t){const e=Xr(t.mapValue.fields[nS].timestampValue);return new gt(e.seconds,e.nanos)}class oP{constructor(e,n,s,a,l,u,f,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const lf="(default)";class ku{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}const iS="__type__",lP="__max__",Rd={mapValue:{}},sS="__vector__",cf="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_0(t)?4:uP(t)?9007199254740991:cP(t)?10:11:Re(28295,{value:t})}function bs(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cu(t).isEqual(Cu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Xr(a.timestampValue),f=Xr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Wr(a.bytesValue).isEqual(Wr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ot(a.doubleValue),f=Ot(l.doubleValue);return u===f?of(u)===of(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(fw(u)!==fw(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!bs(u[m],f[m])))return!1;return!0})(t,e);default:return Re(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find((n=>bs(n,e)))!==void 0}function Il(t,e){if(t===e)return 0;const n=Zr(t),s=Zr(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Ot(l.integerValue||l.doubleValue),m=Ot(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw(Cu(t),Cu(e));case 5:return cy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Wr(l),m=Wr(u);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=Ge(f[g],m[g]);if(v!==0)return v}return Ge(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Ge(Ot(l.latitude),Ot(u.latitude));return f!==0?f:Ge(Ot(l.longitude),Ot(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},g=f[cf]?.arrayValue,v=m[cf]?.arrayValue,b=Ge(g?.values?.length||0,v?.values?.length||0);return b!==0?b:gw(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Rd.mapValue&&u===Rd.mapValue)return 0;if(l===Rd.mapValue)return 1;if(u===Rd.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const w=cy(m[b],v[b]);if(w!==0)return w;const k=Il(f[m[b]],g[v[b]]);if(k!==0)return k}return Ge(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Xr(t),s=Xr(e),a=Ge(n.seconds,s.seconds);return a!==0?a:Ge(n.nanos,s.nanos)}function gw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Il(n[a],s[a]);if(l)return l}return Ge(n.length,s.length)}function Nl(t){return uy(t)}function uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=uy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${uy(n.fields[u])}`;return a+"}"})(t.mapValue):Re(61005,{value:t})}function Fd(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bf(t);return e?16+Fd(e):16;case 5:return 2*t.stringValue.length;case 6:return Wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Fd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return la(s.fields,((l,u)=>{a+=l.length+Fd(u)})),a})(t.mapValue);default:throw Re(13486,{value:t})}}function yw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hy(t){return!!t&&"integerValue"in t}function b0(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function cP(t){return(t?.mapValue?.fields||{})[iS]?.stringValue===sS}function fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return{...t}}function uP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lP}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=pn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=fu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Hd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){la(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Un(fu(this.value))}}function rS(t){const e=[];return la(t.fields,((n,s)=>{const a=new pn([n]);if(Hd(s)){const l=rS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ti(e)}class _n{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new _n(e,0,Me.min(),Me.min(),Me.min(),Un.empty(),0)}static newFoundDocument(e,n,s,a){return new _n(e,1,n,Me.min(),s,a,0)}static newNoDocument(e,n){return new _n(e,2,n,Me.min(),Me.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Me.min(),Me.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uf{constructor(e,n){this.position=e,this.inclusive=n}}function _w(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),n.key):s=Il(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}class Iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function hP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class aS{}class $t extends aS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fP(e,n,s):n==="array-contains"?new gP(e,s):n==="in"?new yP(e,s):n==="not-in"?new vP(e,s):n==="array-contains-any"?new xP(e,s):new $t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mP(e,s):new pP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends aS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zi(e,n)}matches(e){return oS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oS(t){return t.op==="and"}function lS(t){return dP(t)&&oS(t)}function dP(t){for(const e of t.filters)if(e instanceof zi)return!1;return!0}function dy(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Nl(t.value);if(lS(t))return t.filters.map((e=>dy(e))).join(",");{const e=t.filters.map((n=>dy(n))).join(",");return`${t.op}(${e})`}}function cS(t,e){return t instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&bs(s.value,a.value)})(t,e):t instanceof zi?(function(s,a){return a instanceof zi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&cS(u,a.filters[f])),!0):!1})(t,e):void Re(19439)}function uS(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Nl(n.value)}`})(t):t instanceof zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"})(t):"Filter"}class fP extends $t{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class mP extends $t{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pP extends $t{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hS(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class gP extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b0(n)&&Ru(n.arrayValue,this.value)}}class yP extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class vP extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class xP extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ru(this.value.arrayValue,s)))}}class _P{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Tw(t,e=null,n=[],s=[],a=null,l=null,u=null){return new _P(t,e,n,s,a,l,u)}function T0(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>dy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Nl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Nl(s))).join(",")),e.Te=n}return e.Te}function w0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bw(t.startAt,e.startAt)&&bw(t.endAt,e.endAt)}function fy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Hl{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bP(t,e,n,s,a,l,u,f){return new Hl(t,e,n,s,a,l,u,f)}function zf(t){return new Hl(t)}function ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dS(t){return t.collectionGroup!==null}function mu(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Zt(pn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Iu(l,s))})),n.has(pn.keyField().canonicalString())||e.Ie.push(new Iu(pn.keyField(),s))}return e.Ie}function ps(t){const e=je(t);return e.Ee||(e.Ee=TP(e,mu(t))),e.Ee}function TP(t,e){if(t.limitType==="F")return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Iu(a.field,l)}));const n=t.endAt?new uf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new uf(t.startAt.position,t.startAt.inclusive):null;return Tw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function my(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function py(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return w0(ps(t),ps(e))&&t.limitType===e.limitType}function fS(t){return`${T0(ps(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>uS(a))).join(", ")}]`),Uf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Nl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Nl(a))).join(",")),`Target(${s})`})(ps(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of mu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,m){const g=_w(u,f,m);return u.inclusive?g<=0:g<0})(s.startAt,mu(s),a)||s.endAt&&!(function(u,f,m){const g=_w(u,f,m);return u.inclusive?g>=0:g>0})(s.endAt,mu(s),a))})(t,e)}function wP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mS(t){return(e,n)=>{let s=!1;for(const a of mu(t)){const l=EP(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function EP(t,e,n){const s=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Il(m,g):Re(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:t.dir})}}class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return WA(this.inner)}size(){return this.innerSize}}const AP=new At(we.comparator);function Js(){return AP}const pS=new At(we.comparator);function au(...t){let e=pS;for(const n of t)e=e.insert(n.key,n);return e}function gS(t){let e=pS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $a(){return pu()}function yS(){return pu()}function pu(){return new mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SP=new At(we.comparator),CP=new Zt(we.comparator);function Ke(...t){let e=CP;for(const n of t)e=e.add(n);return e}const kP=new Zt(Ge);function RP(){return kP}function E0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function vS(t){return{integerValue:""+t}}function xS(t,e){return iP(e)?vS(e):E0(t,e)}class Hf{constructor(){this._=void 0}}function IP(t,e,n){return t instanceof Nu?(function(a,l){const u={fields:{[eS]:{stringValue:JA},[nS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_0(l)&&(l=Bf(l)),l&&(u.fields[tS]=l),{mapValue:u}})(n,e):t instanceof Dl?bS(t,e):t instanceof Du?TS(t,e):(function(a,l){const u=_S(a,l),f=Ew(u)+Ew(a.Ae);return hy(u)&&hy(a.Ae)?vS(f):E0(a.serializer,f)})(t,e)}function NP(t,e,n){return t instanceof Dl?bS(t,e):t instanceof Du?TS(t,e):n}function _S(t,e){return t instanceof Mu?(function(s){return hy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Nu extends Hf{}class Dl extends Hf{constructor(e){super(),this.elements=e}}function bS(t,e){const n=wS(e);for(const s of t.elements)n.some((a=>bs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Du extends Hf{constructor(e){super(),this.elements=e}}function TS(t,e){let n=wS(e);for(const s of t.elements)n=n.filter((a=>!bs(a,s)));return{arrayValue:{values:n}}}class Mu extends Hf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ew(t){return Ot(t.integerValue||t.doubleValue)}function wS(t){return b0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class A0{constructor(e,n){this.field=e,this.transform=n}}function DP(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Dl&&a instanceof Dl||s instanceof Du&&a instanceof Du?Rl(s.elements,a.elements,bs):s instanceof Mu&&a instanceof Mu?bs(s.Ae,a.Ae):s instanceof Nu&&a instanceof Nu})(t.transform,e.transform)}class MP{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gf{}function ES(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S0(t.key,_i.none()):new Ku(t.key,t.data,_i.none());{const n=t.data,s=Un.empty();let a=new Zt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ca(t.key,s,new ti(a.toArray()),_i.none())}}function PP(t,e,n){t instanceof Ku?(function(a,l,u){const f=a.value.clone(),m=Sw(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(a,l,u){if(!Gd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Sw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(AS(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function gu(t,e,n,s){return t instanceof Ku?(function(l,u,f,m){if(!Gd(l.precondition,u))return f;const g=l.value.clone(),v=Cw(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof ca?(function(l,u,f,m){if(!Gd(l.precondition,u))return f;const g=Cw(l.fieldTransforms,m,u),v=u.data;return v.setAll(AS(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,f){return Gd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function OP(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=_S(s.transform,a||null);l!=null&&(n===null&&(n=Un.empty()),n.set(s.field,l))}return n||null}function Aw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Rl(s,a,((l,u)=>DP(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ku extends Gf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ca extends Gf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Sw(t,e,n){const s=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,NP(u,f,n[a]))}return s}function Cw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,IP(l,u,e))}return s}class S0 extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jP extends Gf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VP{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&PP(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=gu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=gu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=ES(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Me.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,((n,s)=>Aw(n,s)))&&Rl(this.baseMutations,e.baseMutations,((n,s)=>Aw(n,s)))}}class C0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return SP})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new C0(e,n,s,a)}}class LP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UP{constructor(e,n){this.count=e,this.unchangedNames=n}}var Gt,Qe;function BP(t){switch(t){case se.OK:return Re(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function SS(t){if(t===void 0)return Zs("GRPC error has no .code"),se.UNKNOWN;switch(t){case Gt.OK:return se.OK;case Gt.CANCELLED:return se.CANCELLED;case Gt.UNKNOWN:return se.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return se.INTERNAL;case Gt.UNAVAILABLE:return se.UNAVAILABLE;case Gt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Gt.NOT_FOUND:return se.NOT_FOUND;case Gt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Gt.ABORTED:return se.ABORTED;case Gt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Gt.DATA_LOSS:return se.DATA_LOSS;default:return Re(39323,{code:t})}}(Qe=Gt||(Gt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function zP(){return new TextEncoder}const qP=new $r([4294967295,4294967295],0);function kw(t){const e=zP().encode(t),n=new BA;return n.update(e),new Uint8Array(n.digest())}function Rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $r([n,s],0),new $r([a,l],0)]}class k0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply($r.fromNumber(s)));return a.compare(qP)===1&&(a=new $r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kw(e),[s,a]=Rw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new k0(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=kw(e),[s,a]=Rw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kf{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kf(Me.min(),a,new At(Ge),Js(),Ke())}}class $u{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $u(s,n,Ke(),Ke(),Ke())}}class Kd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class CS{constructor(e,n){this.targetId=e,this.Ce=n}}class kS{constructor(e,n,s=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Iw{constructor(){this.ve=0,this.Fe=Nw(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),s=Ke();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Re(38017,{changeType:l})}})),new $u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Nw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Js(),this.Je=Id(),this.He=Id(),this.Ye=new At(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(fy(l))if(s===0){const u=new we(l.path);this.et(n,u,_n.newNoDocument(u,Me.min()))}else nt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),m=f?this.ct(f,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Wr(s).toUint8Array()}catch(m){if(m instanceof ZA)return kl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new k0(u,a,l)}catch(m){return kl(m instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&fy(f.target)){const m=new we(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,_n.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Ke();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Kf(e,n,this.Ye,this.je,s);return this.je=Js(),this.Je=Id(),this.He=Id(),this.Ye=new At(Ge),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Iw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Iw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Id(){return new At(we.comparator)}function Nw(){return new At(we.comparator)}const HP={asc:"ASCENDING",desc:"DESCENDING"},GP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KP={and:"AND",or:"OR"};class $P{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QP(t,e){return hf(t,e.toTimestamp())}function gs(t){return nt(!!t,49232),Me.fromTimestamp((function(n){const s=Xr(n);return new gt(s.seconds,s.nanos)})(t))}function R0(t,e){return yy(t,e).canonicalString()}function yy(t,e){const n=(function(a){return new pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function IS(t){const e=pt.fromString(t);return nt(OS(e),10190,{key:e.toString()}),e}function vy(t,e){return R0(t.databaseId,e.path)}function wg(t,e){const n=IS(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(DS(n))}function NS(t,e){return R0(t.databaseId,e)}function YP(t){const e=IS(t);return e.length===4?pt.emptyPath():DS(e)}function xy(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DS(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dw(t,e,n){return{name:vy(t,e),fields:n.value.mapValue.fields}}function XP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(nt(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const v=g.code===void 0?se.UNKNOWN:SS(g.code);return new ye(v,g.message||"")})(u);n=new kS(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=wg(t,s.document.name),l=gs(s.document.updateTime),u=s.document.createTime?gs(s.document.createTime):Me.min(),f=new Un({mapValue:{fields:s.document.fields}}),m=_n.newFoundDocument(a,l,u,f),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Kd(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=wg(t,s.document),l=s.readTime?gs(s.readTime):Me.min(),u=_n.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Kd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=wg(t,s.document),l=s.removedTargetIds||[];n=new Kd([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new UP(a,l),f=s.targetId;n=new CS(f,u)}}return n}function WP(t,e){let n;if(e instanceof Ku)n={update:Dw(t,e.key,e.value)};else if(e instanceof S0)n={delete:vy(t,e.key)};else if(e instanceof ca)n={update:Dw(t,e.key,e.data),updateMask:aO(e.fieldMask)};else{if(!(e instanceof jP))return Re(16599,{Vt:e.type});n={verify:vy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof Nu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Mu)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Re(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:QP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(t,e.precondition)),n}function ZP(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?gs(a.updateTime):gs(l);return u.isEqual(Me.min())&&(u=gs(l)),new MP(u,a.transformResults||[])})(n,e)))):[]}function JP(t,e){return{documents:[NS(t,e.path)]}}function eO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NS(t,a);const l=(function(g){if(g.length!==0)return PS(zi.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:fl(w.field),direction:iO(w.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=gy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function tO(t){let e=YP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){nt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=MS(b);return w instanceof zi&&lS(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(D){return new Iu(ml(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let w;return w=typeof b=="object"?b.value:b,Uf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,k=b.values||[];return new uf(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,k=b.values||[];return new uf(k,w)})(n.endAt)),bP(e,a,u,l,f,"F",m,g)}function nO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ml(n.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(n.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(ml(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zi.create(n.compositeFilter.filters.map((s=>MS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(t):Re(30097,{filter:t})}function iO(t){return HP[t]}function sO(t){return GP[t]}function rO(t){return KP[t]}function fl(t){return{fieldPath:t.canonicalString()}}function ml(t){return pn.fromServerFormat(t.fieldPath)}function PS(t){return t instanceof $t?(function(n){if(n.op==="=="){if(xw(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(vw(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xw(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(vw(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:sO(n.op),value:n.value}}})(t):t instanceof zi?(function(n){const s=n.getFilters().map((a=>PS(a)));return s.length===1?s[0]:{compositeFilter:{op:rO(n.op),filters:s}}})(t):Re(54877,{filter:t})}function aO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Hr{constructor(e,n,s,a,l=Me.min(),u=Me.min(),f=gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oO{constructor(e){this.yt=e}}function lO(t){const e=tO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?py(e,e.limit,"L"):e}class cO{constructor(){this.Cn=new uO}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Yr.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class uO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Zt(pt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Zt(pt.comparator)).toArray()}}const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jS=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(jS,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}const Pw="LruGarbageCollector",hO=1048576;function Ow([t,e],[n,s]){const a=Ge(t,n);return a===0?Ge(e,s):a}class dO{constructor(e){this.Ir=e,this.buffer=new Zt(Ow),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ow(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(Pw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fl(n)?ve(Pw,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)}))}}class mO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Lf.ce);const s=new dO(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Mw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,f=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),hl()<=He.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function pO(t,e){return new mO(t,e)}class gO{constructor(){this.changes=new mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&gu(s.mutation,a,ti.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ke()){const a=$a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=au();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=$a();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ke())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=Js();const u=pu(),f=(function(){return pu()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ca)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),gu(v.mutation,g,v.mutation.getFieldMask(),gt.now())):u.set(g.key,ti.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>f.set(g,new yO(v,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=pu();let a=new At(((u,f)=>u-f)),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||ti.empty();v=f.applyToLocalView(g,v),s.set(m,v);const b=(a.get(f.batchId)||Ke()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,b=yS();v.forEach((w=>{if(!l.has(w)){const k=ES(n.get(w),s.get(w));k!==null&&b.set(w,k),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):le.resolve($a());let f=Su,m=l;return u.next((g=>le.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ke()))).next((v=>({batchId:f,changes:gS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let a=au();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=au();return this.indexManager.getCollectionParents(e,l).next((f=>le.forEach(f,(m=>{const g=(function(b,w){return new Hl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,_n.newInvalidDocument(v)))}));let f=au();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&gu(v.mutation,g,ti.empty(),gt.now()),Ff(n,g)&&(f=f.insert(m,g))})),f}))}}class xO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:gs(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:lO(a.bundledQuery),readTime:gs(a.readTime)}})(n)),le.resolve()}}class _O{constructor(){this.overlays=new At(we.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$a();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const a=$a(),l=n.length+1,u=new we(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new At(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=$a(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=$a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return le.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new LP(n,s));let l=this.qr.get(n);l===void 0&&(l=Ke(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class bO{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class I0{constructor(){this.Qr=new Zt(sn.$r),this.Ur=new Zt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new sn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new pt([])),s=new sn(n,e),a=new sn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new pt([])),s=new sn(n,e),a=new sn(n,e+1);let l=Ke();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new sn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}class TO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(sn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new VP(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?x0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(Ge);return n.forEach((a=>{const l=new sn(a,0),u=new sn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{s=s.add(f.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new sn(new we(l),0);let f=new Zt(Ge);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),u),le.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(n.mutations,(a=>{const l=new sn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new sn(n,0),a=this.Zr.firstAfterOrEqual(s);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wO{constructor(e){this.ri=e,this.docs=(function(){return new At(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=Js();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Js();const u=n.path,f=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||J4(Z4(v),s)<=0||(a.has(v.key)||Ff(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Re(9500)}ii(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new EO(this)}getSize(e){return le.resolve(this.size)}}class EO extends gO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class AO{constructor(e){this.persistence=e,this.si=new mo((n=>T0(n)),w0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new I0,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class VS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lf(0),this.li=!1,this.li=!0,this.hi=new bO,this.referenceDelegate=e(this),this.Pi=new AO(this),this.indexManager=new cO,this.remoteDocumentCache=(function(a){return new wO(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new oO(n),this.Ii=new xO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _O,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new TO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const a=new SO(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class SO extends tP{constructor(e){super(),this.currentSequenceNumber=e}}class N0{constructor(e){this.persistence=e,this.Ri=new I0,this.Vi=null}static mi(e){return new N0(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const a=we.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class df{constructor(e,n){this.persistence=e,this.pi=new mo((s=>sP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=pO(this,n)}static mi(e,n){return new df(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Me.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fd(e.data.value)),n}br(e,n,s){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class D0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ke(),a=Ke();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new D0(e,n.fromCache,s,a)}}class CO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sN()?8:nP(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new CO;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(hl()<=He.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(hl()<=He.DEBUG&&ve("QueryEngine","Query:",dl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(hl()<=He.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ps(n))):le.resolve())}ys(e,n){if(ww(n))return le.resolve(null);let s=ps(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=py(n,null,"F"),s=ps(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ke(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,u,m.readTime)?this.ys(e,py(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return ww(n)||a.isEqual(Me.min())?le.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?le.resolve(null):(hl()<=He.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(n)),this.vs(e,u,n,W4(a,Su)).next((f=>f)))}))}Ds(e,n){let s=new Zt(mS(e));return n.forEach(((a,l)=>{Ff(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return hl()<=He.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",dl(n)),this.ps.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const M0="LocalStore",RO=3e8;class IO{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new At(Ge),this.xs=new mo((l=>T0(l)),w0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NO(t,e,n,s){return new IO(t,e,n,s)}async function LS(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let m=Ke();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function DO(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,v){const b=g.batch,w=b.keys();let k=le.resolve();return w.forEach((D=>{k=k.next((()=>v.getEntry(m,D))).next((O=>{const P=g.docVersions.get(D);nt(P!==null,48541),O.version.compareTo(P)<0&&(b.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),v.addEntry(O)))}))})),k.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ke();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function US(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function MO(t,e){const n=je(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(gn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,s)),a=a.insert(b,k),(function(O,P,q){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=RO?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(w,k,v)&&f.push(n.Pi.updateTargetData(l,k))}));let m=Js(),g=Ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(PO(l,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Me.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return le.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function PO(t,e,n){let s=Ke(),a=Ke();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Js();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):ve(M0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function OO(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=x0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jO(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,le.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Hr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function _y(t,e,n){const s=je(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Fl(u))throw u;ve(M0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function jw(t,e,n){const s=je(t);let a=Me.min(),l=Ke();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const b=je(m),w=b.xs.get(v);return w!==void 0?le.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,v)})(s,u,ps(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Me.min(),n?l:Ke()))).next((f=>(VO(s,wP(e),f),{documents:f,Qs:l})))))}function VO(t,e,n){let s=t.Os.get(e)||Me.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class Vw{constructor(){this.activeTargetIds=RP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LO{constructor(){this.Mo=new Vw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UO{Oo(e){}shutdown(){}}const Lw="ConnectivityMonitor";class Uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(Lw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(Lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nd=null;function by(){return Nd===null?Nd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nd++,"0x"+Nd.toString(16)}const Eg="RestConnection",BO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===lf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=by(),f=this.zo(e,n.toUriEncodedString());ve(Eg,`Sending RPC '${e}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),v=ia(g);return this.Jo(e,f,m,s,v).then((b=>(ve(Eg,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw kl(Eg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=BO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class qO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class FO extends zO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=by();return new Promise(((f,m)=>{const g=new zA;g.setWithCredentials(!0),g.listenOnce(qA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qd.NO_ERROR:const b=g.getResponseJson();ve(vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case qd.TIMEOUT:ve(vn,`RPC '${e}' ${u} timed out`),m(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const w=g.getStatus();if(ve(vn,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const D=k?.error;if(D&&D.status&&D.message){const O=(function(q){const ee=q.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ee)>=0?ee:se.UNKNOWN})(D.status);m(new ye(O,D.message))}else m(new ye(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ve(vn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ve(vn,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=by(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=GA(),f=HA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ve(vn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=u.createWebChannel(v,m);this.I_(b);let w=!1,k=!1;const D=new qO({Yo:P=>{k?ve(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(ve(vn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ve(vn,`RPC '${e}' stream ${a} sending:`,P),b.send(P))},Zo:()=>b.close()}),O=(P,q,ee)=>{P.listen(q,(Q=>{try{ee(Q)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return O(b,ru.EventType.OPEN,(()=>{k||(ve(vn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),O(b,ru.EventType.CLOSE,(()=>{k||(k=!0,ve(vn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(b))})),O(b,ru.EventType.ERROR,(P=>{k||(k=!0,kl(vn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),D.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),O(b,ru.EventType.MESSAGE,(P=>{if(!k){const q=P.data[0];nt(!!q,16349);const ee=q,Q=ee?.error||ee[0]?.error;if(Q){ve(vn,`RPC '${e}' stream ${a} received error:`,Q);const ce=Q.status;let he=(function(S){const N=Gt[S];if(N!==void 0)return SS(N)})(ce),ue=Q.message;he===void 0&&(he=se.INTERNAL,ue="Unknown error status: "+ce+" with message "+Q.message),k=!0,D.a_(new ye(he,ue)),b.close()}else ve(vn,`RPC '${e}' stream ${a} received:`,q),D.u_(q)}})),O(f,FA.STAT_EVENT,(P=>{P.stat===ly.PROXY?ve(vn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===ly.NOPROXY&&ve(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ag(){return typeof document<"u"?document:null}function $f(t){return new $P(t,!0)}class BS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bw="PersistentStream";class zS{constructor(e,n,s,a,l,u,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Zs(n.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(Bw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ve(Bw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HO extends zS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Me.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?gs(u.readTime):Me.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xy(this.serializer),n.addTarget=(function(l,u){let f;const m=u.target;if(f=fy(m)?{documents:JP(l,m)}:{query:eO(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=RS(l,u.resumeToken);const g=gy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Me.min())>0){f.readTime=hf(l,u.snapshotVersion.toTimestamp());const g=gy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const s=nO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xy(this.serializer),n.removeTarget=e,this.q_(n)}}class GO extends zS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZP(e.writeResults,e.commitTime),s=gs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>WP(this.serializer,s)))};this.q_(n)}}class KO{}class $O extends KO{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,yy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,yy(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class QO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zs(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oo="RemoteStore";class YO{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{po(this)&&(ve(oo,"Restarting streams for network reachability change."),await(async function(m){const g=je(m);g.Ea.add(4),await Qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Qf(g)})(this))}))})),this.Ra=new QO(s,a)}}async function Qf(t){if(po(t))for(const e of t.da)await e(!0)}async function Qu(t){for(const e of t.da)await e(!1)}function qS(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),V0(n)?j0(n):Gl(n).O_()&&O0(n,e))}function P0(t,e){const n=je(t),s=Gl(n);n.Ia.delete(e),s.O_()&&FS(n,e),n.Ia.size===0&&(s.O_()?s.L_():po(n)&&n.Ra.set("Unknown"))}function O0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).Y_(e)}function FS(t,e){t.Va.Ue(e),Gl(t).Z_(e)}function j0(t){t.Va=new FP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.Ra.ua()}function V0(t){return po(t)&&!Gl(t).x_()&&t.Ia.size>0}function po(t){return je(t).Ea.size===0}function HS(t){t.Va=void 0}async function XO(t){t.Ra.set("Online")}async function WO(t){t.Ia.forEach(((e,n)=>{O0(t,e)}))}async function ZO(t,e){HS(t),V0(t)?(t.Ra.ha(e),j0(t)):t.Ra.set("Unknown")}async function JO(t,e,n){if(t.Ra.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(s){ve(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ff(t,s)}else if(e instanceof Kd?t.Va.Ze(e):e instanceof CS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const s=await US(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),FS(l,m);const b=new Hr(v.target,m,g,v.sequenceNumber);O0(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){ve(oo,"Failed to raise snapshot:",s),await ff(t,s)}}async function ff(t,e,n){if(!Fl(e))throw e;t.Ea.add(1),await Qu(t),t.Ra.set("Offline"),n||(n=()=>US(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ve(oo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qf(t)}))}function GS(t,e){return e().catch((n=>ff(t,n,e)))}async function Yf(t){const e=je(t),n=Jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:x0;for(;ej(e);)try{const a=await OO(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,tj(e,a)}catch(a){await ff(e,a)}KS(e)&&$S(e)}function ej(t){return po(t)&&t.Ta.length<10}function tj(t,e){t.Ta.push(e);const n=Jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KS(t){return po(t)&&!Jr(t).x_()&&t.Ta.length>0}function $S(t){Jr(t).start()}async function nj(t){Jr(t).ra()}async function ij(t){const e=Jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function sj(t,e,n){const s=t.Ta.shift(),a=C0.from(s,e,n);await GS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Yf(t)}async function rj(t,e){e&&Jr(t).X_&&await(async function(s,a){if((function(u){return BP(u)&&u!==se.ABORTED})(a.code)){const l=s.Ta.shift();Jr(s).B_(),await GS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Yf(s)}})(t,e),KS(t)&&$S(t)}async function zw(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),ve(oo,"RemoteStore received new credentials");const s=po(n);n.Ea.add(3),await Qu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qf(n)}async function aj(t,e){const n=je(t);e?(n.Ea.delete(2),await Qf(n)):e||(n.Ea.add(2),await Qu(n),n.Ra.set("Unknown"))}function Gl(t){return t.ma||(t.ma=(function(n,s,a){const l=je(n);return l.sa(),new HO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:XO.bind(null,t),t_:WO.bind(null,t),r_:ZO.bind(null,t),H_:JO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),V0(t)?j0(t):t.Ra.set("Unknown")):(await t.ma.stop(),HS(t))}))),t.ma}function Jr(t){return t.fa||(t.fa=(function(n,s,a){const l=je(n);return l.sa(),new GO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nj.bind(null,t),r_:rj.bind(null,t),ta:ij.bind(null,t),na:sj.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Yf(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(oo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class L0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new L0(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U0(t,e){if(Zs("AsyncQueue",`${e}: ${t}`),Fl(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class qw{constructor(){this.ga=new At(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Pl{constructor(e,n,s,a,l,u,f,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Pl(e,n,wl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class oj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lj{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=je(n),l=a.queries;a.queries=Fw(),l.forEach(((u,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function Fw(){return new mo((t=>fS(t)),qf)}async function B0(t,e){const n=je(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new oj,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=U0(u,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&q0(n)}async function z0(t,e){const n=je(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cj(t,e){const n=je(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(s=!0);u.wa=a}}s&&q0(n)}function uj(t,e,n){const s=je(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function q0(t){t.Ca.forEach((e=>{e.next()}))}var Ty,Hw;(Hw=Ty||(Ty={})).Ma="default",Hw.Cache="cache";class F0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}class QS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class hj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=mS(e),this.tu=new wl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new qw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),k=Ff(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),O=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;w&&k?w.data.isEqual(k.data)?D!==O&&(s.track({type:3,doc:k}),P=!0):this.su(w,k)||(s.track({type:2,doc:k}),P=!0,(m&&this.eu(k,m)>0||g&&this.eu(k,g)<0)&&(f=!0)):!w&&k?(s.track({type:0,doc:k}),P=!0):w&&!k&&(s.track({type:1,doc:w}),P=!0,(m||g)&&(f=!0)),P&&(k?(u=u.add(k),l=O?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(k,D){const O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:P})}};return O(k)-O(D)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Pl(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new YS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new QS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const H0="SyncEngine";class dj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fj{constructor(e){this.key=e,this.hu=!1}}class mj{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new mo((f=>fS(f)),qf),this.Iu=new Map,this.Eu=new Set,this.du=new At(we.comparator),this.Au=new Map,this.Ru=new I0,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pj(t,e,n=!0){const s=t2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await XS(s,e,n,!0),a}async function gj(t,e){const n=t2(t);await XS(n,e,!0,!1)}async function XS(t,e,n,s){const a=await jO(t.localStore,ps(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await yj(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&qS(t.remoteStore,a),f}async function yj(t,e,n,s,a){t.pu=(b,w,k)=>(async function(O,P,q,ee){let Q=P.view.ru(q);Q.Cs&&(Q=await jw(O.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Q))));const ce=ee&&ee.targetChanges.get(P.targetId),he=ee&&ee.targetMismatches.get(P.targetId)!=null,ue=P.view.applyChanges(Q,O.isPrimaryClient,ce,he);return Kw(O,P.targetId,ue.au),ue.snapshot})(t,b,w,k);const l=await jw(t.localStore,e,!0),u=new hj(e,l.Qs),f=u.ru(l.documents),m=$u.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,m);Kw(t,n,g.au);const v=new dj(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function vj(t,e,n){const s=je(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!qf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await _y(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&P0(s.remoteStore,a.targetId),wy(s,a.targetId)})).catch(ql)):(wy(s,a.targetId),await _y(s.localStore,a.targetId,!0))}async function xj(t,e){const n=je(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),P0(n.remoteStore,s.targetId))}async function _j(t,e,n){const s=Cj(t);try{const a=await(function(u,f){const m=je(u),g=gt.now(),v=f.reduce(((k,D)=>k.add(D.key)),Ke());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let D=Js(),O=Ke();return m.Ns.getEntries(k,v).next((P=>{D=P,D.forEach(((q,ee)=>{ee.isValidDocument()||(O=O.add(q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(k,D))).next((P=>{b=P;const q=[];for(const ee of f){const Q=OP(ee,b.get(ee.key).overlayedDocument);Q!=null&&q.push(new ca(ee.key,Q,rS(Q.value.mapValue),_i.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,q,f)})).next((P=>{w=P;const q=P.applyToLocalDocumentSet(b,O);return m.documentOverlayCache.saveOverlays(k,P.batchId,q)}))})).then((()=>({batchId:w.batchId,changes:gS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new At(Ge)),g=g.insert(f,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await Yu(s,a.changes),await Yf(s.remoteStore)}catch(a){const l=U0(a,"Failed to persist write");n.reject(l)}}async function WS(t,e){const n=je(t);try{const s=await MO(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))})),await Yu(n,s,e)}catch(s){await ql(s)}}function Gw(t,e,n){const s=je(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=je(u);m.onlineState=f;let g=!1;m.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(f)&&(g=!0)})),g&&q0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bj(t,e,n){const s=je(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new At(we.comparator);u=u.insert(l,_n.newNoDocument(l,Me.min()));const f=Ke().add(l),m=new Kf(Me.min(),new Map,new At(Ge),u,f);await WS(s,m),s.du=s.du.remove(l),s.Au.delete(e),G0(s)}else await _y(s.localStore,e,!1).then((()=>wy(s,e,n))).catch(ql)}async function Tj(t,e){const n=je(t),s=e.batch.batchId;try{const a=await DO(n.localStore,e);JS(n,s,null),ZS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(n,a)}catch(a){await ql(a)}}async function wj(t,e,n){const s=je(t);try{const a=await(function(u,f){const m=je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next((b=>(nt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);JS(s,e,n),ZS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yu(s,a)}catch(a){await ql(a)}}function ZS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function JS(t,e,n){const s=je(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||e2(t,s)}))}function e2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(P0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),G0(t))}function Kw(t,e,n){for(const s of n)s instanceof QS?(t.Ru.addReference(s.key,e),Ej(t,s)):s instanceof YS?(ve(H0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||e2(t,s.key)):Re(19791,{wu:s})}function Ej(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ve(H0,"New document in limbo: "+n),t.Eu.add(s),G0(t))}function G0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(pt.fromString(e)),s=t.fu.next();t.Au.set(s,new fj(n)),t.du=t.du.insert(n,s),qS(t.remoteStore,new Hr(ps(zf(n.path)),s,"TargetPurposeLimboResolution",Lf.ce))}}async function Yu(t,e,n){const s=je(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=D0.As(m.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const v=je(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(g,(w=>le.forEach(w.Es,(k=>v.persistence.referenceDelegate.addReference(b,w.targetId,k))).next((()=>le.forEach(w.ds,(k=>v.persistence.referenceDelegate.removeReference(b,w.targetId,k)))))))))}catch(b){if(!Fl(b))throw b;ve(M0,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const k=v.Ms.get(w),D=k.snapshotVersion,O=k.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(w,O)}}})(s.localStore,l))}async function Aj(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){ve(H0,"User change. New user:",e.toKey());const s=await LS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ye(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yu(n,s.Ls)}}function Sj(t,e){const n=je(t),s=n.Au.get(e);if(s&&s.hu)return Ke().add(s.key);{let a=Ke();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function t2(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bj.bind(null,e),e.Pu.H_=cj.bind(null,e.eventManager),e.Pu.yu=uj.bind(null,e.eventManager),e}function Cj(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NO(this.persistence,new kO,e.initialUser,this.serializer)}Cu(e){return new VS(N0.mi,this.serializer)}Du(e){return new LO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class kj extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof df,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new VS((s=>df.mi(s,n)),this.serializer)}}class Ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),await aj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lj})()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),s=(function(l){return new FO(l)})(e.databaseInfo);return(function(l,u,f,m){return new $O(l,u,f,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new YO(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Gw(this.syncEngine,n,0)),(function(){return Uw.v()?new Uw:new UO})())}createSyncEngine(e,n){return(function(a,l,u,f,m,g,v){const b=new mj(a,l,u,f,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=je(n);ve(oo,"RemoteStore shutting down."),s.Ea.add(5),await Qu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ey.provider={build:()=>new Ey};class K0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ea="FirestoreClient";class Rj{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ve(ea,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ve(ea,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=U0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress(),ve(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await LS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ij(t);ve(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>zw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>zw(e.remoteStore,a))),t._onlineComponents=e}async function Ij(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(ea,"Using user provided OfflineComponentProvider");try{await Sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;kl("Error using user provided cache. Falling back to memory cache: "+n),await Sg(t,new mf)}}else ve(ea,"Using default OfflineComponentProvider"),await Sg(t,new kj(void 0));return t._offlineComponents}async function n2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(ea,"Using user provided OnlineComponentProvider"),await $w(t,t._uninitializedComponentsProvider._online)):(ve(ea,"Using default OnlineComponentProvider"),await $w(t,new Ey))),t._onlineComponents}function Nj(t){return n2(t).then((e=>e.syncEngine))}async function pf(t){const e=await n2(t),n=e.eventManager;return n.onListen=pj.bind(null,e.syncEngine),n.onUnlisten=vj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xj.bind(null,e.syncEngine),n}function Dj(t,e,n={}){const s=new $s;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const v=new K0({next:w=>{v.Nu(),u.enqueueAndForget((()=>z0(l,b)));const k=w.docs.has(f);!k&&w.fromCache?g.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&m&&m.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new F0(zf(f.path),v,{includeMetadataChanges:!0,qa:!0});return B0(l,b)})(await pf(t),t.asyncQueue,e,n,s))),s.promise}function Mj(t,e,n={}){const s=new $s;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const v=new K0({next:w=>{v.Nu(),u.enqueueAndForget((()=>z0(l,b))),w.fromCache&&m.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new F0(f,v,{includeMetadataChanges:!0,qa:!0});return B0(l,b)})(await pf(t),t.asyncQueue,e,n,s))),s.promise}function i2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Qw=new Map;const s2="firestore.googleapis.com",Yw=!0;class Xw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s2,this.ssl=Yw}else this.host=e.host,this.ssl=e.ssl??Yw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hO)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new B4;switch(s.type){case"firstParty":return new H4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Qw.get(n);s&&(ve("ComponentProvider","Removing Datastore"),Qw.delete(n),s.terminate())})(this),Promise.resolve()}}function Pj(t,e,n,s={}){t=Fn(t,Xf);const a=ia(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(s0(`https://${f}`),r0("Firestore",!0)),l.host!==s2&&l.host!==f&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ys(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=xn.MOCK_USER;else{g=WE(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new xn(b)}t._authCredentials=new z4(new $A(g,v))}}class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class It{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Gu(n,It._jsonSchema))return new It(e,s||null,new we(pt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Qt("string",It._jsonSchemaVersion),referencePath:Qt("string")};class Qr extends ua{constructor(e,n,s){super(e,n,zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new we(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function ds(t,e,...n){if(t=dt(t),QA("collection","path",e),t instanceof Xf){const s=pt.fromString(e,...n);return cw(s),new Qr(t,null,s)}{if(!(t instanceof It||t instanceof Qr))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return cw(s),new Qr(t.firestore,null,s)}}function mn(t,e,...n){if(t=dt(t),arguments.length===1&&(e=v0.newId()),QA("doc","path",e),t instanceof Xf){const s=pt.fromString(e,...n);return lw(s),new It(t,null,new we(s))}{if(!(t instanceof It||t instanceof Qr))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return lw(s),new It(t.firestore,t instanceof Qr?t.converter:null,new we(s))}}const Ww="AsyncQueue";class Zw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BS(this,"async_queue_retry"),this._c=()=>{const s=Ag();s&&ve(Ww,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fl(e))throw e;ve(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Zs("INTERNAL UNHANDLED ERROR: ",Jw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=L0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:Jw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function e1(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class er extends Xf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Zw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zw(e),this._firestoreClient=void 0,await e}}}function Oj(t,e){const n=typeof t=="object"?t:Mf(),s=typeof t=="string"?t:lf,a=sa(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=QE("firestore");l&&Pj(a,...l)}return a}function Wf(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jj(t),t._firestoreClient}function jj(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new oP(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,i2(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Rj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(gn.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Qt("string",vi._jsonSchemaVersion),bytes:Qt("string")};class Zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kl{constructor(e){this._methodName=e}}class ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,ys._jsonSchema))return new ys(e.latitude,e.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:Qt("string",ys._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vs(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vs._jsonSchemaVersion="firestore/vectorValue/1.0",vs._jsonSchema={type:Qt("string",vs._jsonSchemaVersion),vectorValues:Qt("object")};const Vj=/^__.*__$/;class Lj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class r2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function a2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class Jf{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(a2(this.Ac)&&Vj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$f(e)}Cc(e,n,s,a=!1){return new Jf({Ac:e,methodName:n,Dc:s,path:pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new Uj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o2(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);X0("Data must be an object, but it was:",u,s);const f=l2(s,u);let m,g;if(l.merge)m=new ti(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=Ay(e,b,n);if(!u.contains(w))throw new ye(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);u2(v,w)||v.push(w)}m=new ti(v),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new Lj(new Un(f),m,g)}class tm extends Kl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function Bj(t,e,n){return new Jf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $0 extends Kl{_toFieldTransform(e){return new A0(e.path,new Nu)}isEqual(e){return e instanceof $0}}class Q0 extends Kl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Bj(this,e,!0),s=this.vc.map((l=>$l(l,n))),a=new Dl(s);return new A0(e.path,a)}isEqual(e){return e instanceof Q0&&Ys(this.vc,e.vc)}}class Y0 extends Kl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Mu(e.serializer,xS(e.serializer,this.Fc));return new A0(e.path,n)}isEqual(e){return e instanceof Y0&&this.Fc===e.Fc}}function zj(t,e,n,s){const a=t.Cc(1,e,n);X0("Data must be an object, but it was:",a,s);const l=[],u=Un.empty();la(s,((m,g)=>{const v=W0(e,m,n);g=dt(g);const b=a.yc(v);if(g instanceof tm)l.push(v);else{const w=$l(g,b);w!=null&&(l.push(v),u.set(v,w))}}));const f=new ti(l);return new r2(u,f,a.fieldTransforms)}function qj(t,e,n,s,a,l){const u=t.Cc(1,e,n),f=[Ay(e,s,n)],m=[a];if(l.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Ay(e,l[w])),m.push(l[w+1]);const g=[],v=Un.empty();for(let w=f.length-1;w>=0;--w)if(!u2(g,f[w])){const k=f[w];let D=m[w];D=dt(D);const O=u.yc(k);if(D instanceof tm)g.push(k);else{const P=$l(D,O);P!=null&&(g.push(k),v.set(k,P))}}const b=new ti(g);return new r2(v,b,u.fieldTransforms)}function Fj(t,e,n,s=!1){return $l(n,t.Cc(s?4:3,e))}function $l(t,e){if(c2(t=dt(t)))return X0("Unsupported field value:",e,t),l2(t,e);if(t instanceof Kl)return(function(s,a){if(!a2(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let m=$l(f,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:hf(a.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hf(a.serializer,l)}}if(s instanceof ys)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:RS(a.serializer,s._byteString)};if(s instanceof It){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:R0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vs)return(function(u,f){return{mapValue:{fields:{[iS]:{stringValue:sS},[cf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return E0(f.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Vf(s)}`)})(t,e)}function l2(t,e){const n={};return WA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((s,a)=>{const l=$l(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function c2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof ys||t instanceof vi||t instanceof It||t instanceof Kl||t instanceof vs)}function X0(t,e,n){if(!c2(n)||!YA(n)){const s=Vf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Ay(t,e,n){if((e=dt(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return W0(t,e);throw gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hj=new RegExp("[~\\*/\\[\\]]");function W0(t,e,n){if(e.search(Hj)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zf(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gf(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ye(se.INVALID_ARGUMENT,f+t+m)}function u2(t,e){return t.some((n=>n.isEqual(e)))}class h2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gj extends h2{data(){return super.data()}}function nm(t,e){return typeof e=="string"?W0(t,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}function d2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z0{}class f2 extends Z0{}function yu(t,e,...n){let s=[];e instanceof Z0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof J0)).length,f=l.filter((m=>m instanceof im)).length;if(u>1||u>0&&f>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class im extends f2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new im(e,n,s)}_apply(e){const n=this._parse(e);return m2(e._query,n),new ua(e.firestore,e.converter,my(e._query,n))}_parse(e){const n=em(e.firestore);return(function(l,u,f,m,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){i1(b,v);const D=[];for(const O of b)D.push(n1(m,l,O));w={arrayValue:{values:D}}}else w=n1(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||i1(b,v),w=Fj(f,u,b,v==="in"||v==="not-in");return $t.create(g,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sy(t,e,n){const s=e,a=nm("where",t);return im._create(a,s,n)}class J0 extends Z0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)m2(u,m),u=my(u,m)})(e._query,n),new ua(e.firestore,e.converter,my(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ev extends f2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ev(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(l,u)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Hl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function t1(t,e="asc"){const n=e,s=nm("orderBy",t);return ev._create(s,n)}function n1(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!we.isDocumentKey(s))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yw(t,new we(s))}if(n instanceof It)return yw(t,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function i1(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m2(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kj{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[cf].arrayValue?.values?.map((s=>Ot(s.doubleValue)));return new vs(n)}convertGeoPoint(e){return new ys(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);nt(OS(s),9688,{name:e});const a=new ku(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(n)||Zs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function p2(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends h2{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Qt("string",Wa._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class $d extends Wa{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new lu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $d(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new $d(a._firestore,a._userDataWriter,f.doc.key,f.doc,new lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new $d(a._firestore,a._userDataWriter,f.doc.key,f.doc,new lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:$j(f.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $j(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}function Cy(t){t=Fn(t,It);const e=Fn(t.firestore,er);return Dj(Wf(e),t._key).then((n=>g2(e,t,n)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Qt("string",Za._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class tv extends Kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function yf(t){t=Fn(t,ua);const e=Fn(t.firestore,er),n=Wf(e),s=new tv(e);return d2(t._query),Mj(n,t._query).then((a=>new Za(e,s,t,a)))}function cu(t,e,n){t=Fn(t,It);const s=Fn(t.firestore,er),a=p2(t.converter,e,n);return sm(s,[o2(em(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_i.none())])}function El(t,e,n,...s){t=Fn(t,It);const a=Fn(t.firestore,er),l=em(a);let u;return u=typeof(e=dt(e))=="string"||e instanceof Zf?qj(l,"updateDoc",t._key,e,n,s):zj(l,"updateDoc",t._key,e),sm(a,[u.toMutation(t._key,_i.exists(!0))])}function vf(t){return sm(Fn(t.firestore,er),[new S0(t._key,_i.none())])}function xf(t,e){const n=Fn(t.firestore,er),s=mn(t),a=p2(t.converter,e);return sm(n,[o2(em(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then((()=>s))}function s1(t,...e){t=dt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||e1(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(e1(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,u,f;if(t instanceof It)u=Fn(t.firestore,er),f=zf(t._key.path),l={next:m=>{e[s]&&e[s](g2(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Fn(t,ua);u=Fn(m.firestore,er),f=m._query;const g=new tv(u);l={next:v=>{e[s]&&e[s](new Za(u,g,m,v))},error:e[s+1],complete:e[s+2]},d2(t._query)}return(function(g,v,b,w){const k=new K0(w),D=new F0(v,k,b);return g.asyncQueue.enqueueAndForget((async()=>B0(await pf(g),D))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>z0(await pf(g),D)))}})(Wf(u),f,a,l)}function sm(t,e){return(function(s,a){const l=new $s;return s.asyncQueue.enqueueAndForget((async()=>_j(await Nj(s),a,l))),l.promise})(Wf(t),e)}function g2(t,e,n){const s=n.docs.get(e._key),a=new tv(t);return new Wa(t,a,e._key,s,new lu(n.hasPendingWrites,n.fromCache),e.converter)}function ll(){return new $0("serverTimestamp")}function Qj(...t){return new Q0("arrayUnion",t)}function r1(t){return new Y0("increment",t)}(function(e,n=!0){(function(a){zl=a})(fo),Bi(new Ti("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new er(new q4(s.getProvider("auth-internal")),new G4(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),qn(sw,rw,e),qn(sw,rw,"esm2020")})();var Yj="firebase",Xj="12.7.0";qn(Yj,Xj,"app");const y2="firebasestorage.googleapis.com",v2="storageBucket",Wj=120*1e3,Zj=600*1e3,Jj=1e3;class St extends Ei{constructor(e,n,s=0){super(Cg(e),`Firebase Storage: ${n} (${Cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Cg(t){return"storage/"+t}function nv(){const t="An unknown error occurred, please check the error payload for server response.";return new St(xt.UNKNOWN,t)}function eV(t){return new St(xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tV(t){return new St(xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(xt.UNAUTHENTICATED,t)}function iV(){return new St(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sV(t){return new St(xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function x2(){return new St(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _2(){return new St(xt.CANCELED,"User canceled the upload/download.")}function rV(t){return new St(xt.INVALID_URL,"Invalid URL '"+t+"'.")}function aV(t){return new St(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oV(){return new St(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v2+"' property when initializing the app?")}function b2(){return new St(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lV(){return new St(xt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function cV(){return new St(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uV(t){return new St(xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ky(t){return new St(xt.INVALID_ARGUMENT,t)}function T2(){return new St(xt.APP_DELETED,"The Firebase app was deleted.")}function hV(t){return new St(xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vu(t,e){return new St(xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function eu(t){throw new St(xt.INTERNAL_ERROR,"Internal error: "+t)}class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(s.path==="")return s;throw aV(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),D={bucket:1,path:3},O=n===y2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",q=new RegExp(`^https?://${O}/${a}/${P}`,"i"),Q=[{regex:f,indices:m,postModify:l},{regex:k,indices:D,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<Q.length;ce++){const he=Q[ce],ue=he.regex.exec(e);if(ue){const I=ue[he.indices.bucket];let S=ue[he.indices.path];S||(S=""),s=new ni(I,S),he.postModify(s);break}}if(s==null)throw rV(e);return s}}class dV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fV(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,t(k,m())},P)}function w(){l&&clearTimeout(l)}function k(P,...q){if(g){w();return}if(P){w(),v.call(null,P,...q);return}if(m()||u){w(),v.call(null,P,...q);return}s<64&&(s*=2);let Q;f===1?(f=2,Q=0):Q=(s+Math.random())*1e3,b(Q)}let D=!1;function O(P){D||(D=!0,w(),!g&&(a!==null?(P||(f=2),clearTimeout(a),b(0)):P||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,O(!0)},n),O}function mV(t){t(!1)}function pV(t){return t!==void 0}function gV(t){return typeof t=="function"}function yV(t){return typeof t=="object"&&!Array.isArray(t)}function rm(t){return typeof t=="string"||t instanceof String}function a1(t){return iv()&&t instanceof Blob}function iv(){return typeof Blob<"u"}function o1(t,e,n,s){if(s<e)throw ky(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw ky(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ql(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function w2(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ja||(Ja={}));function E2(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class vV{constructor(e,n,s,a,l,u,f,m,g,v,b,w=!0,k=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,O)=>{this.resolve_=D,this.reject_=O,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Dd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Ja.NO_ERROR,m=l.getStatus();if(!f||E2(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ja.ABORT;s(!1,new Dd(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Dd(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());pV(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=nv();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?T2():_2();u(m)}else{const m=x2();u(m)}};this.canceled_?n(!1,new Dd(!1,null,!0)):this.backoffId_=fV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function xV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _V(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wV(t,e,n,s,a,l,u=!0,f=!1){const m=w2(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return bV(v,e),xV(v,n),_V(v,l),TV(v,s),new vV(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function EV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AV(...t){const e=EV();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(iv())return new Blob(t);throw new St(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function CV(t){if(typeof atob>"u")throw uV("base-64");return atob(t)}const fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kg{constructor(e,n){this.data=e,this.contentType=n||null}}function kV(t,e){switch(t){case fs.RAW:return new kg(A2(e));case fs.BASE64:case fs.BASE64URL:return new kg(S2(t,e));case fs.DATA_URL:return new kg(IV(e),NV(e))}throw nv()}function A2(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function RV(t){let e;try{e=decodeURIComponent(t)}catch{throw vu(fs.DATA_URL,"Malformed data URL.")}return A2(e)}function S2(t,e){switch(t){case fs.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw vu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case fs.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw vu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CV(e)}catch(a){throw a.message.includes("polyfill")?a:vu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class C2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vu(fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=DV(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function IV(t){const e=new C2(t);return e.base64?S2(fs.BASE64,e.rest):RV(e.rest)}function NV(t){return new C2(t).contentType}function DV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Fs{constructor(e,n){let s=0,a="";a1(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(a1(this.data_)){const s=this.data_,a=SV(s,e,n);return a===null?null:new Fs(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Fs(s,!0)}}static getBlob(...e){if(iv()){const n=e.map(s=>s instanceof Fs?s.data_:s);return new Fs(AV.apply(null,n))}else{const n=e.map(u=>rm(u)?kV(fs.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new Fs(a,!0)}}uploadData(){return this.data_}}function k2(t){let e;try{e=JSON.parse(t)}catch{return null}return yV(e)?e:null}function MV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PV(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function R2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function OV(t,e){return e}class Sn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||OV}}let Md=null;function jV(t){return!rm(t)||t.length<2?t:R2(t)}function sv(){if(Md)return Md;const t=[];t.push(new Sn("bucket")),t.push(new Sn("generation")),t.push(new Sn("metageneration")),t.push(new Sn("name","fullPath",!0));function e(l,u){return jV(u)}const n=new Sn("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new Sn("size");return a.xform=s,t.push(a),t.push(new Sn("timeCreated")),t.push(new Sn("updated")),t.push(new Sn("md5Hash",null,!0)),t.push(new Sn("cacheControl",null,!0)),t.push(new Sn("contentDisposition",null,!0)),t.push(new Sn("contentEncoding",null,!0)),t.push(new Sn("contentLanguage",null,!0)),t.push(new Sn("contentType",null,!0)),t.push(new Sn("metadata","customMetadata",!0)),Md=t,Md}function VV(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new ni(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function LV(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return VV(s,t),s}function I2(t,e,n){const s=k2(e);return s===null?null:LV(t,s,n)}function UV(t,e,n,s){const a=k2(e);if(a===null||!rm(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,b=t.fullPath,w="/b/"+u(v)+"/o/"+u(b),k=Ql(w,n,s),D=w2({alt:"media",token:g});return k+D})[0]}function N2(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class go{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qs(t){if(!t)throw nv()}function rv(t,e){function n(s,a){const l=I2(t,a,e);return Qs(l!==null),l}return n}function BV(t,e){function n(s,a){const l=I2(t,a,e);return Qs(l!==null),UV(l,a,t.host,t._protocol)}return n}function Xu(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=iV():a=nV():n.getStatus()===402?a=tV(t.bucket):n.getStatus()===403?a=sV(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function av(t){const e=Xu(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=eV(t.path)),l.serverResponse=a.serverResponse,l}return n}function zV(t,e,n){const s=e.fullServerUrl(),a=Ql(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new go(a,l,rv(t,n),u);return f.errorHandler=av(e),f}function qV(t,e,n){const s=e.fullServerUrl(),a=Ql(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new go(a,l,BV(t,n),u);return f.errorHandler=av(e),f}function FV(t,e){const n=e.fullServerUrl(),s=Ql(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(m,g){}const f=new go(s,a,u,l);return f.successCodes=[200,204],f.errorHandler=av(e),f}function HV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function D2(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=HV(null,e)),s}function M2(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let Q="";for(let ce=0;ce<2;ce++)Q=Q+Math.random().toString().slice(2);return Q}const m=f();u["Content-Type"]="multipart/related; boundary="+m;const g=D2(e,s,a),v=N2(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",k=Fs.getBlob(b,s,w);if(k===null)throw b2();const D={name:g.fullPath},O=Ql(l,t.host,t._protocol),P="POST",q=t.maxUploadRetryTime,ee=new go(O,P,rv(t,n),q);return ee.urlParams=D,ee.headers=u,ee.body=k.uploadData(),ee.errorHandler=Xu(e),ee}class _f{constructor(e,n,s,a){this.current=e,this.total=n,this.finalized=!!s,this.metadata=a||null}}function ov(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Qs(!1)}return Qs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function GV(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u=D2(e,s,a),f={name:u.fullPath},m=Ql(l,t.host,t._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},b=N2(u,n),w=t.maxUploadRetryTime;function k(O){ov(O);let P;try{P=O.getResponseHeader("X-Goog-Upload-URL")}catch{Qs(!1)}return Qs(rm(P)),P}const D=new go(m,g,k,w);return D.urlParams=f,D.headers=v,D.body=b,D.errorHandler=Xu(e),D}function KV(t,e,n,s){const a={"X-Goog-Upload-Command":"query"};function l(g){const v=ov(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qs(!1)}b||Qs(!1);const w=Number(b);return Qs(!isNaN(w)),new _f(w,s.size(),v==="final")}const u="POST",f=t.maxUploadRetryTime,m=new go(n,u,l,f);return m.headers=a,m.errorHandler=Xu(e),m}const l1=256*1024;function $V(t,e,n,s,a,l,u,f){const m=new _f(0,0);if(u?(m.current=u.current,m.total=u.total):(m.current=0,m.total=s.size()),s.size()!==m.total)throw lV();const g=m.total-m.current;let v=g;a>0&&(v=Math.min(v,a));const b=m.current,w=b+v;let k="";v===0?k="finalize":g===v?k="upload, finalize":k="upload";const D={"X-Goog-Upload-Command":k,"X-Goog-Upload-Offset":`${m.current}`},O=s.slice(b,w);if(O===null)throw b2();function P(ce,he){const ue=ov(ce,["active","final"]),I=m.current+v,S=s.size();let N;return ue==="final"?N=rv(e,l)(ce,he):N=null,new _f(I,S,ue==="final",N)}const q="POST",ee=e.maxUploadRetryTime,Q=new go(n,q,P,ee);return Q.headers=D,Q.body=O.uploadData(),Q.progressCallback=f||null,Q.errorHandler=Xu(t),Q}const Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rg(t){switch(t){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}class QV{constructor(e,n,s){if(gV(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function cl(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class YV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw eu("cannot .send() more than once");if(ia(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XV extends YV{initXhr(){this.xhr_.responseType="text"}}function qr(){return new XV}class WV{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=sv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(xt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(E2(a.status,[]))if(l)a=x2();else{this.sleepTime=Math.max(this.sleepTime*2,Jj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(xt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=GV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,qr,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const a=KV(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,qr,n,s);this._request=l,l.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=l1*this._chunkMultiplier,n=new _f(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let u;try{u=$V(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(m){this._error=m,this._transition("error");return}const f=this._ref.storage._makeRequest(u,qr,a,l,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){l1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=zV(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,qr,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=M2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,qr,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Rg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,a){const l=new QV(n||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Rg(this._state)){case Vn.SUCCESS:cl(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:const n=this._reject;cl(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rg(this._state)){case Vn.RUNNING:case Vn.PAUSED:e.next&&cl(e.next.bind(e,this.snapshot))();break;case Vn.SUCCESS:e.complete&&cl(e.complete.bind(e))();break;case Vn.CANCELED:case Vn.ERROR:e.error&&cl(e.error.bind(e,this._error))();break;default:e.error&&cl(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class lo{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lo(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R2(this._location.path)}get storage(){return this._service}get parent(){const e=MV(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new lo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw hV(e)}}function ZV(t,e,n){t._throwIfRoot("uploadBytes");const s=M2(t.storage,t._location,sv(),new Fs(e,!0),n);return t.storage.makeRequestWithTokens(s,qr).then(a=>({metadata:a,ref:t}))}function JV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new WV(t,new Fs(e),n)}function e3(t){t._throwIfRoot("getDownloadURL");const e=qV(t.storage,t._location,sv());return t.storage.makeRequestWithTokens(e,qr).then(n=>{if(n===null)throw cV();return n})}function t3(t){t._throwIfRoot("deleteObject");const e=FV(t.storage,t._location);return t.storage.makeRequestWithTokens(e,qr)}function n3(t,e){const n=PV(t._location.path,e),s=new ni(t._location.bucket,n);return new lo(t.storage,s)}function i3(t){return/^[A-Za-z]+:\/\//.test(t)}function s3(t,e){return new lo(t,e)}function P2(t,e){if(t instanceof lv){const n=t;if(n._bucket==null)throw oV();const s=new lo(n,n._bucket);return e!=null?P2(s,e):s}else return e!==void 0?n3(t,e):t}function r3(t,e){if(e&&i3(e)){if(t instanceof lv)return s3(t,e);throw ky("To use ref(service, url), the first argument must be a Storage instance.")}else return P2(t,e)}function c1(t,e){const n=e?.[v2];return n==null?null:ni.makeFromBucketSpec(n,t)}function a3(t,e,n,s={}){t.host=`${e}:${n}`;const a=ia(e);a&&(s0(`https://${t.host}/b`),r0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:WE(l,t.app.options.projectId))}class lv{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=y2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Wj,this._maxUploadRetryTime=Zj,this._requests=new Set,a!=null?this._bucket=ni.makeFromBucketSpec(a,this._host):this._bucket=c1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=c1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lo(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new dV(T2());{const u=wV(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const u1="@firebase/storage",h1="0.14.0";const O2="storage";function o3(t,e,n){return t=dt(t),ZV(t,e,n)}function l3(t,e,n){return t=dt(t),JV(t,e,n)}function j2(t){return t=dt(t),e3(t)}function c3(t){return t=dt(t),t3(t)}function Ry(t,e){return t=dt(t),r3(t,e)}function u3(t=Mf(),e){t=dt(t);const s=sa(t,O2).getImmediate({identifier:e}),a=QE("storage");return a&&h3(s,...a),s}function h3(t,e,n,s={}){a3(t,e,n,s)}function d3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new lv(n,s,a,e,fo)}function f3(){Bi(new Ti(O2,d3,"PUBLIC").setMultipleInstances(!0)),qn(u1,h1,""),qn(u1,h1,"esm2020")}f3();const V2="@firebase/installations",cv="0.6.19";const L2=1e4,U2=`w:${cv}`,B2="FIS_v2",m3="https://firebaseinstallations.googleapis.com/v1",p3=3600*1e3,g3="installations",y3="Installations";const v3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},co=new ho(g3,y3,v3);function z2(t){return t instanceof Ei&&t.code.includes("request-failed")}function q2({projectId:t}){return`${m3}/projects/${t}/installations`}function F2(t){return{token:t.token,requestStatus:2,expiresIn:_3(t.expiresIn),creationTime:Date.now()}}async function H2(t,e){const s=(await e.json()).error;return co.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function G2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function x3(t,{refreshToken:e}){const n=G2(t);return n.append("Authorization",b3(e)),n}async function K2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _3(t){return Number(t.replace("s","000"))}function b3(t){return`${B2} ${t}`}async function T3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=q2(t),a=G2(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:n,authVersion:B2,appId:t.appId,sdkVersion:U2},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await K2(()=>fetch(s,f));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:F2(g.authToken)}}else throw await H2("Create Installation",m)}function $2(t){return new Promise(e=>{setTimeout(e,t)})}function w3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const E3=/^[cdef][\w-]{21}$/,Iy="";function A3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=S3(t);return E3.test(n)?n:Iy}catch{return Iy}}function S3(t){return w3(t).substr(0,22)}function am(t){return`${t.appName}!${t.appId}`}const Q2=new Map;function Y2(t,e){const n=am(t);X2(n,e),C3(n,e)}function X2(t,e){const n=Q2.get(t);if(n)for(const s of n)s(e)}function C3(t,e){const n=k3();n&&n.postMessage({key:t,fid:e}),R3()}let Qa=null;function k3(){return!Qa&&"BroadcastChannel"in self&&(Qa=new BroadcastChannel("[Firebase] FID Change"),Qa.onmessage=t=>{X2(t.data.key,t.data.fid)}),Qa}function R3(){Q2.size===0&&Qa&&(Qa.close(),Qa=null)}const I3="firebase-installations-database",N3=1,uo="firebase-installations-store";let Ig=null;function uv(){return Ig||(Ig=iA(I3,N3,{upgrade:(t,e)=>{e===0&&t.createObjectStore(uo)}})),Ig}async function bf(t,e){const n=am(t),a=(await uv()).transaction(uo,"readwrite"),l=a.objectStore(uo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&Y2(t,e.fid),e}async function W2(t){const e=am(t),s=(await uv()).transaction(uo,"readwrite");await s.objectStore(uo).delete(e),await s.done}async function om(t,e){const n=am(t),a=(await uv()).transaction(uo,"readwrite"),l=a.objectStore(uo),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&Y2(t,f.fid),f}async function hv(t){let e;const n=await om(t.appConfig,s=>{const a=D3(s),l=M3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Iy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function D3(t){const e=t||{fid:A3(),registrationStatus:0};return Z2(e)}function M3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(co.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=P3(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:O3(t)}:{installationEntry:e}}async function P3(t,e){try{const n=await T3(t,e);return bf(t.appConfig,n)}catch(n){throw z2(n)&&n.customData.serverCode===409?await W2(t.appConfig):await bf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function O3(t){let e=await d1(t.appConfig);for(;e.registrationStatus===1;)await $2(100),e=await d1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await hv(t);return s||n}return e}function d1(t){return om(t,e=>{if(!e)throw co.create("installation-not-found");return Z2(e)})}function Z2(t){return j3(t)?{fid:t.fid,registrationStatus:0}:t}function j3(t){return t.registrationStatus===1&&t.registrationTime+L2<Date.now()}async function V3({appConfig:t,heartbeatServiceProvider:e},n){const s=L3(t,n),a=x3(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:U2,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await K2(()=>fetch(s,f));if(m.ok){const g=await m.json();return F2(g)}else throw await H2("Generate Auth Token",m)}function L3(t,{fid:e}){return`${q2(t)}/${e}/authTokens:generate`}async function dv(t,e=!1){let n;const s=await om(t.appConfig,l=>{if(!J2(l))throw co.create("not-registered");const u=l.authToken;if(!e&&z3(u))return l;if(u.requestStatus===1)return n=U3(t,e),l;{if(!navigator.onLine)throw co.create("app-offline");const f=F3(l);return n=B3(t,f),f}});return n?await n:s.authToken}async function U3(t,e){let n=await f1(t.appConfig);for(;n.authToken.requestStatus===1;)await $2(100),n=await f1(t.appConfig);const s=n.authToken;return s.requestStatus===0?dv(t,e):s}function f1(t){return om(t,e=>{if(!J2(e))throw co.create("not-registered");const n=e.authToken;return H3(n)?{...e,authToken:{requestStatus:0}}:e})}async function B3(t,e){try{const n=await V3(t,e),s={...e,authToken:n};return await bf(t.appConfig,s),n}catch(n){if(z2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await W2(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await bf(t.appConfig,s)}throw n}}function J2(t){return t!==void 0&&t.registrationStatus===2}function z3(t){return t.requestStatus===2&&!q3(t)}function q3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+p3}function F3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function H3(t){return t.requestStatus===1&&t.requestTime+L2<Date.now()}async function G3(t){const e=t,{installationEntry:n,registrationPromise:s}=await hv(e);return s?s.catch(console.error):dv(e).catch(console.error),n.fid}async function K3(t,e=!1){const n=t;return await $3(n),(await dv(n,e)).token}async function $3(t){const{registrationPromise:e}=await hv(t);e&&await e}function Q3(t){if(!t||!t.options)throw Ng("App Configuration");if(!t.name)throw Ng("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ng(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ng(t){return co.create("missing-app-config-values",{valueName:t})}const eC="installations",Y3="installations-internal",X3=t=>{const e=t.getProvider("app").getImmediate(),n=Q3(e),s=sa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},W3=t=>{const e=t.getProvider("app").getImmediate(),n=sa(e,eC).getImmediate();return{getId:()=>G3(n),getToken:a=>K3(n,a)}};function Z3(){Bi(new Ti(eC,X3,"PUBLIC")),Bi(new Ti(Y3,W3,"PRIVATE"))}Z3();qn(V2,cv);qn(V2,cv,"esm2020");const Tf="analytics",J3="firebase_id",e5="origin",t5=60*1e3,n5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fv="https://www.googletagmanager.com/gtag/js";const kn=new Df("@firebase/analytics");const i5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ii=new ho("analytics","Analytics",i5);function s5(t){if(!t.startsWith(fv)){const e=ii.create("invalid-gtag-resource",{gtagURL:t});return kn.warn(e.message),""}return t}function tC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function r5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function a5(t,e){const n=r5("firebase-js-sdk-policy",{createScriptURL:s5}),s=document.createElement("script"),a=`${fv}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function o5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function l5(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await tC(n)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(f){kn.error(f)}t("config",a,l)}async function c5(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await tC(n);for(const m of u){const g=f.find(b=>b.measurementId===m),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){kn.error(l)}}function u5(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await c5(t,e,n,f,m)}else if(l==="config"){const[f,m]=u;await l5(t,e,n,s,f,m)}else if(l==="consent"){const[f,m]=u;t("consent",f,m)}else if(l==="get"){const[f,m,g]=u;t("get",f,m,g)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){kn.error(f)}}return a}function h5(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=u5(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function d5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(fv)&&n.src.includes(t))return n;return null}const f5=30,m5=1e3;class p5{constructor(e={},n=m5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nC=new p5;function g5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function y5(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:g5(n)},a=n5.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw ii.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function v5(t,e=nC,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw ii.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw ii.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new b5;return setTimeout(async()=>{f.abort()},t5),iC({appId:s,apiKey:a,measurementId:l},u,f,e)}async function iC(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=nC){const{appId:l,measurementId:u}=t;try{await x5(s,e)}catch(f){if(u)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await y5(t);return a.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!_5(m)){if(a.deleteThrottleMetadata(l),u)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw f}const g=Number(m?.customData?.httpStatus)===503?RT(n,a.intervalMillis,f5):RT(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,v),kn.debug(`Calling attemptFetch again in ${g} millis`),iC(t,v,s,a)}}function x5(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _5(t){if(!(t instanceof Ei)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class b5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function T5(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function w5(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function E5(){if(JE())try{await eA()}catch(t){return kn.warn(ii.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return kn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function A5(t,e,n,s,a,l,u){const f=v5(t);f.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>kn.error(w)),e.push(f);const m=E5().then(w=>{if(w)return s.getId()}),[g,v]=await Promise.all([f,m]);d5(l)||a5(l,g.measurementId),a("js",new Date);const b=u?.config??{};return b[e5]="firebase",b.update=!0,v!=null&&(b[J3]=v),a("config",g.measurementId,b),g.measurementId}class S5{constructor(e){this.app=e}_delete(){return delete Al[this.app.options.appId],Promise.resolve()}}let Al={},m1=[];const p1={};let Dg="dataLayer",C5="gtag",g1,mv,y1=!1;function k5(){const t=[];if(ZE()&&t.push("This is a browser extension environment."),rN()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=ii.create("invalid-analytics-context",{errorInfo:e});kn.warn(n.message)}}function R5(t,e,n){k5();const s=t.options.appId;if(!s)throw ii.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ii.create("no-api-key");if(Al[s]!=null)throw ii.create("already-exists",{id:s});if(!y1){o5(Dg);const{wrappedGtag:l,gtagCore:u}=h5(Al,m1,p1,Dg,C5);mv=l,g1=u,y1=!0}return Al[s]=A5(t,m1,p1,e,g1,Dg,n),new S5(t)}function I5(t=Mf()){t=dt(t);const e=sa(t,Tf);return e.isInitialized()?e.getImmediate():N5(t)}function N5(t,e={}){const n=sa(t,Tf);if(n.isInitialized()){const a=n.getImmediate();if(Ys(e,n.getOptions()))return a;throw ii.create("already-initialized")}return n.initialize({options:e})}function D5(t,e,n){t=dt(t),w5(mv,Al[t.app.options.appId],e,n).catch(s=>kn.error(s))}function M5(t,e,n,s){t=dt(t),T5(mv,Al[t.app.options.appId],e,n,s).catch(a=>kn.error(a))}const v1="@firebase/analytics",x1="0.10.19";function P5(){Bi(new Ti(Tf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return R5(s,a,n)},"PUBLIC")),Bi(new Ti("analytics-internal",t,"PRIVATE")),qn(v1,x1),qn(v1,x1,"esm2020");function t(e){try{const n=e.getProvider(Tf).getImmediate();return{logEvent:(s,a,l)=>M5(n,s,a,l),setUserProperties:(s,a)=>D5(n,s,a)}}catch(n){throw ii.create("interop-component-reg-failed",{reason:n})}}}P5();const O5={apiKey:"AIzaSyB2FURkzhOCIsI4bi8-jc_uydZ_oFCbcYA",authDomain:"lets-try007.firebaseapp.com",databaseURL:"https://lets-try007-default-rtdb.firebaseio.com",projectId:"lets-try007",storageBucket:"lets-try007.firebasestorage.app",messagingSenderId:"218535335758",appId:"1:218535335758:web:3c03cb75cb2d10ec57301f",measurementId:"G-XE0W1LTN0G"},lm=sA(O5);I5(lm);const tu=L4(lm),mt=Oj(lm),Ny=u3(lm),sC=W.createContext();function j5({children:t}){const[e,n]=W.useState(null),[s,a]=W.useState(!0);W.useEffect(()=>{const D=SM(tu,P=>{P?(n(q=>({...q,uid:P.uid,email:P.email,name:P.displayName||q?.name||"Loading...",username:q?.username||"User",gender:q?.gender||"male",history:q?.history||[],...P})),Cy(mn(mt,"users",P.uid)).then(async q=>{if(q.exists())n(ee=>({...ee,...q.data()}));else{console.warn("UserProvider: Profile missing, creating default.");const ee={name:P.displayName||"New User",username:P.email?.split("@")[0]||"user",gender:"male",email:P.email,createdAt:new Date().toISOString(),history:[]};await cu(mn(mt,"users",P.uid),ee),n(Q=>({...Q,...ee}))}}).catch(q=>{console.error("Error fetching/creating user profile:",q)})):n(null),a(!1)}),O=setTimeout(()=>{a(!1)},4e3);return()=>{D(),clearTimeout(O)}},[]);const l=async(D,O)=>{try{return await wM(tu,D,O),{success:!0}}catch(P){return{success:!1,message:P.message}}},u=async D=>{try{const{user:O}=await TM(tu,D.email,D.password),P={name:D.name,username:D.username,gender:D.gender,email:D.email,createdAt:new Date().toISOString(),history:[]};return await cu(mn(mt,"users",O.uid),P),n({...O,...P}),{success:!0}}catch(O){return{success:!1,message:O.message}}},f=async()=>{try{const D=new qs,P=(await $M(tu,D)).user,q=await Cy(mn(mt,"users",P.uid));if(q.exists())n({...P,...q.data()});else{const ee={name:P.displayName,username:P.email.split("@")[0],gender:"male",email:P.email,createdAt:new Date().toISOString(),history:[]};await cu(mn(mt,"users",P.uid),ee),n({...P,...ee})}return{success:!0}}catch(D){return console.error("Google Sign-In Error:",D),{success:!1,message:D.message}}},m=async()=>{try{await CM(tu)}catch(D){console.error("Logout failed",D)}},g=Zg.useRef(0),v=async(D,O,P,q=[])=>{if(!e||!e.uid)return;const ee=Date.now();if(ee-g.current<2e3){console.log("History update throttled (preventing duplicate)");return}g.current=ee;const Q=Math.round(D/O*100),ce={score:D,total:O,percentage:Q,topic:P,details:q,date:new Date().toISOString()};try{const he=mn(mt,"users",e.uid);await El(he,{history:Qj(ce)}),n(ue=>({...ue,history:[...ue.history||[],ce]}))}catch(he){console.error("Failed to save history",he)}},b=async D=>{if(!(!e||!e.uid))try{const O=e.history.filter((q,ee)=>ee!==D),P=mn(mt,"users",e.uid);return await El(P,{history:O}),n(q=>({...q,history:O})),{success:!0}}catch(O){return console.error("Failed to delete history item",O),{success:!1,message:O.message}}},w=async D=>{if(!e||!e.uid)return{success:!1,message:"No user logged in"};try{const O=mn(mt,"users",e.uid);return await Promise.race([cu(O,D,{merge:!0}),new Promise((P,q)=>setTimeout(()=>q(new Error("Save timed out - Check connection")),1e4))]),n(P=>({...P,...D})),{success:!0}}catch(O){return console.error("Error updating profile:",O),{success:!1,message:O.message||"Failed to update profile"}}},k=Zg.useMemo(()=>({user:e,loading:s,login:l,signup:u,logout:m,loginWithGoogle:f,updateUserHistory:v,updateUserProfile:w,deleteHistoryItem:b}),[e,s]);return y.jsx(sC.Provider,{value:k,children:t})}function ir(){return W.useContext(sC)}const pv=W.createContext({});function gv(t){const e=W.useRef(null);return e.current===null&&(e.current=t()),e.current}const yv=typeof window<"u",rC=yv?W.useLayoutEffect:W.useEffect,cm=W.createContext(null);function vv(t,e){t.indexOf(e)===-1&&t.push(e)}function xv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tr=(t,e,n)=>n>e?e:n<t?t:n;let _v=()=>{};const nr={},aC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oC(t){return typeof t=="object"&&t!==null}const lC=t=>/^0[^.\s]+$/u.test(t);function bv(t){let e;return()=>(e===void 0&&(e=t()),e)}const bi=t=>t,V5=(t,e)=>n=>e(t(n)),Wu=(...t)=>t.reduce(V5),Pu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Tv{constructor(){this.subscriptions=[]}add(e){return vv(this.subscriptions,e),()=>xv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xs=t=>t*1e3,xi=t=>t/1e3;function cC(t,e){return e?t*(1e3/e):0}const uC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L5=1e-7,U5=12;function B5(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=uC(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>L5&&++f<U5);return u}function Zu(t,e,n,s){if(t===e&&n===s)return bi;const a=l=>B5(l,0,1,t,n);return l=>l===0||l===1?l:uC(a(l),e,s)}const hC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dC=t=>e=>1-t(1-e),fC=Zu(.33,1.53,.69,.99),wv=dC(fC),mC=hC(wv),pC=t=>(t*=2)<1?.5*wv(t):.5*(2-Math.pow(2,-10*(t-1))),Ev=t=>1-Math.sin(Math.acos(t)),gC=dC(Ev),yC=hC(Ev),z5=Zu(.42,0,1,1),q5=Zu(0,0,.58,1),vC=Zu(.42,0,.58,1),F5=t=>Array.isArray(t)&&typeof t[0]!="number",xC=t=>Array.isArray(t)&&typeof t[0]=="number",H5={linear:bi,easeIn:z5,easeInOut:vC,easeOut:q5,circIn:Ev,circInOut:yC,circOut:gC,backIn:wv,backInOut:mC,backOut:fC,anticipate:pC},G5=t=>typeof t=="string",_1=t=>{if(xC(t)){_v(t.length===4);const[e,n,s,a]=t;return Zu(e,n,s,a)}else if(G5(t))return H5[t];return t},Pd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function K5(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),t()),v(f)}const g={schedule:(v,b=!1,w=!1)=>{const D=w&&a?n:s;return b&&u.add(v),D.has(v)||D.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const $5=40;function _C(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Pd.reduce((Q,ce)=>(Q[ce]=K5(l),Q),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:w,render:k,postRender:D}=u,O=()=>{const Q=nr.useManualTiming?a.timestamp:performance.now();n=!1,nr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(Q-a.timestamp,$5),1)),a.timestamp=Q,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),v.process(a),b.process(a),w.process(a),k.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(O))},P=()=>{n=!0,s=!0,a.isProcessing||t(O)};return{schedule:Pd.reduce((Q,ce)=>{const he=u[ce];return Q[ce]=(ue,I=!1,S=!1)=>(n||P(),he.schedule(ue,I,S)),Q},{}),cancel:Q=>{for(let ce=0;ce<Pd.length;ce++)u[Pd[ce]].cancel(Q)},state:a,steps:u}}const{schedule:wt,cancel:ta,state:dn,steps:Mg}=_C(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0);let Qd;function Q5(){Qd=void 0}const Bn={now:()=>(Qd===void 0&&Bn.set(dn.isProcessing||nr.useManualTiming?dn.timestamp:performance.now()),Qd),set:t=>{Qd=t,queueMicrotask(Q5)}},bC=t=>e=>typeof e=="string"&&e.startsWith(t),TC=bC("--"),Y5=bC("var(--"),Av=t=>Y5(t)?X5.test(t.split("/*")[0].trim()):!1,X5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ou={...Yl,transform:t=>tr(0,1,t)},Od={...Yl,default:1},xu=t=>Math.round(t*1e5)/1e5,Sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W5(t){return t==null}const Z5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cv=(t,e)=>n=>!!(typeof n=="string"&&Z5.test(n)&&n.startsWith(t)||e&&!W5(n)&&Object.prototype.hasOwnProperty.call(n,e)),wC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(Sv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},J5=t=>tr(0,255,t),Pg={...Yl,transform:t=>Math.round(J5(t))},Ya={test:Cv("rgb","red"),parse:wC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Pg.transform(t)+", "+Pg.transform(e)+", "+Pg.transform(n)+", "+xu(Ou.transform(s))+")"};function e6(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Dy={test:Cv("#"),parse:e6,transform:Ya.transform},Ju=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lr=Ju("deg"),_s=Ju("%"),Ie=Ju("px"),t6=Ju("vh"),n6=Ju("vw"),b1={..._s,parse:t=>_s.parse(t)/100,transform:t=>_s.transform(t*100)},pl={test:Cv("hsl","hue"),parse:wC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+_s.transform(xu(e))+", "+_s.transform(xu(n))+", "+xu(Ou.transform(s))+")"},Kt={test:t=>Ya.test(t)||Dy.test(t)||pl.test(t),parse:t=>Ya.test(t)?Ya.parse(t):pl.test(t)?pl.parse(t):Dy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ya.transform(t):pl.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},i6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s6(t){return isNaN(t)&&typeof t=="string"&&(t.match(Sv)?.length||0)+(t.match(i6)?.length||0)>0}const EC="number",AC="color",r6="var",a6="var(",T1="${}",o6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(o6,m=>(Kt.test(m)?(s.color.push(l),a.push(AC),n.push(Kt.parse(m))):m.startsWith(a6)?(s.var.push(l),a.push(r6),n.push(m)):(s.number.push(l),a.push(EC),n.push(parseFloat(m))),++l,T1)).split(T1);return{values:n,split:f,indexes:s,types:a}}function SC(t){return ju(t).values}function CC(t){const{split:e,types:n}=ju(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===EC?l+=xu(a[u]):f===AC?l+=Kt.transform(a[u]):l+=a[u]}return l}}const l6=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function c6(t){const e=SC(t);return CC(t)(e.map(l6))}const na={test:s6,parse:SC,createTransformer:CC,getAnimatableNone:c6};function Og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Og(m,f,t+1/3),l=Og(m,f,t),u=Og(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function wf(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,jg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},h6=[Dy,Ya,pl],d6=t=>h6.find(e=>e.test(t));function w1(t){const e=d6(t);if(!e)return!1;let n=e.parse(t);return e===pl&&(n=u6(n)),n}const E1=(t,e)=>{const n=w1(t),s=w1(e);if(!n||!s)return wf(t,e);const a={...n};return l=>(a.red=jg(n.red,s.red,l),a.green=jg(n.green,s.green,l),a.blue=jg(n.blue,s.blue,l),a.alpha=Et(n.alpha,s.alpha,l),Ya.transform(a))},My=new Set(["none","hidden"]);function f6(t,e){return My.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function m6(t,e){return n=>Et(t,e,n)}function kv(t){return typeof t=="number"?m6:typeof t=="string"?Av(t)?wf:Kt.test(t)?E1:y6:Array.isArray(t)?kC:typeof t=="object"?Kt.test(t)?E1:p6:wf}function kC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>kv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function p6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=kv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function g6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const y6=(t,e)=>{const n=na.createTransformer(e),s=ju(t),a=ju(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?My.has(t)&&!a.values.length||My.has(e)&&!s.values.length?f6(t,e):Wu(kC(g6(s,a),a.values),n):wf(t,e)};function RC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):kv(t)(t,e)}const v6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>ta(e),now:()=>dn.isProcessing?dn.timestamp:Bn.now()}},IC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ef=2e4;function Rv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ef;)e+=n,s=t.next(e);return e>=Ef?1/0:e}function x6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Rv(s),Ef);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:xi(a)}}const _6=5;function NC(t,e,n){const s=Math.max(e-_6,0);return cC(n-t(s),e-s)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vg=.001;function b6({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:s=Rt.mass}){let a,l,u=1-e;u=tr(Rt.minDamping,Rt.maxDamping,u),t=tr(Rt.minDuration,Rt.maxDuration,xi(t)),u<1?(a=g=>{const v=g*u,b=v*t,w=v-n,k=Py(g,u),D=Math.exp(-b);return Vg-w/k*D},l=g=>{const b=g*u*t,w=b*n+n,k=Math.pow(u,2)*Math.pow(g,2)*t,D=Math.exp(-b),O=Py(Math.pow(g,2),u);return(-a(g)+Vg>0?-1:1)*((w-k)*D)/O}):(a=g=>{const v=Math.exp(-g*t),b=(g-n)*t+1;return-Vg+v*b},l=g=>{const v=Math.exp(-g*t),b=(n-g)*(t*t);return v*b});const f=5/t,m=w6(a,l,f);if(t=xs(t),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const T6=12;function w6(t,e,n){let s=n;for(let a=1;a<T6;a++)s=s-t(s)/e(s);return s}function Py(t,e){return t*Math.sqrt(1-e*e)}const E6=["duration","bounce"],A6=["stiffness","damping","mass"];function A1(t,e){return e.some(n=>t[n]!==void 0)}function S6(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!A1(t,A6)&&A1(t,E6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*tr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Rt.mass,stiffness:a,damping:l}}else{const n=b6(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Af(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:b,velocity:w,isResolvedFromDuration:k}=S6({...n,velocity:-xi(n.velocity||0)}),D=w||0,O=g/(2*Math.sqrt(m*v)),P=u-l,q=xi(Math.sqrt(m/v)),ee=Math.abs(P)<5;s||(s=ee?Rt.restSpeed.granular:Rt.restSpeed.default),a||(a=ee?Rt.restDelta.granular:Rt.restDelta.default);let Q;if(O<1){const he=Py(q,O);Q=ue=>{const I=Math.exp(-O*q*ue);return u-I*((D+O*q*P)/he*Math.sin(he*ue)+P*Math.cos(he*ue))}}else if(O===1)Q=he=>u-Math.exp(-q*he)*(P+(D+q*P)*he);else{const he=q*Math.sqrt(O*O-1);Q=ue=>{const I=Math.exp(-O*q*ue),S=Math.min(he*ue,300);return u-I*((D+O*q*P)*Math.sinh(S)+he*P*Math.cosh(S))/he}}const ce={calculatedDuration:k&&b||null,next:he=>{const ue=Q(he);if(k)f.done=he>=b;else{let I=he===0?D:0;O<1&&(I=he===0?xs(D):NC(Q,he,ue));const S=Math.abs(I)<=s,N=Math.abs(u-ue)<=a;f.done=S&&N}return f.value=f.done?u:ue,f},toString:()=>{const he=Math.min(Rv(ce),Ef),ue=IC(I=>ce.next(he*I).value,he,30);return he+"ms "+ue},toTransition:()=>{}};return ce}Af.applyToOptions=t=>{const e=x6(t,100,Af);return t.ease=e.ease,t.duration=xs(e.duration),t.type="keyframes",t};function Oy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},k=S=>f!==void 0&&S<f||m!==void 0&&S>m,D=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let O=n*e;const P=b+O,q=u===void 0?P:u(P);q!==P&&(O=q-b);const ee=S=>-O*Math.exp(-S/s),Q=S=>q+ee(S),ce=S=>{const N=ee(S),L=Q(S);w.done=Math.abs(N)<=g,w.value=w.done?q:L};let he,ue;const I=S=>{k(w.value)&&(he=S,ue=Af({keyframes:[w.value,D(w.value)],velocity:NC(Q,S,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return I(0),{calculatedDuration:null,next:S=>{let N=!1;return!ue&&he===void 0&&(N=!0,ce(S),I(S)),he!==void 0&&S>=he?ue.next(S-he):(!N&&ce(S),w)}}}function C6(t,e,n){const s=[],a=n||nr.mix||RC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||bi:e;f=Wu(m,f)}s.push(f)}return s}function k6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(_v(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=C6(e,s,a),m=f.length,g=v=>{if(u&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=Pu(t[b],t[b+1],v);return f[b](w)};return n?v=>g(tr(t[0],t[l-1],v)):g}function R6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Pu(0,e,s);t.push(Et(n,1,a))}}function I6(t){const e=[0];return R6(e,t.length-1),e}function N6(t,e){return t.map(n=>n*e)}function D6(t,e){return t.map(()=>e||vC).splice(0,t.length-1)}function _u({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=F5(s)?s.map(_1):_1(s),l={done:!1,value:e[0]},u=N6(n&&n.length===e.length?n:I6(e),t),f=k6(u,e,{ease:Array.isArray(a)?a:D6(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const M6=t=>t!==null;function Iv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(M6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const P6={decay:Oy,inertia:Oy,tween:_u,keyframes:_u,spring:Af};function DC(t){typeof t.type=="string"&&(t.type=P6[t.type])}class Nv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const O6=t=>t/100;class Dv extends Nv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DC(e);const{type:n=_u,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const m=n||_u;m!==_u&&typeof f[0]!="number"&&(this.mixKeyframes=Wu(O6,RC(f[0],f[1])),f=[0,100]);const g=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Rv(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:k,type:D,onUpdate:O,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),ee=this.playbackSpeed>=0?q<0:q>a;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,ce=s;if(b){const S=Math.min(this.currentTime,a)/f;let N=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&N--,N=Math.min(N,b+1),N%2&&(w==="reverse"?(L=1-L,k&&(L-=k/f)):w==="mirror"&&(ce=u)),Q=tr(0,1,L)*f}const he=ee?{done:!1,value:v[0]}:ce.next(Q);l&&(he.value=l(he.value));let{done:ue}=he;!ee&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return I&&D!==Oy&&(he.value=Iv(v,this.options,P,this.speed)),O&&O(he.value),I&&this.finish(),he}then(e,n){return this.finished.then(e,n)}get duration(){return xi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xi(e)}get time(){return xi(this.currentTime)}set time(e){e=xs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=v6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function j6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xa=t=>t*180/Math.PI,jy=t=>{const e=Xa(Math.atan2(t[1],t[0]));return Vy(e)},V6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jy,rotateZ:jy,skewX:t=>Xa(Math.atan(t[1])),skewY:t=>Xa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vy=t=>(t=t%360,t<0&&(t+=360),t),S1=jy,C1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),k1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),L6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C1,scaleY:k1,scale:t=>(C1(t)+k1(t))/2,rotateX:t=>Vy(Xa(Math.atan2(t[6],t[5]))),rotateY:t=>Vy(Xa(Math.atan2(-t[2],t[0]))),rotateZ:S1,rotate:S1,skewX:t=>Xa(Math.atan(t[4])),skewY:t=>Xa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ly(t){return t.includes("scale")?1:0}function Uy(t,e){if(!t||t==="none")return Ly(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=L6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=V6,a=f}if(!a)return Ly(e);const l=s[e],u=a[1].split(",").map(B6);return typeof l=="function"?l(u):u[l]}const U6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uy(n,e)};function B6(t){return parseFloat(t.trim())}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set(Xl),R1=t=>t===Yl||t===Ie,z6=new Set(["x","y","z"]),q6=Xl.filter(t=>!z6.has(t));function F6(t){const e=[];return q6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uy(e,"x"),y:(t,{transform:e})=>Uy(e,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let By=!1,zy=!1,qy=!1;function MC(){if(zy){const t=Array.from(to).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=F6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}zy=!1,By=!1,to.forEach(t=>t.complete(qy)),to.clear()}function PC(){to.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zy=!0)})}function H6(){qy=!0,PC(),MC(),qy=!1}class Mv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),By||(By=!0,wt.read(PC),wt.resolveKeyframes(MC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}j6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G6=t=>t.startsWith("--");function K6(t,e,n){G6(e)?t.style.setProperty(e,n):t.style[e]=n}const $6=bv(()=>window.ScrollTimeline!==void 0),Q6={};function Y6(t,e){const n=bv(t);return()=>Q6[e]??n()}const OC=Y6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,I1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function jC(t,e){if(t)return typeof t=="function"?OC()?IC(t,e):"ease-out":xC(t)?uu(t):Array.isArray(t)?t.map(n=>jC(n,e)||I1.easeOut):I1[t]}function X6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const b=jC(f,a);Array.isArray(b)&&(v.easing=b);const w={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(v,w)}function VC(t){return typeof t=="function"&&"applyToOptions"in t}function W6({type:t,...e}){return VC(t)&&OC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z6 extends Nv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,_v(typeof e.type!="string");const g=W6(e);this.animation=X6(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Iv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):K6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xi(e)}get time(){return xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$6()?(this.animation.timeline=e,bi):n(this)}}const LC={anticipate:pC,backInOut:mC,circInOut:yC};function J6(t){return t in LC}function eL(t){typeof t.ease=="string"&&J6(t.ease)&&(t.ease=LC[t.ease])}const N1=10;class tL extends Z6{constructor(e){eL(e),DC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Dv({...u,autoplay:!1}),m=xs(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-N1).value,f.sample(m).value,N1),f.stop()}}const D1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function nL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=D1(a,e),f=D1(l,e);return!u||!f?!1:nL(t)||(n==="spring"||VC(n))&&s}function Fy(t){t.duration=0,t.type="keyframes"}const sL=new Set(["opacity","clipPath","filter","transform"]),rL=bv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aL(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return rL()&&n&&sL.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const oL=40;class lL extends Nv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...b},k=v?.KeyframeResolver||Mv;this.keyframeResolver=new k(f,(D,O,P)=>this.onKeyframesResolved(D,O,w,!P),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Bn.now(),iL(e,l,u,f)||((nr.instantAnimations||!m)&&v?.(Iv(e,s,n)),e[0]=e[e.length-1],Fy(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},k=!g&&aL(w)?new tL({...w,element:w.motionValue.owner.current}):new Dv(w);k.finished.then(()=>this.notifyFinished()).catch(bi),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),H6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const cL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uL(t){const e=cL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function UC(t,e,n=1){const[s,a]=uL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return aC(u)?parseFloat(u):u}return Av(a)?UC(a,e,n+1):a}function Pv(t,e){return t?.[e]??t?.default??t}const BC=new Set(["width","height","top","left","right","bottom",...Xl]),hL={test:t=>t==="auto",parse:t=>t},zC=t=>e=>e.test(t),qC=[Yl,Ie,_s,Lr,n6,t6,hL],M1=t=>qC.find(zC(t));function dL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lC(t):!0}const fL=new Set(["brightness","contrast","saturate","opacity"]);function mL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Sv)||[];if(!s)return t;const a=n.replace(s,"");let l=fL.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const pL=/\b([a-z-]*)\(.*?\)/gu,Hy={...na,getAnimatableNone:t=>{const e=t.match(pL);return e?e.map(mL).join(" "):t}},P1={...Yl,transform:Math.round},gL={rotate:Lr,rotateX:Lr,rotateY:Lr,rotateZ:Lr,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:Lr,skewX:Lr,skewY:Lr,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Ou,originX:b1,originY:b1,originZ:Ie},Ov={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...gL,zIndex:P1,fillOpacity:Ou,strokeOpacity:Ou,numOctaves:P1},yL={...Ov,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Hy,WebkitFilter:Hy},FC=t=>yL[t];function HC(t,e){let n=FC(t);return n!==Hy&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vL=new Set(["auto","none","0"]);function xL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!vL.has(l)&&ju(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=HC(n,a)}class _L extends Mv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Av(g))){const v=UC(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!BC.has(s)||e.length!==2)return;const[a,l]=e,u=M1(a),f=M1(l);if(u!==f)if(R1(u)&&R1(f))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else eo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||dL(e[a]))&&s.push(a);s.length&&xL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function bL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const GC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function KC(t){return oC(t)&&"offsetHeight"in t}const O1=30,TL=t=>!isNaN(parseFloat(t));class wL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tv);const s=this.events[e].add(n);return e==="change"?()=>{s(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>O1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,O1);return cC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ol(t,e){return new wL(t,e)}const{schedule:jv}=_C(queueMicrotask,!1),Vi={x:!1,y:!1};function $C(){return Vi.x||Vi.y}function EL(t){return t==="x"||t==="y"?Vi[t]?null:(Vi[t]=!0,()=>{Vi[t]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function QC(t,e){const n=bL(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function j1(t){return!(t.pointerType==="touch"||$C())}function AL(t,e,n={}){const[s,a,l]=QC(t,n),u=f=>{if(!j1(f))return;const{target:m}=f,g=e(m,f);if(typeof g!="function"||!m)return;const v=b=>{j1(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const YC=(t,e)=>e?t===e?!0:YC(t,e.parentElement):!1,Vv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CL(t){return SL.has(t.tagName)||t.tabIndex!==-1}const Yd=new WeakSet;function V1(t){return e=>{e.key==="Enter"&&t(e)}}function Lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kL=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=V1(()=>{if(Yd.has(n))return;Lg(n,"down");const a=V1(()=>{Lg(n,"up")}),l=()=>Lg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function L1(t){return Vv(t)&&!$C()}function RL(t,e,n={}){const[s,a,l]=QC(t,n),u=f=>{const m=f.currentTarget;if(!L1(f))return;Yd.add(m);const g=e(m,f),v=(k,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),Yd.has(m)&&Yd.delete(m),L1(k)&&typeof g=="function"&&g(k,{success:D})},b=k=>{v(k,m===window||m===document||n.useGlobalTarget||YC(m,k.target))},w=k=>{v(k,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),KC(f)&&(f.addEventListener("focus",g=>kL(g,a)),!CL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function XC(t){return oC(t)&&"ownerSVGElement"in t}function IL(t){return XC(t)&&t.tagName==="svg"}const bn=t=>!!(t&&t.getVelocity),NL=[...qC,Kt,na],DL=t=>NL.find(zC(t)),Lv=W.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function U1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ML(...t){return e=>{let n=!1;const s=t.map(a=>{const l=U1(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():U1(t[a],null)}}}}function PL(...t){return W.useCallback(ML(...t),t)}class OL extends W.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=KC(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jL({children:t,isPresent:e,anchorX:n,root:s}){const a=W.useId(),l=W.useRef(null),u=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=W.useContext(Lv),m=PL(l,t?.ref);return W.useInsertionEffect(()=>{const{width:g,height:v,top:b,left:w,right:k}=u.current;if(e||!l.current||!g||!v)return;const D=n==="left"?`left: ${w}`:`right: ${k}`;l.current.dataset.motionPopId=a;const O=document.createElement("style");f&&(O.nonce=f);const P=s??document.head;return P.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${D}px !important;
            top: ${b}px !important;
          }
        `),()=>{P.contains(O)&&P.removeChild(O)}},[e]),y.jsx(OL,{isPresent:e,childRef:l,sizeRef:u,children:W.cloneElement(t,{ref:m})})}const VL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:m})=>{const g=gv(LL),v=W.useId();let b=!0,w=W.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:k=>{g.set(k,!0);for(const D of g.values())if(!D)return;s&&s()},register:k=>(g.set(k,!1),()=>g.delete(k))}),[n,g,s]);return l&&b&&(w={...w}),W.useMemo(()=>{g.forEach((k,D)=>g.set(D,!1))},[n]),W.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),u==="popLayout"&&(t=y.jsx(jL,{isPresent:n,anchorX:f,root:m,children:t})),y.jsx(cm.Provider,{value:w,children:t})};function LL(){return new Map}function WC(t=!0){const e=W.useContext(cm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=W.useId();W.useEffect(()=>{if(t)return a(l)},[t]);const u=W.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const jd=t=>t.key||"";function B1(t){const e=[];return W.Children.forEach(t,n=>{W.isValidElement(n)&&e.push(n)}),e}const zn=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[g,v]=WC(u),b=W.useMemo(()=>B1(t),[t]),w=u&&!g?[]:b.map(jd),k=W.useRef(!0),D=W.useRef(b),O=gv(()=>new Map),[P,q]=W.useState(b),[ee,Q]=W.useState(b);rC(()=>{k.current=!1,D.current=b;for(let ue=0;ue<ee.length;ue++){const I=jd(ee[ue]);w.includes(I)?O.delete(I):O.get(I)!==!0&&O.set(I,!1)}},[ee,w.length,w.join("-")]);const ce=[];if(b!==P){let ue=[...b];for(let I=0;I<ee.length;I++){const S=ee[I],N=jd(S);w.includes(N)||(ue.splice(I,0,S),ce.push(S))}return l==="wait"&&ce.length&&(ue=ce),Q(B1(ue)),q(b),null}const{forceRender:he}=W.useContext(pv);return y.jsx(y.Fragment,{children:ee.map(ue=>{const I=jd(ue),S=u&&!g?!1:b===ee||w.includes(I),N=()=>{if(O.has(I))O.set(I,!0);else return;let L=!0;O.forEach(V=>{V||(L=!1)}),L&&(he?.(),Q(D.current),u&&v?.(),s&&s())};return y.jsx(VL,{isPresent:S,initial:!k.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:S?void 0:N,anchorX:f,children:ue},I)})})},ZC=W.createContext({strict:!1}),z1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jl={};for(const t in z1)jl[t]={isEnabled:e=>z1[t].some(n=>!!e[n])};function UL(t){for(const e in t)jl[e]={...jl[e],...t[e]}}const BL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BL.has(t)}let JC=t=>!Sf(t);function zL(t){typeof t=="function"&&(JC=e=>e.startsWith("on")?!Sf(e):t(e))}try{zL(require("@emotion/is-prop-valid").default)}catch{}function qL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(JC(a)||n===!0&&Sf(a)||!e&&!Sf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const um=W.createContext({});function hm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vu(t){return typeof t=="string"||Array.isArray(t)}const Uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bv=["initial",...Uv];function dm(t){return hm(t.animate)||Bv.some(e=>Vu(t[e]))}function ek(t){return!!(dm(t)||t.variants)}function FL(t,e){if(dm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Vu(n)?n:void 0,animate:Vu(s)?s:void 0}}return t.inherit!==!1?e:{}}function HL(t){const{initial:e,animate:n}=FL(t,W.useContext(um));return W.useMemo(()=>({initial:e,animate:n}),[q1(e),q1(n)])}function q1(t){return Array.isArray(t)?t.join(" "):t}function F1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=F1(t,e.target.x),s=F1(t,e.target.y);return`${n}% ${s}%`}},GL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=na.parse(t);if(a.length>5)return s;const l=na.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=m;const g=Et(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},Gy={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:GL};function tk(t,{layout:e,layoutId:n}){return Wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Gy[t]||t==="opacity")}const KL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$L=Xl.length;function QL(t,e,n){let s="",a=!0;for(let l=0;l<$L;l++){const u=Xl[l],f=t[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=GC(f,Ov[u]);if(!m){a=!1;const v=KL[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function zv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const m in e){const g=e[m];if(Wl.has(m)){u=!0;continue}else if(TC(m)){a[m]=g;continue}else{const v=GC(g,Ov[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=QL(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nk(t,e,n){for(const s in e)!bn(e[s])&&!tk(s,n)&&(t[s]=e[s])}function YL({transformTemplate:t},e){return W.useMemo(()=>{const n=qv();return zv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function XL(t,e){const n=t.style||{},s={};return nk(s,n,t),Object.assign(s,YL(t,e)),s}function WL(t,e){const n={},s=XL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const ZL={offset:"stroke-dashoffset",array:"stroke-dasharray"},JL={offset:"strokeDashoffset",array:"strokeDasharray"};function eU(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?ZL:JL;t[l.offset]=Ie.transform(-s);const u=Ie.transform(e),f=Ie.transform(n);t[l.array]=`${u} ${f}`}function ik(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,g,v){if(zv(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&eU(b,a,l,u,!1)}const sk=()=>({...qv(),attrs:{}}),rk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tU(t,e,n,s){const a=W.useMemo(()=>{const l=sk();return ik(l,e,rk(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};nk(l,t.style,t),a.style={...l,...a.style}}return a}const nU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fv(t){return typeof t!="string"||t.includes("-")?!1:!!(nU.indexOf(t)>-1||/[A-Z]/u.test(t))}function iU(t,e,n,{latestValues:s},a,l=!1){const f=(Fv(t)?tU:WL)(e,s,a,t),m=qL(e,typeof t=="string",l),g=t!==W.Fragment?{...m,...f,ref:n}:{},{children:v}=e,b=W.useMemo(()=>bn(v)?v.get():v,[v]);return W.createElement(t,{...g,children:b})}function H1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Hv(t,e,n,s){if(typeof e=="function"){const[a,l]=H1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=H1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Xd(t){return bn(t)?t.get():t}function sU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:rU(n,s,a,t),renderState:e()}}function rU(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Xd(l[w]);let{initial:u,animate:f}=t;const m=dm(t),g=ek(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?f:u;if(b&&typeof b!="boolean"&&!hm(b)){const w=Array.isArray(b)?b:[b];for(let k=0;k<w.length;k++){const D=Hv(t,w[k]);if(D){const{transitionEnd:O,transition:P,...q}=D;for(const ee in q){let Q=q[ee];if(Array.isArray(Q)){const ce=v?Q.length-1:0;Q=Q[ce]}Q!==null&&(a[ee]=Q)}for(const ee in O)a[ee]=O[ee]}}}return a}const ak=t=>(e,n)=>{const s=W.useContext(um),a=W.useContext(cm),l=()=>sU(t,e,s,a);return n?l():gv(l)};function Gv(t,e,n){const{style:s}=t,a={};for(const l in s)(bn(s[l])||e.style&&bn(e.style[l])||tk(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const aU=ak({scrapeMotionValuesFromProps:Gv,createRenderState:qv});function ok(t,e,n){const s=Gv(t,e,n);for(const a in t)if(bn(t[a])||bn(e[a])){const l=Xl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const oU=ak({scrapeMotionValuesFromProps:ok,createRenderState:sk}),lU=Symbol.for("motionComponentSymbol");function gl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cU(t,e,n){return W.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):gl(n)&&(n.current=s))},[e])}const Kv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uU="framerAppearId",lk="data-"+Kv(uU),ck=W.createContext({});function hU(t,e,n,s,a){const{visualElement:l}=W.useContext(um),u=W.useContext(ZC),f=W.useContext(cm),m=W.useContext(Lv).reducedMotion,g=W.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=W.useContext(ck);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&dU(g.current,n,a,b);const w=W.useRef(!1);W.useInsertionEffect(()=>{v&&w.current&&v.update(n,f)});const k=n[lk],D=W.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return rC(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),D.current&&v.animationState&&v.animationState.animateChanges())}),W.useEffect(()=>{v&&(!D.current&&v.animationState&&v.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),D.current=!1),v.enteringChildren=void 0)}),v}function dU(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uk(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&gl(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function uk(t){if(t)return t.options.allowProjection!==!1?t.projection:uk(t.parent)}function Ug(t,{forwardMotionProps:e=!1}={},n,s){n&&UL(n);const a=Fv(t)?oU:aU;function l(f,m){let g;const v={...W.useContext(Lv),...f,layoutId:fU(f)},{isStatic:b}=v,w=HL(f),k=a(f,b);if(!b&&yv){mU();const D=pU(v);g=D.MeasureLayout,w.visualElement=hU(t,k,v,s,D.ProjectionNode)}return y.jsxs(um.Provider,{value:w,children:[g&&w.visualElement?y.jsx(g,{visualElement:w.visualElement,...v}):null,iU(t,f,cU(k,w.visualElement,m),k,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=W.forwardRef(l);return u[lU]=t,u}function fU({layoutId:t}){const e=W.useContext(pv).id;return e&&t!==void 0?e+"-"+t:t}function mU(t,e){W.useContext(ZC).strict}function pU(t){const{drag:e,layout:n}=jl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function gU(t,e){if(typeof Proxy>"u")return Ug;const n=new Map,s=(l,u)=>Ug(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Ug(u,void 0,t,e)),n.get(u))})}function hk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function yU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Bg(t){return t===void 0||t===1}function Ky({scale:t,scaleX:e,scaleY:n}){return!Bg(t)||!Bg(e)||!Bg(n)}function Ga(t){return Ky(t)||dk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dk(t){return G1(t.x)||G1(t.y)}function G1(t){return t&&t!=="0%"}function Cf(t,e,n){const s=t-n,a=e*s;return n+a}function K1(t,e,n,s,a){return a!==void 0&&(t=Cf(t,a,s)),Cf(t,n,s)+e}function $y(t,e=0,n=1,s,a){t.min=K1(t.min,e,n,s,a),t.max=K1(t.max,e,n,s,a)}function fk(t,{x:e,y:n}){$y(t.x,e.translate,e.scale,e.originPoint),$y(t.y,n.translate,n.scale,n.originPoint)}const $1=.999999999999,Q1=1.0000000000001;function xU(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&vl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,fk(t,u)),s&&Ga(l.latestValues)&&vl(t,l.latestValues))}e.x<Q1&&e.x>$1&&(e.x=1),e.y<Q1&&e.y>$1&&(e.y=1)}function yl(t,e){t.min=t.min+e,t.max=t.max+e}function Y1(t,e,n,s,a=.5){const l=Et(t.min,t.max,a);$y(t,e,n,l,s)}function vl(t,e){Y1(t.x,e.x,e.scaleX,e.scale,e.originX),Y1(t.y,e.y,e.scaleY,e.scale,e.originY)}function mk(t,e){return hk(vU(t.getBoundingClientRect(),e))}function _U(t,e,n){const s=mk(t,n),{scroll:a}=e;return a&&(yl(s.x,a.offset.x),yl(s.y,a.offset.y)),s}const X1=()=>({translate:0,scale:1,origin:0,originPoint:0}),xl=()=>({x:X1(),y:X1()}),W1=()=>({min:0,max:0}),Wt=()=>({x:W1(),y:W1()}),Qy={current:null},pk={current:!1};function bU(){if(pk.current=!0,!!yv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qy.current=t.matches;t.addEventListener("change",e),e()}else Qy.current=!1}const TU=new WeakMap;function wU(t,e,n){for(const s in e){const a=e[s],l=n[s];if(bn(a))t.addValue(s,a);else if(bn(l))t.addValue(s,Ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Ol(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Bn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,wt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=dm(n),this.isVariantNode=ek(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const k=b[w];m[w]!==void 0&&bn(k)&&k.set(m[w])}}mount(e){this.current=e,TU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),pk.current||bU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Wl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&wt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jl){const n=jl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Z1.length;s++){const a=Z1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=wU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(aC(s)||lC(s))?s=parseFloat(s):!DL(s)&&na.test(n)&&(s=HC(e,n)),this.setBaseTarget(e,bn(s)?s.get():s)),bn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Hv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){jv.render(this.render)}}class gk extends EU{constructor(){super(...arguments),this.KeyframeResolver=_L}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yk(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function AU(t){return window.getComputedStyle(t)}class SU extends gk{constructor(){super(...arguments),this.type="html",this.renderInstance=yk}readValueFromInstance(e,n){if(Wl.has(n))return this.projection?.isProjecting?Ly(n):U6(e,n);{const s=AU(e),a=(TC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mk(e,n)}build(e,n,s){zv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Gv(e,n,s)}}const vk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CU(t,e,n,s){yk(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(vk.has(a)?a:Kv(a),e.attrs[a])}class kU extends gk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wl.has(n)){const s=FC(n);return s&&s.default||0}return n=vk.has(n)?n:Kv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ok(e,n,s)}build(e,n,s){ik(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){CU(e,n,s,a)}mount(e){this.isSVGTag=rk(e.tagName),super.mount(e)}}const RU=(t,e)=>Fv(t)?new kU(e):new SU(e,{allowProjection:t!==W.Fragment});function Sl(t,e,n){const s=t.getProps();return Hv(s,e,n!==void 0?n:s.custom,t)}const Yy=t=>Array.isArray(t);function IU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ol(n))}function NU(t){return Yy(t)?t[t.length-1]||0:t}function DU(t,e){const n=Sl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=NU(l[u]);IU(t,u,f)}}function MU(t){return!!(bn(t)&&t.add)}function Xy(t,e){const n=t.getValue("willChange");if(MU(n))return n.add(e);if(!n&&nr.WillChange){const s=new nr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function xk(t){return t.props[lk]}const PU=t=>t!==null;function OU(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(PU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const jU={type:"spring",stiffness:500,damping:25,restSpeed:10},VU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LU={type:"keyframes",duration:.8},UU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BU=(t,{keyframes:e})=>e.length>2?LU:Wl.has(t)?t.startsWith("scale")?VU(e[1]):jU:UU;function zU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const $v=(t,e,n,s={},a,l)=>u=>{const f=Pv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:g=0}=s;g=g-xs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};zU(f)||Object.assign(v,BU(t,v)),v.duration&&(v.duration=xs(v.duration)),v.repeatDelay&&(v.repeatDelay=xs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Fy(v),v.delay===0&&(b=!0)),(nr.instantAnimations||nr.skipAnimations)&&(b=!0,Fy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const w=OU(v.keyframes,f);if(w!==void 0){wt.update(()=>{v.onUpdate(w),v.onComplete()});return}}return f.isSync?new Dv(v):new lL(v)};function qU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function _k(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),w=f[v];if(w===void 0||g&&qU(g,v))continue;const k={delay:n,...Pv(l||{},v)},D=b.get();if(D!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===D&&!k.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const q=xk(t);if(q){const ee=window.MotionHandoffAnimation(q,v,wt);ee!==null&&(k.startTime=ee,O=!0)}}Xy(t,v),b.start($v(v,b,w,t.shouldReduceMotion&&BC.has(v)?{type:!1}:k,t,O));const P=b.animation;P&&m.push(P)}return u&&Promise.all(m).then(()=>{wt.update(()=>{u&&DU(t,u)})}),m}function bk(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}function Wy(t,e,n={}){const s=Sl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(_k(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=a;return FU(t,e,m,g,v,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function FU(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Wy(m,e,{...u,delay:n+(typeof s=="function"?0:s)+bk(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function HU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Wy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Wy(t,e,n);else{const a=typeof e=="function"?Sl(t,e,n.custom):e;s=Promise.all(_k(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Tk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const GU=Bv.length;function wk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GU;n++){const s=Bv[n],a=t.props[s];(Vu(a)||a===!1)&&(e[s]=a)}return e}const KU=[...Uv].reverse(),$U=Uv.length;function QU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>HU(t,n,s)))}function YU(t){let e=QU(t),n=J1(),s=!0;const a=m=>(g,v)=>{const b=Sl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:k,...D}=b;g={...g,...D,...k}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=wk(t.parent)||{},b=[],w=new Set;let k={},D=1/0;for(let P=0;P<$U;P++){const q=KU[P],ee=n[q],Q=g[q]!==void 0?g[q]:v[q],ce=Vu(Q),he=q===m?ee.isActive:null;he===!1&&(D=P);let ue=Q===v[q]&&Q!==g[q]&&ce;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),ee.protectedKeys={...k},!ee.isActive&&he===null||!Q&&!ee.prevProp||hm(Q)||typeof Q=="boolean")continue;const I=XU(ee.prevProp,Q);let S=I||q===m&&ee.isActive&&!ue&&ce||P>D&&ce,N=!1;const L=Array.isArray(Q)?Q:[Q];let V=L.reduce(a(q),{});he===!1&&(V={});const{prevResolvedValues:M={}}=ee,R={...M,...V},Ee=H=>{S=!0,w.has(H)&&(N=!0,w.delete(H)),ee.needsAnimating[H]=!0;const ae=t.getValue(H);ae&&(ae.liveStyle=!1)};for(const H in R){const ae=V[H],de=M[H];if(k.hasOwnProperty(H))continue;let B=!1;Yy(ae)&&Yy(de)?B=!Tk(ae,de):B=ae!==de,B?ae!=null?Ee(H):w.add(H):ae!==void 0&&w.has(H)?Ee(H):ee.protectedKeys[H]=!0}ee.prevProp=Q,ee.prevResolvedValues=V,ee.isActive&&(k={...k,...V}),s&&t.blockInitialAnimation&&(S=!1);const De=ue&&I;S&&(!De||N)&&b.push(...L.map(H=>{const ae={type:q};if(typeof H=="string"&&s&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:de}=t,B=Sl(de,H);if(de.enteringChildren&&B){const{delayChildren:E}=B.transition||{};ae.delay=bk(de.enteringChildren,t,E)}}return{animation:H,options:ae}}))}if(w.size){const P={};if(typeof g.initial!="boolean"){const q=Sl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);q&&q.transition&&(P.transition=q.transition)}w.forEach(q=>{const ee=t.getBaseTarget(q),Q=t.getValue(q);Q&&(Q.liveStyle=!0),P[q]=ee??null}),b.push({animation:P})}let O=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(O=!1),s=!1,O?e(b):Promise.resolve()}function f(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),n[m].isActive=g;const v=u(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=J1()}}}function XU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Tk(e,t):!1}function qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J1(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}class ha{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WU extends ha{constructor(e){super(e),e.animationState||(e.animationState=YU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZU=0;class JU extends ha{constructor(){super(...arguments),this.id=ZU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eB={animation:{Feature:WU},exit:{Feature:JU}};function Lu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function eh(t){return{point:{x:t.pageX,y:t.pageY}}}const tB=t=>e=>Vv(e)&&t(e,eh(e));function bu(t,e,n,s){return Lu(t,e,tB(n),s)}const Ek=1e-4,nB=1-Ek,iB=1+Ek,Ak=.01,sB=0-Ak,rB=0+Ak;function Cn(t){return t.max-t.min}function aB(t,e,n){return Math.abs(t-e)<=n}function eE(t,e,n,s=.5){t.origin=s,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Cn(n)/Cn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nB&&t.scale<=iB||isNaN(t.scale))&&(t.scale=1),(t.translate>=sB&&t.translate<=rB||isNaN(t.translate))&&(t.translate=0)}function Tu(t,e,n,s){eE(t.x,e.x,n.x,s?s.originX:void 0),eE(t.y,e.y,n.y,s?s.originY:void 0)}function tE(t,e,n){t.min=n.min+e.min,t.max=t.min+Cn(e)}function oB(t,e,n){tE(t.x,e.x,n.x),tE(t.y,e.y,n.y)}function nE(t,e,n){t.min=e.min-n.min,t.max=t.min+Cn(e)}function kf(t,e,n){nE(t.x,e.x,n.x),nE(t.y,e.y,n.y)}function yi(t){return[t("x"),t("y")]}const Sk=({current:t})=>t?t.ownerDocument.defaultView:null,iE=(t,e)=>Math.abs(t-e);function lB(t,e){const n=iE(t.x,e.x),s=iE(t.y,e.y);return Math.sqrt(n**2+s**2)}class Ck{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=qg(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,D=lB(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!D)return;const{point:O}=w,{timestamp:P}=dn;this.history.push({...O,timestamp:P});const{onStart:q,onMove:ee}=this.handlers;k||(q&&q(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),ee&&ee(this.lastMoveEvent,w)},this.handlePointerMove=(w,k)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=zg(k,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(w,k)=>{this.end();const{onEnd:D,onSessionEnd:O,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=qg(w.type==="pointercancel"?this.lastMoveEventInfo:zg(k,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,q),O&&O(w,q)},!Vv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const f=eh(e),m=zg(f,this.transformPagePoint),{point:g}=m,{timestamp:v}=dn;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,qg(m,this.history)),this.removeListeners=Wu(bu(this.contextWindow,"pointermove",this.handlePointerMove),bu(this.contextWindow,"pointerup",this.handlePointerUp),bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function zg(t,e){return e?{point:e(t.point)}:t}function sE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qg({point:t},e){return{point:t,delta:sE(t,kk(e)),offset:sE(t,cB(e)),velocity:uB(e,.1)}}function cB(t){return t[0]}function kk(t){return t[t.length-1]}function uB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=kk(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>xs(e)));)n--;if(!s)return{x:0,y:0};const l=xi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function hB(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Et(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Et(n,t,s.max):Math.min(t,n)),t}function rE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dB(t,{top:e,left:n,bottom:s,right:a}){return{x:rE(t.x,n,a),y:rE(t.y,e,s)}}function aE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function fB(t,e){return{x:aE(t.x,e.x),y:aE(t.y,e.y)}}function mB(t,e){let n=.5;const s=Cn(t),a=Cn(e);return a>s?n=Pu(e.min,e.max-s,t.min):s>a&&(n=Pu(t.min,t.max-a,e.min)),tr(0,1,n)}function pB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zy=.35;function gB(t=Zy){return t===!1?t=0:t===!0&&(t=Zy),{x:oE(t,"left","right"),y:oE(t,"top","bottom")}}function oE(t,e,n){return{min:lE(t,e),max:lE(t,n)}}function lE(t,e){return typeof t=="number"?t:t[e]||0}const yB=new WeakMap;class vB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eh(b).point)},u=(b,w)=>{const{drag:k,dragPropagation:D,onDragStart:O}=this.getProps();if(k&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EL(k),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(q=>{let ee=this.getAxisMotionValue(q).get()||0;if(_s.test(ee)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ce=Q.layout.layoutBox[q];ce&&(ee=Cn(ce)*(parseFloat(ee)/100))}}this.originPoint[q]=ee}),O&&wt.postRender(()=>O(b,w)),Xy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:k,dragDirectionLock:D,onDirectionLock:O,onDrag:P}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:q}=w;if(D&&this.currentDirection===null){this.currentDirection=xB(q),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,q),this.updateAxis("y",w.point,q),this.visualElement.render(),P&&P(b,w)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>yi(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new Ck(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:Sk(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&wt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Vd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=hB(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&gl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=dB(s.layoutBox,e):this.constraints=!1,this.elastic=gB(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&yi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=pB(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_U(s,a.root,this.visualElement.getTransformPagePoint());let u=fB(a.layout.layoutBox,l);if(n){const f=n(yU(u));this.hasMutatedConstraints=!!f,f&&(u=hk(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=yi(v=>{if(!Vd(v,n,this.currentDirection))return;let b=m&&m[v]||{};u&&(b={min:0,max:0});const w=a?200:1e6,k=a?40:1e7,D={type:"inertia",velocity:s?e[v]:0,bounceStiffness:w,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,D)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Xy(this.visualElement,e),s.start($v(e,s,0,n,this.visualElement,!1))}stopAnimation(){yi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){yi(n=>{const{drag:s}=this.getProps();if(!Vd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Et(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!gl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};yi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=mB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),yi(u=>{if(!Vd(u,e,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(Et(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;yB.set(this.visualElement,this);const e=this.visualElement.current,n=bu(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();gl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wt.read(s);const u=Lu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(yi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Zy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Vd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _B extends ha{constructor(e){super(e),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new vB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const cE=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class bB extends ha{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(e){this.session=new Ck(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:cE(e),onStart:cE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&wt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=bu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Fg=!1;class TB extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||wt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rk(t){const[e,n]=WC(),s=W.useContext(pv);return y.jsx(TB,{...t,layoutGroup:s,switchLayoutGroup:W.useContext(ck),isPresent:e,safeToRemove:n})}function wB(t,e,n){const s=bn(t)?t:Ol(t);return s.start($v("",s,e,n)),s.animation}const EB=(t,e)=>t.depth-e.depth;class AB{constructor(){this.children=[],this.isDirty=!1}add(e){vv(this.children,e),this.isDirty=!0}remove(e){xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EB),this.isDirty=!1,this.children.forEach(e)}}function SB(t,e){const n=Bn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ta(s),t(l-e))};return wt.setup(s,!0),()=>ta(s)}const Ik=["TopLeft","TopRight","BottomLeft","BottomRight"],CB=Ik.length,uE=t=>typeof t=="string"?parseFloat(t):t,hE=t=>typeof t=="number"||Ie.test(t);function kB(t,e,n,s,a,l){a?(t.opacity=Et(0,n.opacity??1,RB(s)),t.opacityExit=Et(e.opacity??1,0,IB(s))):l&&(t.opacity=Et(e.opacity??1,n.opacity??1,s));for(let u=0;u<CB;u++){const f=`border${Ik[u]}Radius`;let m=dE(e,f),g=dE(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||hE(m)===hE(g)?(t[f]=Math.max(Et(uE(m),uE(g),s),0),(_s.test(g)||_s.test(m))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,s))}function dE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const RB=Nk(0,.5,gC),IB=Nk(.5,.95,bi);function Nk(t,e,n){return s=>s<t?0:s>e?1:n(Pu(t,e,s))}function fE(t,e){t.min=e.min,t.max=e.max}function ji(t,e){fE(t.x,e.x),fE(t.y,e.y)}function mE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pE(t,e,n,s,a){return t-=e,t=Cf(t,1/n,s),a!==void 0&&(t=Cf(t,1/a,s)),t}function NB(t,e=0,n=1,s=.5,a,l=t,u=t){if(_s.test(e)&&(e=parseFloat(e),e=Et(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Et(l.min,l.max,s);t===l&&(f-=e),t.min=pE(t.min,e,n,f,a),t.max=pE(t.max,e,n,f,a)}function gE(t,e,[n,s,a],l,u){NB(t,e[n],e[s],e[a],e.scale,l,u)}const DB=["x","scaleX","originX"],MB=["y","scaleY","originY"];function yE(t,e,n,s){gE(t.x,e,DB,n?n.x:void 0,s?s.x:void 0),gE(t.y,e,MB,n?n.y:void 0,s?s.y:void 0)}function vE(t){return t.translate===0&&t.scale===1}function Dk(t){return vE(t.x)&&vE(t.y)}function xE(t,e){return t.min===e.min&&t.max===e.max}function PB(t,e){return xE(t.x,e.x)&&xE(t.y,e.y)}function _E(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Mk(t,e){return _E(t.x,e.x)&&_E(t.y,e.y)}function bE(t){return Cn(t.x)/Cn(t.y)}function TE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class OB{constructor(){this.members=[]}add(e){vv(this.members,e),e.scheduleRender()}remove(e){if(xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jB(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:w,skewX:k,skewY:D}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),w&&(s+=`rotateY(${w}deg) `),k&&(s+=`skewX(${k}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Hg=["","X","Y","Z"],VB=1e3;let LB=0;function Gg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Pk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Pk(s)}function Ok({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=LB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zB),this.nodes.forEach(GB),this.nodes.forEach(KB),this.nodes.forEach(qB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new AB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Tv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=XC(u)&&!IL(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{b=window.innerWidth}),t(u,()=>{const k=window.innerWidth;k!==b&&(b=k,this.root.updateBlockedByResize=!0,v&&v(),v=SB(w,250),Wd.hasAnimatedSinceResize&&(Wd.hasAnimatedSinceResize=!1,this.nodes.forEach(AE)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||WB,{onLayoutAnimationStart:O,onLayoutAnimationComplete:P}=g.getProps(),q=!this.targetLayout||!Mk(this.targetLayout,k),ee=!b&&w;if(this.options.layoutRoot||this.resumeFrom||ee||b&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...Pv(D,"layout"),onPlay:O,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,ee)}else b||AE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($B),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HB),this.nodes.forEach(UB),this.nodes.forEach(BB)):this.nodes.forEach(EE),this.clearAllSnapshots();const f=Bn.now();dn.delta=tr(0,1e3/60,f-dn.timestamp),dn.timestamp=f,dn.isProcessing=!0,Mg.update.process(dn),Mg.preRender.process(dn),Mg.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FB),this.sharedNodes.forEach(QB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cn(this.snapshot.measuredBox.x)&&!Cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Dk(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ga(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),ZB(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Wt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(JB))){const{scroll:g}=this.root;g&&(yl(f.x,g.offset.x),yl(f.y,g.offset.y))}return f}removeElementScroll(u){const f=Wt();if(ji(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ji(f,u),yl(f.x,v.offset.x),yl(f.y,v.offset.y))}return f}applyTransform(u,f=!1){const m=Wt();ji(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&vl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ga(v.latestValues)&&vl(m,v.latestValues)}return Ga(this.latestValues)&&vl(m,this.latestValues),m}removeTransform(u){const f=Wt();ji(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ga(g.latestValues))continue;Ky(g.latestValues)&&g.updateSnapshot();const v=Wt(),b=g.measurePageBox();ji(v,b),yE(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Ga(this.latestValues)&&yE(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=dn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),fk(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ky(this.parent.latestValues)||dk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),kf(this.relativeTargetOrigin,f,m),ji(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ji(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;xU(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Wt());const{target:k}=u;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mE(this.prevProjectionDelta.x,this.projectionDelta.x),mE(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!TE(this.projectionDelta.x,this.prevProjectionDelta.x)||!TE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xl(),this.projectionDelta=xl(),this.projectionDeltaWithTransform=xl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Wt(),k=m?m.source:void 0,D=this.layout?this.layout.source:void 0,O=k!==D,P=this.getStack(),q=!P||P.members.length<=1,ee=!!(O&&!q&&this.options.crossfade===!0&&!this.path.some(XB));this.animationProgress=0;let Q;this.mixTargetDelta=ce=>{const he=ce/1e3;SE(b.x,u.x,he),SE(b.y,u.y,he),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kf(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YB(this.relativeTarget,this.relativeTargetOrigin,w,he),Q&&PB(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=Wt()),ji(Q,this.relativeTarget)),O&&(this.animationValues=v,kB(v,g,this.latestValues,he,ee,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=he},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ol(0)),this.currentAnimation=wB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:v}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&jk(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Wt();const b=Cn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const w=Cn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}ji(f,m),vl(f,v),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new OB),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Gg("z",u,g,this.animationValues);for(let v=0;v<Hg.length;v++)Gg(`rotate${Hg[v]}`,u,g,this.animationValues),Gg(`skew${Hg[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Xd(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Xd(f?.pointerEvents)||""),this.hasProjected&&!Ga(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=jB(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),u.transform=b;const{x:w,y:k}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in Gy){if(v[D]===void 0)continue;const{correct:O,applyTo:P,isCSSVariable:q}=Gy[D],ee=b==="none"?v[D]:O(v[D],g);if(P){const Q=P.length;for(let ce=0;ce<Q;ce++)u[P[ce]]=ee}else q?this.options.visualElement.renderState.vars[D]=ee:u[D]=ee}this.options.layoutId&&(u.pointerEvents=g===this?Xd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(wE),this.root.sharedNodes.clear()}}}function UB(t){t.updateLayout()}function BB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?yi(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Cn(b);b.min=n[v].min,b.max=b.min+w}):jk(a,e.layoutBox,n)&&yi(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Cn(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=xl();Tu(u,n,e.layoutBox);const f=xl();l?Tu(f,t.applyTransform(s,!0),e.measuredBox):Tu(f,n,e.layoutBox);const m=!Dk(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const k=Wt();kf(k,e.layoutBox,b.layoutBox);const D=Wt();kf(D,n,w.layoutBox),Mk(k,D)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=k,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function zB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FB(t){t.clearSnapshot()}function wE(t){t.clearMeasurements()}function EE(t){t.isLayoutDirty=!1}function HB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GB(t){t.resolveTargetDelta()}function KB(t){t.calcProjection()}function $B(t){t.resetSkewAndRotation()}function QB(t){t.removeLeadSnapshot()}function SE(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function CE(t,e,n,s){t.min=Et(e.min,n.min,s),t.max=Et(e.max,n.max,s)}function YB(t,e,n,s){CE(t.x,e.x,n.x,s),CE(t.y,e.y,n.y,s)}function XB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WB={duration:.45,ease:[.4,0,.1,1]},kE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),RE=kE("applewebkit/")&&!kE("chrome/")?Math.round:bi;function IE(t){t.min=RE(t.min),t.max=RE(t.max)}function ZB(t){IE(t.x),IE(t.y)}function jk(t,e,n){return t==="position"||t==="preserve-aspect"&&!aB(bE(e),bE(n),.2)}function JB(t){return t!==t.root&&t.scroll?.wasRoot}const e9=Ok({attachResizeListener:(t,e)=>Lu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kg={current:void 0},Vk=Ok({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kg.current){const t=new e9({});t.mount(window),t.setOptions({layoutScroll:!0}),Kg.current=t}return Kg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),t9={pan:{Feature:bB},drag:{Feature:_B,ProjectionNode:Vk,MeasureLayout:Rk}};function NE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&wt.postRender(()=>l(e,eh(e)))}class n9 extends ha{mount(){const{current:e}=this.node;e&&(this.unmount=AL(e,(n,s)=>(NE(this.node,s,"Start"),a=>NE(this.node,a,"End"))))}unmount(){}}class i9 extends ha{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(Lu(this.node.current,"focus",()=>this.onFocus()),Lu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&wt.postRender(()=>l(e,eh(e)))}class s9 extends ha{mount(){const{current:e}=this.node;e&&(this.unmount=RL(e,(n,s)=>(DE(this.node,s,"Start"),(a,{success:l})=>DE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jy=new WeakMap,$g=new WeakMap,r9=t=>{const e=Jy.get(t.target);e&&e(t)},a9=t=>{t.forEach(r9)};function o9({root:t,...e}){const n=t||document;$g.has(n)||$g.set(n,{});const s=$g.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(a9,{root:t,...e})),s[a]}function l9(t,e,n){const s=o9(e);return Jy.set(t,n),s.observe(t),()=>{Jy.delete(t),s.unobserve(t)}}const c9={some:0,all:1};class u9 extends ha{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:c9[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=g?v:b;w&&w(m)};return l9(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h9(e,n))&&this.startObserver()}unmount(){}}function h9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d9={inView:{Feature:u9},tap:{Feature:s9},focus:{Feature:i9},hover:{Feature:n9}},f9={layout:{ProjectionNode:Vk,MeasureLayout:Rk}},m9={...eB,...d9,...t9,...f9},Ce=gU(m9,RU);const p9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ME=t=>{const e=g9(t);return e.charAt(0).toUpperCase()+e.slice(1)},Lk=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),y9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var v9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x9=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},m)=>W.createElement("svg",{ref:m,...v9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Lk("lucide",a),...!l&&!y9(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,v])=>W.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Ne=(t,e)=>{const n=W.forwardRef(({className:s,...a},l)=>W.createElement(x9,{ref:l,iconNode:e,className:Lk(`lucide-${p9(ME(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ME(t),n};const _9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rf=Ne("arrow-left",_9);const b9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ei=Ne("arrow-right",b9);const T9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cl=Ne("book-open",T9);const w9=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],E9=Ne("box",w9);const A9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],S9=Ne("calendar",A9);const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k9=Ne("circle-alert",C9);const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PE=Ne("circle-check",R9);const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N9=Ne("circle-question-mark",I9);const D9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],OE=Ne("circle-x",D9);const M9=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],P9=Ne("cpu",M9);const O9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],jE=Ne("database",O9);const j9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VE=Ne("eye",j9);const V9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],L9=Ne("file-code",V9);const U9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],e0=Ne("file-text",U9);const B9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],z9=Ne("grid-3x3",B9);const q9=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],F9=Ne("hard-drive",q9);const H9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],G9=Ne("history",H9);const K9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$9=Ne("house",K9);const Q9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Y9=Ne("image",Q9);const X9=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Uk=Ne("key-round",X9);const W9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Z9=Ne("lock-open",W9);const J9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ez=Ne("lock",J9);const tz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t0=Ne("log-out",tz);const nz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iz=Ne("mail",nz);const sz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rz=Ne("menu",sz);const az=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],no=Ne("message-circle",az);const oz=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],lz=Ne("network",oz);const cz=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],io=Ne("notebook-pen",cz);const uz=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],hz=Ne("paperclip",uz);const dz=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Uu=Ne("pen-tool",dz);const fz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mz=Ne("pen",fz);const pz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vl=Ne("play",pz);const gz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],If=Ne("plus",gz);const yz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vz=Ne("rotate-ccw",yz);const xz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bk=Ne("save",xz);const _z=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ll=Ne("search",_z);const bz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Tz=Ne("send",bz);const wz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zk=Ne("settings",wz);const Ez=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Az=Ne("share-2",Ez);const Sz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cz=Ne("sparkles",Sz);const kz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ul=Ne("trash-2",kz);const Rz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],qk=Ne("trophy",Rz);const Iz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],LE=Ne("type",Iz);const Nz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],UE=Ne("upload",Nz);const Dz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yo=Ne("user",Dz);const Mz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BE=Ne("users",Mz);const Pz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qv=Ne("x",Pz);const Oz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zE=Ne("zap",Oz),Fk=({onBack:t})=>{const{user:e}=ir(),[n,s]=W.useState({title:"",description:"",questions:[{id:1,question:"",options:[{key:"A",text:""},{key:"B",text:""},{key:"C",text:""},{key:"D",text:""}],answer:"A",explanation:""}]}),[a,l]=W.useState(!1),[u,f]=W.useState(""),m=()=>{s(k=>({...k,questions:[...k.questions,{id:k.questions.length+1,question:"",options:[{key:"A",text:""},{key:"B",text:""},{key:"C",text:""},{key:"D",text:""}],answer:"A",explanation:""}]}))},g=k=>{if(n.questions.length===1)return;const D=n.questions.filter((O,P)=>P!==k);s(O=>({...O,questions:D}))},v=(k,D,O)=>{const P=[...n.questions];P[k][D]=O,s(q=>({...q,questions:P}))},b=(k,D,O)=>{const P=[...n.questions];P[k].options[D].text=O,s(q=>({...q,questions:P}))},w=async()=>{if(!n.title||!n.description){f("Please fill in Title and Description");return}for(let k of n.questions){if(!k.question){f("All questions must have text");return}for(let D of k.options)if(!D.text){f("All options must be filled");return}}l(!0),f("Saving...");try{await xf(ds(mt,"quizzes"),{...n,createdBy:e.uid,authorName:e.name||e.username||"Anonymous",createdAt:new Date().toISOString(),plays:0}),f("Quiz Created Successfully! "),setTimeout(t,2e3)}catch(k){console.error(k),f("Error saving quiz: "+k.message),l(!1)}};return y.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[y.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-black mb-6",children:[y.jsx(Rf,{size:20})," Back to Menu"]}),y.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create New Quiz"}),u&&y.jsx("div",{className:`p-4 rounded-xl mb-6 text-center font-bold ${u.includes("Success")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u}),y.jsxs("div",{className:"space-y-4 mb-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Quiz Title"}),y.jsx("input",{className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-black transition-colors",placeholder:"e.g. Advanced JavaScript Trivia",value:n.title,onChange:k=>s({...n,title:k.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Description"}),y.jsx("textarea",{className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-black transition-colors",placeholder:"What is this quiz about?",value:n.description,onChange:k=>s({...n,description:k.target.value})})]})]}),y.jsx("div",{className:"space-y-8",children:n.questions.map((k,D)=>y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200 relative",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"font-bold text-lg",children:["Question ",D+1]}),n.questions.length>1&&y.jsx("button",{onClick:()=>g(D),className:"text-red-500 hover:bg-red-100 p-2 rounded-lg",children:y.jsx(Ul,{size:20})})]}),y.jsx("input",{className:"w-full p-3 rounded-xl border border-gray-300 mb-4",placeholder:"Enter question text here...",value:k.question,onChange:O=>v(D,"question",O.target.value)}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:k.options.map((O,P)=>y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold border ${k.answer===O.key?"bg-green-500 text-white border-green-500":"bg-white border-gray-300"}`,children:O.key}),y.jsx("input",{className:"w-full p-2 rounded-lg border border-gray-300",placeholder:`Option ${O.key}`,value:O.text,onChange:q=>b(D,P,q.target.value)}),y.jsx("input",{type:"radio",name:`answer-${k.id}`,checked:k.answer===O.key,onChange:()=>v(D,"answer",O.key),className:"w-5 h-5 accent-black cursor-pointer"})]},O.key))}),y.jsx("input",{className:"w-full p-3 rounded-xl border border-gray-300 border-dashed bg-white",placeholder:"Explanation (Optional)",value:k.explanation,onChange:O=>v(D,"explanation",O.target.value)})]},k.id))}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-8",children:[y.jsxs("button",{onClick:m,className:"flex-1 py-4 border-2 border-black border-dashed rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50",children:[y.jsx(If,{size:20})," Add Question"]}),y.jsx("button",{onClick:w,disabled:a,className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 shadow-lg disabled:opacity-50",children:a?"Saving...":y.jsxs(y.Fragment,{children:[y.jsx(Bk,{size:20})," Save Quiz"]})})]})]})]})},Hk=({onBack:t,onPlay:e})=>{const{user:n}=ir(),[s,a]=W.useState([]),[l,u]=W.useState([]),[f,m]=W.useState(!0),g=async()=>{m(!0);try{const k=(await yf(ds(mt,"quizzes"))).docs.map(D=>({id:D.id,...D.data()}));n?(a(k.filter(D=>D.createdBy===n.uid)),u(k.filter(D=>D.createdBy!==n.uid))):u(k)}catch(w){console.error("Error fetching quizzes:",w)}finally{m(!1)}};W.useEffect(()=>{g()},[n]);const v=async w=>{if(confirm("Are you sure you want to delete this quiz? This cannot be undone."))try{await vf(mn(mt,"quizzes",w)),a(k=>k.filter(D=>D.id!==w))}catch(k){console.error("Error deleting quiz:",k),alert("Failed to delete quiz.")}},b=({quiz:w,isMine:k})=>y.jsxs(Ce.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col h-full",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl ${k?"bg-black text-white":"bg-purple-50 text-purple-600"}`,children:y.jsx(Cl,{size:24})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-xs font-bold bg-gray-100 text-gray-500 px-3 py-1 rounded-full",children:[w.questions?.length||0," Qs"]}),k&&y.jsx("button",{onClick:D=>{D.stopPropagation(),v(w.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Quiz",children:y.jsx(Ul,{size:16})})]})]}),y.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-1",children:w.title}),y.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2 min-h-[40px] flex-grow",children:w.description}),y.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-50",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium",children:[y.jsx(yo,{size:14}),y.jsx("span",{children:w.authorName||"Anonymous"})]}),y.jsxs("button",{onClick:()=>e(w),className:"px-4 py-2 bg-black text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors shadow-lg hover:shadow-xl",children:[y.jsx(Vl,{size:14,fill:"currentColor"})," Play"]})]})]});return y.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-8",children:[y.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-black mb-8 font-bold transition-colors",children:[y.jsx(Rf,{size:20})," Back to Menu"]}),y.jsxs("div",{className:"mb-12 text-center",children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-4",children:"Community Quizzes"}),y.jsx("p",{className:"text-gray-500 text-lg max-w-2xl mx-auto",children:"Explore and challenge yourself with quizzes created by the community, or manage your own creations."})]}),f?y.jsx("div",{className:"text-center text-gray-400 py-20 animate-pulse",children:"Loading amazing quizzes..."}):y.jsxs("div",{className:"space-y-16",children:[s.length>0&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-100 pb-4 flex items-center gap-3",children:[y.jsx("span",{className:"bg-black text-white px-3 py-1 rounded-lg text-sm",children:"You"}),"Your Created Quizzes"]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.jsx(zn,{children:s.map(w=>y.jsx(b,{quiz:w,isMine:!0},w.id))})})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-100 pb-4 flex items-center gap-3",children:[y.jsx("span",{className:"bg-purple-100 text-purple-600 px-3 py-1 rounded-lg text-sm",children:"Community"}),"Trending Quizzes"]}),l.length===0&&s.length===0?y.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border border-dashed border-gray-200",children:y.jsx("p",{className:"text-gray-500 font-medium",children:"No quizzes found yet. Be the first to create one!"})}):l.length===0?y.jsx("div",{className:"text-center py-12 text-gray-400 italic",children:"No community quizzes yet."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(w=>y.jsx(b,{quiz:w,isMine:!1},w.id))})]})]})]})};function n0({topic:t,description:e,questionCount:n,onStart:s,disabled:a=!1,compact:l=!1}){return y.jsxs(Ce.div,{whileHover:a?{}:{y:-5},onClick:()=>!a&&s&&s(),className:`bg-white rounded-2xl border transition-all ${a?"opacity-50 border-gray-100 cursor-not-allowed":"border-gray-200 hover:border-black hover:shadow-xl cursor-pointer"} ${l?"p-4 flex items-center justify-between gap-4":"p-8 flex flex-col h-full"}`,children:[y.jsxs("div",{className:l?"":"mb-6",children:[y.jsx("h3",{className:`font-bold text-gray-900 ${l?"text-lg":"text-2xl mb-2"}`,children:t}),!l&&y.jsx("p",{className:"text-gray-500 leading-relaxed",children:e})]}),y.jsxs("div",{className:`${l?"flex-shrink-0":"mt-auto pt-6 flex items-center justify-between"}`,children:[!l&&y.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-medium text-sm",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n," Questions"]}),y.jsx("button",{onClick:u=>{u.stopPropagation(),!a&&s&&s()},disabled:a,className:`${l?"p-3":"px-6 py-3"} bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors ${a?"bg-gray-200 text-gray-400 cursor-not-allowed":""}`,children:l?y.jsx(Vl,{size:18}):y.jsxs(y.Fragment,{children:["Start Quiz ",y.jsx(Vl,{size:18})]})})]})]})}var Yv={};(function t(e,n,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),E=B.getContext("2d");E.fillRect(0,0,1,1);var F=B.transferToImageBitmap();E.createPattern(F,"no-repeat")}catch{return!1}return!0})();function m(){}function g(B){var E=n.exports.Promise,F=E!==void 0?E:e.Promise;return typeof F=="function"?new F(B):(B(m,m),null)}var v=(function(B,E){return{transform:function(F){if(B)return F;if(E.has(F))return E.get(F);var Z=new OffscreenCanvas(F.width,F.height),oe=Z.getContext("2d");return oe.drawImage(F,0,0),E.set(F,Z),Z},clear:function(){E.clear()}}})(f,new Map),b=(function(){var B=Math.floor(16.666666666666668),E,F,Z={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(fe){var ge=Math.random();return Z[ge]=requestAnimationFrame(function pe(be){oe===be||oe+B-1<be?(oe=be,delete Z[ge],fe()):Z[ge]=requestAnimationFrame(pe)}),ge},F=function(fe){Z[fe]&&cancelAnimationFrame(Z[fe])}):(E=function(fe){return setTimeout(fe,B)},F=function(fe){return clearTimeout(fe)}),{frame:E,cancel:F}})(),w=(function(){var B,E,F={};function Z(oe){function fe(ge,pe){oe.postMessage({options:ge||{},callback:pe})}oe.init=function(pe){var be=pe.transferControlToOffscreen();oe.postMessage({canvas:be},[be])},oe.fire=function(pe,be,Ae){if(E)return fe(pe,null),E;var et=Math.random().toString(36).slice(2);return E=g(function(Ye){function it(_t){_t.data.callback===et&&(delete F[et],oe.removeEventListener("message",it),E=null,v.clear(),Ae(),Ye())}oe.addEventListener("message",it),fe(pe,et),F[et]=it.bind(null,{data:{callback:et}})}),E},oe.reset=function(){oe.postMessage({reset:!0});for(var pe in F)F[pe](),delete F[pe]}}return function(){if(B)return B;if(!s&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([oe])))}catch(fe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}Z(B)}return B}})(),k={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(B,E){return E?E(B):B}function O(B){return B!=null}function P(B,E,F){return D(B&&O(B[E])?B[E]:k[E],F)}function q(B){return B<0?0:Math.floor(B)}function ee(B,E){return Math.floor(Math.random()*(E-B))+B}function Q(B){return parseInt(B,16)}function ce(B){return B.map(he)}function he(B){var E=String(B).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:Q(E.substring(0,2)),g:Q(E.substring(2,4)),b:Q(E.substring(4,6))}}function ue(B){var E=P(B,"origin",Object);return E.x=P(E,"x",Number),E.y=P(E,"y",Number),E}function I(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function S(B){var E=B.getBoundingClientRect();B.width=E.width,B.height=E.height}function N(B){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=B,E}function L(B,E,F,Z,oe,fe,ge,pe,be){B.save(),B.translate(E,F),B.rotate(fe),B.scale(Z,oe),B.arc(0,0,1,ge,pe,be),B.restore()}function V(B){var E=B.angle*(Math.PI/180),F=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-E+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function M(B,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var F=E.tick++/E.totalTicks,Z=E.x+E.random*E.tiltCos,oe=E.y+E.random*E.tiltSin,fe=E.wobbleX+E.random*E.tiltCos,ge=E.wobbleY+E.random*E.tiltSin;if(B.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-F)+")",B.beginPath(),u&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))B.fill(H(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(fe-Z)*.1,Math.abs(ge-oe)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var pe=Math.PI/10*E.wobble,be=Math.abs(fe-Z)*.1,Ae=Math.abs(ge-oe)*.1,et=E.shape.bitmap.width*E.scalar,Ye=E.shape.bitmap.height*E.scalar,it=new DOMMatrix([Math.cos(pe)*be,Math.sin(pe)*be,-Math.sin(pe)*Ae,Math.cos(pe)*Ae,E.x,E.y]);it.multiplySelf(new DOMMatrix(E.shape.matrix));var _t=B.createPattern(v.transform(E.shape.bitmap),"no-repeat");_t.setTransform(it),B.globalAlpha=1-F,B.fillStyle=_t,B.fillRect(E.x-et/2,E.y-Ye/2,et,Ye),B.globalAlpha=1}else if(E.shape==="circle")B.ellipse?B.ellipse(E.x,E.y,Math.abs(fe-Z)*E.ovalScalar,Math.abs(ge-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):L(B,E.x,E.y,Math.abs(fe-Z)*E.ovalScalar,Math.abs(ge-oe)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Pe=Math.PI/2*3,jt=4*E.scalar,Yt=8*E.scalar,rn=E.x,wn=E.y,ot=5,tt=Math.PI/ot;ot--;)rn=E.x+Math.cos(Pe)*Yt,wn=E.y+Math.sin(Pe)*Yt,B.lineTo(rn,wn),Pe+=tt,rn=E.x+Math.cos(Pe)*jt,wn=E.y+Math.sin(Pe)*jt,B.lineTo(rn,wn),Pe+=tt;else B.moveTo(Math.floor(E.x),Math.floor(E.y)),B.lineTo(Math.floor(E.wobbleX),Math.floor(oe)),B.lineTo(Math.floor(fe),Math.floor(ge)),B.lineTo(Math.floor(Z),Math.floor(E.wobbleY));return B.closePath(),B.fill(),E.tick<E.totalTicks}function R(B,E,F,Z,oe){var fe=E.slice(),ge=B.getContext("2d"),pe,be,Ae=g(function(et){function Ye(){pe=be=null,ge.clearRect(0,0,Z.width,Z.height),v.clear(),oe(),et()}function it(){s&&!(Z.width===a.width&&Z.height===a.height)&&(Z.width=B.width=a.width,Z.height=B.height=a.height),!Z.width&&!Z.height&&(F(B),Z.width=B.width,Z.height=B.height),ge.clearRect(0,0,Z.width,Z.height),fe=fe.filter(function(_t){return M(ge,_t)}),fe.length?pe=b.frame(it):Ye()}pe=b.frame(it),be=Ye});return{addFettis:function(et){return fe=fe.concat(et),Ae},canvas:B,promise:Ae,reset:function(){pe&&b.cancel(pe),be&&be()}}}function Ee(B,E){var F=!B,Z=!!P(E||{},"resize"),oe=!1,fe=P(E,"disableForReducedMotion",Boolean),ge=l&&!!P(E||{},"useWorker"),pe=ge?w():null,be=F?I:S,Ae=B&&pe?!!B.__confetti_initialized:!1,et=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function it(Pe,jt,Yt){for(var rn=P(Pe,"particleCount",q),wn=P(Pe,"angle",Number),ot=P(Pe,"spread",Number),tt=P(Pe,"startVelocity",Number),qi=P(Pe,"decay",Number),Zl=P(Pe,"gravity",Number),vo=P(Pe,"drift",Number),Jt=P(Pe,"colors",ce),Ts=P(Pe,"ticks",Number),sr=P(Pe,"shapes"),da=P(Pe,"scalar"),Fi=!!P(Pe,"flat"),xo=ue(Pe),fa=rn,rr=[],_o=B.width*xo.x,Hn=B.height*xo.y;fa--;)rr.push(V({x:_o,y:Hn,angle:wn,spread:ot,startVelocity:tt,color:Jt[fa%Jt.length],shape:sr[ee(0,sr.length)],ticks:Ts,decay:qi,gravity:Zl,drift:vo,scalar:da,flat:Fi}));return Ye?Ye.addFettis(rr):(Ye=R(B,rr,be,jt,Yt),Ye.promise)}function _t(Pe){var jt=fe||P(Pe,"disableForReducedMotion",Boolean),Yt=P(Pe,"zIndex",Number);if(jt&&et)return g(function(tt){tt()});F&&Ye?B=Ye.canvas:F&&!B&&(B=N(Yt),document.body.appendChild(B)),Z&&!Ae&&be(B);var rn={width:B.width,height:B.height};pe&&!Ae&&pe.init(B),Ae=!0,pe&&(B.__confetti_initialized=!0);function wn(){if(pe){var tt={getBoundingClientRect:function(){if(!F)return B.getBoundingClientRect()}};be(tt),pe.postMessage({resize:{width:tt.width,height:tt.height}});return}rn.width=rn.height=null}function ot(){Ye=null,Z&&(oe=!1,e.removeEventListener("resize",wn)),F&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,Ae=!1)}return Z&&!oe&&(oe=!0,e.addEventListener("resize",wn,!1)),pe?pe.fire(Pe,rn,ot):it(Pe,rn,ot)}return _t.reset=function(){pe&&pe.reset(),Ye&&Ye.reset()},_t}var De;function U(){return De||(De=Ee(null,{useWorker:!0,resize:!0})),De}function H(B,E,F,Z,oe,fe,ge){var pe=new Path2D(B),be=new Path2D;be.addPath(pe,new DOMMatrix(E));var Ae=new Path2D;return Ae.addPath(be,new DOMMatrix([Math.cos(ge)*oe,Math.sin(ge)*oe,-Math.sin(ge)*fe,Math.cos(ge)*fe,F,Z])),Ae}function ae(B){if(!u)throw new Error("path confetti are not supported in this browser");var E,F;typeof B=="string"?E=B:(E=B.path,F=B.matrix);var Z=new Path2D(E),oe=document.createElement("canvas"),fe=oe.getContext("2d");if(!F){for(var ge=1e3,pe=ge,be=ge,Ae=0,et=0,Ye,it,_t=0;_t<ge;_t+=2)for(var Pe=0;Pe<ge;Pe+=2)fe.isPointInPath(Z,_t,Pe,"nonzero")&&(pe=Math.min(pe,_t),be=Math.min(be,Pe),Ae=Math.max(Ae,_t),et=Math.max(et,Pe));Ye=Ae-pe,it=et-be;var jt=10,Yt=Math.min(jt/Ye,jt/it);F=[Yt,0,0,Yt,-Math.round(Ye/2+pe)*Yt,-Math.round(it/2+be)*Yt]}return{type:"path",path:E,matrix:F}}function de(B){var E,F=1,Z="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?E=B:(E=B.text,F="scalar"in B?B.scalar:F,oe="fontFamily"in B?B.fontFamily:oe,Z="color"in B?B.color:Z);var fe=10*F,ge=""+fe+"px "+oe,pe=new OffscreenCanvas(fe,fe),be=pe.getContext("2d");be.font=ge;var Ae=be.measureText(E),et=Math.ceil(Ae.actualBoundingBoxRight+Ae.actualBoundingBoxLeft),Ye=Math.ceil(Ae.actualBoundingBoxAscent+Ae.actualBoundingBoxDescent),it=2,_t=Ae.actualBoundingBoxLeft+it,Pe=Ae.actualBoundingBoxAscent+it;et+=it+it,Ye+=it+it,pe=new OffscreenCanvas(et,Ye),be=pe.getContext("2d"),be.font=ge,be.fillStyle=Z,be.fillText(E,_t,Pe);var jt=1/F;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[jt,0,0,jt,-et*jt/2,-Ye*jt/2]}}n.exports=function(){return U().apply(this,arguments)},n.exports.reset=function(){U().reset()},n.exports.create=Ee,n.exports.shapeFromPath=ae,n.exports.shapeFromText=de})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Yv,!1);const Gk=Yv.exports;Yv.exports.create;const qE=t=>{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const n=new e;if(t==="success")[523.25,659.25,783.99,1046.5].forEach((a,l)=>{const u=n.createOscillator(),f=n.createGain();u.type="sine",u.frequency.setValueAtTime(a,n.currentTime),f.gain.setValueAtTime(.1,n.currentTime),f.gain.exponentialRampToValueAtTime(.001,n.currentTime+.5+l*.1),u.connect(f),f.connect(n.destination),u.start(),u.stop(n.currentTime+1)});else if(t==="error"){const s=n.createOscillator(),a=n.createGain();s.type="sawtooth",s.frequency.setValueAtTime(150,n.currentTime),s.frequency.linearRampToValueAtTime(50,n.currentTime+.3),a.gain.setValueAtTime(.1,n.currentTime),a.gain.exponentialRampToValueAtTime(.001,n.currentTime+.3),s.connect(a),a.connect(n.destination),s.start(),s.stop(n.currentTime+.4)}},jz={hidden:{opacity:0,scale:.5,y:20},visible:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:-20}};function Vz({isCorrect:t,show:e}){return y.jsx(zn,{children:e&&y.jsxs(Ce.div,{variants:jz,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",stiffness:400,damping:20},className:`absolute -top-16 right-0 p-4 rounded-2xl shadow-xl border-2 font-bold transform -rotate-6 z-10 ${t?"bg-green-100 border-green-500 text-green-800":"bg-red-100 border-red-500 text-red-800"}`,children:[t?"Doing great! ":"Uh oh... ",y.jsx("div",{className:`absolute bottom-0 right-6 translate-y-1/2 rotate-45 w-4 h-4 border-r-2 border-b-2 bg-inherit ${t?"border-green-500":"border-red-500"}`})]})})}const Kk=({questions:t,onFinish:e})=>{const[n,s]=W.useState(0),[a,l]=W.useState(null),[u,f]=W.useState(!1),[m,g]=W.useState(0),[v,b]=W.useState([]);if(!t||t.length===0)return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center",children:[y.jsx(k9,{size:48,className:"text-red-500 mb-4"}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Oops! No questions found."}),y.jsx("p",{className:"text-gray-500 mt-2",children:"There seems to be an issue loading this quiz."}),y.jsx("button",{onClick:()=>e(0,[]),className:"mt-6 px-6 py-2 bg-black text-white rounded-lg font-bold",children:"Go Back"})]});const w=t[n];(n+(u?1:0))/t.length*100;const k=q=>{if(u)return;l(q),f(!0);const ee=q===w.answer;b(Q=>[...Q,{question:w.question,selectedOption:q,correctAnswer:w.answer,isCorrect:ee,explanation:w.explanation||"No explanation provided."}]),ee?(g(Q=>Q+1),qE("success"),Gk({particleCount:100,spread:70,origin:{y:.6}})):qE("error")},D=()=>{n<t.length-1?(s(q=>q+1),l(null),f(!1)):e(m,v)},O=q=>u?q===w.answer?"border-green-500 bg-green-50 text-green-700":a===q&&q!==w.answer?"border-red-500 bg-red-50 text-red-700":"border-gray-100 text-gray-400 opacity-50":"border-gray-200 hover:border-black hover:bg-gray-50 text-gray-700",P=()=>{window.confirm(`Are you sure you want to end the quiz early? 
Your current score will be submitted.`)&&e(m,v)};return y.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"flex justify-between items-end text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wide",children:[y.jsxs("span",{children:["Question ",n+1," / ",t.length]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("span",{className:"text-black font-bold text-sm",children:["Score: ",m]}),y.jsx("button",{onClick:P,className:"text-red-500 hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"End Quiz"})]})]}),y.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:y.jsx(Ce.div,{className:"h-full bg-black rounded-full",initial:{width:0},animate:{width:`${(n+1)/t.length*100}%`},transition:{duration:.5}})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[y.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-sm relative",children:[y.jsx(Vz,{isCorrect:a===w.answer,show:u}),y.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-8 leading-snug",children:w.question}),y.jsx("div",{className:"space-y-3",children:w.options.map(q=>y.jsxs("button",{onClick:()=>k(q.key),disabled:u,className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-between group ${O(q.key)}`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold border ${u?q.key===w.answer?"bg-green-500 border-green-500 text-white":a===q.key?"bg-red-500 border-red-500 text-white":"border-gray-200 text-gray-400":"border-gray-200 text-gray-500 group-hover:border-black group-hover:text-black"}`,children:q.key}),y.jsx("span",{className:"text-base font-medium",children:q.text})]}),u&&q.key===w.answer&&y.jsx(PE,{size:20,className:"text-green-500"}),u&&a===q.key&&q.key!==w.answer&&y.jsx(OE,{size:20,className:"text-red-500"})]},q.key))})]}),y.jsx("div",{className:"lg:sticky lg:top-24",children:y.jsx(zn,{mode:"wait",children:u&&y.jsx(Ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-lg",children:y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[a===w.answer?y.jsx("div",{className:"p-2 bg-green-100 rounded-full text-green-600",children:y.jsx(PE,{size:24})}):y.jsx("div",{className:"p-2 bg-red-100 rounded-full text-red-600",children:y.jsx(OE,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-gray-900 text-lg",children:a===w.answer?"Correct!":"Incorrect"}),a!==w.answer&&y.jsxs("p",{className:"text-sm text-gray-500",children:["Correct Answer: ",w.answer]})]})]}),y.jsxs("div",{className:"bg-gray-50 p-5 rounded-2xl",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-900 font-semibold",children:[y.jsx(N9,{size:18}),y.jsx("span",{children:"Explanation"})]}),y.jsx("p",{className:"text-gray-600 leading-relaxed",children:w.explanation||"No additional explanation provided for this question."})]}),y.jsxs("button",{onClick:D,className:"w-full bg-black text-white px-8 py-4 rounded-xl font-bold text-base tracking-wide hover:bg-gray-800 transition-all flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[n===t.length-1?"Finish Result":"Next Question",y.jsx(ei,{size:20})]})]})})})})]})]})},$k=({score:t,total:e,userAnswers:n,onRestart:s})=>{const{user:a,updateUserHistory:l}=ir(),u=Math.round(t/e*100);W.useEffect(()=>{a&&l(t,e,"Operating Systems",n)},[]);const f=()=>{if(!a)return u>=70?"Great Job!":"Completed";if(u<=60){const m=a.gender==="female"?"hojayegi":"hojayega";return`Padhle ${a.username} nahi to fail ${m}`}return u>80?`Impressive ${a.username}!`:`Good job ${a.username}!`};return y.jsxs(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl p-10 max-w-md w-full mx-auto text-center border border-gray-200 shadow-xl",children:[y.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-gray-50 mb-8",children:y.jsx(qk,{size:48,className:"text-black"})}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:f()}),y.jsxs("p",{className:"text-gray-500 mb-8",children:["You scored ",t," out of ",e]}),y.jsx("div",{className:"relative h-4 bg-gray-100 rounded-full mb-8 overflow-hidden",children:y.jsx(Ce.div,{initial:{width:0},animate:{width:`${u}%`},transition:{delay:.5,duration:1},className:"absolute top-0 left-0 h-full bg-black rounded-full"})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[y.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl",children:[y.jsx("span",{className:"block text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Percentage"}),y.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[u,"%"]})]}),y.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl",children:[y.jsx("span",{className:"block text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Correct"}),y.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t})]})]}),y.jsxs("button",{onClick:s,className:"w-full py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all",children:[y.jsx(vz,{size:18}),"Try Again"]})]})};function Qk({onSwitchToSignup:t,onLoginSuccess:e}){const{login:n,loginWithGoogle:s}=ir(),[a,l]=W.useState({email:"",password:""}),[u,f]=W.useState(""),m=async g=>{g.preventDefault();const v=await n(a.email,a.password);v.success?e():f(v.message)};return y.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[80vh] py-12",children:y.jsxs("div",{className:"w-full max-w-lg bg-white rounded-3xl p-10 shadow-xl border border-gray-100",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back!"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Please login to continue"})]}),u&&y.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm mb-4 text-center font-medium",children:u}),y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Enter your email",value:a.email,onChange:g=>l({...a,email:g.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(Uk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Enter your password",value:a.password,onChange:g=>l({...a,password:g.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-xl font-bold hover:bg-gray-800 transition-colors shadow-lg",children:"Login"}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-200"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-400 font-medium",children:"Or continue with"})})]}),y.jsxs("button",{type:"button",onClick:async()=>{const g=await s();g.success?e():f(g.message)},className:"w-full py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-500",children:["Don't have an account?"," ",y.jsx("button",{onClick:t,className:"text-black font-bold hover:underline",children:"Sign Up"})]})})]})})}function Yk({onSwitchToLogin:t,onSignupSuccess:e}){const{signup:n,loginWithGoogle:s}=ir(),[a,l]=W.useState({name:"",username:"",email:"",gender:"male",password:""}),[u,f]=W.useState(""),m=async g=>{if(g.preventDefault(),a.password.length<4){f("Password must be at least 4 characters");return}const v=await n(a);v.success?e():f(v.message)};return y.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[80vh] py-10",children:y.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl p-10 shadow-xl border border-gray-100",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Join us to start learning!"})]}),u&&y.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm mb-4 text-center font-medium",children:u}),y.jsxs("form",{onSubmit:m,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(LE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Ansh Sharma",value:a.name,onChange:g=>l({...a,name:g.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username (Display Name)"}),y.jsxs("div",{className:"relative",children:[y.jsx(LE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"anshsharma",value:a.username,onChange:g=>l({...a,username:g.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(yo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"ansh@example.com",value:a.email,onChange:g=>l({...a,email:g.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:["male","female"].map(g=>y.jsx("button",{type:"button",onClick:()=>l({...a,gender:g}),className:`py-3 rounded-xl text-sm font-bold capitalize border transition-all ${a.gender===g?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:g},g))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(Uk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"",value:a.password,onChange:g=>l({...a,password:g.target.value})})]})]}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-xl font-bold hover:bg-gray-800 transition-colors shadow-lg mt-2",children:"Sign Up"}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-200"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-400 font-medium",children:"Or continue with"})})]}),y.jsxs("button",{type:"button",onClick:async()=>{const g=await s();g.success?e():f(g.message)},className:"w-full py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsxs("p",{className:"text-gray-500",children:["Already have an account?"," ",y.jsx("button",{onClick:t,className:"text-black font-bold hover:underline",children:"Login"})]})})]})})}function Xk({onBack:t}){const{user:e,updateUserProfile:n,deleteHistoryItem:s}=ir(),[a,l]=W.useState(!1),[u,f]=W.useState({name:e?.name||"",username:e?.username||"",gender:e?.gender||"male"}),[m,g]=W.useState(!1),[v,b]=W.useState("");if(!e)return null;const w=async()=>{g(!0);const O=await n(u);g(!1),O.success?(l(!1),b("Profile updated successfully!"),setTimeout(()=>b(""),3e3)):b(O.message||"Error updating profile")},k=async O=>{if(!confirm("Are you sure you want to delete this history item?"))return;const P=e.history.length-1-O;await s(P)},D=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return y.jsxs(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl mx-auto space-y-8",children:[y.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 flex flex-col md:flex-row gap-8 items-start relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-4",children:y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-black transition-colors font-bold text-sm",children:"Close"})}),y.jsx("div",{className:"w-32 h-32 bg-black rounded-full flex items-center justify-center text-white shrink-0 mx-auto md:mx-0",children:y.jsx("span",{className:"text-4xl font-bold",children:e.name.charAt(0).toUpperCase()})}),y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:a?"Edit Profile":"My Profile"}),!a&&y.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors",children:[y.jsx(mz,{size:16}),"Edit"]})]}),v&&y.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-bold ${v.includes("Error")?"bg-red-50 text-red-500":"bg-green-50 text-green-600"}`,children:v}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Full Name"}),a?y.jsx("input",{type:"text",value:u.name,onChange:O=>f({...u,name:O.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 font-medium"}):y.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900",children:[y.jsx(yo,{size:20,className:"text-gray-400"}),e.name]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Username"}),a?y.jsx("input",{type:"text",value:u.username,onChange:O=>f({...u,username:O.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 font-medium"}):y.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900",children:[y.jsx("span",{className:"text-gray-400 font-bold",children:"@"}),e.username]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Email"}),y.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900 opacity-60",children:[y.jsx(iz,{size:20,className:"text-gray-400"}),e.email]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Gender"}),a?y.jsx("div",{className:"flex gap-4",children:["male","female"].map(O=>y.jsx("button",{onClick:()=>f({...u,gender:O}),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize border ${u.gender===O?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:O},O))}):y.jsx("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900 capitalize",children:e.gender})]})]}),a&&y.jsxs("div",{className:"flex gap-4 mt-8",children:[y.jsxs("button",{onClick:w,disabled:m,className:"px-6 py-3 bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[y.jsx(Bk,{size:18}),m?"Saving...":"Save Changes"]}),y.jsxs("button",{onClick:()=>{l(!1),f({name:e.name,username:e.username,gender:e.gender})},className:"px-6 py-3 bg-white border border-gray-200 text-gray-600 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center gap-2",children:[y.jsx(Qv,{size:18}),"Cancel"]})]})]})]}),y.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("div",{className:"p-3 bg-green-100 rounded-xl text-green-600",children:y.jsx(qk,{size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quiz History"}),y.jsx("p",{className:"text-gray-500",children:"Your past attempts and scores"})]})]}),y.jsx("div",{className:"overflow-hidden",children:e.history&&e.history.length>0?y.jsx("div",{className:"space-y-4",children:[...e.history].reverse().map((O,P)=>y.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors border border-gray-100 group",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-gray-900",children:O.topic}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[y.jsx(S9,{size:14}),D(O.date)]})]}),y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-2xl font-black text-black",children:[O.percentage!==void 0?O.percentage:Math.round(O.score/10*100),"%"]}),y.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Score"}),O.details&&y.jsx("button",{className:"text-xs font-bold text-blue-600 hover:underline mt-1 bg-transparent border-0 p-0 cursor-pointer",children:"Review"})]}),y.jsx("button",{onClick:()=>k(P),className:"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete from history",children:y.jsx(Ul,{size:18})})]})]},P))}):y.jsx("div",{className:"text-center py-12 text-gray-400 italic",children:"No quiz history yet. Start learning!"})})]})]})}const Lz=5*1024*1024,Qg=50*1024*1024,Yg=500,Uz=["application/pdf","image/jpeg","image/png","image/webp"];function Wk(){const{user:t}=ir(),[e,n]=W.useState("my-notes"),[s,a]=W.useState([]),[l,u]=W.useState([]),[f,m]=W.useState(!0),[g,v]=W.useState(!1),[b,w]=W.useState(0),[k,D]=W.useState(!1),[O,P]=W.useState(""),[q,ee]=W.useState(!1),Q=W.useRef(null),ce=s.reduce((U,H)=>U+(H.size||0),0),he=s.length;W.useEffect(()=>{t&&ue()},[t,e]),W.useEffect(()=>{const U=new IntersectionObserver(([H])=>{ee(!H.isIntersecting)},{root:null,threshold:.1,rootMargin:"0px"});return Q.current&&e==="my-notes"&&U.observe(Q.current),()=>{Q.current&&U.unobserve(Q.current)}},[s,e]);const ue=async()=>{m(!0);try{if(e==="my-notes"){const U=yu(ds(mt,"notes"),Sy("userId","==",t.uid)),ae=(await yf(U)).docs.map(de=>({id:de.id,...de.data()}));ae.sort((de,B)=>new Date(B.createdAt)-new Date(de.createdAt)),a(ae)}else{const U=yu(ds(mt,"notes"),Sy("isPublic","==",!0)),de=(await yf(U)).docs.map(B=>({id:B.id,...B.data()})).filter(B=>B.userId!==t.uid);de.sort((B,E)=>new Date(E.createdAt)-new Date(B.createdAt)),u(de)}}catch(U){console.error("Error fetching notes:",U),P("Failed to load notes.")}finally{m(!1)}},I=W.useCallback(U=>{U.preventDefault(),U.stopPropagation(),U.type==="dragenter"||U.type==="dragover"?D(!0):U.type==="dragleave"&&D(!1)},[]),S=W.useCallback(U=>{U.preventDefault(),U.stopPropagation(),D(!1),U.dataTransfer.files&&U.dataTransfer.files[0]&&V(U.dataTransfer.files[0])},[]),N=U=>{U.target.files&&U.target.files[0]&&V(U.target.files[0])},L=()=>{document.getElementById("file-upload").click()},V=async U=>{if(P(""),!Uz.includes(U.type)){P("Only PDF, JPEG, PNG, or WEBP files are allowed."),alert("Only PDF, JPEG, PNG, or WEBP files are allowed.");return}if(U.size>Lz){P(`File is too large (${(U.size/1024/1024).toFixed(2)}MB). Max 5MB allowed.`),alert(`File is too large (${(U.size/1024/1024).toFixed(2)}MB). Max 5MB allowed.`);return}if(he>=Yg){P(`File limit reached (${Yg} files). Delete some files to upload more.`),alert("File limit reached.");return}if(ce+U.size>Qg){P(`Storage limit reached (${(Qg/1024/1024).toFixed(0)}MB). Delete some files to upload more.`),alert("Storage limit reached.");return}v(!0),w(0);try{const H=`${Date.now()}_${U.name}`,ae=Ry(Ny,`users/${t.uid}/notes/${H}`),de=l3(ae,U);await new Promise((B,E)=>{de.on("state_changed",F=>{const Z=F.bytesTransferred/F.totalBytes*100;w(Math.round(Z))},F=>{E(F)},async()=>{try{const F=await j2(de.snapshot.ref);B(F)}catch(F){E(F)}})}).then(async B=>{const E={userId:t.uid,userName:t.name||"Anonymous",title:U.name,fileName:H,url:B,size:U.size,type:U.type,isPublic:!1,createdAt:new Date().toISOString()},F=await xf(ds(mt,"notes"),E);a(Z=>[{id:F.id,...E},...Z]),Gk({particleCount:100,spread:70,origin:{y:.6}})})}catch(H){console.error("Upload failed:",H),P("Failed to upload file. Please try again."),alert("Upload failed. see console.")}finally{v(!1),w(0)}},M=async U=>{if(confirm("Are you sure you want to delete this file?"))try{const H=Ry(Ny,`users/${t.uid}/notes/${U.fileName}`);await c3(H).catch(ae=>console.warn("File not found in storage, deleting metadata only.",ae)),await vf(mn(mt,"notes",U.id)),a(ae=>ae.filter(de=>de.id!==U.id))}catch(H){console.error("Delete failed:",H),alert("Failed to delete note.")}},R=async U=>{try{const H=!U.isPublic;await El(mn(mt,"notes",U.id),{isPublic:H}),a(ae=>ae.map(de=>de.id===U.id?{...de,isPublic:H}:de))}catch(H){console.error("Failed to update privacy:",H),alert("Failed to update privacy settings.")}},Ee=U=>{if(U===0)return"0 B";const H=1024,ae=["B","KB","MB","GB"],de=Math.floor(Math.log(U)/Math.log(H));return parseFloat((U/Math.pow(H,de)).toFixed(1))+" "+ae[de]},De=U=>U&&U.startsWith("image/")?y.jsx(Y9,{size:24}):y.jsx(e0,{size:24});return y.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20",children:[y.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:".pdf, .jpg, .jpeg, .png, .webp",onChange:N}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Study Material"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Store your notes and resources or share them with others."})]}),y.jsxs("div",{className:"flex gap-4 bg-white p-3 rounded-xl border border-gray-200 shadow-sm text-sm",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(e0,{size:16,className:"text-gray-400"}),y.jsx("span",{className:"font-bold",children:he}),y.jsxs("span",{className:"text-gray-400",children:["/ ",Yg," Files"]})]}),y.jsx("div",{className:"w-px bg-gray-200"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(F9,{size:16,className:"text-gray-400"}),y.jsx("span",{className:"font-bold",children:Ee(ce)}),y.jsxs("span",{className:"text-gray-400",children:["/ ",Ee(Qg)]})]})]})]}),y.jsxs("div",{className:"sticky top-0 z-30 bg-gray-50/95 backdrop-blur py-4 flex items-center justify-between border-b border-transparent transition-all",children:[y.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl w-fit",children:[y.jsx("button",{onClick:()=>n("my-notes"),className:`px-6 py-2 rounded-lg font-bold transition-all ${e==="my-notes"?"bg-white shadow text-black":"text-gray-500 hover:text-gray-700"}`,children:"My Notes"}),y.jsx("button",{onClick:()=>n("community"),className:`px-6 py-2 rounded-lg font-bold transition-all ${e==="community"?"bg-white shadow text-black":"text-gray-500 hover:text-gray-700"}`,children:"Community Notes"})]}),y.jsx(zn,{children:q&&e==="my-notes"&&y.jsxs(Ce.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:L,className:"bg-black text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 shadow-lg hover:bg-gray-800 transition-colors",children:[y.jsx(UE,{size:18}),"Upload"]})})]}),y.jsxs(zn,{mode:"wait",children:[e==="my-notes"&&y.jsx(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:f?y.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading notes..."}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[s.map(U=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all group relative md:aspect-square h-44 md:h-auto flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl ${U.type?.startsWith("image/")?"bg-blue-50 text-blue-500":"bg-red-50 text-red-500"}`,children:De(U.type)}),y.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>R(U),className:`p-2 rounded-lg transition-colors ${U.isPublic?"text-green-500 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:U.isPublic?"Publicly Shared":"Private",children:U.isPublic?y.jsx(Z9,{size:18}):y.jsx(ez,{size:18})}),y.jsx("button",{onClick:()=>M(U),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:y.jsx(Ul,{size:18})})]})]}),y.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",title:U.title,children:U.title}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-6",children:[y.jsx("span",{children:Ee(U.size)}),y.jsx("span",{children:""}),y.jsx("span",{children:new Date(U.createdAt).toLocaleDateString()})]}),y.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[y.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-md ${U.isPublic?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:U.isPublic?"Public":"Private"}),y.jsxs("a",{href:U.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-bold text-black hover:underline",children:["View ",y.jsx(VE,{size:14})]})]})]},U.id)),y.jsx("div",{ref:Q,onDragEnter:I,onDragLeave:I,onDragOver:I,onDrop:S,onClick:L,className:`border-2 border-dashed rounded-2xl flex flex-col items-center justify-center text-center p-6 md:aspect-square h-32 md:h-auto cursor-pointer transition-all duration-200 ${k?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:g?y.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[y.jsx("div",{className:"w-full flex items-center justify-between text-xs font-bold uppercase text-gray-400 mb-1",children:y.jsxs("span",{children:[b,"%"]})}),y.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:y.jsx(Ce.div,{className:"h-full bg-black rounded-full",initial:{width:0},animate:{width:`${b}%`},transition:{duration:.2}})}),y.jsx("p",{className:"text-xs font-bold text-gray-400",children:"Uploading..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4 group-hover:scale-110 transition-transform",children:y.jsx(UE,{size:24})}),y.jsx("h3",{className:"font-bold text-gray-900",children:"Upload New"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF or Image"})]})})]})},"my-notes"),e==="community"&&y.jsx(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:f?y.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading community notes..."}):l.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(U=>y.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all md:aspect-square h-56 md:h-auto flex flex-col",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:`p-3 rounded-xl ${U.type?.startsWith("image/")?"bg-blue-50 text-blue-500":"bg-red-50 text-red-500"}`,children:De(U.type)}),y.jsx("div",{className:"p-2 text-gray-400",children:y.jsx(Az,{size:18})})]}),y.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",title:U.title,children:U.title}),y.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:y.jsxs("span",{children:["by ",U.userName]})}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-6",children:[y.jsx("span",{children:Ee(U.size)}),y.jsx("span",{children:""}),y.jsx("span",{children:new Date(U.createdAt).toLocaleDateString()})]}),y.jsxs("a",{href:U.url,target:"_blank",rel:"noopener noreferrer",className:"w-full mt-auto py-3 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-colors",children:[y.jsx(VE,{size:16})," View"]})]},U.id))}):y.jsx("div",{className:"text-center py-20 text-gray-400 italic",children:"No shared notes found. Share yours to get started!"})},"community")]})]})}const Zk=({onGetStarted:t})=>{const[e,n]=W.useState(!1);W.useEffect(()=>{const l=()=>{n(window.scrollY>300)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return y.jsxs("div",{className:"min-h-screen bg-white text-black overflow-x-hidden selection:bg-black selection:text-white pb-10 md:pb-0",children:[y.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[y.jsx("div",{className:"absolute top-[-5%] right-[-10%] w-[300px] md:w-[600px] h-[300px] md:h-[600px] bg-green-50 rounded-full blur-[80px] md:blur-[120px] opacity-60"}),y.jsx("div",{className:"absolute bottom-[-5%] left-[-10%] w-[250px] md:w-[500px] h-[250px] md:h-[500px] bg-gray-50 rounded-full blur-[80px] md:blur-[120px] opacity-60"})]}),y.jsxs("header",{className:"sticky top-0 z-50 bg-white/70 backdrop-blur-xl border-b border-gray-100/50 px-6 py-4 flex items-center justify-between md:hidden",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg shadow-lg shadow-black/10",children:y.jsx(Uu,{size:18})}),y.jsx("span",{className:"font-black text-xl tracking-tight",children:"Lets Try"})]}),y.jsx("button",{onClick:t,className:"text-sm font-bold bg-black text-white px-4 py-2 rounded-xl active:scale-95 transition-transform",children:"Join"})]}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 sm:px-8 pt-10 md:pt-32 pb-10 md:pb-24",children:[y.jsxs(Ce.div,{variants:s,initial:"hidden",animate:"visible",className:"text-left md:text-center max-w-4xl mx-auto mb-20 md:mb-32",children:[y.jsxs(Ce.div,{variants:a,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 rounded-full mb-6 border border-green-100/50",children:[y.jsx("div",{className:"bg-green-600 text-white p-0.5 rounded-md",children:y.jsx(Cz,{size:10})}),y.jsx("span",{className:"text-[10px] md:text-xs font-bold text-green-700 uppercase tracking-wider",children:"The Intelligent Learning Era"})]}),y.jsxs(Ce.h1,{variants:a,className:"text-[44px] leading-[1.05] sm:text-7xl md:text-8xl font-black tracking-tighter text-gray-900 mb-6 md:mb-8",children:["Learn. Create. ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-600 via-emerald-700 to-black",children:"Grow Together."})]}),y.jsx(Ce.p,{variants:a,className:"text-lg md:text-2xl text-gray-500 mb-10 max-w-xl md:mx-auto leading-tight md:leading-relaxed",children:"Master your subjects with collaborative quizzes, smart notes, and real-time discussions."}),y.jsx(Ce.div,{variants:a,className:"flex flex-col sm:flex-row items-start md:items-center justify-start md:justify-center gap-4",children:y.jsxs(Ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-full sm:w-auto px-10 py-5 bg-black text-white text-lg font-bold rounded-2xl shadow-2xl shadow-black/20 flex items-center justify-center gap-2 transition-all",children:["Get Started Free",y.jsx(ei,{size:20})]})})]}),y.jsxs("div",{className:"space-y-4 md:hidden mb-10",children:[y.jsx("h2",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Core Features"}),y.jsx(Xg,{icon:zE,title:"Instant Quizzes",desc:"Build or play 100+ quizzes.",color:"blue"}),y.jsx(Xg,{icon:io,title:"Smart Library",desc:"Cloud notes with safe access.",color:"green"}),y.jsx(Xg,{icon:BE,title:"Live Community",desc:"Real-time peer discussions.",color:"purple"})]}),y.jsxs(Ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"hidden md:grid grid-cols-3 gap-8 mb-32",children:[y.jsx(Wg,{icon:zE,title:"Interactive Quizzes",desc:"Challenge yourself with community-created quizzes or build your own to master any subject.",color:"blue"}),y.jsx(Wg,{icon:io,title:"Smart Notes Library",desc:"Organize your study materials securely in the cloud. Access your notes anytime, anywhere.",color:"green"}),y.jsx(Wg,{icon:BE,title:"Real-time Community",desc:"Connect with peers, share knowledge, and chat in real-time to solve problems together.",color:"purple"})]})]}),y.jsx(zn,{children:e&&y.jsx(Ce.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-6 left-6 right-6 z-50 md:hidden",children:y.jsxs("button",{onClick:t,className:"w-full bg-black text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-2xl shadow-black/40 active:scale-95 transition-transform",children:["Quick Start ",y.jsx(ei,{size:18})]})})}),y.jsx("footer",{className:"border-t border-gray-100 py-12 bg-gray-50/50",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[y.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 opacity-50",children:[y.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg",children:y.jsx(Uu,{size:16})}),y.jsx("span",{className:"font-bold text-lg tracking-tighter",children:"Lets Try"})]}),y.jsxs("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-widest",children:[" ",new Date().getFullYear()," Precision Learning"]})]})})]})},Xg=({icon:t,title:e,desc:n,color:s})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600"};return y.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4 active:bg-gray-50 transition-colors",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${a[s]}`,children:y.jsx(t,{size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900",children:e}),y.jsx("p",{className:"text-xs text-gray-500",children:n})]})]})},Wg=({icon:t,title:e,desc:n,color:s})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600"};return y.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 group",children:[y.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 ${a[s]}`,children:y.jsx(t,{size:32})}),y.jsx("h3",{className:"text-2xl font-bold mb-3",children:e}),y.jsx("p",{className:"text-gray-500 leading-relaxed",children:n})]})};function Jk({onBack:t}){const{user:e}=ir(),[n,s]=W.useState(null),[a,l]=W.useState(!1),[u,f]=W.useState([]),[m,g]=W.useState([]),[v,b]=W.useState(""),[w,k]=W.useState([]),[D,O]=W.useState(!1),[P,q]=W.useState(null),[ee,Q]=W.useState(null),[ce,he]=W.useState(!1),[ue,I]=W.useState(""),S=W.useRef(),N=W.useRef(null);W.useEffect(()=>{if(!e)return;const H=yu(ds(mt,"chats"),Sy("participants","array-contains",e.uid),t1("updatedAt","desc")),ae=s1(H,de=>{const B=de.docs.map(E=>{const F=E.data(),Z=F.users?.find(oe=>oe.uid!==e.uid)||{name:"Unknown",uid:"unknown"};return{id:E.id,...F,otherUser:Z}});f(B),Q(null)},de=>{console.error("Error fetching chats (Likely missing index):",de),Q(de.message)});return()=>ae()},[e]),W.useEffect(()=>{if(!n)return;const H=L(e.uid,n.uid),ae=yu(ds(mt,"chats",H,"messages"),t1("createdAt","asc")),de=s1(ae,B=>{const E=new Date,F=B.docs.map(Z=>({id:Z.id,...Z.data()})).filter(Z=>{if(Z.expiresAt){const oe=Z.expiresAt.toDate();if(E>oe)return!1}return!0});g(F),l(!0)});return()=>de()},[n,e]),W.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[m]);const L=(H,ae)=>[H,ae].sort().join("_"),V=async H=>{if(H.preventDefault(),q(null),console.log("Starting search for:",v),!!v.trim()){O(!0);try{const ae=ds(mt,"users"),de=yu(ae);console.log("Fetching users...");const B=await yf(de);console.log("Users fetched:",B.size);const E=v.toLowerCase(),F=B.docs.map(Z=>({uid:Z.id,...Z.data()})).filter(Z=>Z.uid!==e.uid&&(Z.username?.toLowerCase()?.includes(E)||Z.name?.toLowerCase()?.includes(E)||Z.email?.toLowerCase()?.includes(E)));console.log("Matches found:",F.length),k(F)}catch(ae){console.error("Search failed:",ae),q(ae.message)}O(!1)}},M=async H=>{b(""),k([]),O(!1),q(null),s(H),l(!0);const ae=L(e.uid,H.uid),de=mn(mt,"chats",ae);(await Cy(de)).exists()?await El(de,{[`unreadCounts.${e.uid}`]:0}):await cu(de,{participants:[e.uid,H.uid],users:[{uid:e.uid,name:e.name,username:e.username,photoURL:e.photoURL||null},{uid:H.uid,name:H.name,username:H.username,photoURL:H.photoURL||null}],createdAt:ll(),updatedAt:ll(),lastMessage:{text:"Chat started",senderId:"system",createdAt:new Date},unreadCounts:{[e.uid]:0,[H.uid]:0}})},R=async H=>{const ae=H.target.files[0];if(!ae||!n)return;he(!0);const de=L(e.uid,n.uid);try{const B=Ry(Ny,`chat-media/${de}/${Date.now()}_${ae.name}`),E=await o3(B,ae),F=await j2(B),Z=new Date;Z.setHours(Z.getHours()+24),await xf(ds(mt,"chats",de,"messages"),{text:"",mediaUrl:F,mediaType:ae.type.startsWith("image/")?"image":"file",mediaName:ae.name,expiresAt:gt.fromDate(Z),createdAt:ll(),senderId:e.uid,senderName:e.name}),await El(mn(mt,"chats",de),{lastMessage:{text:ae.type.startsWith("image/")?" Image":"Cc File",senderId:e.uid,createdAt:new Date},updatedAt:ll(),[`unreadCounts.${n.uid}`]:r1(1)})}catch(B){console.error("Upload failed:",B),alert("Failed to send file: "+B.message)}he(!1),H.target.value=null},Ee=async H=>{if(H.preventDefault(),!ue.trim()||!n||!e)return;const ae=L(e.uid,n.uid),de=ue.trim();I("");try{await xf(ds(mt,"chats",ae,"messages"),{text:de,createdAt:ll(),senderId:e.uid,senderName:e.name}),await El(mn(mt,"chats",ae),{lastMessage:{text:de,senderId:e.uid,createdAt:new Date},updatedAt:ll(),[`unreadCounts.${n.uid}`]:r1(1)})}catch(B){console.error("Error sending message: ",B)}},De=async H=>{if(!n)return;const ae=L(e.uid,n.uid);try{await vf(mn(mt,"chats",ae,"messages",H))}catch(de){console.error("Error deleting message:",de),alert("Failed to delete message.")}},U=async()=>{if(!n||!window.confirm("Are you sure you want to delete this chat permanently?"))return;const H=L(e.uid,n.uid);try{await vf(mn(mt,"chats",H)),s(null),l(!1)}catch(ae){console.error("Error deleting chat:",ae),alert("Failed to delete chat.")}};return y.jsxs("div",{className:"flex w-full h-full md:h-[calc(100vh-73px)] bg-white border-t border-gray-100",children:[y.jsxs("div",{className:`${a?"hidden md:flex":"flex"} w-full md:w-[350px] flex-col border-r border-gray-100 bg-gray-50/50`,children:[y.jsx("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-gray-100 rounded-full",children:y.jsx(Rf,{size:20})}),y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chats"})]})}),y.jsxs("div",{className:"p-4 bg-white border-b border-gray-100",children:[y.jsxs("form",{onSubmit:V,className:"relative flex items-center gap-2",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),y.jsx("input",{type:"text",placeholder:"Search username/email...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 border-none rounded-xl focus:ring-1 focus:ring-black text-sm",value:v,onChange:H=>b(H.target.value)})]}),y.jsx("button",{type:"submit",disabled:D,className:"p-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:y.jsx(Ll,{size:18})})]}),P&&y.jsxs("div",{className:"mt-2 text-xs text-red-500 bg-red-50 p-2 rounded border border-red-100 break-words",children:["Search Error: ",P]}),ee&&y.jsxs("div",{className:"mt-2 text-xs text-orange-600 bg-orange-50 p-2 rounded border border-orange-100 break-words",children:[y.jsx("strong",{children:"Sidebar Error:"})," ",ee.includes("index")?"Missing Index":ee,y.jsx("br",{}),y.jsx("span",{className:"opacity-75",children:"Check console (F12) for the link to fix it."})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[v&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Search Results"}),w.length===0&&!D?y.jsx("p",{className:"px-4 text-sm text-gray-500",children:"No users found."}):w.map(H=>y.jsxs("button",{onClick:()=>M(H),className:"w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-b border-gray-50 text-left group",children:[y.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 group-hover:bg-black group-hover:text-white transition-colors",children:y.jsx(yo,{size:20})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-gray-900",children:H.name}),y.jsxs("p",{className:"text-xs text-gray-500",children:["@",H.username]})]})]},H.uid))]}),!v&&y.jsx(y.Fragment,{children:u.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400 text-center px-6",children:[y.jsx(no,{size:32,className:"mb-2 opacity-50"}),y.jsx("p",{className:"text-sm",children:"No conversations yet."}),y.jsx("p",{className:"text-xs mt-1",children:"Search for a username above to start chatting!"})]}):u.map(H=>{const ae=H.unreadCounts?.[e.uid]||0,de=ae>0;return y.jsxs("button",{onClick:()=>M(H.otherUser),className:`w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-b border-gray-50 text-left ${n?.uid===H.otherUser.uid?"bg-white border-l-4 border-l-black":""}`,children:[y.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-gray-600 relative ${de?"border-2 border-green-500 bg-green-50":"border border-gray-200 bg-gray-100"}`,children:[y.jsx("span",{className:`font-bold text-lg ${de?"text-green-700":""}`,children:H.otherUser.name?.[0]?.toUpperCase()}),de&&y.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white translate-x-1 -translate-y-1"})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsx("h4",{className:`font-bold text-gray-900 truncate ${de?"text-black":""}`,children:H.otherUser.name}),y.jsx("span",{className:`text-[10px] ${de?"text-green-600 font-bold":"text-gray-400"}`,children:H.updatedAt?.seconds?new Date(H.updatedAt.seconds*1e3).toLocaleDateString():""})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("p",{className:`text-xs truncate max-w-[85%] ${de?"font-bold text-gray-900":"text-gray-500"}`,children:[H.lastMessage?.senderId===e.uid?"You: ":"",H.lastMessage?.text]}),de&&y.jsx("span",{className:"flex items-center justify-center bg-green-500 text-white text-[9px] font-bold rounded-full h-5 min-w-[20px] px-1",children:ae})]})]})]},H.id)})})]})]}),y.jsx("div",{className:`${a?"flex":"hidden md:flex"} w-full flex-col bg-white relative`,children:n?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3 bg-white shadow-sm z-10 sticky top-0",children:[y.jsx("button",{onClick:()=>l(!1),className:"md:hidden p-2 hover:bg-gray-100 rounded-full",children:y.jsx(Rf,{size:20})}),y.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center font-bold",children:n.name?.[0]?.toUpperCase()}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900",children:n.name}),y.jsxs("p",{className:"text-xs text-green-500 font-bold flex items-center gap-1",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Online"]})]}),y.jsx("button",{onClick:U,className:"ml-auto p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Chat",children:y.jsx(Ul,{size:18})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white",children:[m.map((H,ae)=>{const de=H.senderId===e.uid;return y.jsx(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${de?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`max-w-[70%] px-4 py-2.5 rounded-2xl text-sm relative leading-relaxed ${de?"bg-black text-white rounded-br-sm":"bg-gray-100 text-gray-900 rounded-bl-sm"}`,children:[y.jsxs("div",{className:"flex items-start justify-between gap-2 group/msg",children:[y.jsx("div",{className:"flex-1",children:H.mediaUrl?y.jsxs("div",{className:"mb-1",children:[H.mediaType==="image"?y.jsx("a",{href:H.mediaUrl,target:"_blank",rel:"noopener noreferrer",children:y.jsx("img",{src:H.mediaUrl,alt:"Shared",className:"rounded-lg max-w-full max-h-[200px] object-cover border border-black/10"})}):y.jsxs("a",{href:H.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 p-2 rounded-lg ${de?"bg-white/10":"bg-black/5"} hover:opacity-80 transition-opacity`,children:[y.jsx(e0,{size:20}),y.jsx("span",{className:"underline truncate max-w-[150px]",children:H.mediaName||"File"})]}),y.jsx("div",{className:"text-[10px] mt-1 opacity-75 flex items-center gap-1",children:" Expires in 24h"})]}):y.jsx("p",{children:H.text})}),de&&y.jsx("button",{onClick:()=>De(H.id),className:"opacity-0 group-hover/msg:opacity-100 p-1 text-red-400 hover:text-red-500 transition-opacity",title:"Delete",children:y.jsx(Ul,{size:12})})]}),y.jsx("p",{className:`text-[10px] text-right mt-1 opacity-60 ${de?"text-gray-300":"text-gray-500"}`,children:H.createdAt?.seconds?new Date(H.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"..."})]})},H.id)}),y.jsx("div",{ref:S})]}),y.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[y.jsx("input",{type:"file",ref:N,onChange:R,className:"hidden",accept:"image/*,application/pdf"}),y.jsxs("form",{onSubmit:Ee,className:"flex items-center gap-2",children:[y.jsx("button",{type:"button",onClick:()=>N.current?.click(),disabled:ce,className:"p-3 text-gray-500 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50",title:"Attach File (24h expiry)",children:ce?y.jsx("span",{className:"text-xs font-bold animate-pulse",children:"..."}):y.jsx(hz,{size:20})}),y.jsx("input",{type:"text",className:"flex-1 py-3 px-5 bg-gray-50 border-transparent focus:bg-white focus:border-black rounded-full transition-all focus:ring-0",placeholder:"Type your message...",value:ue,onChange:H=>I(H.target.value)}),y.jsx("button",{type:"submit",disabled:!ue.trim(),className:"p-3 bg-black text-white rounded-full hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-transform hover:scale-105 active:scale-95",children:y.jsx(Tz,{size:20})})]})]})]}):y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[y.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:y.jsx(no,{size:40,className:"text-gray-300"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Messages"}),y.jsx("p",{className:"text-sm mt-2 max-w-xs text-center",children:"Select a chat from the left or search for a user to start a conversation."})]})})]})}const eR=({notification:t,onClose:e,onClick:n})=>(W.useEffect(()=>{if(t){const s=setTimeout(()=>{e()},5e3);return()=>clearTimeout(s)}},[t,e]),y.jsx(zn,{children:t&&y.jsxs(Ce.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:20,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:"fixed top-0 left-1/2 z-50 flex items-center gap-4 bg-white px-6 py-4 rounded-2xl shadow-2xl border border-gray-100 min-w-[320px] max-w-md cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>{n(),e()},children:[y.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center flex-shrink-0",children:y.jsx(no,{size:20})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h4",{className:"font-bold text-gray-900 text-sm truncate",children:t.title}),y.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.body})]}),y.jsx("button",{onClick:s=>{s.stopPropagation(),e()},className:"p-1 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(Qv,{size:16})})]})})),Bz=JSON.parse(`[{"id":1,"question":"Which of the following conditions is NOT necessary for a deadlock to occur?","options":[{"key":"A","text":"Mutual Exclusion"},{"key":"B","text":"Hold and Wait"},{"key":"C","text":"No Preemption"},{"key":"D","text":"Starvation"}],"answer":"D","explanation":"Starvation is a scheduling issue where a process waits indefinitely, but it is not a prerequisite for a deadlock. For a deadlock to occur, four specific conditions must hold simultaneously: Mutual Exclusion, Hold and Wait, No Preemption, and Circular Wait."},{"id":2,"question":"In a paging system, if the page size is increased, what is the most likely effect on fragmentation?","options":[{"key":"A","text":"Internal fragmentation increases"},{"key":"B","text":"External fragmentation increases"},{"key":"C","text":"Internal fragmentation decreases"},{"key":"D","text":"No change in fragmentation"}],"answer":"A","explanation":"When page size increases, the average unused space in the last page of a process (which is rarely perfectly filled) also increases. This wasted space within an allocated block is called internal fragmentation."},{"id":3,"question":"Which disk scheduling algorithm is most likely to cause starvation for requests far from the current head position?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SSTF"},{"key":"C","text":"SCAN"},{"key":"D","text":"C-SCAN"}],"answer":"B","explanation":"Shortest Seek Time First prioritizes requests closest to the current disk head position. If a continuous stream of requests arrives near the current position, requests at the far ends of the disk may wait indefinitely (starvation)."},{"id":4,"question":"A system is in a safe state if:","options":[{"key":"A","text":"There are no deadlocks currently."},{"key":"B","text":"There is at least one process that can complete."},{"key":"C","text":"There exists a safe sequence of all processes."},{"key":"D","text":"The resource allocation graph has no cycles."}],"answer":"C","explanation":"A system is in a safe state only if the OS can allocate resources to each process in some specific order (a safe sequence) such that every process can eventually obtain its maximum needed resources and terminate."},{"id":5,"question":"Which component of the disk structure is responsible for the time it takes for the desired sector to rotate under the disk head?","options":[{"key":"A","text":"Seek Time"},{"key":"B","text":"Rotational Latency"},{"key":"C","text":"Transfer Rate"},{"key":"D","text":"Access Time"}],"answer":"B","explanation":"Disk access time is composed of Seek Time (moving the arm), Rotational Latency (waiting for the sector to spin under the head), and Transfer Time. Latency specifically refers to the rotation delay."},{"id":6,"question":"In the context of the Critical Section Problem, \\"Progress\\" means:","options":[{"key":"A","text":"No process waits forever."},{"key":"B","text":"If no process is executing in its critical section, the selection of the next process cannot be postponed indefinitely."},{"key":"C","text":"Processes must enter the critical section in a specific order."},{"key":"D","text":"The CPU is never idle."}],"answer":"B","explanation":"The \\"Progress\\" requirement ensures that if the critical section is free and processes wish to enter, the decision of who enters next cannot be delayed forever; the system must make a decision and proceed."},{"id":7,"question":"Thrashing occurs when:","options":[{"key":"A","text":"The CPU is utilized 100%."},{"key":"B","text":"The sum of the size of the working sets exceeds the total number of available frames."},{"key":"C","text":"The page fault rate is very low."},{"key":"D","text":"Processes have too many frames allocated."}],"answer":"B","explanation":"Thrashing happens when the OS spends more time swapping pages in and out than executing instructions. This occurs when the total memory required by active processes (working sets) is larger than physical RAM."},{"id":8,"question":"Which mechanism is used to determine where in memory a process should be loaded (e.g., First-fit, Best-fit)?","options":[{"key":"A","text":"Address Binding"},{"key":"B","text":"Contiguous Allocation"},{"key":"C","text":"Paging"},{"key":"D","text":"Dynamic Linking"}],"answer":"B","explanation":"First-fit, Best-fit, and Worst-fit are strategies used in Contiguous Memory Allocation to find a suitable \\"hole\\" or free block in main memory to place a process."},{"id":9,"question":"Beladys Anomaly is observed in which page replacement algorithm?","options":[{"key":"A","text":"LRU"},{"key":"B","text":"Optimal"},{"key":"C","text":"FIFO"},{"key":"D","text":"LFU"}],"answer":"C","explanation":"Beladys Anomaly is a phenomenon where increasing the number of page frames results in an increase in the number of page faults. This is specific to the First-In-First-Out (FIFO) replacement algorithm."},{"id":10,"question":"The Bankers Algorithm is used for:","options":[{"key":"A","text":"Deadlock Prevention"},{"key":"B","text":"Deadlock Avoidance"},{"key":"C","text":"Deadlock Detection"},{"key":"D","text":"Deadlock Recovery"}],"answer":"B","explanation":"The Bankers Algorithm is a Deadlock Avoidance strategy. It simulates resource allocation for every request to check if granting it would leave the system in a \\"Safe State.\\" If not, the request is denied or delayed."},{"id":11,"question":"In Segmentation, the logical address consists of:","options":[{"key":"A","text":"Page number and Offset"},{"key":"B","text":"Frame number and Offset"},{"key":"C","text":"Segment number and Offset"},{"key":"D","text":"Segment number and Page number"}],"answer":"C","explanation":"In segmentation, the user views memory as a collection of segments. The logical address is a tuple <segment-number, offset>, where the segment number indexes into the Segment Table to find the base address."},{"id":12,"question":"Which system call is typically used by a parent process to wait for the termination of a child process?","options":[{"key":"A","text":"fork()"},{"key":"B","text":"exec()"},{"key":"C","text":"wait()"},{"key":"D","text":"signal()"}],"answer":"C","explanation":"The wait() system call suspends the execution of the calling process (parent) until one of its children terminates. It allows the parent to synchronize with the child's completion and retrieve its exit status."},{"id":13,"question":"In the Access Matrix model of protection, the rows typically represent ______ and the columns represent ______.","options":[{"key":"A","text":"Objects, Domains"},{"key":"B","text":"Domains, Objects"},{"key":"C","text":"Files, Users"},{"key":"D","text":"Processes, Resources"}],"answer":"B","explanation":"In the Access Matrix model, rows represent Domains (users or processes with specific rights) and columns represent Objects (resources or files). The intersection defines the access rights a domain has over an object."},{"id":14,"question":"Which CPU scheduling algorithm allows a process to move between different queues based on its behavior (e.g., CPU bursts)?","options":[{"key":"A","text":"Round Robin"},{"key":"B","text":"FCFS"},{"key":"C","text":"Multilevel Feedback Queue"},{"key":"D","text":"Priority Scheduling"}],"answer":"C","explanation":"This algorithm allows processes to move between queues. If a process uses too much CPU time, it is moved to a lower-priority queue; if it waits too long (aging), it may be moved to a higher-priority queue."},{"id":15,"question":"TLB (Translation Lookaside Buffer) is used to:","options":[{"key":"A","text":"Store the entire page table."},{"key":"B","text":"Speed up logical-to-physical address translation."},{"key":"C","text":"Handle page faults."},{"key":"D","text":"Store frequently accessed disk sectors."}],"answer":"B","explanation":"The TLB is a fast, associative hardware cache inside the MMU. It stores recent virtual-to-physical address translations to avoid the performance penalty of accessing the page table in main memory for every instruction."},{"id":16,"question":"If a system uses C-SCAN disk scheduling, how does the disk head move?","options":[{"key":"A","text":"It moves back and forth, servicing requests in both directions."},{"key":"B","text":"It moves in one direction servicing requests, then jumps back to the beginning without servicing requests on the return."},{"key":"C","text":"It always moves to the closest request."},{"key":"D","text":"It services requests in the order of arrival."}],"answer":"B","explanation":"Circular SCAN (C-SCAN) treats the cylinders as a circular list. It services requests in only one direction to ensure a more uniform wait time, then essentially \\"rewinds\\" to the start immediately without servicing on the return trip."},{"id":17,"question":"Which of the following is true regarding User-level threads vs Kernel-level threads?","options":[{"key":"A","text":"User-level threads are slower to create."},{"key":"B","text":"If a user-level thread performs a blocking system call, the entire process will block."},{"key":"C","text":"The kernel is aware of all user-level threads."},{"key":"D","text":"User-level threads require hardware support."}],"answer":"B","explanation":"Since the OS kernel is unaware of user-level threads, it views the process as a single thread of execution. If that single kernel-thread blocks (e.g., waiting for I/O), the OS blocks the whole process, stopping all other user threads within it."},{"id":18,"question":"What is the main advantage of Dynamic Loading?","options":[{"key":"A","text":"A routine is not loaded until it is called, saving memory space."},{"key":"B","text":"It allows multiple processes to share code."},{"key":"C","text":"It prevents internal fragmentation."},{"key":"D","text":"It eliminates the need for relocation."}],"answer":"A","explanation":"Dynamic loading delays the loading of a subroutine until it is explicitly called during execution. This improves memory utilization because unused routines are never loaded into RAM."},{"id":19,"question":"In a Resource Allocation Graph, a cycle indicates a deadlock only if:","options":[{"key":"A","text":"There is a single instance of each resource type."},{"key":"B","text":"There are multiple instances of each resource type."},{"key":"C","text":"There is a single instance of each resource type (necessary and sufficient)."},{"key":"D","text":"The graph is disconnected."}],"answer":"A","explanation":"If every resource type has only one instance, a cycle in the Resource Allocation Graph implies a circular wait, which is both necessary and sufficient for a deadlock. If multiple instances exist, a cycle implies a deadlock is only possible."},{"id":20,"question":"Which page replacement algorithm usually provides the minimum page fault rate?","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"LRU"},{"key":"C","text":"Optimal"},{"key":"D","text":"Counting-based"}],"answer":"C","explanation":"The Optimal Page Replacement algorithm (OPT) replaces the page that will not be used for the longest period of time. It is a theoretical benchmark that guarantees the lowest possible page fault rate but requires future knowledge."},{"id":21,"question":"Context Switching is:","options":[{"key":"A","text":"Switching the CPU from user mode to kernel mode."},{"key":"B","text":"Storing the state of the current process and loading the saved state of a new process."},{"key":"C","text":"Swapping a process from memory to disk."},{"key":"D","text":"Changing the priority of a process."}],"answer":"B","explanation":"Context Switching is the overhead process of saving the Process Control Block (PCB) of the currently running process and restoring the PCB of the next process to be executed."},{"id":22,"question":"The \\"Working Set\\" model is based on the assumption of:","options":[{"key":"A","text":"Global replacement."},{"key":"B","text":"Random access patterns."},{"key":"C","text":"Locality of reference."},{"key":"D","text":"Pre-paging."}],"answer":"C","explanation":"The Working Set model relies on the principle of Locality of Reference, which states that processes tend to access a specific set of pages (a \\"locality\\") frequently during a specific time window."},{"id":23,"question":"Which method of handling deadlocks involves granting resources only if the allocation leaves the system in a safe state?","options":[{"key":"A","text":"Prevention"},{"key":"B","text":"Avoidance"},{"key":"C","text":"Detection"},{"key":"D","text":"Recovery"}],"answer":"B","explanation":"Deadlock Avoidance checks the system state before allocation. It only grants a resource request if the resulting state is \\"safe\\" (i.e., deadlock is mathematically impossible), preventing the system from entering an unsafe state."},{"id":24,"question":"Internal Fragmentation is a common issue in:","options":[{"key":"A","text":"Fixed Partitioning and Paging"},{"key":"B","text":"Dynamic Partitioning and Segmentation"},{"key":"C","text":"Segmentation only"},{"key":"D","text":"Demand Paging only"}],"answer":"A","explanation":"Internal fragmentation occurs when memory is allocated in fixed-sized blocks (like pages or fixed partitions). If a process needs less space than the block size, the remaining space inside that block is wasted."},{"id":25,"question":"The problem of starvation in priority scheduling can be resolved by:","options":[{"key":"A","text":"Context Switching"},{"key":"B","text":"Aging"},{"key":"C","text":"Swapping"},{"key":"D","text":"Round Robin"}],"answer":"B","explanation":"Aging is a technique where the priority of a process is gradually increased the longer it waits in the system. This prevents low-priority processes from being starved indefinitely by high-priority ones."},{"id":26,"question":"Which file access method is best suited for database applications where arbitrary records need to be accessed quickly?","options":[{"key":"A","text":"Sequential Access"},{"key":"B","text":"Direct/Random Access"},{"key":"C","text":"Indexed Sequential Access"},{"key":"D","text":"Contiguous Access"}],"answer":"B","explanation":"Direct access allows a program to jump to any logical record in a file immediately (like a CD track). This is essential for databases where users need to retrieve specific records without reading everything preceding them."},{"id":27,"question":"If the time quantum in Round Robin scheduling is extremely large, the algorithm degenerates into:","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SJF"},{"key":"C","text":"Priority Scheduling"},{"key":"D","text":"Multilevel Queue"}],"answer":"A","explanation":"In Round Robin, if the time quantum is infinitely large, the first process will finish its entire CPU burst before the timer interrupts. This behavior is identical to First-Come, First-Served (FCFS)."},{"id":28,"question":"Compaction is a solution for:","options":[{"key":"A","text":"Internal Fragmentation"},{"key":"B","text":"External Fragmentation"},{"key":"C","text":"Thrashing"},{"key":"D","text":"Deadlocks"}],"answer":"B","explanation":"Compaction (or defragmentation) shuffles memory contents to place all free memory together in one large block. This resolves external fragmentation, where total free memory is sufficient but scattered in small chunks."},{"id":29,"question":"A semaphore that can take any non-negative integer value is called a:","options":[{"key":"A","text":"Binary Semaphore"},{"key":"B","text":"Mutex"},{"key":"C","text":"Counting Semaphore"},{"key":"D","text":"Spinlock"}],"answer":"C","explanation":"A counting semaphore is a synchronization variable that can value range over an unrestricted domain (non-negative integers). It is typically used to control access to a resource that has multiple instances."},{"id":30,"question":"In Demand Paging, a page fault occurs when:","options":[{"key":"A","text":"The page is in memory but locked."},{"key":"B","text":"The requested page is not currently in memory."},{"key":"C","text":"The process tries to access a restricted memory area."},{"key":"D","text":"The TLB is full."}],"answer":"B","explanation":"A page fault is a hardware trap raised by the MMU when a program accesses a logical page that is marked \\"invalid\\" in the page table because it has not yet been loaded into physical RAM."},{"id":31,"question":"Logical address space is generated by:","options":[{"key":"A","text":"The CPU"},{"key":"B","text":"The MMU"},{"key":"C","text":"The OS kernel"},{"key":"D","text":"The Disk Controller"}],"answer":"A","explanation":"The CPU generates logical (virtual) addresses while executing a program. The Memory Management Unit (MMU) is the hardware component that translates these logical addresses into physical addresses."},{"id":32,"question":"Which of the following disk scheduling algorithms yields the lowest variance in response time?","options":[{"key":"A","text":"SSTF"},{"key":"B","text":"FCFS"},{"key":"C","text":"C-SCAN"},{"key":"D","text":"SCAN"}],"answer":"C","explanation":"C-SCAN provides a more uniform wait time compared to SCAN or SSTF. By servicing requests in only one direction, it prevents the bias against requests located at the far ends of the disk (reducing variance)."},{"id":33,"question":"To prevent a deadlock by denying the \\"Hold and Wait\\" condition, a system could:","options":[{"key":"A","text":"Preempt resources from a holding process."},{"key":"B","text":"Require a process to request and be allocated all its resources before execution begins."},{"key":"C","text":"Order resources numerically."},{"key":"D","text":"Use the Banker's Algorithm."}],"answer":"B","explanation":"This strategy invalidates the \\"Hold and Wait\\" condition. If a process must grab all resources at the start, it never holds some resources while waiting for others, effectively preventing deadlock."},{"id":34,"question":"The Dirty Bit in a page table entry indicates:","options":[{"key":"A","text":"The page is invalid."},{"key":"B","text":"The page is read-only."},{"key":"C","text":"The page has been modified since it was loaded into memory."},{"key":"D","text":"The page is currently in the TLB."}],"answer":"C","explanation":"The Dirty Bit (or modify bit) is set by hardware whenever a page is written to. If the bit is set, the page must be written back to the disk (swapped out) before the frame can be reused; otherwise, the changes are lost."},{"id":35,"question":"Which structure helps resolve the issue of very large page tables in systems with large logical address spaces?","options":[{"key":"A","text":"TLB"},{"key":"B","text":"Multi-level Paging (Hierarchical Paging)"},{"key":"C","text":"Inverted Page Table"},{"key":"D","text":"Hashed Page Table"}],"answer":"B","explanation":"Systems with large logical address spaces would require massive page tables that consume too much contiguous memory. Multi-level paging breaks the page table into smaller pieces (paging the page table), so only parts of it need to be in memory."},{"id":36,"question":"In the context of disk management, boot block stores:","options":[{"key":"A","text":"The file system structure."},{"key":"B","text":"The bootstrap loader program."},{"key":"C","text":"Bad blocks info."},{"key":"D","text":"The operating system kernel."}],"answer":"B","explanation":"The boot block (usually the first block of the disk) contains the initial bootstrap program. The hardware loads this code on startup, which then locates and loads the full Operating System kernel."},{"id":37,"question":"A system has 3 processes sharing 4 resources. If each process needs a maximum of 2 units, deadlock is:","options":[{"key":"A","text":"Inevitable."},{"key":"B","text":"Possible."},{"key":"C","text":"Impossible."}],"answer":"C","explanation":"Deadlock occurs if all processes are holding resources and waiting for more. With 3 processes and 4 resources, even if every process holds 1 resource (Total 3), there is 1 resource left. One process can take it, reach its max of 2, finish, and return the resources."},{"id":38,"question":"Inverted Page Tables map:","options":[{"key":"A","text":"Logical addresses to physical addresses directly."},{"key":"B","text":"Logical pages to physical frames per process."},{"key":"C","text":"Physical frame numbers to logical page numbers (PID + Page#)."},{"key":"D","text":"Disk blocks to memory frames."}],"answer":"C","explanation":"Standard page tables map Page to Frame. Inverted Page Tables map Frame to Page (and Process ID). There is only one entry per physical frame, which saves memory but necessitates searching the table."},{"id":39,"question":"The Wait-for graph is a deadlock detection method used for systems with:","options":[{"key":"A","text":"Multiple instances of each resource type."},{"key":"B","text":"Single instance of each resource type."},{"key":"C","text":"Preemptible resources only."},{"key":"D","text":"Infinite resources."}],"answer":"B","explanation":"A Wait-for graph is a collapsed version of the Resource Allocation Graph. It is only applicable for deadlock detection when there is a single instance of each resource type; a cycle in this graph confirms a deadlock."},{"id":40,"question":"If Effective Access Time = (1-p) x ma + p x (page fault time), what does 'p' represent?","options":[{"key":"A","text":"Probability of a TLB hit."},{"key":"B","text":"Process priority."},{"key":"C","text":"Page fault rate."},{"key":"D","text":"CPU utilization."}],"answer":"C","explanation":"The variable p represents the probability that a memory access results in a page fault. The formula calculates the weighted average of memory access time based on how often faults occur."},{"id":41,"question":"In Linked Allocation of files:","options":[{"key":"A","text":"Random access is extremely fast."},{"key":"B","text":"There is no external fragmentation."},{"key":"C","text":"Seeking to the middle of a file is efficient."},{"key":"D","text":"All pointers are stored in a central index block."}],"answer":"B","explanation":"In Linked Allocation, files are stored as a linked list of blocks, which can be scattered anywhere on the disk. This eliminates external fragmentation because any free block can be used to extend the file."},{"id":42,"question":"What is the primary benefit of using Overlays?","options":[{"key":"A","text":"Faster context switching."},{"key":"B","text":"Running a process that is larger than the available physical memory."},{"key":"C","text":"Reducing internal fragmentation."},{"key":"D","text":"Simplifying address binding."}],"answer":"B","explanation":"Overlays allow a process to run even if it is larger than physical memory by keeping only the instructions needed at that moment in memory. When a different phase of the program is needed, it overwrites (overlays) the previous one."},{"id":43,"question":"Which deadlock recovery method involves rolling back a process to a safe state?","options":[{"key":"A","text":"Process Termination"},{"key":"B","text":"Resource Preemption"},{"key":"C","text":"Checkpointing and Rollback"},{"key":"D","text":"Starvation"}],"answer":"C","explanation":"Deadlock recovery often involves rolling back a process. To do this, the system periodically saves the state (checkpoint). If a deadlock is detected, the process is reset to a previous safe checkpoint rather than being killed entirely."},{"id":44,"question":"Circular Wait can be prevented by:","options":[{"key":"A","text":"Using semaphores."},{"key":"B","text":"Imposing a total ordering of all resource types."},{"key":"C","text":"Using time-outs."},{"key":"D","text":"Using counting semaphores."}],"answer":"B","explanation":"This prevents Circular Wait. If resources are numbered (1, 2, 3...) and processes can only request resources in increasing order, a cycle cannot form."},{"id":45,"question":"In Paged Segmentation:","options":[{"key":"A","text":"The segment is divided into pages."},{"key":"B","text":"The pages are divided into segments."},{"key":"C","text":"Memory allocation is done by frames, avoiding external fragmentation."},{"key":"D","text":"It eliminates internal fragmentation entirely."}],"answer":"A","explanation":"Paged Segmentation combines both schemes. The logical address space is segmented to support user view/protection, but the linear segments themselves are divided into pages to simplify physical memory management and avoid external fragmentation."},{"id":46,"question":"Which disk scheduling algorithm performs better for systems with a heavy load?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SCAN / Elevator"},{"key":"C","text":"Random"},{"key":"D","text":"Prioritized"}],"answer":"B","explanation":"Under heavy load, FCFS performs poorly due to excessive arm movement. SCAN (Elevator algorithm) is more efficient because it sweeps across the disk servicing multiple requests in a single pass, maximizing throughput."},{"id":47,"question":"The Access Matrix can be implemented using:","options":[{"key":"A","text":"Global Table"},{"key":"B","text":"Access Control Lists (ACL) for objects"},{"key":"C","text":"Capability Lists for domains"},{"key":"D","text":"All of the above"}],"answer":"D","explanation":"The Access Matrix is an abstract model. It can be implemented physically using a Global Table (sparse), Access Control Lists (storing columns with objects), or Capability Lists (storing rows with domains)."},{"id":48,"question":"When does Address Binding happen at Load Time?","options":[{"key":"A","text":"If the process can be moved during execution."},{"key":"B","text":"If it is known at compile time where the process will reside."},{"key":"C","text":"If the compiler generates relocatable code and the binding is done when the program is loaded into memory."},{"key":"D","text":"During the execution of the machine code instruction."}],"answer":"C","explanation":"Load-time binding occurs when the compiler doesn't know the absolute address. It generates relocatable addresses (relative to 0), and the loader adds the starting address of the memory block when the program is loaded."},{"id":49,"question":"SSTF (Shortest Seek Time First) is essentially a form of ______ scheduling.","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"Round Robin"},{"key":"C","text":"SJF (Shortest Job First)"},{"key":"D","text":"Priority"}],"answer":"C","explanation":"SSTF is the disk-scheduling equivalent of Shortest Job First CPU scheduling. By selecting the request with the minimum seek time (shortest \\"job\\"), it reduces average service time but risks starvation for \\"long\\" jobs."},{"id":50,"question":"Global replacement in page replacement algorithms allows:","options":[{"key":"A","text":"A process to select a replacement frame from the set of all frames in the system."},{"key":"B","text":"A process to select only from its own allocated frames."},{"key":"C","text":"The OS to replace kernel pages only."},{"key":"D","text":"Replacement only when memory is completely full."}],"answer":"A","explanation":"Global replacement allows a process to \\"steal\\" a frame from another process if it needs one. This improves system throughput but means a process's execution time can vary based on the behavior of other processes."},{"id":51,"question":"Which of the following is an example of a Deadlock Prevention strategy?","options":[{"key":"A","text":"Banker's Algorithm"},{"key":"B","text":"Wait-For Graph"},{"key":"C","text":"Spooling everything (to avoid Hold and Wait on physical devices)"},{"key":"D","text":"Killing the youngest process"}],"answer":"C","explanation":"Spooling (Simultaneous Peripheral Operations On-Line) virtualizes devices. Instead of a process holding a physical printer (Mutual Exclusion), it writes to a disk file (spool). The daemon handles the printer, removing the deadlock condition regarding exclusive hardware access."},{"id":52,"question":"The time it takes to move the disk arm to the required cylinder is called:","options":[{"key":"A","text":"Seek Time"},{"key":"B","text":"Latency"},{"key":"C","text":"Transmission Time"},{"key":"D","text":"Response Time"}],"answer":"A","explanation":"Seek time is the mechanical delay required for the disk arm (actuator) to move the read/write head from its current position to the cylinder containing the desired data."},{"id":53,"question":"Copy-on-Write allows parent and child processes to share pages until:","options":[{"key":"A","text":"The child terminates."},{"key":"B","text":"The parent terminates."},{"key":"C","text":"Either process modifies a shared page."},{"key":"D","text":"The time quantum expires."}],"answer":"C","explanation":"Copy-on-Write (COW) is an optimization where parent and child share physical pages after a fork(). The OS only creates a copy of a page when one of the processes tries to write to it, conserving memory."},{"id":54,"question":"If a system has a 32-bit logical address and a 4KB page size, the page table will have approximately how many entries?","options":[{"key":"A","text":"32,000"},{"key":"B","text":"64,000"},{"key":"C","text":"1 Million ($2^{20}$)"},{"key":"D","text":"4 Billion"}],"answer":"C","explanation":"The number of entries = Total Logical Address Space / Page Size. Calculation: 2^32 / 2^12 = 2^20. 2^20 is approximately 1,000,000 entries (specifically 1,048,576)."},{"id":55,"question":"Which of the following is true about FAT (File Allocation Table)?","options":[{"key":"A","text":"It uses contiguous allocation."},{"key":"B","text":"It is a variation of linked allocation where links are stored in a separate table."},{"key":"C","text":"It supports no random access."},{"key":"D","text":"It is an inode-based system."}],"answer":"B","explanation":"The FAT system pulls the pointers out of the data blocks and stores them in a dedicated table at the beginning of the volume. This allows the OS to follow the chain without reading every data block, enabling faster access."},{"id":56,"question":"The Protection Domain determines:","options":[{"key":"A","text":"The priority of the process."},{"key":"B","text":"The set of access rights a process has."},{"key":"C","text":"The memory space of the process."},{"key":"D","text":"The CPU time allocated."}],"answer":"B","explanation":"A Protection Domain defines the boundaries within which a process operates. It specifies strictly which objects (files, hardware) the process can access and what operations (read, write, execute) it can perform on them."},{"id":57,"question":"Swap space management is primarily concerned with:","options":[{"key":"A","text":"Managing RAM."},{"key":"B","text":"Managing disk space used for moving processes out of main memory."},{"key":"C","text":"Managing CPU registers."},{"key":"D","text":"Managing cache memory."}],"answer":"B","explanation":"Swap space is a reserved area on the disk (or a file). When physical RAM is full, the OS moves inactive pages or entire processes to this swap space to free up RAM for active tasks."},{"id":58,"question":"Which algorithm handles the \\"Beladys Anomaly\\"?","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"Stack-based algorithms (like LRU)"},{"key":"C","text":"Second-Chance"},{"key":"D","text":"Random"}],"answer":"B","explanation":"Stack algorithms satisfy the inclusion property: the set of pages in memory with N frames is always a subset of the pages in memory with N+1 frames. This mathematical property prevents Belady's Anomaly."},{"id":59,"question":"A Relocatable Code implies that:","options":[{"key":"A","text":"Physical addresses are generated at compile time."},{"key":"B","text":"Base registers are used to calculate physical addresses at runtime."},{"key":"C","text":"The code cannot be moved once loaded."},{"key":"D","text":"It uses absolute addressing."}],"answer":"B","explanation":"Relocatable code uses relative addressing. At runtime, the hardware adds the value of a relocation (base) register to every logical address generated to find the actual physical memory location."},{"id":60,"question":"The Wait and Signal operations of a semaphore are atomic. This means:","options":[{"key":"A","text":"They are executed very quickly."},{"key":"B","text":"They cannot be called recursively."},{"key":"C","text":"They cannot be interrupted."},{"key":"D","text":"They are implemented in user space."}],"answer":"C","explanation":"Atomicity is crucial for semaphores. If a process is executing a Wait or Signal operation, no other process can interrupt it or access the semaphore variable until the operation is fully complete, preventing race conditions."},{"id":61,"question":"Index Allocation (like inodes) solves the external fragmentation of Contiguous allocation and the poor direct access of Linked allocation by:","options":[{"key":"A","text":"Using a FAT."},{"key":"B","text":"Bringing all pointers together into an index block."},{"key":"C","text":"Using variable partition sizes."},{"key":"D","text":"Compressing the file."}],"answer":"B","explanation":"Indexed allocation gives each file an index block containing pointers to all its data blocks. This supports direct access (calculating the offset in the index block) and eliminates external fragmentation (blocks can be anywhere)."},{"id":62,"question":"If you want to ensure no process starves on a disk queue, you should avoid:","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SCAN"},{"key":"C","text":"SSTF"},{"key":"D","text":"C-LOOK"}],"answer":"C","explanation":"SSTF creates a risk of starvation. If requests continue to arrive near the current head position, the disk arm will stay there to minimize seek time, ignoring requests at the other end of the disk indefinitely."},{"id":63,"question":"Which condition must hold for a Critical Section?","options":[{"key":"A","text":"Mutual Exclusion"},{"key":"B","text":"Preemption"},{"key":"C","text":"Deadlock"},{"key":"D","text":"Latency"}],"answer":"A","explanation":"For a Critical Section to function correctly, Mutual Exclusion is mandatory. It ensures that if process P is executing in its critical section, no other process can be executing in their corresponding critical sections."},{"id":64,"question":"Dynamic Linking is most useful for:","options":[{"key":"A","text":"Embedded systems."},{"key":"B","text":"Shared libraries (like .dll or .so files)."},{"key":"C","text":"Real-time systems."},{"key":"D","text":"Boot loaders."}],"answer":"B","explanation":"Dynamic linking keeps libraries separate on disk. Multiple programs can link to the same library file at runtime. This saves disk space and RAM, as one copy of the library code is shared in memory."},{"id":65,"question":"A \\"page fault\\" is an interrupt raised by:","options":[{"key":"A","text":"The Operating System."},{"key":"B","text":"The Hardware (MMU)."},{"key":"C","text":"The User Program."},{"key":"D","text":"The Disk Drive."}],"answer":"B","explanation":"A page fault is a hardware exception (trap). When the MMU tries to translate an address and finds the \\"Valid/Invalid\\" bit set to Invalid, it raises a hardware interrupt to tell the OS to fetch the page from disk."},{"id":66,"question":"Monitor is a high-level synchronization construct that:","options":[{"key":"A","text":"Uses spinlocks internally."},{"key":"B","text":"Ensures only one process can be active within the monitor at a time."},{"key":"C","text":"Is faster than semaphores."},{"key":"D","text":"Causes deadlocks easily."}],"answer":"B","explanation":"A Monitor is a high-level language construct. The compiler automatically injects the mutual exclusion logic, ensuring only one thread can execute code inside the monitor instance at any moment."},{"id":67,"question":"What is the main purpose of the SSTF algorithm?","options":[{"key":"A","text":"To minimize total head movement."},{"key":"B","text":"To ensure fairness."},{"key":"C","text":"To service the oldest request first."},{"key":"D","text":"To minimize CPU usage."}],"answer":"A","explanation":"The primary goal of Shortest Seek Time First (SSTF) is performance optimization. By always choosing the closest request, it reduces the total distance the disk arm travels, thereby reducing the average seek time."},{"id":68,"question":"In RAID, redundancy is used to improve:","options":[{"key":"A","text":"Speed."},{"key":"B","text":"Reliability."},{"key":"C","text":"Capacity."},{"key":"D","text":"Formatting time."}],"answer":"B","explanation":"RAID (Redundant Array of Independent Disks) levels like RAID 1 (Mirroring) or RAID 5 (Parity) use redundancy to ensure that if a single disk fails, the data can be recovered or operations can continue without data loss."},{"id":69,"question":"Which file attribute is NOT typically stored in the file control block (inode)?","options":[{"key":"A","text":"File size."},{"key":"B","text":"File owner."},{"key":"C","text":"File content."},{"key":"D","text":"Time of last modification."}],"answer":"C","explanation":"The File Control Block (FCB or inode) stores metadata about the file (permissions, owner, size, timestamps, and pointers to data blocks). It does not store the actual data/content of the file itself."},{"id":70,"question":"Pure Code (Reentrant Code) is:","options":[{"key":"A","text":"Code that modifies itself."},{"key":"B","text":"Code that can be shared by multiple processes simultaneously without modification."},{"key":"C","text":"Code that has no variables."},{"key":"D","text":"Code written in Assembly."}],"answer":"B","explanation":"Pure (Reentrant) code does not change during execution; it holds no static data. This allows multiple processes to execute the same memory block of code safely while keeping their own separate data/stack areas."},{"id":71,"question":"Look and C-Look are optimizations of SCAN that:","options":[{"key":"A","text":"Don't go to the physical end of the disk, only to the furthest request."},{"key":"B","text":"Move faster."},{"key":"C","text":"Use caching."},{"key":"D","text":"Prioritize reads over writes."}],"answer":"A","explanation":"Standard SCAN goes from end-to-end even if the last request is at 90. LOOK and C-LOOK optimize this by reversing direction immediately after serving the last request at 90, saving idle travel time."},{"id":72,"question":"Preemption is required for which type of scheduling?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"Round Robin"},{"key":"C","text":"Non-preemptive SJF"},{"key":"D","text":"Cooperative Scheduling"}],"answer":"B","explanation":"Round Robin is inherently preemptive. It relies on a timer interrupt (time quantum). When the time is up, the OS forcibly takes the CPU away from the current process and gives it to the next one."},{"id":73,"question":"Peterson's Solution is a software-based solution for:","options":[{"key":"A","text":"Deadlock recovery."},{"key":"B","text":"Critical Section problem for 2 processes."},{"key":"C","text":"Memory fragmentation."},{"key":"D","text":"Disk scheduling."}],"answer":"B","explanation":"Petersons Solution is a classic algorithmic solution that provides Mutual Exclusion, Progress, and Bounded Waiting for two processes using two shared variables (turn and flag) without special hardware instructions."},{"id":74,"question":"If the page size is too small:","options":[{"key":"A","text":"The page table becomes very large."},{"key":"B","text":"Internal fragmentation increases."},{"key":"C","text":"Access time decreases."},{"key":"D","text":"Thrashing is eliminated."}],"answer":"A","explanation":"If pages are tiny (e.g., 256 bytes), a large memory space will be divided into millions of pages. This requires a massive page table to map them all, wasting memory on management overhead."},{"id":75,"question":"Safe Sequence <P1,P2,P3> implies:","options":[{"key":"A","text":"P1 must finish before P2 starts."},{"key":"B","text":"System can allocate resources to P1, then wait for P1 to finish/release, then satisfy P2, and so on."},{"key":"C","text":"P3 holds the most resources."},{"key":"D","text":"There is no circular wait."}],"answer":"B","explanation":"A safe sequence ensures that P1 can finish with currently available resources. Once P1 finishes, it returns its resources, whichadded to the available poolare enough to let P2 finish, and so on."},{"id":76,"question":"Contiguous Memory Allocation suffers primarily from:","options":[{"key":"A","text":"Internal Fragmentation."},{"key":"B","text":"External Fragmentation."},{"key":"C","text":"Page Faults."},{"key":"D","text":"Slow Access Time."}],"answer":"B","explanation":"Contiguous allocation requires a continuous block of memory. As processes are loaded and removed, free memory becomes broken into small, non-contiguous holes that are too small to be useful individually."},{"id":77,"question":"Which structure allows a large logical address space to be mapped to a smaller physical memory?","options":[{"key":"A","text":"Overlays."},{"key":"B","text":"Segmentation."},{"key":"C","text":"Virtual Memory (Paging)."},{"key":"D","text":"DMA."}],"answer":"C","explanation":"Virtual memory separates logical memory from physical memory. It allows a program to have a logical address space much larger than actual RAM by only keeping the currently needed pages in physical memory."},{"id":78,"question":"A Race Condition occurs when:","options":[{"key":"A","text":"Two processes read the same data."},{"key":"B","text":"The outcome of execution depends on the specific order in which access takes place."},{"key":"C","text":"One process is faster than the other."},{"key":"D","text":"A process dies unexpectedly."}],"answer":"B","explanation":"A race condition happens when multiple processes access and manipulate shared data concurrently. The final value of the data depends on the luck of the scheduling order, leading to bugs."},{"id":79,"question":"In Capability Lists:","options":[{"key":"A","text":"Each process has a list of objects it can access."},{"key":"B","text":"Each object has a list of processes that can access it."},{"key":"C","text":"There is a central matrix."},{"key":"D","text":"Access is public."}],"answer":"A","explanation":"In a Capability List implementation of the Access Matrix, the matrix is decomposed by row. Each process (domain) carries a list of \\"capabilities\\" (like tickets or keys) for the objects it is allowed to touch."},{"id":80,"question":"Memory Mapped I/O means:","options":[{"key":"A","text":"I/O devices have their own dedicated bus."},{"key":"B","text":"Device control registers are mapped into the memory address space of the processor."},{"key":"C","text":"I/O is handled only by the kernel."},{"key":"D","text":"Files are always loaded into RAM."}],"answer":"B","explanation":"Memory Mapped I/O allows the CPU to control hardware devices using standard memory instructions (like Load/Store) by assigning specific memory addresses to device registers, rather than using special I/O instructions."},{"id":81,"question":"Counting Semaphores are initialized to:","options":[{"key":"A","text":"0"},{"key":"B","text":"1"},{"key":"C","text":"The number of available resources."},{"key":"D","text":"-1"}],"answer":"C","explanation":"A counting semaphore is used to track available instances of a resource. It is initialized to the total count (e.g., 5 printers). Wait decrements the count; Signal increments it."},{"id":82,"question":"The seek time is the time to move the arm, and rotational latency is the time for the sector to rotate. The sum of these plus transfer time is:","options":[{"key":"A","text":"Throughput."},{"key":"B","text":"Disk Access Time."},{"key":"C","text":"Bus Latency."},{"key":"D","text":"Response Time."}],"answer":"B","explanation":"The total time to satisfy a disk request is the sum of getting to the right place (Seek Time + Rotational Latency) and the actual time to read the data (Transfer Time)."},{"id":83,"question":"Which is a technique to avoid External Fragmentation without using paging?","options":[{"key":"A","text":"Compaction"},{"key":"B","text":"Swapping"},{"key":"C","text":"Zoning"},{"key":"D","text":"Formatting"}],"answer":"A","explanation":"Compaction is the only way to fix external fragmentation in contiguous systems without changing the architecture. It physically moves memory contents to push all free space to one end, creating one large usable block."},{"id":84,"question":"FCFS disk scheduling is generally:","options":[{"key":"A","text":"Fair but performs poorly."},{"key":"B","text":"Unfair and performs poorly."},{"key":"C","text":"Optimal."},{"key":"D","text":"Complex to implement."}],"answer":"A","explanation":"FCFS is fair because it strictly follows the order of arrival (no starvation). However, it does not optimize for seek time, leading to \\"wild\\" swings of the disk arm and slow performance."},{"id":85,"question":"In a system using RR Scheduling, if a process is I/O bound, it will:","options":[{"key":"A","text":"Use its full time quantum."},{"key":"B","text":"Relinquish the CPU voluntarily before the quantum expires."},{"key":"C","text":"Be moved to a lower priority queue."},{"key":"D","text":"Cause a deadlock."}],"answer":"B","explanation":"I/O bound processes spend little time computing. They will issue an I/O request quickly and block themselves (give up the CPU) long before their time quantum runs out, leading to short CPU bursts."},{"id":86,"question":"Safe State is ______ condition for deadlock freedom.","options":[{"key":"A","text":"A Necessary"},{"key":"B","text":"A Sufficient"},{"key":"C","text":"Not a related"},{"key":"D","text":"An equivalent"}],"answer":"B","explanation":"If a system is in a Safe State, it is guaranteed that no deadlock exists. Therefore, being in a safe state is sufficient to prove the system is deadlock-free."},{"id":87,"question":"Which of the following allows a file to be distributed across different disks?","options":[{"key":"A","text":"Linked Allocation"},{"key":"B","text":"Contiguous Allocation"},{"key":"C","text":"Striping (RAID)"},{"key":"D","text":"Inode"}],"answer":"C","explanation":"Disk striping divides data into blocks and spreads them across multiple physical disks (RAID 0). This allows parallel reading/writing, improving performance, and creating a file system larger than a single disk."},{"id":88,"question":"If a process attempts to access a page that is not in its address space (invalid reference), the OS handles this by:","options":[{"key":"A","text":"Loading the page."},{"key":"B","text":"Ignoring it."},{"key":"C","text":"Terminating the process (Segmentation Fault)."},{"key":"D","text":"Waiting."}],"answer":"C","explanation":"If a process tries to access a logical address that is not mapped in its page table (not part of its allocated address space), it is an illegal access. The OS traps this error and terminates the process."},{"id":89,"question":"Working Set is defined as the set of pages referenced in the most recent:","options":[{"key":"A","text":"Time quantum."},{"key":"B","text":"Delta ($\\\\Delta$) time units."},{"key":"C","text":"Process lifetime."},{"key":"D","text":"Critical section."}],"answer":"B","explanation":"The Working Set model looks at the most recent Delta time references. The set of unique pages accessed during this time window is considered the process's current \\"Working Set.\\""},{"id":90,"question":"Base and Limit registers define:","options":[{"key":"A","text":"The logical address space of a process."},{"key":"B","text":"The physical memory size."},{"key":"C","text":"The disk capacity."},{"key":"D","text":"The page table size."}],"answer":"A","explanation":"In contiguous allocation, the Base register holds the smallest physical address, and the Limit register holds the size of the range. Together, they define and protect the process's logical address space."},{"id":91,"question":"Bit Vector is a common method for:","options":[{"key":"A","text":"Page replacement."},{"key":"B","text":"Free space management on disk."},{"key":"C","text":"Deadlock detection."},{"key":"D","text":"Process scheduling."}],"answer":"B","explanation":"A Bit Vector (or Bit Map) is a compact way to track free disk blocks. Each block is represented by 1 bit (0 for allocated, 1 for free). This allows the OS to quickly find free blocks."},{"id":92,"question":"The Dispatcher is the module that:","options":[{"key":"A","text":"Selects the process to run."},{"key":"B","text":"Gives control of the CPU to the process selected by the short-term scheduler."},{"key":"C","text":"Moves processes to disk."},{"key":"D","text":"Handles interrupts."}],"answer":"B","explanation":"The Scheduler decides who runs next. The Dispatcher is the mechanism that actually switches to that process (performing context switch, switching to user mode, and jumping to the instruction)."},{"id":93,"question":"Priority Inversion can be solved by:","options":[{"key":"A","text":"Disabling interrupts."},{"key":"B","text":"Priority Inheritance Protocol."},{"key":"C","text":"Killing the low-priority process."},{"key":"D","text":"Using FCFS."}],"answer":"B","explanation":"Priority Inversion happens when a low-priority task holds a lock needed by a high-priority task. Priority Inheritance temporarily raises the priority of the lock-holder to that of the waiter, so it can finish and release the lock faster."},{"id":94,"question":"Spinlocks are useful in:","options":[{"key":"A","text":"Single-processor systems."},{"key":"B","text":"Multi-processor systems (for short waits)."},{"key":"C","text":"I/O bound processes."},{"key":"D","text":"Long critical sections."}],"answer":"B","explanation":"Spinlocks cause the CPU to \\"busy wait\\". On a single core, this wastes time. On multicore systems, if the wait is short, spinning is cheaper than the overhead of a context switch."},{"id":95,"question":"In Indexed Allocation, the max file size depends on:","options":[{"key":"A","text":"Disk size."},{"key":"B","text":"The number of pointers in the index block."},{"key":"C","text":"RAM size."},{"key":"D","text":"The file name."}],"answer":"B","explanation":"In standard Indexed Allocation, the file size is limited by how many block pointers fit inside the single index block."},{"id":96,"question":"Which is false about threads?","options":[{"key":"A","text":"They share the code section."},{"key":"B","text":"They share open files."},{"key":"C","text":"They share the stack."},{"key":"D","text":"They share data section."}],"answer":"C","explanation":"Threads within the same process share the code segment, data segment, and OS resources. However, each thread must have its own stack to manage its own function calls and local variables."},{"id":97,"question":"The Bootstrap program is typically stored in:","options":[{"key":"A","text":"RAM."},{"key":"B","text":"ROM or EEPROM."},{"key":"C","text":"Hard Disk (Sector 100)."},{"key":"D","text":"Cache."}],"answer":"B","explanation":"The bootstrap program runs when the computer is first turned on. Since RAM is volatile, this initial code must be stored in non-volatile memory like ROM or firmware (BIOS/UEFI)."},{"id":98,"question":"Shortest Job First (SJF) is optimal in terms of:","options":[{"key":"A","text":"Throughput."},{"key":"B","text":"Minimum average waiting time."},{"key":"C","text":"Fairness."},{"key":"D","text":"CPU utilization."}],"answer":"B","explanation":"SJF is mathematically proven to provide the lowest possible average waiting time for a given set of processes because it clears the queue of short tasks quickly."},{"id":99,"question":"A system has 4 processes and 3 resource types. To ensure deadlock freedom using the Banker's algorithm, we must check the:","options":[{"key":"A","text":"Need Matrix vs Available Vector."},{"key":"B","text":"Allocation Matrix vs Max Matrix."},{"key":"C","text":"Hold count."},{"key":"D","text":"Wait queue length."}],"answer":"A","explanation":"The Banker's Algorithm checks safety by comparing the Need (Max - Allocation) of a process against the currently Available resources. If Available >= Need, the process can theoretically finish."},{"id":100,"question":"File System consistency checks (like fsck or chkdsk) compare:","options":[{"key":"A","text":"Data in memory vs Disk."},{"key":"B","text":"Directory structure vs the actual blocks allocated on disk."},{"key":"C","text":"User permissions."},{"key":"D","text":"File names."}],"answer":"B","explanation":"Consistency checkers ensure the file system metadata is valid. They check if a block is marked as \\"used\\" in the free-space list but not claimed by any file in the directory structure."}]`),ul=(t,e)=>{let n=[...t];for(;n.length<e;){const s=t.map((a,l)=>({...a,id:n.length+l+1}));n=[...n,...s]}return n.slice(0,e)},zz=[{id:1,question:"What does ACID stand for in DBMS?",options:[{key:"A",text:"Atomicity, Consistency, Isolation, Durability"},{key:"B",text:"Atomicity, Consistency, Integrity, Durability"},{key:"C",text:"Accuracy, Consistency, Isolation, Durability"},{key:"D",text:"Atomicity, Concurrency, Isolation, Durability"}],answer:"A",explanation:"ACID properties (Atomicity, Consistency, Isolation, Durability) guarantee that database transactions are processed reliably."},{id:2,question:"Which key uniquely identifies a record in a table?",options:[{key:"A",text:"Foreign Key"},{key:"B",text:"Primary Key"},{key:"C",text:"Secondary Key"},{key:"D",text:"Alternate Key"}],answer:"B",explanation:"A Primary Key is a minimal set of attributes that uniquely identifies a specific tuple (row) in a relation (table)."},{id:3,question:"What is Normalization used for?",options:[{key:"A",text:"To add redundancy"},{key:"B",text:"To reduce redundancy and dependency"},{key:"C",text:"To increase query speed"},{key:"D",text:"To backup data"}],answer:"B",explanation:"Normalization is the process of organizing data to minimize redundancy and prevent update anomalies."},{id:4,question:"Which SQL command is used to remove a table from the database?",options:[{key:"A",text:"DELETE"},{key:"B",text:"REMOVE"},{key:"C",text:"DROP"},{key:"D",text:"TRUNCATE"}],answer:"C",explanation:"DROP TABLE deletes the table structure and all its data. DELETE removes rows, TRUNCATE removes all rows but keeps structure."},{id:5,question:"A relationship where one record refers to many records in another table is:",options:[{key:"A",text:"One-to-One"},{key:"B",text:"Many-to-Many"},{key:"C",text:"One-to-Many"},{key:"D",text:"None of the above"}],answer:"C",explanation:"One-to-Many relationship is the most common type, where a single record in Table A is related to multiple records in Table B."},{id:6,question:"Which level of RAID provides disk mirroring?",options:[{key:"A",text:"RAID 0"},{key:"B",text:"RAID 1"},{key:"C",text:"RAID 5"},{key:"D",text:"RAID 10"}],answer:"B",explanation:"RAID 1 consists of an exact copy (or mirror) of a set of data on two or more disks."},{id:7,question:"In E-R diagram, a rectangle represents:",options:[{key:"A",text:"Attribute"},{key:"B",text:"Relationship"},{key:"C",text:"Entity Set"},{key:"D",text:"Key"}],answer:"C",explanation:"A rectangle represents an entity set in an E-R diagram."},{id:8,question:"Which operation is used to select specific columns from a table?",options:[{key:"A",text:"Selection"},{key:"B",text:"Projection"},{key:"C",text:"Join"},{key:"D",text:"Union"}],answer:"B",explanation:"Projection (Pi) is used to select specific columns (attributes) from a relation."},{id:9,question:"A transaction that has not completed is called:",options:[{key:"A",text:"Aborted"},{key:"B",text:"Active"},{key:"C",text:"Committed"},{key:"D",text:"Partially Committed"}],answer:"B",explanation:"A transaction is in the Active state while it is executing."},{id:10,question:"BCNF stands for:",options:[{key:"A",text:"Basic Codd Normal Form"},{key:"B",text:"Boyce-Codd Normal Form"},{key:"C",text:"Binary Codd Normal Form"},{key:"D",text:"Basic Column Normal Form"}],answer:"B",explanation:"BCNF is a stricter version of 3NF."}],qz=[{id:1,question:"Layer responsible for routing?",options:[{key:"A",text:"Data Link"},{key:"B",text:"Network"},{key:"C",text:"Transport"},{key:"D",text:"Session"}],answer:"B",explanation:"The Network Layer is responsible for routing."},{id:2,question:"IPv4 address size?",options:[{key:"A",text:"32 bits"},{key:"B",text:"64 bits"},{key:"C",text:"128 bits"},{key:"D",text:"256 bits"}],answer:"A",explanation:"IPv4 addresses are 32 bits long."},{id:3,question:"Default HTTP port?",options:[{key:"A",text:"21"},{key:"B",text:"443"},{key:"C",text:"80"},{key:"D",text:"25"}],answer:"C",explanation:"HTTP uses port 80."},{id:4,question:"Protocol for sending email?",options:[{key:"A",text:"POP3"},{key:"B",text:"IMAP"},{key:"C",text:"SMTP"},{key:"D",text:"HTTP"}],answer:"C",explanation:"SMTP is for sending; POP3/IMAP for receiving."},{id:5,question:"Layer 2 device?",options:[{key:"A",text:"Hub"},{key:"B",text:"Switch"},{key:"C",text:"Router"},{key:"D",text:"Repeater"}],answer:"B",explanation:"A Switch operates at the Data Link Layer (Layer 2)."},{id:6,question:"Which protocol is connectionless?",options:[{key:"A",text:"TCP"},{key:"B",text:"UDP"},{key:"C",text:"FTP"},{key:"D",text:"HTTP"}],answer:"B",explanation:"UDP is a connectionless protocol."},{id:7,question:"What is MAC?",options:[{key:"A",text:"Media Access Control"},{key:"B",text:"Memory Access Control"},{key:"C",text:"Main Access Control"},{key:"D",text:"Media Address Code"}],answer:"A",explanation:"MAC stands for Media Access Control."},{id:8,question:"Which command checks connectivity?",options:[{key:"A",text:"ipconfig"},{key:"B",text:"ping"},{key:"C",text:"netstat"},{key:"D",text:"nslookup"}],answer:"B",explanation:"Ping checks connectivity using ICMP."},{id:9,question:"DNS maps names to:",options:[{key:"A",text:"MAC Addresses"},{key:"B",text:"IP Addresses"},{key:"C",text:"Ports"},{key:"D",text:"URLs"}],answer:"B",explanation:"DNS maps domain names to IP addresses."},{id:10,question:"Fastest topology?",options:[{key:"A",text:"Bus"},{key:"B",text:"Ring"},{key:"C",text:"Star"},{key:"D",text:"Mesh"}],answer:"D",explanation:"Mesh topology is most robust but expensive; Star is most common and fast."}],Fz=[{id:1,question:"Deriving properties from another class?",options:[{key:"A",text:"Polymorphism"},{key:"B",text:"Encapsulation"},{key:"C",text:"Inheritance"},{key:"D",text:"Abstraction"}],answer:"C",explanation:"Inheritance."},{id:2,question:"Same function name, different params?",options:[{key:"A",text:"Overriding"},{key:"B",text:"Overloading"},{key:"C",text:"Encapsulation"},{key:"D",text:"Detailed"}],answer:"B",explanation:"Function Overloading."},{id:3,question:"Hiding implementation details?",options:[{key:"A",text:"Encapsulation"},{key:"B",text:"Abstraction"},{key:"C",text:"Inheritance"},{key:"D",text:"Polymorphism"}],answer:"B",explanation:"Abstraction."},{id:4,question:"Private members accessible where?",options:[{key:"A",text:"Anywhere"},{key:"B",text:"Within same class"},{key:"C",text:"Derived classes"},{key:"D",text:"Same package"}],answer:"B",explanation:"Only inside the defining class."},{id:5,question:"Instance of a class?",options:[{key:"A",text:"Object"},{key:"B",text:"Method"},{key:"C",text:"Variable"},{key:"D",text:"Pointer"}],answer:"A",explanation:"An Object."},{id:6,question:"Wrapping data and code?",options:[{key:"A",text:"Abstraction"},{key:"B",text:"Encapsulation"},{key:"C",text:"Polymorphism"},{key:"D",text:"Interpolation"}],answer:"B",explanation:"Encapsulation."},{id:7,question:"Runtime Polymorphism uses?",options:[{key:"A",text:"Overloading"},{key:"B",text:"Overriding"},{key:"C",text:"Constructor"},{key:"D",text:"Destructor"}],answer:"B",explanation:"Method Overriding is runtime polymorphism."},{id:8,question:"Pure virtual function makes a class?",options:[{key:"A",text:"Static"},{key:"B",text:"Abstract"},{key:"C",text:"Final"},{key:"D",text:"Public"}],answer:"B",explanation:"A class with a pure virtual function is Abstract."},{id:9,question:"Does Java support multiple inheritance?",options:[{key:"A",text:"Yes"},{key:"B",text:"No"},{key:"C",text:"Through classes"},{key:"D",text:"Through pointers"}],answer:"B",explanation:"Java supports multiple inheritance only through Interfaces."},{id:10,question:"Constructor name must match?",options:[{key:"A",text:"File name"},{key:"B",text:"Class name"},{key:"C",text:"Package name"},{key:"D",text:"Object name"}],answer:"B",explanation:"Constructor matches Class name."}],Hz=[{id:1,question:"Runs Java programs?",options:[{key:"A",text:"JVM"},{key:"B",text:"JDK"},{key:"C",text:"JRE"},{key:"D",text:"JIT"}],answer:"C",explanation:"JRE."},{id:2,question:"Size of int?",options:[{key:"A",text:"8 bit"},{key:"B",text:"16 bit"},{key:"C",text:"32 bit"},{key:"D",text:"64 bit"}],answer:"C",explanation:"32 bit."},{id:3,question:"No explicit pointers in Java?",options:[{key:"A",text:"True"},{key:"B",text:"False"},{key:"C",text:"Maybe"},{key:"D",text:"Sometimes"}],answer:"A",explanation:"True, for security."},{id:4,question:"Constant keyword?",options:[{key:"A",text:"const"},{key:"B",text:"static"},{key:"C",text:"final"},{key:"D",text:"var"}],answer:"C",explanation:"final."},{id:5,question:"Divide by Zero exception?",options:[{key:"A",text:"NullPointer"},{key:"B",text:"Arithmetic"},{key:"C",text:"NumberFormat"},{key:"D",text:"IO"}],answer:"B",explanation:"ArithmeticException."},{id:6,question:"Entry point of program?",options:[{key:"A",text:"start()"},{key:"B",text:"main()"},{key:"C",text:"run()"},{key:"D",text:"init()"}],answer:"B",explanation:"public static void main(String[] args)."},{id:7,question:"Is Java platform independent?",options:[{key:"A",text:"Yes"},{key:"B",text:"No"},{key:"C",text:"Only on Windows"},{key:"D",text:"Only on Linux"}],answer:"A",explanation:"Yes, Write Once Run Anywhere (WORA)."},{id:8,question:"Superclass of all?",options:[{key:"A",text:"Class"},{key:"B",text:"Object"},{key:"C",text:"Main"},{key:"D",text:"System"}],answer:"B",explanation:"The Object class."},{id:9,question:"Keyword for inheritance?",options:[{key:"A",text:"implements"},{key:"B",text:"extends"},{key:"C",text:"inherits"},{key:"D",text:"super"}],answer:"B",explanation:"extends."},{id:10,question:"Compiled Java extension?",options:[{key:"A",text:".java"},{key:"B",text:".class"},{key:"C",text:".jar"},{key:"D",text:".exe"}],answer:"B",explanation:".class (Bytecode)."}],Gz=[{id:1,question:"Extract data?",options:[{key:"A",text:"GET"},{key:"B",text:"OPEN"},{key:"C",text:"SELECT"},{key:"D",text:"PULL"}],answer:"C",explanation:"SELECT."},{id:2,question:"Pattern match?",options:[{key:"A",text:"LIKE"},{key:"B",text:"MATCH"},{key:"C",text:"SIMILAR"},{key:"D",text:"SAME"}],answer:"A",explanation:"LIKE."},{id:3,question:"Sort results?",options:[{key:"A",text:"SORT BY"},{key:"B",text:"ORDER BY"},{key:"C",text:"GROUP BY"},{key:"D",text:"ALIGN"}],answer:"B",explanation:"ORDER BY."},{id:4,question:"Unique values?",options:[{key:"A",text:"NOT NULL"},{key:"B",text:"UNIQUE"},{key:"C",text:"PRIMARY"},{key:"D",text:"DISTINCT"}],answer:"B",explanation:"UNIQUE."},{id:5,question:"SQL stands for?",options:[{key:"A",text:"Structured Question Language"},{key:"B",text:"Structured Query Language"},{key:"C",text:"Strong Query Language"},{key:"D",text:"Standard Query Language"}],answer:"B",explanation:"Structured Query Language."},{id:6,question:"Modify existing data?",options:[{key:"A",text:"MODIFY"},{key:"B",text:"CHANGE"},{key:"C",text:"UPDATE"},{key:"D",text:"ALTER"}],answer:"C",explanation:"UPDATE."},{id:7,question:"Add new row?",options:[{key:"A",text:"ADD"},{key:"B",text:"INSERT INTO"},{key:"C",text:"CREATE"},{key:"D",text:"NEW"}],answer:"B",explanation:"INSERT INTO."},{id:8,question:"Constraint for no empty values?",options:[{key:"A",text:"UNIQUE"},{key:"B",text:"NOT NULL"},{key:"C",text:"PRIMARY KEY"},{key:"D",text:"CHECK"}],answer:"B",explanation:"NOT NULL."},{id:9,question:"Delete table structure?",options:[{key:"A",text:"DELETE"},{key:"B",text:"DROP"},{key:"C",text:"TRUNCATE"},{key:"D",text:"REMOVE"}],answer:"B",explanation:"DROP."},{id:10,question:"Filter groups?",options:[{key:"A",text:"WHERE"},{key:"B",text:"HAVING"},{key:"C",text:"GROUP BY"},{key:"D",text:"ORDER BY"}],answer:"B",explanation:"HAVING filters aggregated groups; WHERE filters rows."}],Fr=[{id:"os",title:"Operating Systems",description:"Processes, threads, scheduling, synchronization.",questions:ul(Bz,100),category:"CS Core",icon:P9,color:"bg-blue-500",gradient:"from-blue-500 to-indigo-600"},{id:"dbms",title:"DBMS",description:"ACID, Normalization, SQL, Transactions.",questions:ul(zz,100),category:"CS Core",icon:jE,color:"bg-emerald-500",gradient:"from-emerald-500 to-teal-600"},{id:"cn",title:"Computer Networks",description:"OSI, TCP/IP, Protocols, Addressing.",questions:ul(qz,100),category:"CS Core",icon:lz,color:"bg-indigo-500",gradient:"from-indigo-500 to-purple-600"},{id:"oop",title:"OOP Concepts",description:"Inheritance, Polymorphism, Encapsulation.",questions:ul(Fz,100),category:"Programming",icon:E9,color:"bg-orange-500",gradient:"from-orange-500 to-pink-600"},{id:"java",title:"Java Programming",description:"Syntax, JVM, Exceptions, OOP in Java.",questions:ul(Hz,100),category:"Language",icon:L9,color:"bg-red-500",gradient:"from-red-500 to-rose-600"},{id:"sql",title:"SQL Fundamentals",description:"Queries, Joins, Constraints, Database logic.",questions:ul(Gz,100),category:"Language",icon:jE,color:"bg-cyan-500",gradient:"from-cyan-500 to-blue-600"}],Fa={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function Kz({user:t,screen:e,setScreen:n,activeSection:s,setActiveSection:a,mobileMenuOpen:l,setMobileMenuOpen:u,notification:f,setNotification:m,handleLogout:g,handleTopicSelect:v,startQuiz:b,finishQuiz:w,restartQuiz:k,currentTopic:D,questionCount:O,setQuestionCount:P,quizQuestions:q,score:ee,userAnswers:Q}){const[ce,he]=W.useState(!1),[ue,I]=W.useState(!1),[S,N]=W.useState(""),L=S?Fr.filter(M=>M.title.toLowerCase().includes(S.toLowerCase())||M.description.toLowerCase().includes(S.toLowerCase())):[],V=M=>{v(M.id),I(!1),N(""),n("home"),a("quiz")};return Zg.useEffect(()=>{const M=R=>{R.key==="Escape"&&ue&&I(!1)};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[ue]),y.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans selection:bg-black selection:text-white",children:[y.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white/70 backdrop-blur-2xl saturate-150 border-b border-white/80 shadow-sm transition-all duration-300",children:[y.jsxs("div",{className:"max-w-screen-2xl mx-auto px-6 py-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>{n("home"),a("quiz")},children:[y.jsx(Ce.div,{whileHover:{rotate:15,scale:1.1},whileTap:{scale:.9},className:"bg-black text-white p-2 rounded-lg",children:y.jsx(Uu,{size:20})}),y.jsx("h1",{className:"text-xl font-bold tracking-tight text-black group-hover:text-gray-700 transition-colors",children:"Let's Try"})]}),y.jsx("div",{className:"flex items-center gap-4",children:t?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[y.jsx("button",{onClick:()=>I(!0),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",title:"Global Search",children:y.jsx(Ll,{size:20})}),y.jsxs("button",{onClick:()=>n("chat"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${e==="chat"?"bg-gray-100 font-bold":"hover:bg-gray-50 text-gray-600"}`,children:[y.jsx(no,{size:18}),y.jsx("span",{children:"Chat"})]}),y.jsxs("button",{onClick:()=>n("notes"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${e==="notes"?"bg-gray-100 font-bold":"hover:bg-gray-50 text-gray-600"}`,children:[y.jsx(io,{size:18}),y.jsx("span",{children:"Notes"})]}),y.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),y.jsxs("button",{onClick:()=>{n("home"),a("profile")},className:"flex items-center gap-2 hover:bg-gray-100 p-2 rounded-full transition-colors",children:[y.jsx("div",{className:"bg-gray-100 p-2 rounded-full border border-gray-200",children:y.jsx(yo,{size:18})}),y.jsx("span",{className:"hover:underline",children:t.name})]}),y.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Logout",children:y.jsx(t0,{size:20})})]}),y.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[y.jsx("button",{onClick:()=>n("chat"),className:`p-2 rounded-xl transition-colors ${e==="chat"?"bg-black text-white":"bg-gray-100 text-gray-600"}`,children:y.jsx(no,{size:20})}),y.jsx("button",{onClick:()=>u(!0),className:"p-2 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors",children:y.jsx(rz,{size:20})})]})]}):y.jsx("button",{onClick:()=>n("login"),className:"px-6 py-2.5 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors font-medium shadow-lg shadow-black/10",children:"Get Started"})})]}),y.jsx(zn,{children:l&&y.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 w-full bg-white z-50 shadow-2xl border-b border-gray-100 p-6 md:hidden",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"bg-black text-white p-2 rounded-lg",children:y.jsx(Uu,{size:20})}),y.jsx("h2",{className:"text-xl font-bold",children:"Menu"})]}),y.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:y.jsx(Qv,{size:20})})]}),t&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{onClick:()=>{n("home"),a("profile"),u(!1)},className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl border border-gray-100 active:scale-95 transition-transform",children:[y.jsx("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center text-white font-bold text-xl",children:t.name.charAt(0)}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900",children:t.name}),y.jsx("p",{className:"text-sm text-gray-500",children:"View Profile"})]}),y.jsx(ei,{size:16,className:"ml-auto text-gray-400"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("button",{onClick:()=>{n("home"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[y.jsx(z9,{size:20})," Dashboard"]}),y.jsxs("button",{onClick:()=>{n("notes"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[y.jsx(io,{size:20})," Notes"]}),y.jsxs("button",{onClick:()=>{n("chat"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[y.jsx(no,{size:20})," Chat"]})]}),y.jsx("div",{className:"pt-6 border-t border-gray-100",children:y.jsxs("button",{onClick:()=>{g(),u(!1)},className:"w-full py-3 bg-red-50 text-red-500 font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[y.jsx(t0,{size:18})," Logout"]})})]})]})})]}),y.jsx(zn,{children:ue&&y.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/20 backdrop-blur-sm flex items-start justify-center pt-24 px-4",onClick:()=>I(!1),children:y.jsxs(Ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:M=>M.stopPropagation(),className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl border border-gray-100 overflow-hidden flex flex-col max-h-[70vh]",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3",children:[y.jsx(Ll,{size:20,className:"text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search quizzes, notes, or people...",className:"flex-1 text-lg outline-none placeholder:text-gray-400",autoFocus:!0,value:S,onChange:M=>N(M.target.value)}),y.jsx("button",{onClick:()=>I(!1),className:"px-3 py-1 bg-gray-100 text-xs font-bold text-gray-500 rounded-md hover:bg-gray-200",children:"ESC"})]}),y.jsx("div",{className:"overflow-y-auto p-2",children:S?y.jsx(y.Fragment,{children:L.length>0?y.jsxs("div",{className:"space-y-1",children:[y.jsx("h3",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase",children:"Quizzes"}),L.map(M=>y.jsxs("button",{onClick:()=>V(M),className:"w-full flex items-center gap-4 p-3 hover:bg-gray-50 rounded-xl transition-colors text-left group",children:[y.jsx("div",{className:`p-3 rounded-lg ${M.color?M.color.replace("text-","bg-").replace("600","100"):"bg-gray-100"} ${M.color||"text-gray-600"}`,children:M.icon?y.jsx(M.icon,{size:20}):y.jsx(Cl,{size:20})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-black",children:M.title}),y.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:M.description})]})]},M.id))]}):y.jsxs("div",{className:"p-8 text-center text-gray-500",children:['No results found for "',S,'"']})}):y.jsx("div",{className:"p-12 text-center text-gray-400 text-sm",children:"Type to start searching across the entire app."})})]})})}),y.jsx("main",{className:`flex-1 relative z-0 ${e==="chat"||!t?"w-full":"w-full max-w-[1920px] mx-auto px-4 sm:px-8 py-8"}`,children:y.jsxs(zn,{mode:"wait",children:[e==="login"&&y.jsx(Qk,{onSwitchToSignup:()=>n("signup"),onLoginSuccess:()=>n("home")},"login"),e==="signup"&&y.jsx(Yk,{onSwitchToLogin:()=>n("login"),onSignupSuccess:()=>n("home")},"signup"),e==="home"&&y.jsx(zn,{mode:"wait",children:t?y.jsxs(y.Fragment,{children:[s==="profile"&&y.jsx(Xk,{onBack:()=>a("quiz")},"profile"),s==="create"&&y.jsx(Fk,{onBack:()=>a("quiz")},"create"),s==="community"&&y.jsx(Hk,{onBack:()=>a("quiz"),onPlay:M=>b(M)},"community"),s==="quiz"&&y.jsxs(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},className:"space-y-16",children:[y.jsx("div",{className:"relative overflow-hidden rounded-[3rem] bg-gradient-to-br from-white to-gray-100 p-8 md:p-16 text-gray-900 shadow-2xl border border-gray-200",children:y.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-12",children:[y.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-6",children:[y.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter leading-tight",children:["Ready to ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-emerald-600",children:"Level Up?"})]}),y.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-lg mx-auto lg:mx-0 font-medium",children:"Master your skills with our curated quizzes or challenge the community with your own creations."}),y.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 pt-4",children:[y.jsxs("button",{onClick:()=>a("create"),className:"px-8 py-4 bg-gray-900 text-white rounded-2xl font-bold hover:bg-gray-800 transition-all flex items-center gap-2 group shadow-lg hover:shadow-xl",children:[y.jsx(If,{size:20,className:"group-hover:scale-110 transition-transform"}),"Create Quiz"]}),y.jsxs("button",{onClick:()=>a("community"),className:"px-8 py-4 bg-white border border-gray-200 text-gray-700 rounded-2xl font-bold hover:bg-gray-50 transition-all flex items-center gap-2 shadow-sm hover:shadow-md",children:[y.jsx(Cl,{size:20}),"Community"]})]})]}),y.jsx("div",{className:"w-full max-w-md",children:y.jsxs("div",{className:"bg-white/60 backdrop-blur-xl border border-white/40 p-6 rounded-3xl shadow-xl flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center justify-between text-gray-800",children:[y.jsx("h3",{className:"font-bold uppercase tracking-wider text-sm",children:"Study Material"}),y.jsxs("button",{onClick:()=>n("notes"),className:"text-xs font-bold hover:text-blue-600 flex items-center gap-1 transition-colors",children:["Go to Notes ",y.jsx(ei,{size:12})]})]}),y.jsxs("div",{className:"bg-white/40 rounded-2xl p-4 flex flex-col items-center justify-center text-center space-y-3 min-h-[140px] border border-white/50",children:[y.jsx("div",{className:"bg-white p-3 rounded-full text-green-600 shadow-sm",children:y.jsx(io,{size:28})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-gray-900",children:"Your Notes Library"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px]",children:"Upload and manage your study notes securely in the cloud."})]}),y.jsx("button",{onClick:()=>n("notes"),className:"mt-8 w-full py-2 bg-white text-black text-sm font-bold rounded-xl border-2 border-green-600 hover:bg-green-50 transition-colors shadow-sm hover:shadow-md",children:"Add Notes"})]})]})})]})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-8 text-center sm:text-left",children:"What do you want to Try today?"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[y.jsxs(Ce.div,{whileHover:{y:-5},className:"bg-white text-black rounded-3xl p-8 shadow-xl cursor-pointer flex flex-col justify-between h-[320px] group relative overflow-hidden border-2 border-black",onClick:()=>a("create"),children:[y.jsx("div",{className:"absolute top-0 right-0 p-32 bg-black/5 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-black/10"}),y.jsxs("div",{children:[y.jsx("div",{className:"bg-black w-12 h-12 rounded-2xl flex items-center justify-center mb-6",children:y.jsx(If,{size:24,className:"text-white"})}),y.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Create New"}),y.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Craft your own quiz to challenge yourself and others."})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-black opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:["Start Creating ",y.jsx(ei,{size:16})]})]}),y.jsxs(Ce.div,{whileHover:{y:-5},className:"bg-white border border-gray-100 text-gray-900 rounded-3xl p-8 shadow-xl cursor-pointer flex flex-col justify-between h-[320px] group relative overflow-hidden hover:shadow-2xl transition-all",onClick:()=>a("community"),children:[y.jsx("div",{className:"absolute top-0 right-0 p-32 bg-green-50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-green-100"}),y.jsxs("div",{children:[y.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-2xl flex items-center justify-center mb-6",children:y.jsx(Cl,{size:24,className:"text-green-600"})}),y.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Community"}),y.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Explore quizzes created by other users."})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-green-600 opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:["Browse Library ",y.jsx(ei,{size:16})]})]}),(ce?Fr:Fr.slice(0,3)).map(M=>y.jsx("div",{className:"lg:col-span-2 h-full",children:y.jsx(n0,{topic:M.title,icon:M.icon,description:M.description,color:M.color,onStart:()=>v(M),questionCount:M.questions.length})},M.id))]}),!ce&&Fr.length>3&&y.jsx("div",{className:"mt-12 flex justify-center",children:y.jsxs(Ce.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>he(!0),className:"px-10 py-4 bg-black text-white rounded-2xl font-bold flex items-center gap-3 shadow-xl hover:shadow-2xl transition-all",children:["Explore More Quizzes",y.jsx(ei,{size:20})]})})]})]},"dashboard"),s==="all-curated"&&y.jsxs(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>a("quiz"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:y.jsx(ei,{className:"rotate-180",size:24})}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"All Topics"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Fr.map(M=>y.jsx(n0,{topic:M.title,icon:M.icon,description:M.description,color:M.color,onStart:()=>v(M),questionCount:M.questions.length},M.id))})]},"all-curated")]}):y.jsx(Zk,{onGetStarted:()=>n("login")})}),e==="notes"&&y.jsx(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",className:"w-full",children:y.jsx(Wk,{})},"notes"),e==="chat"&&y.jsx(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",className:"w-full px-4",children:y.jsx(Jk,{onBack:()=>n("home")})},"chat"),e==="config"&&y.jsx(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},className:"flex items-center justify-center min-h-[60vh]",children:y.jsxs("div",{className:"w-full max-w-xl bg-white rounded-3xl p-10 border border-gray-200 shadow-xl text-center",children:[y.jsx("div",{className:"inline-flex justify-center items-center p-4 bg-gray-100 rounded-full mb-6",children:y.jsx(zk,{size:32,className:"text-gray-700"})}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configure Quiz"}),y.jsx("p",{className:"text-gray-500 mb-8",children:"How many questions would you like to attempt?"}),y.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[10,20,30,50,"all"].map(M=>y.jsx("button",{onClick:()=>P(M),className:`py-4 rounded-xl font-bold border-2 transition-all ${O===M?"border-black bg-black text-white shadow-lg":"border-gray-100 bg-white text-gray-600 hover:border-gray-300 transform hover:-translate-y-0.5"}`,children:M==="all"?"All Questions":`${M} Questions`},M))}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:()=>n("home"),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-50 rounded-xl transition-colors",children:"Cancel"}),y.jsxs("button",{onClick:()=>b(D),className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[y.jsx(Vl,{size:20}),"Start Now"]})]})]})},"config"),e==="quiz"&&y.jsx(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:y.jsx(Kk,{questions:q,onFinish:w})},"quiz"),e==="result"&&y.jsx(Ce.div,{variants:Fa,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:y.jsx($k,{score:ee,total:q.length,userAnswers:Q,onRestart:k})},"result")]})}),y.jsx(eR,{notification:f,onClose:()=>m(null),onClick:()=>n("chat")})]})}const FE={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}};function $z({user:t,screen:e,setScreen:n,activeSection:s,setActiveSection:a,notification:l,setNotification:u,handleLogout:f,handleTopicSelect:m,startQuiz:g,finishQuiz:v,restartQuiz:b,currentTopic:w,questionCount:k,setQuestionCount:D,quizQuestions:O,score:P,userAnswers:q}){const[ee,Q]=W.useState(!1),[ce,he]=W.useState(!1),[ue,I]=W.useState(""),S=ue?Fr.filter(R=>R.title.toLowerCase().includes(ue.toLowerCase())||R.description.toLowerCase().includes(ue.toLowerCase())):[],N=R=>{m(R.id),he(!1),I(""),n("home"),a("quiz")},L=["quiz","result","config","login","signup"].includes(e),V=t&&!L,M=({icon:R,label:Ee,isActive:De,onClick:U})=>y.jsxs("button",{onClick:U,className:`flex flex-col items-center justify-center gap-1 w-full h-full transition-colors ${De?"text-black font-bold":"text-gray-400 hover:text-gray-600"}`,children:[y.jsx(R,{size:24,strokeWidth:De?2.5:2}),y.jsx("span",{className:"text-[10px]",children:Ee})]});return y.jsxs("div",{className:"h-screen overflow-hidden bg-gray-50 text-gray-800 font-sans flex flex-col",children:[!L&&e!=="chat"&&t&&y.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 shadow-sm px-4 py-5 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",onClick:()=>{n("home"),a("quiz")},children:[y.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg",children:y.jsx(Uu,{size:18})}),y.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Let's Try"})]}),y.jsxs("div",{className:"flex items-center gap-2 relative",children:[y.jsx("button",{onClick:()=>he(!0),className:"w-10 h-10 bg-gray-50 border border-gray-100 rounded-full flex items-center justify-center font-bold text-sm text-gray-700 active:scale-95 transition-transform",children:y.jsx(Ll,{size:18})}),y.jsx("button",{onClick:()=>Q(!ee),className:"w-10 h-10 bg-gray-50 border border-gray-100 rounded-full flex items-center justify-center font-bold text-sm text-gray-700 active:scale-95 transition-transform",children:t.name.charAt(0)}),y.jsx(zn,{children:ee&&y.jsxs(y.Fragment,{children:[y.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Q(!1),className:"fixed inset-0 z-40 bg-black/5"}),y.jsxs(Ce.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-2xl shadow-2xl border border-gray-100 py-2 z-50",children:[y.jsxs("button",{onClick:()=>{Q(!1),n("home"),a("profile")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors",children:[y.jsx("div",{className:"p-1.5 bg-green-50 text-green-600 rounded-lg",children:y.jsx(G9,{size:16})}),"History"]}),y.jsx("div",{className:"h-px bg-gray-50 mx-2 my-1"}),y.jsxs("button",{onClick:()=>{Q(!1),f()},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:[y.jsx("div",{className:"p-1.5 bg-red-50 text-red-500 rounded-lg",children:y.jsx(t0,{size:16})}),"Log out"]})]})]})})]})]}),y.jsx(zn,{children:ce&&y.jsxs(Ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-white flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3",children:[y.jsx("button",{onClick:()=>he(!1),className:"p-2 -ml-2 text-gray-500 rounded-full hover:bg-gray-100",children:y.jsx(ei,{size:20,className:"rotate-180"})}),y.jsxs("div",{className:"flex-1 bg-gray-100 rounded-xl flex items-center px-4 py-3 gap-2",children:[y.jsx(Ll,{size:18,className:"text-gray-400"}),y.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent text-sm w-full outline-none placeholder:text-gray-400",autoFocus:!0,value:ue,onChange:R=>I(R.target.value)})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ue?y.jsx(y.Fragment,{children:S.length>0?y.jsxs("div",{className:"space-y-3",children:[y.jsx("h3",{className:"px-2 text-xs font-bold text-gray-400 uppercase",children:"Quizzes"}),S.map(R=>y.jsxs("button",{onClick:()=>N(R),className:"w-full flex items-center gap-4 p-3 bg-gray-50 rounded-2xl active:scale-95 transition-transform text-left",children:[y.jsx("div",{className:`p-3 rounded-xl ${R.color?R.color.replace("text-","bg-").replace("600","100"):"bg-gray-100"} ${R.color||"text-gray-600"}`,children:R.icon?y.jsx(R.icon,{size:20}):y.jsx(Cl,{size:20})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-gray-900",children:R.title}),y.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:R.description})]})]},R.id))]}):y.jsx("div",{className:"p-12 text-center text-gray-400",children:"No results found."})}):y.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm",children:[y.jsx("p",{className:"mb-2",children:"Start typing to search..."}),y.jsx("p",{className:"text-xs text-gray-300",children:"Quizzes, Notes, People"})]})})]})}),y.jsx("main",{className:`flex-1 relative w-full touch-pan-y ${e==="chat"?"overflow-hidden pb-[60px]":"overflow-y-auto overflow-x-hidden pb-24"}`,children:y.jsxs(zn,{mode:"wait",children:[e==="login"&&y.jsx(Qk,{onSwitchToSignup:()=>n("signup"),onLoginSuccess:()=>n("home")},"login"),e==="signup"&&y.jsx(Yk,{onSwitchToLogin:()=>n("login"),onSignupSuccess:()=>n("home")},"signup"),!t&&e==="home"&&y.jsx(Zk,{onGetStarted:()=>n("login")},"landing"),t&&y.jsxs(y.Fragment,{children:[e==="home"&&y.jsxs(Ce.div,{className:"p-4 space-y-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[s==="quiz"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white border-2 border-black rounded-3xl p-6 shadow-xl shadow-gray-200",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:["Hello, ",t.name,"!"]}),y.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Ready to challenge yourself today?"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>a("create"),className:"flex-1 bg-white text-green-700 border-2 border-green-600 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 active:scale-95 transition-transform hover:bg-green-50",children:[y.jsx(If,{size:16})," Create"]}),y.jsxs("button",{onClick:()=>a("community"),className:"flex-1 bg-white text-black py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 border-2 border-black active:scale-95 transition-transform hover:bg-gray-50",children:[y.jsx(Cl,{size:16})," Explore"]})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"font-bold text-lg",children:"Top Picks for You"}),y.jsxs("button",{onClick:()=>a("all-curated"),className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["See All ",y.jsx(ei,{size:12})]})]}),y.jsx("div",{className:"flex gap-4 overflow-x-auto pb-8 snap-x hide-scrollbar -mx-4 px-4 pt-2",children:Fr.slice(0,4).map(R=>y.jsxs(Ce.div,{className:"min-w-[88vw] h-[220px] snap-center relative rounded-[2rem] overflow-hidden bg-white border border-gray-100 shadow-xl cursor-pointer group flex flex-col justify-between p-6",whileTap:{scale:.95},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:Ee=>{Ee.target.tagName!=="BUTTON"&&m(R)},children:[y.jsxs("div",{children:[y.jsx("div",{className:"mb-2 text-green-600",children:R.icon&&y.jsx(R.icon,{size:28,strokeWidth:2})}),y.jsx("h3",{className:"text-2xl font-bold text-gray-900 leading-tight line-clamp-2",children:R.title}),y.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:R.description})]}),y.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),m(R)},className:"w-full py-4 bg-black text-white rounded-xl font-bold text-xs flex items-center justify-center gap-1.5 hover:bg-gray-800 transition-all shadow-md active:scale-95",children:[y.jsx("span",{children:"Start"}),y.jsx(Vl,{size:10,fill:"currentColor"})]})]},R.id))})]}),y.jsxs("div",{onClick:()=>n("notes"),className:"bg-green-50 rounded-3xl p-5 border border-green-100 flex items-center gap-4",children:[y.jsx("div",{className:"bg-green-100 p-3 rounded-full text-green-700",children:y.jsx(io,{size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-gray-800",children:"Your Notes"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Review your study material"})]}),y.jsx(ei,{size:16,className:"text-gray-400"})]})]}),s==="create"&&y.jsx(Fk,{onBack:()=>a("quiz")}),s==="community"&&y.jsx(Hk,{onBack:()=>a("quiz"),onPlay:R=>g(R)}),s==="profile"&&y.jsx(Xk,{onBack:()=>a("quiz")}),s==="all-curated"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>a("quiz"),className:"bg-white p-2 rounded-full shadow-sm border border-gray-100",children:y.jsx(ei,{size:20,className:"rotate-180"})}),y.jsx("h2",{className:"text-xl font-bold",children:"All Topics"})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:Fr.map(R=>y.jsx(n0,{topic:R.title,icon:R.icon,description:R.description,color:R.color,onStart:()=>m(R),questionCount:R.questions.length},R.id))})]})]},"home-content"),e==="chat"&&y.jsx(Ce.div,{variants:FE,initial:"initial",animate:"animate",exit:"exit",className:"h-full px-1",children:y.jsx(Jk,{onBack:()=>n("home")})},"chat"),e==="notes"&&y.jsx(Ce.div,{variants:FE,initial:"initial",animate:"animate",exit:"exit",className:"p-4",children:y.jsx(Wk,{})},"notes"),e==="config"&&y.jsx(Ce.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},className:"p-6 h-full flex flex-col justify-center",children:y.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-2xl border border-gray-100 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(zk,{size:32,className:"text-gray-700"})}),y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Configure Quiz"}),y.jsx("p",{className:"text-gray-500 mb-8 text-sm",children:"How many questions?"}),y.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[10,20,30,50,"all"].map(R=>y.jsx("button",{onClick:()=>D(R),className:`py-3 rounded-xl font-bold border-2 transition-all text-sm ${k===R?"border-black bg-black text-white":"border-gray-100 bg-white text-gray-600"}`,children:R==="all"?"All":R},R))}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>n("home"),className:"flex-1 py-3 font-bold text-gray-500 bg-gray-50 rounded-xl",children:"Cancel"}),y.jsxs("button",{onClick:()=>g(w),className:"flex-1 py-3 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[y.jsx(Vl,{size:18}),"Start"]})]})]})},"config"),e==="quiz"&&y.jsx(Ce.div,{className:"h-full bg-white",children:y.jsx(Kk,{questions:O,onFinish:v})},"quiz"),e==="result"&&y.jsx(Ce.div,{className:"h-full bg-white",children:y.jsx($k,{score:P,total:O.length,userAnswers:q,onRestart:b})},"result")]})]})}),V&&y.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-50 bg-white border-t border-gray-100 pb-2 pt-2 shadow-[0_-5px_20px_rgba(0,0,0,0.03)] h-[60px]",children:y.jsxs("div",{className:"grid grid-cols-4 h-[50px] items-center",children:[y.jsx(M,{icon:$9,label:"Home",isActive:e==="home"&&s!=="profile",onClick:()=>{n("home"),a("quiz")}}),y.jsx(M,{icon:io,label:"Notes",isActive:e==="notes",onClick:()=>n("notes")}),y.jsx(M,{icon:no,label:"Chat",isActive:e==="chat",onClick:()=>n("chat")}),y.jsx(M,{icon:yo,label:"Profile",isActive:s==="profile"&&e==="home",onClick:()=>{n("home"),a("profile")}})]})}),y.jsx(eR,{notification:l,onClose:()=>u(null),onClick:()=>n("chat")})]})}const Qz=t=>{const[e,n]=W.useState(!1);return W.useEffect(()=>{const s=window.matchMedia(t);s.matches!==e&&n(s.matches);const a=()=>n(s.matches);return s.addEventListener("change",a),()=>s.removeEventListener("change",a)},[e,t]),e};function Yz(){const{user:t,logout:e,loading:n}=ir(),[s,a]=W.useState(null),[l,u]=W.useState(!1),f=Qz("(max-width: 768px)"),[m,g]=W.useState(()=>new URLSearchParams(window.location.search).get("screen")||"home"),[v,b]=W.useState(()=>new URLSearchParams(window.location.search).get("section")||"quiz"),[w,k]=W.useState(null),[D,O]=W.useState(0),[P,q]=W.useState([]),[ee,Q]=W.useState([]),[ce,he]=W.useState(10);W.useEffect(()=>{const M=new URLSearchParams(window.location.search),R=M.get("screen"),Ee=M.get("section");if(R!==m||Ee!==v){const De=new URL(window.location);De.searchParams.set("screen",m),m==="home"?De.searchParams.set("section",v):De.searchParams.delete("section"),window.history.pushState({},"",De)}},[m,v]),W.useEffect(()=>{const M=()=>{const R=new URLSearchParams(window.location.search),Ee=R.get("screen"),De=R.get("section");Ee&&g(Ee),De&&b(De)};return window.addEventListener("popstate",M),()=>window.removeEventListener("popstate",M)},[]),W.useEffect(()=>{n||(t?(m==="login"||m==="signup")&&g("home"):m!=="login"&&m!=="signup"&&m!=="home"&&g("login"))},[t,n,m]);const ue=M=>{k(M),g("config")},I=M=>{try{if(console.log("Starting Quiz with Data:",M),!M||!M.questions||M.questions.length===0){alert("Error: No questions found in this quiz data."),console.error("Quiz Data missing questions:",M);return}b("quiz");const Ee=[...M.questions].sort(()=>.5-Math.random());let De=10;ce==="all"?De=Ee.length:De=Math.min(Number(ce)||10,Ee.length);const U=Ee.slice(0,De);if(U.length===0){alert("Error: Selection resulted in 0 questions.");return}q(U),Q([]),g("quiz"),O(0)}catch(R){console.error("Failed to start quiz:",R),alert("An error occurred while starting the quiz. Check console for details.")}},S=M=>{O(M),g("result")},N=()=>{g("home"),b("quiz"),k(null),O(0),q([])},L=()=>{e(),g("login")};if(n)return y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const V={user:t,screen:m,setScreen:g,activeSection:v,setActiveSection:b,mobileMenuOpen:l,setMobileMenuOpen:u,notification:s,setNotification:a,handleLogout:L,handleTopicSelect:ue,startQuiz:I,finishQuiz:S,restartQuiz:N,currentTopic:w,questionCount:ce,setQuestionCount:he,quizQuestions:P,score:D,userAnswers:ee};return f?y.jsx($z,{...V}):y.jsx(Kz,{...V})}zI.createRoot(document.getElementById("root")).render(y.jsx(W.StrictMode,{children:y.jsx(j5,{children:y.jsx(Yz,{})})}));
