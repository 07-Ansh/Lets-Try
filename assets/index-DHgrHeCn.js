(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function zN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yg={exports:{}},eu={};var T1;function qN(){if(T1)return eu;T1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return eu.Fragment=e,eu.jsx=n,eu.jsxs=n,eu}var E1;function FN(){return E1||(E1=1,yg.exports=qN()),yg.exports}var d=FN(),xg={exports:{}},Le={};var A1;function HN(){if(A1)return Le;A1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=T&&E[T]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function q(E,B,J){this.props=E,this.context=B,this.refs=M,this.updater=J||D}q.prototype.isReactComponent={},q.prototype.setState=function(E,B){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,B,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function H(E,B,J){this.props=E,this.context=B,this.refs=M,this.updater=J||D}var ne=H.prototype=new Y;ne.constructor=H,L(ne,q.prototype),ne.isPureReactComponent=!0;var ce=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(E,B,J){var ie=J.ref;return{$$typeof:t,type:E,key:B,ref:ie!==void 0?ie:null,props:J}}function j(E,B){return I(E.type,B,E.props)}function O(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function U(E){var B={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(J){return B[J]})}var N=/\/+/g;function fe(E,B){return typeof E=="object"&&E!==null&&E.key!=null?U(""+E.key):B.toString(36)}function De(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ue,ue):(E.status="pending",E.then(function(B){E.status==="pending"&&(E.status="fulfilled",E.value=B)},function(B){E.status==="pending"&&(E.status="rejected",E.reason=B)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function te(E,B,J,ie,me){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(de){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case t:case e:pe=!0;break;case x:return pe=E._init,te(pe(E._payload),B,J,ie,me)}}if(pe)return me=me(E),pe=ie===""?"."+fe(E,0):ie,ce(me)?(J="",pe!=null&&(J=pe.replace(N,"$&/")+"/"),te(me,B,J,"",function(tt){return tt})):me!=null&&(O(me)&&(me=j(me,J+(me.key==null||E&&E.key===me.key?"":(""+me.key).replace(N,"$&/")+"/")+pe)),B.push(me)),1;pe=0;var Ee=ie===""?".":ie+":";if(ce(E))for(var ke=0;ke<E.length;ke++)ie=E[ke],de=Ee+fe(ie,ke),pe+=te(ie,B,J,de,me);else if(ke=C(E),typeof ke=="function")for(E=ke.call(E),ke=0;!(ie=E.next()).done;)ie=ie.value,de=Ee+fe(ie,ke++),pe+=te(ie,B,J,de,me);else if(de==="object"){if(typeof E.then=="function")return te(De(E),B,J,ie,me);throw B=String(E),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return pe}function he(E,B,J){if(E==null)return E;var ie=[],me=0;return te(E,ie,"","",function(de){return B.call(J,de,me++)}),ie}function xe(E){if(E._status===-1){var B=E._result;B=B(),B.then(function(J){(E._status===0||E._status===-1)&&(E._status=1,E._result=J)},function(J){(E._status===0||E._status===-1)&&(E._status=2,E._result=J)}),E._status===-1&&(E._status=0,E._result=B)}if(E._status===1)return E._result.default;throw E._result}var Pe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},P={map:he,forEach:function(E,B,J){he(E,function(){B.apply(this,arguments)},J)},count:function(E){var B=0;return he(E,function(){B++}),B},toArray:function(E){return he(E,function(B){return B})||[]},only:function(E){if(!O(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Le.Activity=_,Le.Children=P,Le.Component=q,Le.Fragment=n,Le.Profiler=a,Le.PureComponent=H,Le.StrictMode=i,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Le.__COMPILER_RUNTIME={__proto__:null,c:function(E){return R.H.useMemoCache(E)}},Le.cache=function(E){return function(){return E.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(E,B,J){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ie=L({},E.props),me=E.key;if(B!=null)for(de in B.key!==void 0&&(me=""+B.key),B)!S.call(B,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&B.ref===void 0||(ie[de]=B[de]);var de=arguments.length-2;if(de===1)ie.children=J;else if(1<de){for(var pe=Array(de),Ee=0;Ee<de;Ee++)pe[Ee]=arguments[Ee+2];ie.children=pe}return I(E.type,me,ie)},Le.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},Le.createElement=function(E,B,J){var ie,me={},de=null;if(B!=null)for(ie in B.key!==void 0&&(de=""+B.key),B)S.call(B,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=B[ie]);var pe=arguments.length-2;if(pe===1)me.children=J;else if(1<pe){for(var Ee=Array(pe),ke=0;ke<pe;ke++)Ee[ke]=arguments[ke+2];me.children=Ee}if(E&&E.defaultProps)for(ie in pe=E.defaultProps,pe)me[ie]===void 0&&(me[ie]=pe[ie]);return I(E,de,me)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(E){return{$$typeof:f,render:E}},Le.isValidElement=O,Le.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:xe}},Le.memo=function(E,B){return{$$typeof:g,type:E,compare:B===void 0?null:B}},Le.startTransition=function(E){var B=R.T,J={};R.T=J;try{var ie=E(),me=R.S;me!==null&&me(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ue,Pe)}catch(de){Pe(de)}finally{B!==null&&J.types!==null&&(B.types=J.types),R.T=B}},Le.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Le.use=function(E){return R.H.use(E)},Le.useActionState=function(E,B,J){return R.H.useActionState(E,B,J)},Le.useCallback=function(E,B){return R.H.useCallback(E,B)},Le.useContext=function(E){return R.H.useContext(E)},Le.useDebugValue=function(){},Le.useDeferredValue=function(E,B){return R.H.useDeferredValue(E,B)},Le.useEffect=function(E,B){return R.H.useEffect(E,B)},Le.useEffectEvent=function(E){return R.H.useEffectEvent(E)},Le.useId=function(){return R.H.useId()},Le.useImperativeHandle=function(E,B,J){return R.H.useImperativeHandle(E,B,J)},Le.useInsertionEffect=function(E,B){return R.H.useInsertionEffect(E,B)},Le.useLayoutEffect=function(E,B){return R.H.useLayoutEffect(E,B)},Le.useMemo=function(E,B){return R.H.useMemo(E,B)},Le.useOptimistic=function(E,B){return R.H.useOptimistic(E,B)},Le.useReducer=function(E,B,J){return R.H.useReducer(E,B,J)},Le.useRef=function(E){return R.H.useRef(E)},Le.useState=function(E){return R.H.useState(E)},Le.useSyncExternalStore=function(E,B,J){return R.H.useSyncExternalStore(E,B,J)},Le.useTransition=function(){return R.H.useTransition()},Le.version="19.2.3",Le}var S1;function h0(){return S1||(S1=1,xg.exports=HN()),xg.exports}var G=h0();const rf=zN(G);var vg={exports:{}},tu={},bg={exports:{}},_g={};var C1;function GN(){return C1||(C1=1,(function(t){function e(te,he){var xe=te.length;te.push(he);e:for(;0<xe;){var Pe=xe-1>>>1,P=te[Pe];if(0<a(P,he))te[Pe]=he,te[xe]=P,xe=Pe;else break e}}function n(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var he=te[0],xe=te.pop();if(xe!==he){te[0]=xe;e:for(var Pe=0,P=te.length,E=P>>>1;Pe<E;){var B=2*(Pe+1)-1,J=te[B],ie=B+1,me=te[ie];if(0>a(J,xe))ie<P&&0>a(me,J)?(te[Pe]=me,te[ie]=xe,Pe=ie):(te[Pe]=J,te[B]=xe,Pe=B);else if(ie<P&&0>a(me,xe))te[Pe]=me,te[ie]=xe,Pe=ie;else break e}}return he}function a(te,he){var xe=te.sortIndex-he.sortIndex;return xe!==0?xe:te.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],g=[],x=1,_=null,T=3,C=!1,D=!1,L=!1,M=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ne(te){for(var he=n(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=te)i(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(g)}}function ce(te){if(L=!1,ne(te),!D)if(n(p)!==null)D=!0,ue||(ue=!0,U());else{var he=n(g);he!==null&&De(ce,he.startTime-te)}}var ue=!1,R=-1,S=5,I=-1;function j(){return M?!0:!(t.unstable_now()-I<S)}function O(){if(M=!1,ue){var te=t.unstable_now();I=te;var he=!0;try{e:{D=!1,L&&(L=!1,Y(R),R=-1),C=!0;var xe=T;try{t:{for(ne(te),_=n(p);_!==null&&!(_.expirationTime>te&&j());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,T=_.priorityLevel;var P=Pe(_.expirationTime<=te);if(te=t.unstable_now(),typeof P=="function"){_.callback=P,ne(te),he=!0;break t}_===n(p)&&i(p),ne(te)}else i(p);_=n(p)}if(_!==null)he=!0;else{var E=n(g);E!==null&&De(ce,E.startTime-te),he=!1}}break e}finally{_=null,T=xe,C=!1}he=void 0}}finally{he?U():ue=!1}}}var U;if(typeof H=="function")U=function(){H(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,fe=N.port2;N.port1.onmessage=O,U=function(){fe.postMessage(null)}}else U=function(){q(O,0)};function De(te,he){R=q(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(te){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var xe=T;T=he;try{return te()}finally{T=xe}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var xe=T;T=te;try{return he()}finally{T=xe}},t.unstable_scheduleCallback=function(te,he,xe){var Pe=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Pe+xe:Pe):xe=Pe,te){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=xe+P,te={id:x++,callback:he,priorityLevel:te,startTime:xe,expirationTime:P,sortIndex:-1},xe>Pe?(te.sortIndex=xe,e(g,te),n(p)===null&&te===n(g)&&(L?(Y(R),R=-1):L=!0,De(ce,xe-Pe))):(te.sortIndex=P,e(p,te),D||C||(D=!0,ue||(ue=!0,U()))),te},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(te){var he=T;return function(){var xe=T;T=he;try{return te.apply(this,arguments)}finally{T=xe}}}})(_g)),_g}var k1;function $N(){return k1||(k1=1,bg.exports=GN()),bg.exports}var wg={exports:{}},Tn={};var R1;function KN(){if(R1)return Tn;R1=1;var t=h0();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:g,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,x)},Tn.flushSync=function(p){var g=u.T,x=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=g,i.p=x,i.d.f()}},Tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Tn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,_=f(x,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:C}):x==="script"&&i.d.X(p,{crossOrigin:_,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,_=f(x,g.crossOrigin);i.d.L(p,x,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Tn.requestFormReset=function(p){i.d.r(p)},Tn.unstable_batchedUpdates=function(p,g){return p(g)},Tn.useFormState=function(p,g,x){return u.H.useFormState(p,g,x)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var N1;function QN(){if(N1)return wg.exports;N1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wg.exports=KN(),wg.exports}var I1;function YN(){if(I1)return tu;I1=1;var t=$N(),e=h0(),n=QN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(l(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return p(m),s;if(y===c)return p(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=y;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=y;break}if(A===c){b=!0,c=m,o=y;break}A=A.sibling}if(!b){for(A=y.child;A;){if(A===o){b=!0,o=y,c=m;break}if(A===c){b=!0,c=y,o=m;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case q:return"Profiler";case M:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case H:return s.displayName||"Context";case Y:return(s._context.displayName||"Context")+".Consumer";case ne:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return r=s.displayName||null,r!==null?r:fe(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return fe(s(r))}catch{}}return null}var De=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Pe=[],P=-1;function E(s){return{current:s}}function B(s){0>P||(s.current=Pe[P],Pe[P]=null,P--)}function J(s,r){P++,Pe[P]=s.current,s.current=r}var ie=E(null),me=E(null),de=E(null),pe=E(null);function Ee(s,r){switch(J(de,r),J(me,s),J(ie,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?$_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=$_(r),s=K_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}B(ie),J(ie,s)}function ke(){B(ie),B(me),B(de)}function tt(s){s.memoizedState!==null&&J(pe,s);var r=ie.current,o=K_(r,s.type);r!==o&&(J(me,s),J(ie,o))}function Ze(s){me.current===s&&(B(ie),B(me)),pe.current===s&&(B(pe),Wc._currentValue=xe)}var it,yt;function Me(s){if(it===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);it=r&&r[1]||"",yt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+s+yt}var kt=!1;function Ot(s,r){if(!s||kt)return"";kt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var X=ee}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(ee){X=ee}s.call(oe.prototype)}}else{try{throw Error()}catch(ee){X=ee}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],A=y[1];if(b&&A){var V=b.split(`
`),Q=A.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===Q.length)for(c=V.length-1,m=Q.length-1;1<=c&&0<=m&&V[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==Q[m]){var se=`
`+V[c].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=c&&0<=m);break}}}finally{kt=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Me(o):""}function en(s,r){switch(s.tag){case 26:case 27:case 5:return Me(s.type);case 16:return Me("Lazy");case 13:return s.child!==r&&r!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Ot(s.type,!1);case 11:return Ot(s.type.render,!1);case 1:return Ot(s.type,!0);case 31:return Me("Activity");default:return""}}function dn(s){try{var r="",o=null;do r+=en(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var W=Object.prototype.hasOwnProperty,ye=t.unstable_scheduleCallback,Oe=t.unstable_cancelCallback,We=t.unstable_shouldYield,Je=t.unstable_requestPaint,vt=t.unstable_now,an=t.unstable_getCurrentPriorityLevel,ls=t.unstable_ImmediatePriority,xa=t.unstable_UserBlockingPriority,Qs=t.unstable_NormalPriority,Eo=t.unstable_LowPriority,va=t.unstable_IdlePriority,ur=t.log,Ao=t.unstable_setDisableYieldValue,Qn=null,fn=null;function cs(s){if(typeof ur=="function"&&Ao(s),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Qn,s)}catch{}}var Vt=Math.clz32?Math.clz32:oh,ah=Math.log,So=Math.LN2;function oh(s){return s>>>=0,s===0?32:31-(ah(s)/So|0)|0}var Ys=256,ba=262144,qt=4194304;function Ws(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xs(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?m=Ws(c):(b&=A,b!==0?m=Ws(b):o||(o=A&~s,o!==0&&(m=Ws(o))))):(A=c&~y,A!==0?m=Ws(A):b!==0?m=Ws(b):o||(o=c&~s,o!==0&&(m=Ws(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function Ns(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function _m(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(){var s=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),s}function Zs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function _a(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function wm(s,r,o,c,m,y){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,V=s.expirationTimes,Q=s.hiddenUpdates;for(o=b&~o;0<o;){var se=31-Vt(o),oe=1<<se;A[se]=0,V[se]=-1;var X=Q[se];if(X!==null)for(Q[se]=null,se=0;se<X.length;se++){var ee=X[se];ee!==null&&(ee.lane&=-536870913)}o&=~oe}c!==0&&wa(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(b&~r))}function wa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Vt(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function tc(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-Vt(o),m=1<<c;m&r|s[c]&r&&(s[c]|=r),o&=~m}}function nc(s,r){var o=r&-r;return o=(o&42)!==0?1:Ta(o),(o&(s.suspendedLanes|r))!==0?0:o}function Ta(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ri(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ch(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:g1(s.type))}function Is(s,r){var o=he.p;try{return he.p=s,r()}finally{he.p=o}}var Ds=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ds,on="__reactProps$"+Ds,Js="__reactContainer$"+Ds,Co="__reactEvents$"+Ds,Tm="__reactListeners$"+Ds,uh="__reactHandles$"+Ds,hh="__reactResources$"+Ds,ei="__reactMarker$"+Ds;function ko(s){delete s[Ft],delete s[on],delete s[Co],delete s[Tm],delete s[uh]}function ti(s){var r=s[Ft];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Js]||o[Ft]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=e1(s);s!==null;){if(o=s[Ft])return o;s=e1(s)}return r}s=o,o=s.parentNode}return null}function us(s){if(s=s[Ft]||s[Js]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Yn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function ni(s){var r=s[hh];return r||(r=s[hh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ht(s){s[ei]=!0}var sc=new Set,ic={};function si(s,r){ii(s,r),ii(s+"Capture",r)}function ii(s,r){for(ic[s]=r,s=0;s<r.length;s++)sc.add(r[s])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},oc={};function dh(s){return W.call(oc,s)?!0:W.call(ac,s)?!1:rc.test(s)?oc[s]=!0:(ac[s]=!0,!1)}function Ro(s,r,o){if(dh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Wn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Gt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lc(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,y.call(this,b)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function lt(s){if(!s._valueTracker){var r=hr(s)?"checked":"value";s._valueTracker=lc(s,r,""+s[r])}}function Ea(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=hr(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function ri(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Aa=/[\n"\\]/g;function jn(s){return s.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function No(s,r,o,c,m,y,b,A){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+ln(r)):s.value!==""+ln(r)&&(s.value=""+ln(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?cc(s,b,ln(r)):o!=null?cc(s,b,ln(o)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+ln(A):s.removeAttribute("name")}function fh(s,r,o,c,m,y,b,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){lt(s);return}o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=A?s.checked:!!c,s.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),lt(s)}function cc(s,r,o){r==="number"&&ri(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function dr(s,r,o,c){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function mh(s,r,o){if(r!=null&&(r=""+ln(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+ln(o):""}function fr(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(De(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=ln(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),lt(s)}function Pn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var ph=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||ph.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function hc(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&uc(s,m,c)}else for(var y in r)r.hasOwnProperty(y)&&uc(s,y,r[y])}function Io(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(s){return mr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ms(){}var dc=null;function hs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pr=null,ai=null;function Sa(s){var r=us(s);if(r&&(s=r.stateNode)){var o=s[on]||null;e:switch(s=r.stateNode,r.type){case"input":if(No(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var m=c[on]||null;if(!m)throw Error(i(90));No(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&Ea(c)}break e;case"textarea":mh(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&dr(s,!!o.multiple,r,!1)}}}var Mo=!1;function gr(s,r,o){if(Mo)return s(r,o);Mo=!0;try{var c=s(r);return c}finally{if(Mo=!1,(pr!==null||ai!==null)&&(cd(),pr&&(r=pr,s=ai,ai=pr=null,Sa(r),s)))for(r=0;r<s.length;r++)Sa(s[r])}}function js(s,r){var o=s.stateNode;if(o===null)return null;var c=o[on]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(ds)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Ca=!1}var oi=null,fc=null,ka=null;function mc(){if(ka)return ka;var s,r=fc,o=r.length,c,m="value"in oi?oi.value:oi.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var b=o-s;for(c=1;c<=b&&r[o-c]===m[y-c];c++);return ka=m.slice(s,1<c?1-c:void 0)}function Ra(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ni(){return!0}function Ps(){return!1}function mn(s){function r(o,c,m,y,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ni:Ps,this.isPropagationStopped=Ps,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),r}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=mn(Ii),yr=_({},Ii,{view:0,detail:0}),pc=mn(yr),xr,jo,ci,Po=_({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ci&&(ci&&s.type==="mousemove"?(xr=s.screenX-ci.screenX,jo=s.screenY-ci.screenY):jo=xr=0,ci=s),xr)},movementY:function(s){return"movementY"in s?s.movementY:jo}}),gc=mn(Po),Na=_({},Po,{dataTransfer:0}),yh=mn(Na),xh=_({},yr,{relatedTarget:0}),Ia=mn(xh),yc=_({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=mn(yc),Oo=_({},Ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),bh=mn(Oo),_h=_({},Ii,{data:0}),ui=mn(_h),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ah(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Eh[s])?!!r[s]:!1}function vr(){return Ah}var Rn=_({},yr,{key:function(s){if(s.key){var r=wh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Th[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(s){return s.type==="keypress"?Ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sh=mn(Rn),Ch=_({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=mn(Ch),h=_({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),v=mn(h),w=_({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=mn(w),$=_({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=mn($),ge=_({},Ii,{newState:0,oldState:0}),Be=mn(ge),Lt=[9,13,27,32],rt=ds&&"CompositionEvent"in window,At=null;ds&&"documentMode"in document&&(At=document.documentMode);var fs=ds&&"TextEvent"in window&&!At,hi=ds&&(!rt||At&&8<At&&11>=At),Os=" ",Vs=!1;function Da(s,r){switch(s){case"keyup":return Lt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function hR(s,r){switch(s){case"compositionend":return Vo(r);case"keypress":return r.which!==32?null:(Vs=!0,Os);case"textInput":return s=r.data,s===Os&&Vs?null:s;default:return null}}function dR(s,r){if(Lo)return s==="compositionend"||!rt&&Da(s,r)?(s=mc(),ka=fc=oi=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hi&&r.locale!=="ko"?null:r.data;default:return null}}var fR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!fR[s.type]:r==="textarea"}function iv(s,r,o,c){pr?ai?ai.push(c):ai=[c]:pr=c,r=gd(r,"onChange"),0<r.length&&(o=new li("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var xc=null,vc=null;function mR(s){B_(s,0)}function kh(s){var r=Yn(s);if(Ea(r))return s}function rv(s,r){if(s==="change")return r}var av=!1;if(ds){var Em;if(ds){var Am="oninput"in document;if(!Am){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Am=typeof ov.oninput=="function"}Em=Am}else Em=!1;av=Em&&(!document.documentMode||9<document.documentMode)}function lv(){xc&&(xc.detachEvent("onpropertychange",cv),vc=xc=null)}function cv(s){if(s.propertyName==="value"&&kh(vc)){var r=[];iv(r,vc,s,hs(s)),gr(mR,r)}}function pR(s,r,o){s==="focusin"?(lv(),xc=r,vc=o,xc.attachEvent("onpropertychange",cv)):s==="focusout"&&lv()}function gR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kh(vc)}function yR(s,r){if(s==="click")return kh(r)}function xR(s,r){if(s==="input"||s==="change")return kh(r)}function vR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Xn=typeof Object.is=="function"?Object.is:vR;function bc(s,r){if(Xn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!W.call(r,m)||!Xn(s[m],r[m]))return!1}return!0}function uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hv(s,r){var o=uv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function dv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?dv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function fv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ri(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=ri(s.document)}return r}function Sm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var bR=ds&&"documentMode"in document&&11>=document.documentMode,Uo=null,Cm=null,_c=null,km=!1;function mv(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;km||Uo==null||Uo!==ri(c)||(c=Uo,"selectionStart"in c&&Sm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_c&&bc(_c,c)||(_c=c,c=gd(Cm,"onSelect"),0<c.length&&(r=new li("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=Uo)))}function Ma(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Bo={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Rm={},pv={};ds&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function ja(s){if(Rm[s])return Rm[s];if(!Bo[s])return s;var r=Bo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in pv)return Rm[s]=r[o];return s}var gv=ja("animationend"),yv=ja("animationiteration"),xv=ja("animationstart"),_R=ja("transitionrun"),wR=ja("transitionstart"),TR=ja("transitioncancel"),vv=ja("transitionend"),bv=new Map,Nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nm.push("scrollEnd");function Ls(s,r){bv.set(s,r),si(r,[s])}var Rh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ms=[],zo=0,Im=0;function Nh(){for(var s=zo,r=Im=zo=0;r<s;){var o=ms[r];ms[r++]=null;var c=ms[r];ms[r++]=null;var m=ms[r];ms[r++]=null;var y=ms[r];if(ms[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}y!==0&&_v(o,m,y)}}function Ih(s,r,o,c){ms[zo++]=s,ms[zo++]=r,ms[zo++]=o,ms[zo++]=c,Im|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Dm(s,r,o,c){return Ih(s,r,o,c),Dh(s)}function Pa(s,r){return Ih(s,null,null,r),Dh(s)}function _v(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-Vt(o),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=o|536870912),y):null}function Dh(s){if(50<Fc)throw Fc=0,zp=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var qo={};function ER(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,r,o,c){return new ER(s,r,o,c)}function Mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Mi(s,r){var o=s.alternate;return o===null?(o=Zn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function wv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Mh(s,r,o,c,m,y){var b=0;if(c=s,typeof s=="function")Mm(s)&&(b=1);else if(typeof s=="string")b=RN(s,o,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=Zn(31,o,r,m),s.elementType=I,s.lanes=y,s;case L:return Oa(o.children,m,y,r);case M:b=8,m|=24;break;case q:return s=Zn(12,o,r,m|2),s.elementType=q,s.lanes=y,s;case ce:return s=Zn(13,o,r,m),s.elementType=ce,s.lanes=y,s;case ue:return s=Zn(19,o,r,m),s.elementType=ue,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:b=10;break e;case Y:b=9;break e;case ne:b=11;break e;case R:b=14;break e;case S:b=16,c=null;break e}b=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Zn(b,o,r,m),r.elementType=s,r.type=c,r.lanes=y,r}function Oa(s,r,o,c){return s=Zn(7,s,c,r),s.lanes=o,s}function jm(s,r,o){return s=Zn(6,s,null,r),s.lanes=o,s}function Tv(s){var r=Zn(18,null,null,0);return r.stateNode=s,r}function Pm(s,r,o){return r=Zn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ev=new WeakMap;function ps(s,r){if(typeof s=="object"&&s!==null){var o=Ev.get(s);return o!==void 0?o:(r={value:s,source:r,stack:dn(r)},Ev.set(s,r),r)}return{value:s,source:r,stack:dn(r)}}var Fo=[],Ho=0,jh=null,wc=0,gs=[],ys=0,br=null,di=1,fi="";function ji(s,r){Fo[Ho++]=wc,Fo[Ho++]=jh,jh=s,wc=r}function Av(s,r,o){gs[ys++]=di,gs[ys++]=fi,gs[ys++]=br,br=s;var c=di;s=fi;var m=32-Vt(c)-1;c&=~(1<<m),o+=1;var y=32-Vt(r)+m;if(30<y){var b=m-m%5;y=(c&(1<<b)-1).toString(32),c>>=b,m-=b,di=1<<32-Vt(r)+m|o<<m|c,fi=y+s}else di=1<<y|o<<m|c,fi=s}function Om(s){s.return!==null&&(ji(s,1),Av(s,1,0))}function Vm(s){for(;s===jh;)jh=Fo[--Ho],Fo[Ho]=null,wc=Fo[--Ho],Fo[Ho]=null;for(;s===br;)br=gs[--ys],gs[ys]=null,fi=gs[--ys],gs[ys]=null,di=gs[--ys],gs[ys]=null}function Sv(s,r){gs[ys++]=di,gs[ys++]=fi,gs[ys++]=br,di=r.id,fi=r.overflow,br=s}var pn=null,wt=null,Xe=!1,_r=null,xs=!1,Lm=Error(i(519));function wr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tc(ps(r,s)),Lm}function Cv(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Ft]=s,r[on]=c,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Gc.length;o++)He(Gc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),fh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),fr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||H_(r.textContent,o)?(c.popover!=null&&(He("beforetoggle",r),He("toggle",r)),c.onScroll!=null&&He("scroll",r),c.onScrollEnd!=null&&He("scrollend",r),c.onClick!=null&&(r.onclick=Ms),r=!0):r=!1,r||wr(s,!0)}function kv(s){for(pn=s.return;pn;)switch(pn.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:pn=pn.return}}function Go(s){if(s!==pn)return!1;if(!Xe)return kv(s),Xe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||ng(s.type,s.memoizedProps)),o=!o),o&&wt&&wr(s),kv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));wt=J_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));wt=J_(s)}else r===27?(r=wt,Or(s.type)?(s=og,og=null,wt=s):wt=r):wt=pn?bs(s.stateNode.nextSibling):null;return!0}function Va(){wt=pn=null,Xe=!1}function Um(){var s=_r;return s!==null&&(Un===null?Un=s:Un.push.apply(Un,s),_r=null),s}function Tc(s){_r===null?_r=[s]:_r.push(s)}var Bm=E(null),La=null,Pi=null;function Tr(s,r,o){J(Bm,r._currentValue),r._currentValue=o}function Oi(s){s._currentValue=Bm.current,B(Bm)}function zm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function qm(s,r,o,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var V=0;V<r.length;V++)if(A.context===r[V]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),zm(y.return,o,s),c||(b=null);break e}y=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=o,y=b.alternate,y!==null&&(y.lanes|=o),zm(b,o,s),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===s){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function $o(s,r,o,c){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=m.type;Xn(m.pendingProps.value,b.value)||(s!==null?s.push(A):s=[A])}}else if(m===pe.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Wc):s=[Wc])}m=m.return}s!==null&&qm(r,s,o,c),r.flags|=262144}function Ph(s){for(s=s.firstContext;s!==null;){if(!Xn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ua(s){La=s,Pi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gn(s){return Rv(La,s)}function Oh(s,r){return La===null&&Ua(s),Rv(s,r)}function Rv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Pi===null){if(s===null)throw Error(i(308));Pi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Pi=Pi.next=r;return o}var AR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},SR=t.unstable_scheduleCallback,CR=t.unstable_NormalPriority,$t={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new AR,data:new Map,refCount:0}}function Ec(s){s.refCount--,s.refCount===0&&SR(CR,function(){s.controller.abort()})}var Ac=null,Hm=0,Ko=0,Qo=null;function kR(s,r){if(Ac===null){var o=Ac=[];Hm=0,Ko=Kp(),Qo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Hm++,r.then(Nv,Nv),r}function Nv(){if(--Hm===0&&Ac!==null){Qo!==null&&(Qo.status="fulfilled");var s=Ac;Ac=null,Ko=0,Qo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function RR(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Iv=te.S;te.S=function(s,r){m_=vt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kR(s,r),Iv!==null&&Iv(s,r)};var Ba=E(null);function Gm(){var s=Ba.current;return s!==null?s:xt.pooledCache}function Vh(s,r){r===null?J(Ba,Ba.current):J(Ba,r.pool)}function Dv(){var s=Gm();return s===null?null:{parent:$t._currentValue,pool:s}}var Yo=Error(i(460)),$m=Error(i(474)),Lh=Error(i(542)),Uh={then:function(){}};function Mv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ms,Ms),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ov(s),s;default:if(typeof r.status=="string")r.then(Ms,Ms);else{if(s=xt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Ov(s),s}throw qa=r,Yo}}function za(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(qa=o,Yo):o}}var qa=null;function Pv(){if(qa===null)throw Error(i(459));var s=qa;return qa=null,s}function Ov(s){if(s===Yo||s===Lh)throw Error(i(483))}var Wo=null,Sc=0;function Bh(s){var r=Sc;return Sc+=1,Wo===null&&(Wo=[]),jv(Wo,s,r)}function Cc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function zh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Vv(s){function r(F,z){if(s){var K=F.deletions;K===null?(F.deletions=[z],F.flags|=16):K.push(z)}}function o(F,z){if(!s)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function c(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(F,z){return F=Mi(F,z),F.index=0,F.sibling=null,F}function y(F,z,K){return F.index=K,s?(K=F.alternate,K!==null?(K=K.index,K<z?(F.flags|=67108866,z):K):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function b(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function A(F,z,K,re){return z===null||z.tag!==6?(z=jm(K,F.mode,re),z.return=F,z):(z=m(z,K),z.return=F,z)}function V(F,z,K,re){var Se=K.type;return Se===L?se(F,z,K.props.children,re,K.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&za(Se)===z.type)?(z=m(z,K.props),Cc(z,K),z.return=F,z):(z=Mh(K.type,K.key,K.props,null,F.mode,re),Cc(z,K),z.return=F,z)}function Q(F,z,K,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Pm(K,F.mode,re),z.return=F,z):(z=m(z,K.children||[]),z.return=F,z)}function se(F,z,K,re,Se){return z===null||z.tag!==7?(z=Oa(K,F.mode,re,Se),z.return=F,z):(z=m(z,K),z.return=F,z)}function oe(F,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=jm(""+z,F.mode,K),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return K=Mh(z.type,z.key,z.props,null,F.mode,K),Cc(K,z),K.return=F,K;case D:return z=Pm(z,F.mode,K),z.return=F,z;case S:return z=za(z),oe(F,z,K)}if(De(z)||U(z))return z=Oa(z,F.mode,K,null),z.return=F,z;if(typeof z.then=="function")return oe(F,Bh(z),K);if(z.$$typeof===H)return oe(F,Oh(F,z),K);zh(F,z)}return null}function X(F,z,K,re){var Se=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Se!==null?null:A(F,z,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return K.key===Se?V(F,z,K,re):null;case D:return K.key===Se?Q(F,z,K,re):null;case S:return K=za(K),X(F,z,K,re)}if(De(K)||U(K))return Se!==null?null:se(F,z,K,re,null);if(typeof K.then=="function")return X(F,z,Bh(K),re);if(K.$$typeof===H)return X(F,z,Oh(F,K),re);zh(F,K)}return null}function ee(F,z,K,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(K)||null,A(z,F,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case C:return F=F.get(re.key===null?K:re.key)||null,V(z,F,re,Se);case D:return F=F.get(re.key===null?K:re.key)||null,Q(z,F,re,Se);case S:return re=za(re),ee(F,z,K,re,Se)}if(De(re)||U(re))return F=F.get(K)||null,se(z,F,re,Se,null);if(typeof re.then=="function")return ee(F,z,K,Bh(re),Se);if(re.$$typeof===H)return ee(F,z,K,Oh(z,re),Se);zh(z,re)}return null}function we(F,z,K,re){for(var Se=null,nt=null,Te=z,qe=z=0,$e=null;Te!==null&&qe<K.length;qe++){Te.index>qe?($e=Te,Te=null):$e=Te.sibling;var st=X(F,Te,K[qe],re);if(st===null){Te===null&&(Te=$e);break}s&&Te&&st.alternate===null&&r(F,Te),z=y(st,z,qe),nt===null?Se=st:nt.sibling=st,nt=st,Te=$e}if(qe===K.length)return o(F,Te),Xe&&ji(F,qe),Se;if(Te===null){for(;qe<K.length;qe++)Te=oe(F,K[qe],re),Te!==null&&(z=y(Te,z,qe),nt===null?Se=Te:nt.sibling=Te,nt=Te);return Xe&&ji(F,qe),Se}for(Te=c(Te);qe<K.length;qe++)$e=ee(Te,F,qe,K[qe],re),$e!==null&&(s&&$e.alternate!==null&&Te.delete($e.key===null?qe:$e.key),z=y($e,z,qe),nt===null?Se=$e:nt.sibling=$e,nt=$e);return s&&Te.forEach(function(zr){return r(F,zr)}),Xe&&ji(F,qe),Se}function Re(F,z,K,re){if(K==null)throw Error(i(151));for(var Se=null,nt=null,Te=z,qe=z=0,$e=null,st=K.next();Te!==null&&!st.done;qe++,st=K.next()){Te.index>qe?($e=Te,Te=null):$e=Te.sibling;var zr=X(F,Te,st.value,re);if(zr===null){Te===null&&(Te=$e);break}s&&Te&&zr.alternate===null&&r(F,Te),z=y(zr,z,qe),nt===null?Se=zr:nt.sibling=zr,nt=zr,Te=$e}if(st.done)return o(F,Te),Xe&&ji(F,qe),Se;if(Te===null){for(;!st.done;qe++,st=K.next())st=oe(F,st.value,re),st!==null&&(z=y(st,z,qe),nt===null?Se=st:nt.sibling=st,nt=st);return Xe&&ji(F,qe),Se}for(Te=c(Te);!st.done;qe++,st=K.next())st=ee(Te,F,qe,st.value,re),st!==null&&(s&&st.alternate!==null&&Te.delete(st.key===null?qe:st.key),z=y(st,z,qe),nt===null?Se=st:nt.sibling=st,nt=st);return s&&Te.forEach(function(BN){return r(F,BN)}),Xe&&ji(F,qe),Se}function pt(F,z,K,re){if(typeof K=="object"&&K!==null&&K.type===L&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case C:e:{for(var Se=K.key;z!==null;){if(z.key===Se){if(Se=K.type,Se===L){if(z.tag===7){o(F,z.sibling),re=m(z,K.props.children),re.return=F,F=re;break e}}else if(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&za(Se)===z.type){o(F,z.sibling),re=m(z,K.props),Cc(re,K),re.return=F,F=re;break e}o(F,z);break}else r(F,z);z=z.sibling}K.type===L?(re=Oa(K.props.children,F.mode,re,K.key),re.return=F,F=re):(re=Mh(K.type,K.key,K.props,null,F.mode,re),Cc(re,K),re.return=F,F=re)}return b(F);case D:e:{for(Se=K.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(F,z.sibling),re=m(z,K.children||[]),re.return=F,F=re;break e}else{o(F,z);break}else r(F,z);z=z.sibling}re=Pm(K,F.mode,re),re.return=F,F=re}return b(F);case S:return K=za(K),pt(F,z,K,re)}if(De(K))return we(F,z,K,re);if(U(K)){if(Se=U(K),typeof Se!="function")throw Error(i(150));return K=Se.call(K),Re(F,z,K,re)}if(typeof K.then=="function")return pt(F,z,Bh(K),re);if(K.$$typeof===H)return pt(F,z,Oh(F,K),re);zh(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(F,z.sibling),re=m(z,K),re.return=F,F=re):(o(F,z),re=jm(K,F.mode,re),re.return=F,F=re),b(F)):o(F,z)}return function(F,z,K,re){try{Sc=0;var Se=pt(F,z,K,re);return Wo=null,Se}catch(Te){if(Te===Yo||Te===Lh)throw Te;var nt=Zn(29,Te,null,F.mode);return nt.lanes=re,nt.return=F,nt}}}var Fa=Vv(!0),Lv=Vv(!1),Er=!1;function Km(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ar(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Sr(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Dh(s),_v(s,null,o),r}return Ih(s,c,r,o),Dh(s)}function kc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,tc(s,o)}}function Ym(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Wm=!1;function Rc(){if(Wm){var s=Qo;if(s!==null)throw s}}function Nc(s,r,o,c){Wm=!1;var m=s.updateQueue;Er=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,Q=V.next;V.next=null,b===null?y=Q:b.next=Q,b=V;var se=s.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==b&&(A===null?se.firstBaseUpdate=Q:A.next=Q,se.lastBaseUpdate=V))}if(y!==null){var oe=m.baseState;b=0,se=Q=V=null,A=y;do{var X=A.lane&-536870913,ee=X!==A.lane;if(ee?(Ge&X)===X:(c&X)===X){X!==0&&X===Ko&&(Wm=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var we=s,Re=A;X=r;var pt=o;switch(Re.tag){case 1:if(we=Re.payload,typeof we=="function"){oe=we.call(pt,oe,X);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Re.payload,X=typeof we=="function"?we.call(pt,oe,X):we,X==null)break e;oe=_({},oe,X);break e;case 2:Er=!0}}X=A.callback,X!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(Q=se=ee,V=oe):se=se.next=ee,b|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(V=oe),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=se,y===null&&(m.shared.lanes=0),Ir|=b,s.lanes=b,s.memoizedState=oe}}function Uv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Bv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Uv(o[s],r)}var Xo=E(null),qh=E(0);function zv(s,r){s=Gi,J(qh,s),J(Xo,r),Gi=s|r.baseLanes}function Xm(){J(qh,Gi),J(Xo,Xo.current)}function Zm(){Gi=qh.current,B(Xo),B(qh)}var Jn=E(null),vs=null;function Cr(s){var r=s.alternate;J(Ut,Ut.current&1),J(Jn,s),vs===null&&(r===null||Xo.current!==null||r.memoizedState!==null)&&(vs=s)}function Jm(s){J(Ut,Ut.current),J(Jn,s),vs===null&&(vs=s)}function qv(s){s.tag===22?(J(Ut,Ut.current),J(Jn,s),vs===null&&(vs=s)):kr()}function kr(){J(Ut,Ut.current),J(Jn,Jn.current)}function es(s){B(Jn),vs===s&&(vs=null),B(Ut)}var Ut=E(0);function Fh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||rg(o)||ag(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vi=0,ze=null,ft=null,Kt=null,Hh=!1,Zo=!1,Ha=!1,Gh=0,Ic=0,Jo=null,NR=0;function Dt(){throw Error(i(321))}function ep(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Xn(s[o],r[o]))return!1;return!0}function tp(s,r,o,c,m,y){return Vi=y,ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,te.H=s===null||s.memoizedState===null?Ab:gp,Ha=!1,y=o(c,m),Ha=!1,Zo&&(y=Hv(r,o,c,m)),Fv(s),y}function Fv(s){te.H=jc;var r=ft!==null&&ft.next!==null;if(Vi=0,Kt=ft=ze=null,Hh=!1,Ic=0,Jo=null,r)throw Error(i(300));s===null||Qt||(s=s.dependencies,s!==null&&Ph(s)&&(Qt=!0))}function Hv(s,r,o,c){ze=s;var m=0;do{if(Zo&&(Jo=null),Ic=0,Zo=!1,25<=m)throw Error(i(301));if(m+=1,Kt=ft=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}te.H=Sb,y=r(o,c)}while(Zo);return y}function IR(){var s=te.H,r=s.useState()[0];return r=typeof r.then=="function"?Dc(r):r,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&(ze.flags|=1024),r}function np(){var s=Gh!==0;return Gh=0,s}function sp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function ip(s){if(Hh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Hh=!1}Vi=0,Kt=ft=ze=null,Zo=!1,Ic=Gh=0,Jo=null}function Nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?ze.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function Bt(){if(ft===null){var s=ze.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var r=Kt===null?ze.memoizedState:Kt.next;if(r!==null)Kt=r,ft=s;else{if(s===null)throw ze.alternate===null?Error(i(467)):Error(i(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Kt===null?ze.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function $h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(s){var r=Ic;return Ic+=1,Jo===null&&(Jo=[]),s=jv(Jo,s,r),r=ze,(Kt===null?r.memoizedState:Kt.next)===null&&(r=r.alternate,te.H=r===null||r.memoizedState===null?Ab:gp),s}function Kh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Dc(s);if(s.$$typeof===H)return gn(s)}throw Error(i(438,String(s)))}function rp(s){var r=null,o=ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=$h(),ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=j;return r.index++,o}function Li(s,r){return typeof r=="function"?r(s):r}function Qh(s){var r=Bt();return ap(r,ft,s)}function ap(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}r.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var A=b=null,V=null,Q=r,se=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Ge&oe)===oe:(Vi&oe)===oe){var X=Q.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===Ko&&(se=!0);else if((Vi&X)===X){Q=Q.next,X===Ko&&(se=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=oe,b=y):V=V.next=oe,ze.lanes|=X,Ir|=X;oe=Q.action,Ha&&o(y,oe),y=Q.hasEagerState?Q.eagerState:o(y,oe)}else X={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=X,b=y):V=V.next=X,ze.lanes|=oe,Ir|=oe;Q=Q.next}while(Q!==null&&Q!==r);if(V===null?b=y:V.next=A,!Xn(y,s.memoizedState)&&(Qt=!0,se&&(o=Qo,o!==null)))throw o;s.memoizedState=y,s.baseState=b,s.baseQueue=V,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function op(s){var r=Bt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do y=s(y,b.action),b=b.next;while(b!==m);Xn(y,r.memoizedState)||(Qt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,c]}function Gv(s,r,o){var c=ze,m=Bt(),y=Xe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!Xn((ft||m).memoizedState,o);if(b&&(m.memoizedState=o,Qt=!0),m=m.queue,up(Qv.bind(null,c,m,s),[s]),m.getSnapshot!==r||b||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,el(9,{destroy:void 0},Kv.bind(null,c,m,o,r),null),xt===null)throw Error(i(349));y||(Vi&127)!==0||$v(c,r,o)}return o}function $v(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=ze.updateQueue,r===null?(r=$h(),ze.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Kv(s,r,o,c){r.value=o,r.getSnapshot=c,Yv(r)&&Wv(s)}function Qv(s,r,o){return o(function(){Yv(r)&&Wv(s)})}function Yv(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Xn(s,o)}catch{return!0}}function Wv(s){var r=Pa(s,2);r!==null&&Bn(r,s,2)}function lp(s){var r=Nn();if(typeof s=="function"){var o=s;if(s=o(),Ha){cs(!0);try{o()}finally{cs(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},r}function Xv(s,r,o,c){return s.baseState=o,ap(s,ft,typeof c=="function"?c:Li)}function DR(s,r,o,c,m){if(Xh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};te.T!==null?o(!0):y.isTransition=!1,c(y),o=r.pending,o===null?(y.next=r.pending=y,Zv(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Zv(s,r){var o=r.action,c=r.payload,m=s.state;if(r.isTransition){var y=te.T,b={};te.T=b;try{var A=o(m,c),V=te.S;V!==null&&V(b,A),Jv(s,r,A)}catch(Q){cp(s,r,Q)}finally{y!==null&&b.types!==null&&(y.types=b.types),te.T=y}}else try{y=o(m,c),Jv(s,r,y)}catch(Q){cp(s,r,Q)}}function Jv(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){eb(s,r,c)},function(c){return cp(s,r,c)}):eb(s,r,o)}function eb(s,r,o){r.status="fulfilled",r.value=o,tb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Zv(s,o)))}function cp(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,tb(r),r=r.next;while(r!==c)}s.action=null}function tb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function nb(s,r){return r}function sb(s,r){if(Xe){var o=xt.formState;if(o!==null){e:{var c=ze;if(Xe){if(wt){t:{for(var m=wt,y=xs;m.nodeType!==8;){if(!y){m=null;break t}if(m=bs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){wt=bs(m.nextSibling),c=m.data==="F!";break e}}wr(c)}c=!1}c&&(r=o[0])}}return o=Nn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:r},o.queue=c,o=wb.bind(null,ze,c),c.dispatch=o,c=lp(!1),y=pp.bind(null,ze,!1,c.queue),c=Nn(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,o=DR.bind(null,ze,m,y,o),m.dispatch=o,c.memoizedState=s,[r,o,!1]}function ib(s){var r=Bt();return rb(r,ft,s)}function rb(s,r,o){if(r=ap(s,r,nb)[0],s=Qh(Li)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Dc(r)}catch(b){throw b===Yo?Lh:b}else c=r;r=Bt();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(ze.flags|=2048,el(9,{destroy:void 0},MR.bind(null,m,o),null)),[c,y,s]}function MR(s,r){s.action=r}function ab(s){var r=Bt(),o=ft;if(o!==null)return rb(r,o,s);Bt(),r=r.memoizedState,o=Bt();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function el(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=ze.updateQueue,r===null&&(r=$h(),ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function ob(){return Bt().memoizedState}function Yh(s,r,o,c){var m=Nn();ze.flags|=s,m.memoizedState=el(1|r,{destroy:void 0},o,c===void 0?null:c)}function Wh(s,r,o,c){var m=Bt();c=c===void 0?null:c;var y=m.memoizedState.inst;ft!==null&&c!==null&&ep(c,ft.memoizedState.deps)?m.memoizedState=el(r,y,o,c):(ze.flags|=s,m.memoizedState=el(1|r,y,o,c))}function lb(s,r){Yh(8390656,8,s,r)}function up(s,r){Wh(2048,8,s,r)}function jR(s){ze.flags|=4;var r=ze.updateQueue;if(r===null)r=$h(),ze.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function cb(s){var r=Bt().memoizedState;return jR({ref:r,nextImpl:s}),function(){if((at&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function ub(s,r){return Wh(4,2,s,r)}function hb(s,r){return Wh(4,4,s,r)}function db(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function fb(s,r,o){o=o!=null?o.concat([s]):null,Wh(4,4,db.bind(null,r,s),o)}function hp(){}function mb(s,r){var o=Bt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&ep(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function pb(s,r){var o=Bt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&ep(r,c[1]))return c[0];if(c=s(),Ha){cs(!0);try{s()}finally{cs(!1)}}return o.memoizedState=[c,r],c}function dp(s,r,o){return o===void 0||(Vi&1073741824)!==0&&(Ge&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=g_(),ze.lanes|=s,Ir|=s,o)}function gb(s,r,o,c){return Xn(o,r)?o:Xo.current!==null?(s=dp(s,o,c),Xn(s,r)||(Qt=!0),s):(Vi&42)===0||(Vi&1073741824)!==0&&(Ge&261930)===0?(Qt=!0,s.memoizedState=o):(s=g_(),ze.lanes|=s,Ir|=s,r)}function yb(s,r,o,c,m){var y=he.p;he.p=y!==0&&8>y?y:8;var b=te.T,A={};te.T=A,pp(s,!1,r,o);try{var V=m(),Q=te.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=RR(V,c);Mc(s,r,se,ss(s))}else Mc(s,r,c,ss(s))}catch(oe){Mc(s,r,{then:function(){},status:"rejected",reason:oe},ss())}finally{he.p=y,b!==null&&A.types!==null&&(b.types=A.types),te.T=b}}function PR(){}function fp(s,r,o,c){if(s.tag!==5)throw Error(i(476));var m=xb(s).queue;yb(s,m,r,xe,o===null?PR:function(){return vb(s),o(c)})}function xb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:xe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function vb(s){var r=xb(s);r.next===null&&(r=s.alternate.memoizedState),Mc(s,r.next.queue,{},ss())}function mp(){return gn(Wc)}function bb(){return Bt().memoizedState}function _b(){return Bt().memoizedState}function OR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=ss();s=Ar(o);var c=Sr(r,s,o);c!==null&&(Bn(c,r,o),kc(c,r,o)),r={cache:Fm()},s.payload=r;return}r=r.return}}function VR(s,r,o){var c=ss();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xh(s)?Tb(r,o):(o=Dm(s,r,o,c),o!==null&&(Bn(o,s,c),Eb(o,r,c)))}function wb(s,r,o){var c=ss();Mc(s,r,o,c)}function Mc(s,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xh(s))Tb(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var b=r.lastRenderedState,A=y(b,o);if(m.hasEagerState=!0,m.eagerState=A,Xn(A,b))return Ih(s,r,m,0),xt===null&&Nh(),!1}catch{}if(o=Dm(s,r,m,c),o!==null)return Bn(o,s,c),Eb(o,r,c),!0}return!1}function pp(s,r,o,c){if(c={lane:2,revertLane:Kp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Xh(s)){if(r)throw Error(i(479))}else r=Dm(s,o,c,2),r!==null&&Bn(r,s,2)}function Xh(s){var r=s.alternate;return s===ze||r!==null&&r===ze}function Tb(s,r){Zo=Hh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Eb(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,tc(s,o)}}var jc={readContext:gn,use:Kh,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};jc.useEffectEvent=Dt;var Ab={readContext:gn,use:Kh,useCallback:function(s,r){return Nn().memoizedState=[s,r===void 0?null:r],s},useContext:gn,useEffect:lb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Yh(4194308,4,db.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Yh(4194308,4,s,r)},useInsertionEffect:function(s,r){Yh(4,2,s,r)},useMemo:function(s,r){var o=Nn();r=r===void 0?null:r;var c=s();if(Ha){cs(!0);try{s()}finally{cs(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=Nn();if(o!==void 0){var m=o(r);if(Ha){cs(!0);try{o(r)}finally{cs(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=VR.bind(null,ze,s),[c.memoizedState,s]},useRef:function(s){var r=Nn();return s={current:s},r.memoizedState=s},useState:function(s){s=lp(s);var r=s.queue,o=wb.bind(null,ze,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:hp,useDeferredValue:function(s,r){var o=Nn();return dp(o,s,r)},useTransition:function(){var s=lp(!1);return s=yb.bind(null,ze,s.queue,!0,!1),Nn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=ze,m=Nn();if(Xe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),xt===null)throw Error(i(349));(Ge&127)!==0||$v(c,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,lb(Qv.bind(null,c,y,s),[s]),c.flags|=2048,el(9,{destroy:void 0},Kv.bind(null,c,y,o,r),null),o},useId:function(){var s=Nn(),r=xt.identifierPrefix;if(Xe){var o=fi,c=di;o=(c&~(1<<32-Vt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Gh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=NR++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:mp,useFormState:sb,useActionState:sb,useOptimistic:function(s){var r=Nn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=pp.bind(null,ze,!0,o),o.dispatch=r,[s,r]},useMemoCache:rp,useCacheRefresh:function(){return Nn().memoizedState=OR.bind(null,ze)},useEffectEvent:function(s){var r=Nn(),o={impl:s};return r.memoizedState=o,function(){if((at&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},gp={readContext:gn,use:Kh,useCallback:mb,useContext:gn,useEffect:up,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:hb,useMemo:pb,useReducer:Qh,useRef:ob,useState:function(){return Qh(Li)},useDebugValue:hp,useDeferredValue:function(s,r){var o=Bt();return gb(o,ft.memoizedState,s,r)},useTransition:function(){var s=Qh(Li)[0],r=Bt().memoizedState;return[typeof s=="boolean"?s:Dc(s),r]},useSyncExternalStore:Gv,useId:bb,useHostTransitionStatus:mp,useFormState:ib,useActionState:ib,useOptimistic:function(s,r){var o=Bt();return Xv(o,ft,s,r)},useMemoCache:rp,useCacheRefresh:_b};gp.useEffectEvent=cb;var Sb={readContext:gn,use:Kh,useCallback:mb,useContext:gn,useEffect:up,useImperativeHandle:fb,useInsertionEffect:ub,useLayoutEffect:hb,useMemo:pb,useReducer:op,useRef:ob,useState:function(){return op(Li)},useDebugValue:hp,useDeferredValue:function(s,r){var o=Bt();return ft===null?dp(o,s,r):gb(o,ft.memoizedState,s,r)},useTransition:function(){var s=op(Li)[0],r=Bt().memoizedState;return[typeof s=="boolean"?s:Dc(s),r]},useSyncExternalStore:Gv,useId:bb,useHostTransitionStatus:mp,useFormState:ab,useActionState:ab,useOptimistic:function(s,r){var o=Bt();return ft!==null?Xv(o,ft,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:rp,useCacheRefresh:_b};Sb.useEffectEvent=cb;function yp(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:_({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var xp={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=ss(),m=Ar(c);m.payload=r,o!=null&&(m.callback=o),r=Sr(s,m,c),r!==null&&(Bn(r,s,c),kc(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=ss(),m=Ar(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Sr(s,m,c),r!==null&&(Bn(r,s,c),kc(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=ss(),c=Ar(o);c.tag=2,r!=null&&(c.callback=r),r=Sr(s,c,o),r!==null&&(Bn(r,s,o),kc(r,s,o))}};function Cb(s,r,o,c,m,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,b):r.prototype&&r.prototype.isPureReactComponent?!bc(o,c)||!bc(m,y):!0}function kb(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&xp.enqueueReplaceState(r,r.state,null)}function Ga(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=_({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function Rb(s){Rh(s)}function Nb(s){console.error(s)}function Ib(s){Rh(s)}function Zh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Db(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function vp(s,r,o){return o=Ar(o),o.tag=3,o.payload={element:null},o.callback=function(){Zh(s,r)},o}function Mb(s){return s=Ar(s),s.tag=3,s}function jb(s,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){Db(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){Db(r,o,c),typeof m!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function LR(s,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&$o(r,o,m,!0),o=Jn.current,o!==null){switch(o.tag){case 31:case 13:return vs===null?ud():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Uh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Hp(s,c,m)),!1;case 22:return o.flags|=65536,c===Uh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Hp(s,c,m)),!1}throw Error(i(435,o.tag))}return Hp(s,c,m),ud(),!1}if(Xe)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Lm&&(s=Error(i(422),{cause:c}),Tc(ps(s,o)))):(c!==Lm&&(r=Error(i(423),{cause:c}),Tc(ps(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=ps(c,o),m=vp(s.stateNode,c,m),Ym(s,m),Mt!==4&&(Mt=2)),!1;var y=Error(i(520),{cause:c});if(y=ps(y,o),qc===null?qc=[y]:qc.push(y),Mt!==4&&(Mt=2),r===null)return!0;c=ps(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=vp(o.stateNode,c,s),Ym(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dr===null||!Dr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Mb(m),jb(m,s,o,c),Ym(o,m),!1}o=o.return}while(o!==null);return!1}var bp=Error(i(461)),Qt=!1;function yn(s,r,o,c){r.child=s===null?Lv(r,null,o,c):Fa(r,s.child,o,c)}function Pb(s,r,o,c,m){o=o.render;var y=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Ua(r),c=tp(s,r,o,b,y,m),A=np(),s!==null&&!Qt?(sp(s,r,m),Ui(s,r,m)):(Xe&&A&&Om(r),r.flags|=1,yn(s,r,c,m),r.child)}function Ob(s,r,o,c,m){if(s===null){var y=o.type;return typeof y=="function"&&!Mm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Vb(s,r,y,c,m)):(s=Mh(o.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!kp(s,m)){var b=y.memoizedProps;if(o=o.compare,o=o!==null?o:bc,o(b,c)&&s.ref===r.ref)return Ui(s,r,m)}return r.flags|=1,s=Mi(y,c),s.ref=r.ref,s.return=r,r.child=s}function Vb(s,r,o,c,m){if(s!==null){var y=s.memoizedProps;if(bc(y,c)&&s.ref===r.ref)if(Qt=!1,r.pendingProps=c=y,kp(s,m))(s.flags&131072)!==0&&(Qt=!0);else return r.lanes=s.lanes,Ui(s,r,m)}return _p(s,r,o,c,m)}function Lb(s,r,o,c){var m=c.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(c=r.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~y}else c=0,r.child=null;return Ub(s,r,y,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vh(r,y!==null?y.cachePool:null),y!==null?zv(r,y):Xm(),qv(r);else return c=r.lanes=536870912,Ub(s,r,y!==null?y.baseLanes|o:o,o,c)}else y!==null?(Vh(r,y.cachePool),zv(r,y),kr(),r.memoizedState=null):(s!==null&&Vh(r,null),Xm(),kr());return yn(s,r,m,o),r.child}function Pc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ub(s,r,o,c,m){var y=Gm();return y=y===null?null:{parent:$t._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Vh(r,null),Xm(),qv(r),s!==null&&$o(s,r,c,!0),r.childLanes=m,null}function Jh(s,r){return r=td({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Bb(s,r,o){return Fa(r,s.child,null,o),s=Jh(r,r.pendingProps),s.flags|=2,es(r),r.memoizedState=null,s}function UR(s,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Xe){if(c.mode==="hidden")return s=Jh(r,c),r.lanes=536870912,Pc(null,s);if(Jm(r),(s=wt)?(s=Z_(s,xs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:br!==null?{id:di,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},o=Tv(s),o.return=r,r.child=o,pn=r,wt=null)):s=null,s===null)throw wr(r);return r.lanes=536870912,null}return Jh(r,c)}var y=s.memoizedState;if(y!==null){var b=y.dehydrated;if(Jm(r),m)if(r.flags&256)r.flags&=-257,r=Bb(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Qt||$o(s,r,o,!1),m=(o&s.childLanes)!==0,Qt||m){if(c=xt,c!==null&&(b=nc(c,o),b!==0&&b!==y.retryLane))throw y.retryLane=b,Pa(s,b),Bn(c,s,b),bp;ud(),r=Bb(s,r,o)}else s=y.treeContext,wt=bs(b.nextSibling),pn=r,Xe=!0,_r=null,xs=!1,s!==null&&Sv(r,s),r=Jh(r,c),r.flags|=4096;return r}return s=Mi(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function ed(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function _p(s,r,o,c,m){return Ua(r),o=tp(s,r,o,c,void 0,m),c=np(),s!==null&&!Qt?(sp(s,r,m),Ui(s,r,m)):(Xe&&c&&Om(r),r.flags|=1,yn(s,r,o,m),r.child)}function zb(s,r,o,c,m,y){return Ua(r),r.updateQueue=null,o=Hv(r,c,o,m),Fv(s),c=np(),s!==null&&!Qt?(sp(s,r,y),Ui(s,r,y)):(Xe&&c&&Om(r),r.flags|=1,yn(s,r,o,y),r.child)}function qb(s,r,o,c,m){if(Ua(r),r.stateNode===null){var y=qo,b=o.contextType;typeof b=="object"&&b!==null&&(y=gn(b)),y=new o(c,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=c,y.state=r.memoizedState,y.refs={},Km(r),b=o.contextType,y.context=typeof b=="object"&&b!==null?gn(b):qo,y.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(yp(r,o,b,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&xp.enqueueReplaceState(y,y.state,null),Nc(r,c,y,m),Rc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,V=Ga(o,A);y.props=V;var Q=y.context,se=o.contextType;b=qo,typeof se=="object"&&se!==null&&(b=gn(se));var oe=o.getDerivedStateFromProps;se=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Q!==b)&&kb(r,y,c,b),Er=!1;var X=r.memoizedState;y.state=X,Nc(r,c,y,m),Rc(),Q=r.memoizedState,A||X!==Q||Er?(typeof oe=="function"&&(yp(r,o,oe,c),Q=r.memoizedState),(V=Er||Cb(r,o,V,c,X,Q,b))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Q),y.props=c,y.state=Q,y.context=b,c=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{y=r.stateNode,Qm(s,r),b=r.memoizedProps,se=Ga(o,b),y.props=se,oe=r.pendingProps,X=y.context,Q=o.contextType,V=qo,typeof Q=="object"&&Q!==null&&(V=gn(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==oe||X!==V)&&kb(r,y,c,V),Er=!1,X=r.memoizedState,y.state=X,Nc(r,c,y,m),Rc();var ee=r.memoizedState;b!==oe||X!==ee||Er||s!==null&&s.dependencies!==null&&Ph(s.dependencies)?(typeof A=="function"&&(yp(r,o,A,c),ee=r.memoizedState),(se=Er||Cb(r,o,se,c,X,ee,V)||s!==null&&s.dependencies!==null&&Ph(s.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ee),y.props=c,y.state=ee,y.context=V,c=se):(typeof y.componentDidUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),c=!1)}return y=c,ed(s,r),c=(r.flags&128)!==0,y||c?(y=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&c?(r.child=Fa(r,s.child,null,m),r.child=Fa(r,null,o,m)):yn(s,r,o,m),r.memoizedState=y.state,s=r.child):s=Ui(s,r,m),s}function Fb(s,r,o,c){return Va(),r.flags|=256,yn(s,r,o,c),r.child}var wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(s){return{baseLanes:s,cachePool:Dv()}}function Ep(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=ns),s}function Hb(s,r,o){var c=r.pendingProps,m=!1,y=(r.flags&128)!==0,b;if((b=y)||(b=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Xe){if(m?Cr(r):kr(),(s=wt)?(s=Z_(s,xs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:br!==null?{id:di,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},o=Tv(s),o.return=r,r.child=o,pn=r,wt=null)):s=null,s===null)throw wr(r);return ag(s)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(kr(),m=r.mode,A=td({mode:"hidden",children:A},m),c=Oa(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=Tp(o),c.childLanes=Ep(s,b,o),r.memoizedState=wp,Pc(null,c)):(Cr(r),Ap(r,A))}var V=s.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(y)r.flags&256?(Cr(r),r.flags&=-257,r=Sp(s,r,o)):r.memoizedState!==null?(kr(),r.child=s.child,r.flags|=128,r=null):(kr(),A=c.fallback,m=r.mode,c=td({mode:"visible",children:c.children},m),A=Oa(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,Fa(r,s.child,null,o),c=r.child,c.memoizedState=Tp(o),c.childLanes=Ep(s,b,o),r.memoizedState=wp,r=Pc(null,c));else if(Cr(r),ag(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(i(419)),c.stack="",c.digest=b,Tc({value:c,source:null,stack:null}),r=Sp(s,r,o)}else if(Qt||$o(s,r,o,!1),b=(o&s.childLanes)!==0,Qt||b){if(b=xt,b!==null&&(c=nc(b,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,Pa(s,c),Bn(b,s,c),bp;rg(A)||ud(),r=Sp(s,r,o)}else rg(A)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,wt=bs(A.nextSibling),pn=r,Xe=!0,_r=null,xs=!1,s!==null&&Sv(r,s),r=Ap(r,c.children),r.flags|=4096);return r}return m?(kr(),A=c.fallback,m=r.mode,V=s.child,Q=V.sibling,c=Mi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Q!==null?A=Mi(Q,A):(A=Oa(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Pc(null,c),c=r.child,A=s.child.memoizedState,A===null?A=Tp(o):(m=A.cachePool,m!==null?(V=$t._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Dv(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=Ep(s,b,o),r.memoizedState=wp,Pc(s.child,c)):(Cr(r),o=s.child,s=o.sibling,o=Mi(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function Ap(s,r){return r=td({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function td(s,r){return s=Zn(22,s,null,r),s.lanes=0,s}function Sp(s,r,o){return Fa(r,s.child,null,o),s=Ap(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Gb(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),zm(s.return,r,o)}function Cp(s,r,o,c,m,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:y}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=y)}function $b(s,r,o){var c=r.pendingProps,m=c.revealOrder,y=c.tail;c=c.children;var b=Ut.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,J(Ut,b),yn(s,r,c,o),c=Xe?wc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Gb(s,o,r);else if(s.tag===19)Gb(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Fh(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Cp(r,!1,m,o,y,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Fh(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Cp(r,!0,o,null,y,c);break;case"together":Cp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ui(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)if(s!==null){if($o(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Mi(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Mi(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function kp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Ph(s)))}function BR(s,r,o){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),Tr(r,$t,s.memoizedState.cache),Va();break;case 27:case 5:tt(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Jm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Hb(s,r,o):(Cr(r),s=Ui(s,r,o),s!==null?s.sibling:null);Cr(r);break;case 19:var m=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||($o(s,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return $b(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),J(Ut,Ut.current),c)break;return null;case 22:return r.lanes=0,Lb(s,r,o,r.pendingProps);case 24:Tr(r,$t,s.memoizedState.cache)}return Ui(s,r,o)}function Kb(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Qt=!0;else{if(!kp(s,o)&&(r.flags&128)===0)return Qt=!1,BR(s,r,o);Qt=(s.flags&131072)!==0}else Qt=!1,Xe&&(r.flags&1048576)!==0&&Av(r,wc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=za(r.elementType),r.type=s,typeof s=="function")Mm(s)?(c=Ga(s,c),r.tag=1,r=qb(null,r,s,c,o)):(r.tag=0,r=_p(null,r,s,c,o));else{if(s!=null){var m=s.$$typeof;if(m===ne){r.tag=11,r=Pb(null,r,s,c,o);break e}else if(m===R){r.tag=14,r=Ob(null,r,s,c,o);break e}}throw r=fe(s)||s,Error(i(306,r,""))}}return r;case 0:return _p(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ga(c,r.pendingProps),qb(s,r,c,m,o);case 3:e:{if(Ee(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var y=r.memoizedState;m=y.element,Qm(s,r),Nc(r,c,null,o);var b=r.memoizedState;if(c=b.cache,Tr(r,$t,c),c!==y.cache&&qm(r,[$t],o,!0),Rc(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Fb(s,r,c,o);break e}else if(c!==m){m=ps(Error(i(424)),r),Tc(m),r=Fb(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,wt=bs(s.firstChild),pn=r,Xe=!0,_r=null,xs=!0,o=Lv(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Va(),c===m){r=Ui(s,r,o);break e}yn(s,r,c,o)}r=r.child}return r;case 26:return ed(s,r),s===null?(o=i1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,s=r.pendingProps,c=yd(de.current).createElement(o),c[Ft]=r,c[on]=s,xn(c,o,s),Ht(c),r.stateNode=c):r.memoizedState=i1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return tt(r),s===null&&Xe&&(c=r.stateNode=t1(r.type,r.pendingProps,de.current),pn=r,xs=!0,m=wt,Or(r.type)?(og=m,wt=bs(c.firstChild)):wt=m),yn(s,r,r.pendingProps.children,o),ed(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Xe&&((m=c=wt)&&(c=gN(c,r.type,r.pendingProps,xs),c!==null?(r.stateNode=c,pn=r,wt=bs(c.firstChild),xs=!1,m=!0):m=!1),m||wr(r)),tt(r),m=r.type,y=r.pendingProps,b=s!==null?s.memoizedProps:null,c=y.children,ng(m,y)?c=null:b!==null&&ng(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=tp(s,r,IR,null,null,o),Wc._currentValue=m),ed(s,r),yn(s,r,c,o),r.child;case 6:return s===null&&Xe&&((s=o=wt)&&(o=yN(o,r.pendingProps,xs),o!==null?(r.stateNode=o,pn=r,wt=null,s=!0):s=!1),s||wr(r)),null;case 13:return Hb(s,r,o);case 4:return Ee(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Fa(r,null,c,o):yn(s,r,c,o),r.child;case 11:return Pb(s,r,r.type,r.pendingProps,o);case 7:return yn(s,r,r.pendingProps,o),r.child;case 8:return yn(s,r,r.pendingProps.children,o),r.child;case 12:return yn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Tr(r,r.type,c.value),yn(s,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ua(r),m=gn(m),c=c(m),r.flags|=1,yn(s,r,c,o),r.child;case 14:return Ob(s,r,r.type,r.pendingProps,o);case 15:return Vb(s,r,r.type,r.pendingProps,o);case 19:return $b(s,r,o);case 31:return UR(s,r,o);case 22:return Lb(s,r,o,r.pendingProps);case 24:return Ua(r),c=gn($t),s===null?(m=Gm(),m===null&&(m=xt,y=Fm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:c,cache:m},Km(r),Tr(r,$t,m)):((s.lanes&o)!==0&&(Qm(s,r),Nc(r,null,null,o),Rc()),m=s.memoizedState,y=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Tr(r,$t,c)):(c=y.cache,Tr(r,$t,c),c!==m.cache&&qm(r,[$t],o,!0))),yn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Bi(s){s.flags|=4}function Rp(s,r,o,c,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(b_())s.flags|=8192;else throw qa=Uh,$m}else s.flags&=-16777217}function Qb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!c1(r))if(b_())s.flags|=8192;else throw qa=Uh,$m}function nd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?lh():536870912,s.lanes|=r,il|=r)}function Oc(s,r){if(!Xe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Tt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function zR(s,r,o){var c=r.pendingProps;switch(Vm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return Tt(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Oi($t),ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Go(r)?Bi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Um())),Tt(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?(Bi(r),y!==null?(Tt(r),Qb(r,y)):(Tt(r),Rp(r,m,null,c,o))):y?y!==s.memoizedState?(Bi(r),Tt(r),Qb(r,y)):(Tt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&Bi(r),Tt(r),Rp(r,m,s,c,o)),null;case 27:if(Ze(r),o=de.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Bi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}s=ie.current,Go(r)?Cv(r):(s=t1(m,c,o),r.stateNode=s,Bi(r))}return Tt(r),null;case 5:if(Ze(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Bi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}if(y=ie.current,Go(r))Cv(r);else{var b=yd(de.current);switch(y){case 1:y=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=b.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}y[Ft]=r,y[on]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)y.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=y;e:switch(xn(y,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Bi(r)}}return Tt(r),Rp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Bi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=de.current,Go(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,m=pn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Ft]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||H_(s.nodeValue,o)),s||wr(r,!0)}else s=yd(s).createTextNode(c),s[Ft]=r,r.stateNode=s}return Tt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=Go(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ft]=r}else Va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),s=!1}else o=Um(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(es(r),r):(es(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Tt(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Go(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ft]=r}else Va(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),m=!1}else m=Um(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(es(r),r):(es(r),null)}return es(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),nd(r,r.updateQueue),Tt(r),null);case 4:return ke(),s===null&&Xp(r.stateNode.containerInfo),Tt(r),null;case 10:return Oi(r.type),Tt(r),null;case 19:if(B(Ut),c=r.memoizedState,c===null)return Tt(r),null;if(m=(r.flags&128)!==0,y=c.rendering,y===null)if(m)Oc(c,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Fh(s),y!==null){for(r.flags|=128,Oc(c,!1),s=y.updateQueue,r.updateQueue=s,nd(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)wv(o,s),o=o.sibling;return J(Ut,Ut.current&1|2),Xe&&ji(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&vt()>od&&(r.flags|=128,m=!0,Oc(c,!1),r.lanes=4194304)}else{if(!m)if(s=Fh(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,nd(r,s),Oc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!Xe)return Tt(r),null}else 2*vt()-c.renderingStartTime>od&&o!==536870912&&(r.flags|=128,m=!0,Oc(c,!1),r.lanes=4194304);c.isBackwards?(y.sibling=r.child,r.child=y):(s=c.last,s!==null?s.sibling=y:r.child=y,c.last=y)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=vt(),s.sibling=null,o=Ut.current,J(Ut,m?o&1|2:o&1),Xe&&ji(r,c.treeForkCount),s):(Tt(r),null);case 22:case 23:return es(r),Zm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),o=r.updateQueue,o!==null&&nd(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&B(Ba),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Oi($t),Tt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function qR(s,r){switch(Vm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Oi($t),ke(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ze(r),null;case 31:if(r.memoizedState!==null){if(es(r),r.alternate===null)throw Error(i(340));Va()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(es(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Va()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return B(Ut),null;case 4:return ke(),null;case 10:return Oi(r.type),null;case 22:case 23:return es(r),Zm(),s!==null&&B(Ba),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Oi($t),null;case 25:return null;default:return null}}function Yb(s,r){switch(Vm(r),r.tag){case 3:Oi($t),ke();break;case 26:case 27:case 5:Ze(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&es(r);break;case 13:es(r);break;case 19:B(Ut);break;case 10:Oi(r.type);break;case 22:case 23:es(r),Zm(),s!==null&&B(Ba);break;case 24:Oi($t)}}function Vc(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&s)===s){c=void 0;var y=o.create,b=o.inst;c=y(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){ut(r,r.return,A)}}function Rr(s,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var V=o,Q=A;try{Q()}catch(se){ut(m,V,se)}}}c=c.next}while(c!==y)}}catch(se){ut(r,r.return,se)}}function Wb(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Bv(r,o)}catch(c){ut(s,s.return,c)}}}function Xb(s,r,o){o.props=Ga(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){ut(s,r,c)}}function Lc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(m){ut(s,r,m)}}function mi(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ut(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ut(s,r,m)}else o.current=null}function Zb(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ut(s,s.return,m)}}function Np(s,r,o){try{var c=s.stateNode;uN(c,s.type,o,r),c[on]=r}catch(m){ut(s,s.return,m)}}function Jb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Or(s.type)||s.tag===4}function Ip(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Jb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Or(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dp(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ms));else if(c!==4&&(c===27&&Or(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Dp(s,r,o),s=s.sibling;s!==null;)Dp(s,r,o),s=s.sibling}function sd(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&Or(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(sd(s,r,o),s=s.sibling;s!==null;)sd(s,r,o),s=s.sibling}function e_(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);xn(r,c,o),r[Ft]=s,r[on]=o}catch(y){ut(s,s.return,y)}}var zi=!1,Yt=!1,Mp=!1,t_=typeof WeakSet=="function"?WeakSet:Set,cn=null;function FR(s,r){if(s=s.containerInfo,eg=Ed,s=fv(s),Sm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var b=0,A=-1,V=-1,Q=0,se=0,oe=s,X=null;t:for(;;){for(var ee;oe!==o||m!==0&&oe.nodeType!==3||(A=b+m),oe!==y||c!==0&&oe.nodeType!==3||(V=b+c),oe.nodeType===3&&(b+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)X=oe,oe=ee;for(;;){if(oe===s)break t;if(X===o&&++Q===m&&(A=b),X===y&&++se===c&&(V=b),(ee=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=ee}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(tg={focusedElem:s,selectionRange:o},Ed=!1,cn=r;cn!==null;)if(r=cn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,cn=s;else for(;cn!==null;){switch(r=cn,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var we=Ga(o.type,m);s=c.getSnapshotBeforeUpdate(we,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Re){ut(o,o.return,Re)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)ig(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ig(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,cn=s;break}cn=r.return}}function n_(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Fi(s,o),c&4&&Vc(5,o);break;case 1:if(Fi(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){ut(o,o.return,b)}else{var m=Ga(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(o,o.return,b)}}c&64&&Wb(o),c&512&&Lc(o,o.return);break;case 3:if(Fi(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Bv(s,r)}catch(b){ut(o,o.return,b)}}break;case 27:r===null&&c&4&&e_(o);case 26:case 5:Fi(s,o),r===null&&c&4&&Zb(o),c&512&&Lc(o,o.return);break;case 12:Fi(s,o);break;case 31:Fi(s,o),c&4&&r_(s,o);break;case 13:Fi(s,o),c&4&&a_(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=ZR.bind(null,o),xN(s,o))));break;case 22:if(c=o.memoizedState!==null||zi,!c){r=r!==null&&r.memoizedState!==null||Yt,m=zi;var y=Yt;zi=c,(Yt=r)&&!y?Hi(s,o,(o.subtreeFlags&8772)!==0):Fi(s,o),zi=m,Yt=y}break;case 30:break;default:Fi(s,o)}}function s_(s){var r=s.alternate;r!==null&&(s.alternate=null,s_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ko(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,On=!1;function qi(s,r,o){for(o=o.child;o!==null;)i_(s,r,o),o=o.sibling}function i_(s,r,o){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Qn,o)}catch{}switch(o.tag){case 26:Yt||mi(o,r),qi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Yt||mi(o,r);var c=St,m=On;Or(o.type)&&(St=o.stateNode,On=!1),qi(s,r,o),Kc(o.stateNode),St=c,On=m;break;case 5:Yt||mi(o,r);case 6:if(c=St,m=On,St=null,qi(s,r,o),St=c,On=m,St!==null)if(On)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(o.stateNode)}catch(y){ut(o,r,y)}else try{St.removeChild(o.stateNode)}catch(y){ut(o,r,y)}break;case 18:St!==null&&(On?(s=St,W_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),dl(s)):W_(St,o.stateNode));break;case 4:c=St,m=On,St=o.stateNode.containerInfo,On=!0,qi(s,r,o),St=c,On=m;break;case 0:case 11:case 14:case 15:Rr(2,o,r),Yt||Rr(4,o,r),qi(s,r,o);break;case 1:Yt||(mi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Xb(o,r,c)),qi(s,r,o);break;case 21:qi(s,r,o);break;case 22:Yt=(c=Yt)||o.memoizedState!==null,qi(s,r,o),Yt=c;break;default:qi(s,r,o)}}function r_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{dl(s)}catch(o){ut(r,r.return,o)}}}function a_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{dl(s)}catch(o){ut(r,r.return,o)}}function HR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new t_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new t_),r;default:throw Error(i(435,s.tag))}}function id(s,r){var o=HR(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=JR.bind(null,s,c);c.then(m,m)}})}function Vn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=s,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Or(A.type)){St=A.stateNode,On=!1;break e}break;case 5:St=A.stateNode,On=!1;break e;case 3:case 4:St=A.stateNode.containerInfo,On=!0;break e}A=A.return}if(St===null)throw Error(i(160));i_(y,b,m),St=null,On=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)o_(r,s),r=r.sibling}var Us=null;function o_(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vn(r,s),Ln(s),c&4&&(Rr(3,s,s.return),Vc(3,s),Rr(5,s,s.return));break;case 1:Vn(r,s),Ln(s),c&512&&(Yt||o===null||mi(o,o.return)),c&64&&zi&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Us;if(Vn(r,s),Ln(s),c&512&&(Yt||o===null||mi(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ei]||y[Ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),xn(y,c,o),y[Ft]=s,Ht(y),c=y;break e;case"link":var b=o1("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(y=b[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}y=m.createElement(c),xn(y,c,o),m.head.appendChild(y);break;case"meta":if(b=o1("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(y=b[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}y=m.createElement(c),xn(y,c,o),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ft]=s,Ht(y),c=y}s.stateNode=c}else l1(m,s.type,s.stateNode);else s.stateNode=a1(m,c,s.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?l1(m,s.type,s.stateNode):a1(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Np(s,s.memoizedProps,o.memoizedProps)}break;case 27:Vn(r,s),Ln(s),c&512&&(Yt||o===null||mi(o,o.return)),o!==null&&c&4&&Np(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Vn(r,s),Ln(s),c&512&&(Yt||o===null||mi(o,o.return)),s.flags&32){m=s.stateNode;try{Pn(m,"")}catch(we){ut(s,s.return,we)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Np(s,m,o!==null?o.memoizedProps:m)),c&1024&&(Mp=!0);break;case 6:if(Vn(r,s),Ln(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(we){ut(s,s.return,we)}}break;case 3:if(bd=null,m=Us,Us=xd(r.containerInfo),Vn(r,s),Us=m,Ln(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{dl(r.containerInfo)}catch(we){ut(s,s.return,we)}Mp&&(Mp=!1,l_(s));break;case 4:c=Us,Us=xd(s.stateNode.containerInfo),Vn(r,s),Ln(s),Us=c;break;case 12:Vn(r,s),Ln(s);break;case 31:Vn(r,s),Ln(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,id(s,c)));break;case 13:Vn(r,s),Ln(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ad=vt()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,id(s,c)));break;case 22:m=s.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=zi,se=Yt;if(zi=Q||m,Yt=se||V,Vn(r,s),Yt=se,zi=Q,Ln(s),c&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||zi||Yt||$a(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(y=V.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=V.stateNode;var oe=V.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(we){ut(V,V.return,we)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(we){ut(V,V.return,we)}}}else if(r.tag===18){if(o===null){V=r;try{var ee=V.stateNode;m?X_(ee,!0):X_(V.stateNode,!1)}catch(we){ut(V,V.return,we)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,id(s,o))));break;case 19:Vn(r,s),Ln(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,id(s,c)));break;case 30:break;case 21:break;default:Vn(r,s),Ln(s)}}function Ln(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(Jb(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=Ip(s);sd(s,y,m);break;case 5:var b=o.stateNode;o.flags&32&&(Pn(b,""),o.flags&=-33);var A=Ip(s);sd(s,A,b);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=Ip(s);Dp(s,Q,V);break;default:throw Error(i(161))}}catch(se){ut(s,s.return,se)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function l_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;l_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Fi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)n_(s,r.alternate,r),r=r.sibling}function $a(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Rr(4,r,r.return),$a(r);break;case 1:mi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Xb(r,r.return,o),$a(r);break;case 27:Kc(r.stateNode);case 26:case 5:mi(r,r.return),$a(r);break;case 22:r.memoizedState===null&&$a(r);break;case 30:$a(r);break;default:$a(r)}s=s.sibling}}function Hi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,y=r,b=y.flags;switch(y.tag){case 0:case 11:case 15:Hi(m,y,o),Vc(4,y);break;case 1:if(Hi(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){ut(c,c.return,Q)}if(c=y,m=c.updateQueue,m!==null){var A=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Uv(V[m],A)}catch(Q){ut(c,c.return,Q)}}o&&b&64&&Wb(y),Lc(y,y.return);break;case 27:e_(y);case 26:case 5:Hi(m,y,o),o&&c===null&&b&4&&Zb(y),Lc(y,y.return);break;case 12:Hi(m,y,o);break;case 31:Hi(m,y,o),o&&b&4&&r_(m,y);break;case 13:Hi(m,y,o),o&&b&4&&a_(m,y);break;case 22:y.memoizedState===null&&Hi(m,y,o),Lc(y,y.return);break;case 30:break;default:Hi(m,y,o)}r=r.sibling}}function jp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Ec(o))}function Pp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ec(s))}function Bs(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)c_(s,r,o,c),r=r.sibling}function c_(s,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Bs(s,r,o,c),m&2048&&Vc(9,r);break;case 1:Bs(s,r,o,c);break;case 3:Bs(s,r,o,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ec(s)));break;case 12:if(m&2048){Bs(s,r,o,c),s=r.stateNode;try{var y=r.memoizedProps,b=y.id,A=y.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ut(r,r.return,V)}}else Bs(s,r,o,c);break;case 31:Bs(s,r,o,c);break;case 13:Bs(s,r,o,c);break;case 23:break;case 22:y=r.stateNode,b=r.alternate,r.memoizedState!==null?y._visibility&2?Bs(s,r,o,c):Uc(s,r):y._visibility&2?Bs(s,r,o,c):(y._visibility|=2,tl(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&jp(b,r);break;case 24:Bs(s,r,o,c),m&2048&&Pp(r.alternate,r);break;default:Bs(s,r,o,c)}}function tl(s,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,b=r,A=o,V=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:tl(y,b,A,V,m),Vc(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?tl(y,b,A,V,m):Uc(y,b):(se._visibility|=2,tl(y,b,A,V,m)),m&&Q&2048&&jp(b.alternate,b);break;case 24:tl(y,b,A,V,m),m&&Q&2048&&Pp(b.alternate,b);break;default:tl(y,b,A,V,m)}r=r.sibling}}function Uc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,m=c.flags;switch(c.tag){case 22:Uc(o,c),m&2048&&jp(c.alternate,c);break;case 24:Uc(o,c),m&2048&&Pp(c.alternate,c);break;default:Uc(o,c)}r=r.sibling}}var Bc=8192;function nl(s,r,o){if(s.subtreeFlags&Bc)for(s=s.child;s!==null;)u_(s,r,o),s=s.sibling}function u_(s,r,o){switch(s.tag){case 26:nl(s,r,o),s.flags&Bc&&s.memoizedState!==null&&NN(o,Us,s.memoizedState,s.memoizedProps);break;case 5:nl(s,r,o);break;case 3:case 4:var c=Us;Us=xd(s.stateNode.containerInfo),nl(s,r,o),Us=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Bc,Bc=16777216,nl(s,r,o),Bc=c):nl(s,r,o));break;default:nl(s,r,o)}}function h_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function zc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];cn=c,f_(c,s)}h_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d_(s),s=s.sibling}function d_(s){switch(s.tag){case 0:case 11:case 15:zc(s),s.flags&2048&&Rr(9,s,s.return);break;case 3:zc(s);break;case 12:zc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,rd(s)):zc(s);break;default:zc(s)}}function rd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];cn=c,f_(c,s)}h_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Rr(8,r,r.return),rd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,rd(r));break;default:rd(r)}s=s.sibling}}function f_(s,r){for(;cn!==null;){var o=cn;switch(o.tag){case 0:case 11:case 15:Rr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ec(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,cn=c;else e:for(o=s;cn!==null;){c=cn;var m=c.sibling,y=c.return;if(s_(c),c===o){cn=null;break e}if(m!==null){m.return=y,cn=m;break e}cn=y}}}var GR={getCacheForType:function(s){var r=gn($t),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return gn($t).controller.signal}},$R=typeof WeakMap=="function"?WeakMap:Map,at=0,xt=null,Fe=null,Ge=0,ct=0,ts=null,Nr=!1,sl=!1,Op=!1,Gi=0,Mt=0,Ir=0,Ka=0,Vp=0,ns=0,il=0,qc=null,Un=null,Lp=!1,ad=0,m_=0,od=1/0,ld=null,Dr=null,tn=0,Mr=null,rl=null,$i=0,Up=0,Bp=null,p_=null,Fc=0,zp=null;function ss(){return(at&2)!==0&&Ge!==0?Ge&-Ge:te.T!==null?Kp():ch()}function g_(){if(ns===0)if((Ge&536870912)===0||Xe){var s=ba;ba<<=1,(ba&3932160)===0&&(ba=262144),ns=s}else ns=536870912;return s=Jn.current,s!==null&&(s.flags|=32),ns}function Bn(s,r,o){(s===xt&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(al(s,0),jr(s,Ge,ns,!1)),_a(s,o),((at&2)===0||s!==xt)&&(s===xt&&((at&2)===0&&(Ka|=o),Mt===4&&jr(s,Ge,ns,!1)),pi(s))}function y_(s,r,o){if((at&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||Ns(s,r),m=c?YR(s,r):Fp(s,r,!0),y=c;do{if(m===0){sl&&!c&&jr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!KR(o)){m=Fp(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=s;m=qc;var V=A.current.memoizedState.isDehydrated;if(V&&(al(A,b).flags|=256),b=Fp(A,b,!1),b!==2){if(Op&&!V){A.errorRecoveryDisabledLanes|=y,Ka|=y,m=4;break e}y=Un,Un=m,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){al(s,0),jr(s,r,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:jr(c,r,ns,!Nr);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=ad+300-vt(),10<m)){if(jr(c,r,ns,!Nr),Xs(c,0,!0)!==0)break e;$i=r,c.timeoutHandle=Q_(x_.bind(null,c,o,Un,ld,Lp,r,ns,Ka,il,Nr,y,"Throttled",-0,0),m);break e}x_(c,o,Un,ld,Lp,r,ns,Ka,il,Nr,y,null,-0,0)}}break}while(!0);pi(s)}function x_(s,r,o,c,m,y,b,A,V,Q,se,oe,X,ee){if(s.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ms},u_(r,y,oe);var we=(y&62914560)===y?ad-vt():(y&4194048)===y?m_-vt():0;if(we=IN(oe,we),we!==null){$i=y,s.cancelPendingCommit=we(S_.bind(null,s,r,y,o,c,m,b,A,V,se,oe,null,X,ee)),jr(s,y,b,!Q);return}}S_(s,r,y,o,c,m,b,A,V)}function KR(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!Xn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(s,r,o,c){r&=~Vp,r&=~Ka,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var y=31-Vt(m),b=1<<y;c[y]=-1,m&=~b}o!==0&&wa(s,o,r)}function cd(){return(at&6)===0?(Hc(0),!1):!0}function qp(){if(Fe!==null){if(ct===0)var s=Fe.return;else s=Fe,Pi=La=null,ip(s),Wo=null,Sc=0,s=Fe;for(;s!==null;)Yb(s.alternate,s),s=s.return;Fe=null}}function al(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,fN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),$i=0,qp(),xt=s,Fe=o=Mi(s.current,null),Ge=r,ct=0,ts=null,Nr=!1,sl=Ns(s,r),Op=!1,il=ns=Vp=Ka=Ir=Mt=0,Un=qc=null,Lp=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-Vt(c),y=1<<m;r|=s[m],c&=~y}return Gi=r,Nh(),o}function v_(s,r){ze=null,te.H=jc,r===Yo||r===Lh?(r=Pv(),ct=3):r===$m?(r=Pv(),ct=4):ct=r===bp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ts=r,Fe===null&&(Mt=1,Zh(s,ps(r,s.current)))}function b_(){var s=Jn.current;return s===null?!0:(Ge&4194048)===Ge?vs===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?s===vs:!1}function __(){var s=te.H;return te.H=jc,s===null?jc:s}function w_(){var s=te.A;return te.A=GR,s}function ud(){Mt=4,Nr||(Ge&4194048)!==Ge&&Jn.current!==null||(sl=!0),(Ir&134217727)===0&&(Ka&134217727)===0||xt===null||jr(xt,Ge,ns,!1)}function Fp(s,r,o){var c=at;at|=2;var m=__(),y=w_();(xt!==s||Ge!==r)&&(ld=null,al(s,r)),r=!1;var b=Mt;e:do try{if(ct!==0&&Fe!==null){var A=Fe,V=ts;switch(ct){case 8:qp(),b=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var Q=ct;if(ct=0,ts=null,ol(s,A,V,Q),o&&sl){b=0;break e}break;default:Q=ct,ct=0,ts=null,ol(s,A,V,Q)}}QR(),b=Mt;break}catch(se){v_(s,se)}while(!0);return r&&s.shellSuspendCounter++,Pi=La=null,at=c,te.H=m,te.A=y,Fe===null&&(xt=null,Ge=0,Nh()),b}function QR(){for(;Fe!==null;)T_(Fe)}function YR(s,r){var o=at;at|=2;var c=__(),m=w_();xt!==s||Ge!==r?(ld=null,od=vt()+500,al(s,r)):sl=Ns(s,r);e:do try{if(ct!==0&&Fe!==null){r=Fe;var y=ts;t:switch(ct){case 1:ct=0,ts=null,ol(s,r,y,1);break;case 2:case 9:if(Mv(y)){ct=0,ts=null,E_(r);break}r=function(){ct!==2&&ct!==9||xt!==s||(ct=7),pi(s)},y.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Mv(y)?(ct=0,ts=null,E_(r)):(ct=0,ts=null,ol(s,r,y,7));break;case 5:var b=null;switch(Fe.tag){case 26:b=Fe.memoizedState;case 5:case 27:var A=Fe;if(b?c1(b):A.stateNode.complete){ct=0,ts=null;var V=A.sibling;if(V!==null)Fe=V;else{var Q=A.return;Q!==null?(Fe=Q,hd(Q)):Fe=null}break t}}ct=0,ts=null,ol(s,r,y,5);break;case 6:ct=0,ts=null,ol(s,r,y,6);break;case 8:qp(),Mt=6;break e;default:throw Error(i(462))}}WR();break}catch(se){v_(s,se)}while(!0);return Pi=La=null,te.H=c,te.A=m,at=o,Fe!==null?0:(xt=null,Ge=0,Nh(),Mt)}function WR(){for(;Fe!==null&&!We();)T_(Fe)}function T_(s){var r=Kb(s.alternate,s,Gi);s.memoizedProps=s.pendingProps,r===null?hd(s):Fe=r}function E_(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=zb(o,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=zb(o,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:ip(r);default:Yb(o,r),r=Fe=wv(r,Gi),r=Kb(o,r,Gi)}s.memoizedProps=s.pendingProps,r===null?hd(s):Fe=r}function ol(s,r,o,c){Pi=La=null,ip(r),Wo=null,Sc=0;var m=r.return;try{if(LR(s,m,r,o,Ge)){Mt=1,Zh(s,ps(o,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;Mt=1,Zh(s,ps(o,s.current)),Fe=null;return}r.flags&32768?(Xe||c===1?s=!0:sl||(Ge&536870912)!==0?s=!1:(Nr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),A_(r,s)):hd(r)}function hd(s){var r=s;do{if((r.flags&32768)!==0){A_(r,Nr);return}s=r.return;var o=zR(r.alternate,r,Gi);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);Mt===0&&(Mt=5)}function A_(s,r){do{var o=qR(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);Mt=6,Fe=null}function S_(s,r,o,c,m,y,b,A,V){s.cancelPendingCommit=null;do dd();while(tn!==0);if((at&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=Im,wm(s,o,y,b,A,V),s===xt&&(Fe=xt=null,Ge=0),rl=r,Mr=s,$i=o,Up=y,Bp=m,p_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eN(Qs,function(){return I_(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=te.T,te.T=null,m=he.p,he.p=2,b=at,at|=4;try{FR(s,r,o)}finally{at=b,he.p=m,te.T=c}}tn=1,C_(),k_(),R_()}}function C_(){if(tn===1){tn=0;var s=Mr,r=rl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=te.T,te.T=null;var c=he.p;he.p=2;var m=at;at|=4;try{o_(r,s);var y=tg,b=fv(s.containerInfo),A=y.focusedElem,V=y.selectionRange;if(b!==A&&A&&A.ownerDocument&&dv(A.ownerDocument.documentElement,A)){if(V!==null&&Sm(A)){var Q=V.start,se=V.end;if(se===void 0&&(se=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(se,A.value.length);else{var oe=A.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var ee=X.getSelection(),we=A.textContent.length,Re=Math.min(V.start,we),pt=V.end===void 0?Re:Math.min(V.end,we);!ee.extend&&Re>pt&&(b=pt,pt=Re,Re=b);var F=hv(A,Re),z=hv(A,pt);if(F&&z&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==z.node||ee.focusOffset!==z.offset)){var K=oe.createRange();K.setStart(F.node,F.offset),ee.removeAllRanges(),Re>pt?(ee.addRange(K),ee.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),ee.addRange(K))}}}}for(oe=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var re=oe[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ed=!!eg,tg=eg=null}finally{at=m,he.p=c,te.T=o}}s.current=r,tn=2}}function k_(){if(tn===2){tn=0;var s=Mr,r=rl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=te.T,te.T=null;var c=he.p;he.p=2;var m=at;at|=4;try{n_(s,r.alternate,r)}finally{at=m,he.p=c,te.T=o}}tn=3}}function R_(){if(tn===4||tn===3){tn=0,Je();var s=Mr,r=rl,o=$i,c=p_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?tn=5:(tn=0,rl=Mr=null,N_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Dr=null),Ri(o),r=r.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Qn,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=te.T,m=he.p,he.p=2,te.T=null;try{for(var y=s.onRecoverableError,b=0;b<c.length;b++){var A=c[b];y(A.value,{componentStack:A.stack})}}finally{te.T=r,he.p=m}}($i&3)!==0&&dd(),pi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===zp?Fc++:(Fc=0,zp=s):Fc=0,Hc(0)}}function N_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ec(r)))}function dd(){return C_(),k_(),R_(),I_()}function I_(){if(tn!==5)return!1;var s=Mr,r=Up;Up=0;var o=Ri($i),c=te.T,m=he.p;try{he.p=32>o?32:o,te.T=null,o=Bp,Bp=null;var y=Mr,b=$i;if(tn=0,rl=Mr=null,$i=0,(at&6)!==0)throw Error(i(331));var A=at;if(at|=4,d_(y.current),c_(y,y.current,b,o),at=A,Hc(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Qn,y)}catch{}return!0}finally{he.p=m,te.T=c,N_(s,r)}}function D_(s,r,o){r=ps(o,r),r=vp(s.stateNode,r,2),s=Sr(s,r,2),s!==null&&(_a(s,2),pi(s))}function ut(s,r,o){if(s.tag===3)D_(s,s,o);else for(;r!==null;){if(r.tag===3){D_(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Dr===null||!Dr.has(c))){s=ps(o,s),o=Mb(2),c=Sr(r,o,2),c!==null&&(jb(o,c,r,s),_a(c,2),pi(c));break}}r=r.return}}function Hp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new $R;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Op=!0,m.add(o),s=XR.bind(null,s,r,o),r.then(s,s))}function XR(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,xt===s&&(Ge&o)===o&&(Mt===4||Mt===3&&(Ge&62914560)===Ge&&300>vt()-ad?(at&2)===0&&al(s,0):Vp|=o,il===Ge&&(il=0)),pi(s)}function M_(s,r){r===0&&(r=lh()),s=Pa(s,r),s!==null&&(_a(s,r),pi(s))}function ZR(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),M_(s,o)}function JR(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),M_(s,o)}function eN(s,r){return ye(s,r)}var fd=null,ll=null,Gp=!1,md=!1,$p=!1,Pr=0;function pi(s){s!==ll&&s.next===null&&(ll===null?fd=ll=s:ll=ll.next=s),md=!0,Gp||(Gp=!0,nN())}function Hc(s,r){if(!$p&&md){$p=!0;do for(var o=!1,c=fd;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var b=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-Vt(42|s)+1)-1,y&=m&~(b&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,V_(c,y))}else y=Ge,y=Xs(c,c===xt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ns(c,y)||(o=!0,V_(c,y));c=c.next}while(o);$p=!1}}function tN(){j_()}function j_(){md=Gp=!1;var s=0;Pr!==0&&dN()&&(s=Pr);for(var r=vt(),o=null,c=fd;c!==null;){var m=c.next,y=P_(c,r);y===0?(c.next=null,o===null?fd=m:o.next=m,m===null&&(ll=o)):(o=c,(s!==0||(y&3)!==0)&&(md=!0)),c=m}tn!==0&&tn!==5||Hc(s),Pr!==0&&(Pr=0)}function P_(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var b=31-Vt(y),A=1<<b,V=m[b];V===-1?((A&o)===0||(A&c)!==0)&&(m[b]=_m(A,r)):V<=r&&(s.expiredLanes|=A),y&=~A}if(r=xt,o=Ge,o=Xs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Oe(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Ns(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Oe(c),Ri(o)){case 2:case 8:o=xa;break;case 32:o=Qs;break;case 268435456:o=va;break;default:o=Qs}return c=O_.bind(null,s),o=ye(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Oe(c),s.callbackPriority=2,s.callbackNode=null,2}function O_(s,r){if(tn!==0&&tn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(dd()&&s.callbackNode!==o)return null;var c=Ge;return c=Xs(s,s===xt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(y_(s,c,r),P_(s,vt()),s.callbackNode!=null&&s.callbackNode===o?O_.bind(null,s):null)}function V_(s,r){if(dd())return null;y_(s,r,!0)}function nN(){mN(function(){(at&6)!==0?ye(ls,tN):j_()})}function Kp(){if(Pr===0){var s=Ko;s===0&&(s=Ys,Ys<<=1,(Ys&261888)===0&&(Ys=256)),Pr=s}return Pr}function L_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Do(""+s)}function U_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function sN(s,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var y=L_((m[on]||null).action),b=c.submitter;b&&(r=(r=b[on]||null)?L_(r.formAction):b.getAttribute("formAction"),r!==null&&(y=r,b=null));var A=new li("action","action",null,c,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pr!==0){var V=b?U_(m,b):new FormData(m);fp(o,{pending:!0,data:V,method:m.method,action:y},null,V)}}else typeof y=="function"&&(A.preventDefault(),V=b?U_(m,b):new FormData(m),fp(o,{pending:!0,data:V,method:m.method,action:y},y,V))},currentTarget:m}]})}}for(var Qp=0;Qp<Nm.length;Qp++){var Yp=Nm[Qp],iN=Yp.toLowerCase(),rN=Yp[0].toUpperCase()+Yp.slice(1);Ls(iN,"on"+rN)}Ls(gv,"onAnimationEnd"),Ls(yv,"onAnimationIteration"),Ls(xv,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(_R,"onTransitionRun"),Ls(wR,"onTransitionStart"),Ls(TR,"onTransitionCancel"),Ls(vv,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function B_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Q;try{y(m)}catch(se){Rh(se)}m.currentTarget=null,y=V}else for(b=0;b<c.length;b++){if(A=c[b],V=A.instance,Q=A.currentTarget,A=A.listener,V!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Q;try{y(m)}catch(se){Rh(se)}m.currentTarget=null,y=V}}}}function He(s,r){var o=r[Co];o===void 0&&(o=r[Co]=new Set);var c=s+"__bubble";o.has(c)||(z_(r,s,2,!1),o.add(c))}function Wp(s,r,o){var c=0;r&&(c|=4),z_(o,s,c,r)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Xp(s){if(!s[pd]){s[pd]=!0,sc.forEach(function(o){o!=="selectionchange"&&(aN.has(o)||Wp(o,!1,s),Wp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[pd]||(r[pd]=!0,Wp("selectionchange",!1,r))}}function z_(s,r,o,c){switch(g1(r)){case 2:var m=jN;break;case 8:m=PN;break;default:m=dg}o=m.bind(null,r,o,s),m=void 0,!Ca||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function Zp(s,r,o,c,m){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=ti(A),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=y=b;continue e}A=A.parentNode}}c=c.return}gr(function(){var Q=y,se=hs(o),oe=[];e:{var X=bv.get(s);if(X!==void 0){var ee=li,we=s;switch(s){case"keypress":if(Ra(o)===0)break e;case"keydown":case"keyup":ee=Sh;break;case"focusin":we="focus",ee=Ia;break;case"focusout":we="blur",ee=Ia;break;case"beforeblur":case"afterblur":ee=Ia;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case gv:case yv:case xv:ee=vh;break;case vv:ee=k;break;case"scroll":case"scrollend":ee=pc;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Di;break;case"toggle":case"beforetoggle":ee=Be}var Re=(r&4)!==0,pt=!Re&&(s==="scroll"||s==="scrollend"),F=Re?X!==null?X+"Capture":null:X;Re=[];for(var z=Q,K;z!==null;){var re=z;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||F===null||(re=js(z,F),re!=null&&Re.push($c(z,re,K))),pt)break;z=z.return}0<Re.length&&(X=new ee(X,we,null,o,se),oe.push({event:X,listeners:Re}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",X&&o!==dc&&(we=o.relatedTarget||o.fromElement)&&(ti(we)||we[Js]))break e;if((ee||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(we=o.relatedTarget||o.toElement,ee=Q,we=we?ti(we):null,we!==null&&(pt=l(we),Re=we.tag,we!==pt||Re!==5&&Re!==27&&Re!==6)&&(we=null)):(ee=null,we=Q),ee!==we)){if(Re=gc,re="onMouseLeave",F="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Re=Di,re="onPointerLeave",F="onPointerEnter",z="pointer"),pt=ee==null?X:Yn(ee),K=we==null?X:Yn(we),X=new Re(re,z+"leave",ee,o,se),X.target=pt,X.relatedTarget=K,re=null,ti(se)===Q&&(Re=new Re(F,z+"enter",we,o,se),Re.target=K,Re.relatedTarget=pt,re=Re),pt=re,ee&&we)t:{for(Re=oN,F=ee,z=we,K=0,re=F;re;re=Re(re))K++;re=0;for(var Se=z;Se;Se=Re(Se))re++;for(;0<K-re;)F=Re(F),K--;for(;0<re-K;)z=Re(z),re--;for(;K--;){if(F===z||z!==null&&F===z.alternate){Re=F;break t}F=Re(F),z=Re(z)}Re=null}else Re=null;ee!==null&&q_(oe,X,ee,Re,!1),we!==null&&pt!==null&&q_(oe,pt,we,Re,!0)}}e:{if(X=Q?Yn(Q):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var nt=rv;else if(sv(X))if(av)nt=xR;else{nt=gR;var Te=pR}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Io(Q.elementType)&&(nt=rv):nt=yR;if(nt&&(nt=nt(s,Q))){iv(oe,nt,o,se);break e}Te&&Te(s,X,Q),s==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&cc(X,"number",X.value)}switch(Te=Q?Yn(Q):window,s){case"focusin":(sv(Te)||Te.contentEditable==="true")&&(Uo=Te,Cm=Q,_c=null);break;case"focusout":_c=Cm=Uo=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,mv(oe,o,se);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":mv(oe,o,se)}var qe;if(rt)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Lo?Da(s,o)&&($e="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(hi&&o.locale!=="ko"&&(Lo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Lo&&(qe=mc()):(oi=se,fc="value"in oi?oi.value:oi.textContent,Lo=!0)),Te=gd(Q,$e),0<Te.length&&($e=new ui($e,s,null,o,se),oe.push({event:$e,listeners:Te}),qe?$e.data=qe:(qe=Vo(o),qe!==null&&($e.data=qe)))),(qe=fs?hR(s,o):dR(s,o))&&($e=gd(Q,"onBeforeInput"),0<$e.length&&(Te=new ui("onBeforeInput","beforeinput",null,o,se),oe.push({event:Te,listeners:$e}),Te.data=qe)),sN(oe,s,Q,o,se)}B_(oe,r)})}function $c(s,r,o){return{instance:s,listener:r,currentTarget:o}}function gd(s,r){for(var o=r+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=js(s,o),m!=null&&c.unshift($c(s,m,y)),m=js(s,r),m!=null&&c.push($c(s,m,y))),s.tag===3)return c;s=s.return}return[]}function oN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function q_(s,r,o,c,m){for(var y=r._reactName,b=[];o!==null&&o!==c;){var A=o,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===c)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,m?(Q=js(o,y),Q!=null&&b.unshift($c(o,Q,V))):m||(Q=js(o,y),Q!=null&&b.push($c(o,Q,V)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var lN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function F_(s){return(typeof s=="string"?s:""+s).replace(lN,`
`).replace(cN,"")}function H_(s,r){return r=F_(r),F_(s)===r}function mt(s,r,o,c,m,y){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Pn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Pn(s,""+c);break;case"className":Wn(s,"class",c);break;case"tabIndex":Wn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(s,o,c);break;case"style":hc(s,c,y);break;case"data":if(r!=="object"){Wn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Do(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&mt(s,r,"name",m.name,m,null),mt(s,r,"formEncType",m.formEncType,m,null),mt(s,r,"formMethod",m.formMethod,m,null),mt(s,r,"formTarget",m.formTarget,m,null)):(mt(s,r,"encType",m.encType,m,null),mt(s,r,"method",m.method,m,null),mt(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Do(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=Ms);break;case"onScroll":c!=null&&He("scroll",s);break;case"onScrollEnd":c!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Do(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":He("beforetoggle",s),He("toggle",s),Ro(s,"popover",c);break;case"xlinkActuate":Gt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ro(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gh.get(o)||o,Ro(s,o,c))}}function Jp(s,r,o,c,m,y){switch(o){case"style":hc(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?Pn(s,c):(typeof c=="number"||typeof c=="bigint")&&Pn(s,""+c);break;case"onScroll":c!=null&&He("scroll",s);break;case"onScrollEnd":c!=null&&He("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ic.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[on]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,m);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Ro(s,o,c)}}}function xn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var b=o[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:mt(s,r,y,b,o,null)}}m&&mt(s,r,"srcSet",o.srcSet,o,null),c&&mt(s,r,"src",o.src,o,null);return;case"input":He("invalid",s);var A=y=b=m=null,V=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":m=se;break;case"type":b=se;break;case"checked":V=se;break;case"defaultChecked":Q=se;break;case"value":y=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,r));break;default:mt(s,r,c,se,o,null)}}fh(s,y,A,V,Q,b,m,!1);return;case"select":He("invalid",s),c=b=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:mt(s,r,m,A,o,null)}r=y,o=b,s.multiple=!!c,r!=null?dr(s,!!c,r,!1):o!=null&&dr(s,!!c,o,!0);return;case"textarea":He("invalid",s),y=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:mt(s,r,b,A,o,null)}fr(s,c,m,y);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":mt(s,r,V,c,o,null));return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(c=0;c<Gc.length;c++)He(Gc[c],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:mt(s,r,Q,c,o,null)}return;default:if(Io(r)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Jp(s,r,se,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&mt(s,r,A,c,o,null))}function uN(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,A=null,V=null,Q=null,se=null;for(ee in o){var oe=o[ee];if(o.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=oe;default:c.hasOwnProperty(ee)||mt(s,r,ee,null,c,oe)}}for(var X in c){var ee=c[X];if(oe=o[X],c.hasOwnProperty(X)&&(ee!=null||oe!=null))switch(X){case"type":y=ee;break;case"name":m=ee;break;case"checked":Q=ee;break;case"defaultChecked":se=ee;break;case"value":b=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:ee!==oe&&mt(s,r,X,ee,c,oe)}}No(s,b,A,V,Q,se,y,m);return;case"select":ee=b=A=X=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":ee=V;default:c.hasOwnProperty(y)||mt(s,r,y,null,c,V)}for(m in c)if(y=c[m],V=o[m],c.hasOwnProperty(m)&&(y!=null||V!=null))switch(m){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":b=y;default:y!==V&&mt(s,r,m,y,c,V)}r=A,o=b,c=ee,X!=null?dr(s,!!o,X,!1):!!c!=!!o&&(r!=null?dr(s,!!o,r,!0):dr(s,!!o,o?[]:"",!1));return;case"textarea":ee=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:mt(s,r,A,null,c,m)}for(b in c)if(m=c[b],y=o[b],c.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":X=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&mt(s,r,b,m,c,y)}mh(s,X,ee);return;case"option":for(var we in o)X=o[we],o.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&(we==="selected"?s.selected=!1:mt(s,r,we,null,c,X));for(V in c)X=c[V],ee=o[V],c.hasOwnProperty(V)&&X!==ee&&(X!=null||ee!=null)&&(V==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":mt(s,r,V,X,c,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)X=o[Re],o.hasOwnProperty(Re)&&X!=null&&!c.hasOwnProperty(Re)&&mt(s,r,Re,null,c,X);for(Q in c)if(X=c[Q],ee=o[Q],c.hasOwnProperty(Q)&&X!==ee&&(X!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:mt(s,r,Q,X,c,ee)}return;default:if(Io(r)){for(var pt in o)X=o[pt],o.hasOwnProperty(pt)&&X!==void 0&&!c.hasOwnProperty(pt)&&Jp(s,r,pt,void 0,c,X);for(se in c)X=c[se],ee=o[se],!c.hasOwnProperty(se)||X===ee||X===void 0&&ee===void 0||Jp(s,r,se,X,c,ee);return}}for(var F in o)X=o[F],o.hasOwnProperty(F)&&X!=null&&!c.hasOwnProperty(F)&&mt(s,r,F,null,c,X);for(oe in c)X=c[oe],ee=o[oe],!c.hasOwnProperty(oe)||X===ee||X==null&&ee==null||mt(s,r,oe,X,c,ee)}function G_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],y=m.transferSize,b=m.initiatorType,A=m.duration;if(y&&A&&G_(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var V=o[c],Q=V.startTime;if(Q>A)break;var se=V.transferSize,oe=V.initiatorType;se&&G_(oe)&&(V=V.responseEnd,b+=se*(V<A?1:(A-Q)/(V-Q)))}if(--c,r+=8*(y+b)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var eg=null,tg=null;function yd(s){return s.nodeType===9?s:s.ownerDocument}function $_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function ng(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sg=null;function dN(){var s=window.event;return s&&s.type==="popstate"?s===sg?!1:(sg=s,!0):(sg=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,fN=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(s){return Y_.resolve(null).then(s).catch(pN)}:Q_;function pN(s){setTimeout(function(){throw s})}function Or(s){return s==="head"}function W_(s,r){var o=r,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(m),dl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Kc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Kc(o);for(var y=o.firstChild;y;){var b=y.nextSibling,A=y.nodeName;y[ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=b}}else o==="body"&&Kc(s.ownerDocument.body);o=m}while(o);dl(r)}function X_(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function ig(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ig(o),ko(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function gN(s,r,o,c){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ei])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=bs(s.nextSibling),s===null)break}return null}function yN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=bs(s.nextSibling),s===null))return null;return s}function Z_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=bs(s.nextSibling),s===null))return null;return s}function rg(s){return s.data==="$?"||s.data==="$~"}function ag(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function xN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function bs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var og=null;function J_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return bs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function e1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function t1(s,r,o){switch(r=yd(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Kc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ko(s)}var _s=new Map,n1=new Set;function xd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ki=he.d;he.d={f:vN,r:bN,D:_N,C:wN,L:TN,m:EN,X:SN,S:AN,M:CN};function vN(){var s=Ki.f(),r=cd();return s||r}function bN(s){var r=us(s);r!==null&&r.tag===5&&r.type==="form"?vb(r):Ki.r(s)}var cl=typeof document>"u"?null:document;function s1(s,r,o){var c=cl;if(c&&typeof r=="string"&&r){var m=jn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),n1.has(m)||(n1.add(m),s={rel:s,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),xn(r,"link",s),Ht(r),c.head.appendChild(r)))}}function _N(s){Ki.D(s),s1("dns-prefetch",s,null)}function wN(s,r){Ki.C(s,r),s1("preconnect",s,r)}function TN(s,r,o){Ki.L(s,r,o);var c=cl;if(c&&s&&r){var m='link[rel="preload"][as="'+jn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+jn(o.imageSizes)+'"]')):m+='[href="'+jn(s)+'"]';var y=m;switch(r){case"style":y=ul(s);break;case"script":y=hl(s)}_s.has(y)||(s=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),_s.set(y,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(Qc(y))||r==="script"&&c.querySelector(Yc(y))||(r=c.createElement("link"),xn(r,"link",s),Ht(r),c.head.appendChild(r)))}}function EN(s,r){Ki.m(s,r);var o=cl;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+jn(c)+'"][href="'+jn(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(s)}if(!_s.has(y)&&(s=_({rel:"modulepreload",href:s},r),_s.set(y,s),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yc(y)))return}c=o.createElement("link"),xn(c,"link",s),Ht(c),o.head.appendChild(c)}}}function AN(s,r,o){Ki.S(s,r,o);var c=cl;if(c&&s){var m=ni(c).hoistableStyles,y=ul(s);r=r||"default";var b=m.get(y);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Qc(y)))A.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":r},o),(o=_s.get(y))&&lg(s,o);var V=b=c.createElement("link");Ht(V),xn(V,"link",s),V._p=new Promise(function(Q,se){V.onload=Q,V.onerror=se}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vd(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(y,b)}}}function SN(s,r){Ki.X(s,r);var o=cl;if(o&&s){var c=ni(o).hoistableScripts,m=hl(s),y=c.get(m);y||(y=o.querySelector(Yc(m)),y||(s=_({src:s,async:!0},r),(r=_s.get(m))&&cg(s,r),y=o.createElement("script"),Ht(y),xn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function CN(s,r){Ki.M(s,r);var o=cl;if(o&&s){var c=ni(o).hoistableScripts,m=hl(s),y=c.get(m);y||(y=o.querySelector(Yc(m)),y||(s=_({src:s,async:!0,type:"module"},r),(r=_s.get(m))&&cg(s,r),y=o.createElement("script"),Ht(y),xn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function i1(s,r,o,c){var m=(m=de.current)?xd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ul(o.href),o=ni(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=ul(o.href);var y=ni(m).hoistableStyles,b=y.get(s);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,b),(y=m.querySelector(Qc(s)))&&!y._p&&(b.instance=y,b.state.loading=5),_s.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_s.set(s,o),y||kN(m,s,o,b.state))),r&&c===null)throw Error(i(528,""));return b}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hl(o),o=ni(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ul(s){return'href="'+jn(s)+'"'}function Qc(s){return'link[rel="stylesheet"]['+s+"]"}function r1(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function kN(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),xn(r,"link",o),Ht(r),s.head.appendChild(r))}function hl(s){return'[src="'+jn(s)+'"]'}function Yc(s){return"script[async]"+s}function a1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+jn(o.href)+'"]');if(c)return r.instance=c,Ht(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Ht(c),xn(c,"style",m),vd(c,o.precedence,s),r.instance=c;case"stylesheet":m=ul(o.href);var y=s.querySelector(Qc(m));if(y)return r.state.loading|=4,r.instance=y,Ht(y),y;c=r1(o),(m=_s.get(m))&&lg(c,m),y=(s.ownerDocument||s).createElement("link"),Ht(y);var b=y;return b._p=new Promise(function(A,V){b.onload=A,b.onerror=V}),xn(y,"link",c),r.state.loading|=4,vd(y,o.precedence,s),r.instance=y;case"script":return y=hl(o.src),(m=s.querySelector(Yc(y)))?(r.instance=m,Ht(m),m):(c=o,(m=_s.get(y))&&(c=_({},o),cg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ht(m),xn(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,vd(c,o.precedence,s));return r.instance}function vd(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function lg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function cg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var bd=null;function o1(s,r,o){if(bd===null){var c=new Map,m=bd=new Map;m.set(o,c)}else m=bd,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[ei]||y[Ft]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(r)||"";b=s+b;var A=c.get(b);A?A.push(y):c.set(b,[y])}}return c}function l1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function RN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function c1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function NN(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ul(c.href),y=r.querySelector(Qc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=_d.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Ht(y);return}y=r.ownerDocument||r,c=r1(c),(m=_s.get(m))&&lg(c,m),y=y.createElement("link"),Ht(y);var b=y;b._p=new Promise(function(A,V){b.onload=A,b.onerror=V}),xn(y,"link",c),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=_d.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var ug=0;function IN(s,r){return s.stylesheets&&s.count===0&&Td(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Td(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&ug===0&&(ug=62500*hN());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Td(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>ug?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function _d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Td(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wd=null;function Td(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wd=new Map,r.forEach(DN,s),wd=null,_d.call(s))}function DN(s,r){if(!(r.state.loading&4)){var o=wd.get(s);if(o)var c=o.get(null);else{o=new Map,wd.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),y=o.get(b)||c,y===c&&o.set(null,m),o.set(b,m),this.count++,c=_d.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Wc={$$typeof:H,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function MN(s,r,o,c,m,y,b,A,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function u1(s,r,o,c,m,y,b,A,V,Q,se,oe){return s=new MN(s,r,o,b,V,Q,se,oe,A),r=1,y===!0&&(r|=24),y=Zn(3,null,null,r),s.current=y,y.stateNode=s,r=Fm(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:r},Km(y),s}function h1(s){return s?(s=qo,s):qo}function d1(s,r,o,c,m,y){m=h1(m),c.context===null?c.context=m:c.pendingContext=m,c=Ar(r),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Sr(s,c,r),o!==null&&(Bn(o,s,r),kc(o,s,r))}function f1(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function hg(s,r){f1(s,r),(s=s.alternate)&&f1(s,r)}function m1(s){if(s.tag===13||s.tag===31){var r=Pa(s,67108864);r!==null&&Bn(r,s,67108864),hg(s,67108864)}}function p1(s){if(s.tag===13||s.tag===31){var r=ss();r=Ta(r);var o=Pa(s,r);o!==null&&Bn(o,s,r),hg(s,r)}}var Ed=!0;function jN(s,r,o,c){var m=te.T;te.T=null;var y=he.p;try{he.p=2,dg(s,r,o,c)}finally{he.p=y,te.T=m}}function PN(s,r,o,c){var m=te.T;te.T=null;var y=he.p;try{he.p=8,dg(s,r,o,c)}finally{he.p=y,te.T=m}}function dg(s,r,o,c){if(Ed){var m=fg(c);if(m===null)Zp(s,r,c,Ad,o),y1(s,c);else if(VN(m,s,r,o,c))c.stopPropagation();else if(y1(s,c),r&4&&-1<ON.indexOf(s)){for(;m!==null;){var y=us(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=Ws(y.pendingLanes);if(b!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var V=1<<31-Vt(b);A.entanglements[1]|=V,b&=~V}pi(y),(at&6)===0&&(od=vt()+500,Hc(0))}}break;case 31:case 13:A=Pa(y,2),A!==null&&Bn(A,y,2),cd(),hg(y,2)}if(y=fg(c),y===null&&Zp(s,r,c,Ad,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else Zp(s,r,c,null,o)}}function fg(s){return s=hs(s),mg(s)}var Ad=null;function mg(s){if(Ad=null,s=ti(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=f(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ad=s,null}function g1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case ls:return 2;case xa:return 8;case Qs:case Eo:return 32;case va:return 268435456;default:return 32}default:return 32}}var pg=!1,Vr=null,Lr=null,Ur=null,Xc=new Map,Zc=new Map,Br=[],ON="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y1(s,r){switch(s){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Xc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(r.pointerId)}}function Jc(s,r,o,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},r!==null&&(r=us(r),r!==null&&m1(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function VN(s,r,o,c,m){switch(r){case"focusin":return Vr=Jc(Vr,s,r,o,c,m),!0;case"dragenter":return Lr=Jc(Lr,s,r,o,c,m),!0;case"mouseover":return Ur=Jc(Ur,s,r,o,c,m),!0;case"pointerover":var y=m.pointerId;return Xc.set(y,Jc(Xc.get(y)||null,s,r,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Zc.set(y,Jc(Zc.get(y)||null,s,r,o,c,m)),!0}return!1}function x1(s){var r=ti(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,Is(s.priority,function(){p1(o)});return}}else if(r===31){if(r=f(o),r!==null){s.blockedOn=r,Is(s.priority,function(){p1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Sd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=fg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);dc=c,o.target.dispatchEvent(c),dc=null}else return r=us(o),r!==null&&m1(r),s.blockedOn=o,!1;r.shift()}return!0}function v1(s,r,o){Sd(s)&&o.delete(r)}function LN(){pg=!1,Vr!==null&&Sd(Vr)&&(Vr=null),Lr!==null&&Sd(Lr)&&(Lr=null),Ur!==null&&Sd(Ur)&&(Ur=null),Xc.forEach(v1),Zc.forEach(v1)}function Cd(s,r){s.blockedOn===r&&(s.blockedOn=null,pg||(pg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LN)))}var kd=null;function b1(s){kd!==s&&(kd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kd===s&&(kd=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(mg(c||o)===null)continue;break}var y=us(o);y!==null&&(s.splice(r,3),r-=3,fp(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function dl(s){function r(V){return Cd(V,s)}Vr!==null&&Cd(Vr,s),Lr!==null&&Cd(Lr,s),Ur!==null&&Cd(Ur,s),Xc.forEach(r),Zc.forEach(r);for(var o=0;o<Br.length;o++){var c=Br[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Br.length&&(o=Br[0],o.blockedOn===null);)x1(o),o.blockedOn===null&&Br.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],b=m[on]||null;if(typeof y=="function")b||b1(o);else if(b){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[on]||null)A=b.formAction;else if(mg(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),b1(o)}}}function _1(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function gg(s){this._internalRoot=s}Rd.prototype.render=gg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=ss();d1(o,c,s,r,null,null)},Rd.prototype.unmount=gg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;d1(s.current,2,null,s,null,null),cd(),r[Js]=null}};function Rd(s){this._internalRoot=s}Rd.prototype.unstable_scheduleHydration=function(s){if(s){var r=ch();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Br.length&&r!==0&&r<Br[o].priority;o++);Br.splice(o,0,s),o===0&&x1(s)}};var w1=e.version;if(w1!=="19.2.3")throw Error(i(527,w1,"19.2.3"));he.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var UN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{Qn=Nd.inject(UN),fn=Nd}catch{}}return tu.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",m=Rb,y=Nb,b=Ib;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=u1(s,1,!1,null,null,o,c,null,m,y,b,_1),s[Js]=r.current,Xp(s),new gg(r)},tu.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,m="",y=Rb,b=Nb,A=Ib,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=u1(s,1,!0,r,o??null,c,m,V,y,b,A,_1),r.context=h1(null),o=r.current,c=ss(),c=Ta(c),m=Ar(c),m.callback=null,Sr(o,m,c),o=c,r.current.lanes=o,_a(r,o),pi(r),s[Js]=r.current,Xp(s),new Rd(r)},tu.version="19.2.3",tu}var D1;function WN(){if(D1)return vg.exports;D1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=YN(),vg.exports}var XN=WN();const ZN=()=>{};var M1={};const XE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},JN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,g=p?t[a+2]:0,x=l>>2,_=(l&3)<<4|f>>4;let T=(f&15)<<2|g>>6,C=g&63;p||(C=64,u||(T=64)),i.push(n[x],n[_],n[T],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||_==null)throw new eI;const T=l<<2|f>>4;if(i.push(T),g!==64){const C=f<<4&240|g>>2;if(i.push(C),_!==64){const D=g<<6&192|_;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tI=function(t){const e=XE(t);return ZE.encodeByteArray(e,!0)},af=function(t){return tI(t).replace(/\./g,"")},JE=function(t){try{return ZE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sI=()=>nI().__FIREBASE_DEFAULTS__,iI=()=>{if(typeof process>"u"||typeof M1>"u")return;const t=M1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JE(t[1]);return e&&JSON.parse(e)},Vf=()=>{try{return ZN()||sI()||iI()||rI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eA=t=>Vf()?.emulatorHosts?.[t],tA=t=>{const e=eA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},nA=()=>Vf()?.config,sA=t=>Vf()?.[`_${t}`];class aI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d0(t){return(await fetch(t,{credentials:"include"})).ok}function iA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[af(JSON.stringify(n)),af(JSON.stringify(u)),""].join(".")}const fu={};function oI(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function lI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let j1=!1;function f0(t,e){if(typeof window>"u"||typeof document>"u"||!ca(window.location.host)||fu[t]===e||fu[t]||j1)return;fu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=oI().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{j1=!0,u()},T}function x(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=lI(i),C=n("text"),D=document.getElementById(C)||document.createElement("span"),L=n("learnmore"),M=document.getElementById(L)||document.createElement("a"),q=n("preprendIcon"),Y=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;f(H),x(M,L);const ne=g();p(Y,q),H.append(Y,D,M,ne),document.body.appendChild(H)}l?(D.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function uI(){const t=Vf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fI(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mI(){return!uI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function pI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const gI="FirebaseError";class Rs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=gI,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?yI(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Rs(a,f,i)}}function yI(t,e){return t.replace(xI,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const xI=/\{\$([^}]+)}/g;function vI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(P1(l)&&P1(u)){if(!nr(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function P1(t){return t!==null&&typeof t=="object"}function Gu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ou(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bI(t,e){const n=new _I(t,e);return n.subscribe.bind(n)}class _I{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Tg),a.error===void 0&&(a.error=Tg),a.complete===void 0&&(a.complete=Tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tg(){}const TI=1e3,EI=2,AI=14400*1e3,SI=.5;function O1(t,e=TI,n=EI){const i=e*Math.pow(n,t),a=Math.round(SI*i*(Math.random()-.5)*2);return Math.min(AI,i+a)}function gt(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wa="[DEFAULT]";class CI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new aI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RI(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(t){return t===Wa?void 0:t}function RI(t){return t.instantiationMode==="EAGER"}class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const II={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},DI=Ke.INFO,MI={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},jI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=MI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=DI,this._logHandler=jI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?II[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const PI=(t,e)=>e.some(n=>t instanceof n);let V1,L1;function OI(){return V1||(V1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return L1||(L1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lA=new WeakMap,oy=new WeakMap,cA=new WeakMap,Eg=new WeakMap,m0=new WeakMap;function LI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Wr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&lA.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function UI(t){if(oy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});oy.set(t,e)}let ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BI(t){ly=t(ly)}function zI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ag(this),e,...n);return cA.set(i,e.sort?e.sort():[e]),Wr(i)}:VI().includes(t)?function(...e){return t.apply(Ag(this),e),Wr(lA.get(this))}:function(...e){return Wr(t.apply(Ag(this),e))}}function qI(t){return typeof t=="function"?zI(t):(t instanceof IDBTransaction&&UI(t),PI(t,OI())?new Proxy(t,ly):t)}function Wr(t){if(t instanceof IDBRequest)return LI(t);if(Eg.has(t))return Eg.get(t);const e=qI(t);return e!==t&&(Eg.set(t,e),m0.set(e,t)),e}const Ag=t=>m0.get(t);function uA(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Wr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Wr(u.result),p.oldVersion,p.newVersion,Wr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const FI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Sg=new Map;function U1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=HI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||FI.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&p.done]))[0]};return Sg.set(e,l),l}BI(t=>({...t,get:(e,n,i)=>U1(e,n)||t.get(e,n,i),has:(e,n)=>!!U1(e,n)||t.has(e,n)}));class GI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($I(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $I(t){return t.getComponent()?.type==="VERSION"}const cy="@firebase/app",B1="0.14.6";const sr=new Lf("@firebase/app"),KI="@firebase/app-compat",QI="@firebase/analytics-compat",YI="@firebase/analytics",WI="@firebase/app-check-compat",XI="@firebase/app-check",ZI="@firebase/auth",JI="@firebase/auth-compat",eD="@firebase/database",tD="@firebase/data-connect",nD="@firebase/database-compat",sD="@firebase/functions",iD="@firebase/functions-compat",rD="@firebase/installations",aD="@firebase/installations-compat",oD="@firebase/messaging",lD="@firebase/messaging-compat",cD="@firebase/performance",uD="@firebase/performance-compat",hD="@firebase/remote-config",dD="@firebase/remote-config-compat",fD="@firebase/storage",mD="@firebase/storage-compat",pD="@firebase/firestore",gD="@firebase/ai",yD="@firebase/firestore-compat",xD="firebase",vD="12.6.0";const uy="[DEFAULT]",bD={[cy]:"fire-core",[KI]:"fire-core-compat",[YI]:"fire-analytics",[QI]:"fire-analytics-compat",[XI]:"fire-app-check",[WI]:"fire-app-check-compat",[ZI]:"fire-auth",[JI]:"fire-auth-compat",[eD]:"fire-rtdb",[tD]:"fire-data-connect",[nD]:"fire-rtdb-compat",[sD]:"fire-fn",[iD]:"fire-fn-compat",[rD]:"fire-iid",[aD]:"fire-iid-compat",[oD]:"fire-fcm",[lD]:"fire-fcm-compat",[cD]:"fire-perf",[uD]:"fire-perf-compat",[hD]:"fire-rc",[dD]:"fire-rc-compat",[fD]:"fire-gcs",[mD]:"fire-gcs-compat",[pD]:"fire-fst",[yD]:"fire-fst-compat",[gD]:"fire-vertex","fire-js":"fire-js",[xD]:"fire-js-all"};const of=new Map,_D=new Map,hy=new Map;function z1(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $s(t){const e=t.name;if(hy.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,t);for(const n of of.values())z1(n,t);for(const n of _D.values())z1(n,t);return!0}function ua(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}const wD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new vo("app","Firebase",wD);class TD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const bo=vD;function hA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:uy,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=nA()),!n)throw Xr.create("no-options");const l=of.get(a);if(l){if(nr(n,l.options)&&nr(i,l.config))return l;throw Xr.create("duplicate-app",{appName:a})}const u=new NI(a);for(const p of hy.values())u.addComponent(p);const f=new TD(n,i,u);return of.set(a,f),f}function Uf(t=uy){const e=of.get(t);if(!e&&t===uy&&nA())return hA();if(!e)throw Xr.create("no-app",{appName:t});return e}function $n(t,e,n){let i=bD[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(u.join(" "));return}$s(new Cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ED="firebase-heartbeat-database",AD=1,Su="firebase-heartbeat-store";let Cg=null;function dA(){return Cg||(Cg=uA(ED,AD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),Cg}async function SD(t){try{const n=(await dA()).transaction(Su),i=await n.objectStore(Su).get(fA(t));return await n.done,i}catch(e){if(e instanceof Rs)sr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function q1(t,e){try{const i=(await dA()).transaction(Su,"readwrite");await i.objectStore(Su).put(e,fA(t)),await i.done}catch(n){if(n instanceof Rs)sr.warn(n.message);else{const i=Xr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(i.message)}}}function fA(t){return`${t.name}!${t.options.appId}`}const CD=1024,kD=30;class RD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ID(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=F1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>kD){const a=DD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F1(),{heartbeatsToSend:n,unsentEntries:i}=ND(this._heartbeatsCache.heartbeats),a=af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return sr.warn(e),""}}}function F1(){return new Date().toISOString().substring(0,10)}function ND(t,e=CD){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),H1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),H1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ID{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return q1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return q1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function H1(t){return af(JSON.stringify({version:2,heartbeats:t})).length}function DD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function MD(t){$s(new Cs("platform-logger",e=>new GI(e),"PRIVATE")),$s(new Cs("heartbeat",e=>new RD(e),"PRIVATE")),$n(cy,B1,t),$n(cy,B1,"esm2020"),$n("fire-js","")}MD("");function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jD=mA,pA=new vo("auth","Firebase",mA());const lf=new Lf("@firebase/auth");function PD(t,...e){lf.logLevel<=Ke.WARN&&lf.warn(`Auth (${bo}): ${t}`,...e)}function Hd(t,...e){lf.logLevel<=Ke.ERROR&&lf.error(`Auth (${bo}): ${t}`,...e)}function ks(t,...e){throw g0(t,...e)}function Gs(t,...e){return g0(t,...e)}function p0(t,e,n){const i={...jD(),[e]:n};return new vo("auth","Firebase",i).create(e,{appName:t.name})}function Ji(t){return p0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OD(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ks(t,"argument-error"),p0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return pA.create(t,...e)}function Ne(t,e,...n){if(!t)throw g0(e,...n)}function Wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function ir(t,e){t||Wi(e)}function dy(){return typeof self<"u"&&self.location?.href||""}function VD(){return G1()==="http:"||G1()==="https:"}function G1(){return typeof self<"u"&&self.location?.protocol||null}function LD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||rA()||"connection"in navigator)?navigator.onLine:!0}function UD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class $u{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=cI()||dI()}get(){return LD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function y0(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qD=new $u(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function da(t,e,n,i,a={}){return yA(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=Gu({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...l};return hI()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ca(t.emulatorConfig.host)&&(g.credentials="include"),gA.fetch()(await xA(t,t.config.apiHost,n,f),g)})}async function yA(t,e,n){t._canInitEmulator=!1;const i={...BD,...e};try{const a=new HD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Id(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw Id(t,"user-disabled",u);const x=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw p0(t,x,g);ks(t,x)}}catch(a){if(a instanceof Rs)throw a;ks(t,"network-request-failed",{message:String(a)})}}async function Ku(t,e,n,i,a={}){const l=await da(t,e,n,i,a);return"mfaPendingCredential"in l&&ks(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function xA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?y0(t.config,a):`${t.config.apiScheme}://${a}`;return zD.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function FD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gs(this.auth,"network-request-failed")),qD.get())})}}function Id(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Gs(t,e,i);return a.customData._tokenResponse=n,a}function $1(t){return t!==void 0&&t.enterprise!==void 0}class GD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $D(t,e){return da(t,"GET","/v2/recaptchaConfig",ha(t,e))}async function KD(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function cf(t,e){return da(t,"POST","/v1/accounts:lookup",e)}function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QD(t,e=!1){const n=gt(t),i=await n.getIdToken(e),a=x0(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:mu(kg(a.auth_time)),issuedAtTime:mu(kg(a.iat)),expirationTime:mu(kg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function kg(t){return Number(t)*1e3}function x0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const a=JE(n);return a?JSON.parse(a):(Hd("Failed to decode base64 JWT payload"),null)}catch(a){return Hd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function K1(t){const e=x0(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Rs&&YD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function YD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class WD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uf(t){const e=t.auth,n=await t.getIdToken(),i=await Cu(t,cf(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?vA(a.providerUserInfo):[],u=ZD(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,g=f?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new fy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,x)}async function XD(t){const e=gt(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZD(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function vA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function JD(t,e){const n=await yA(t,{},async()=>{const i=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await xA(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return t.emulatorConfig&&ca(t.emulatorConfig.host)&&(p.credentials="include"),gA.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eM(t,e){return da(t,"POST","/v2/accounts:revokeToken",ha(t,e))}class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=K1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await JD(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Al;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function qr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hs{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new WD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QD(this,e)}reload(){return XD(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Cu(this,KD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:C,providerData:D,stsTokenManager:L}=n;Ne(_&&L,e,"internal-error");const M=Al.fromJSON(this.name,L);Ne(typeof _=="string",e,"internal-error"),qr(i,e.name),qr(a,e.name),Ne(typeof T=="boolean",e,"internal-error"),Ne(typeof C=="boolean",e,"internal-error"),qr(l,e.name),qr(u,e.name),qr(f,e.name),qr(p,e.name),qr(g,e.name),qr(x,e.name);const q=new Hs({uid:_,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:M,createdAt:g,lastLoginAt:x});return D&&Array.isArray(D)&&(q.providerData=D.map(Y=>({...Y}))),p&&(q._redirectEventId=p),q}static async _fromIdTokenResponse(e,n,i=!1){const a=new Al;a.updateFromServerResponse(n);const l=new Hs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await uf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?vA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Al;f.updateFromIdToken(i);const p=new Hs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new fy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const Q1=new Map;function Xi(t){ir(t instanceof Function,"Expected a class definition");let e=Q1.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q1.set(t,e),e)}class bA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bA.type="NONE";const Y1=bA;function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class Sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Gd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cf(this.auth,{idToken:e}).catch(()=>{});return n?Hs._fromGetAccountInfoResponse(this.auth,n,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Sl(Xi(Y1),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Xi(Y1);const u=Gd(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const x=await g._get(u);if(x){let _;if(typeof x=="string"){const T=await cf(e,{idToken:x}).catch(()=>{});if(!T)break;_=await Hs._fromGetAccountInfoResponse(e,T,x)}else _=Hs._fromJSON(e,x);g!==l&&(f=_),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Sl(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Sl(l,e,i))}}function W1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SA(e))return"Blackberry";if(CA(e))return"Webos";if(wA(e))return"Safari";if((e.includes("chrome/")||TA(e))&&!e.includes("edge/"))return"Chrome";if(AA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _A(t=kn()){return/firefox\//i.test(t)}function wA(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TA(t=kn()){return/crios\//i.test(t)}function EA(t=kn()){return/iemobile/i.test(t)}function AA(t=kn()){return/android/i.test(t)}function SA(t=kn()){return/blackberry/i.test(t)}function CA(t=kn()){return/webos/i.test(t)}function v0(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tM(t=kn()){return v0(t)&&!!window.navigator?.standalone}function nM(){return fI()&&document.documentMode===10}function kA(t=kn()){return v0(t)||AA(t)||CA(t)||SA(t)||/windows phone/i.test(t)||EA(t)}function RA(t,e=[]){let n;switch(t){case"Browser":n=W1(kn());break;case"Worker":n=`${W1(kn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${i}`}class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function iM(t,e={}){return da(t,"GET","/v2/passwordPolicy",ha(t,e))}const rM=6;class aM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class oM{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cf(this,{idToken:e}),i=await Hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Ji(this));const n=e?gt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iM(this),n=new aM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await eM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(t){return gt(t)}class X1{constructor(e){this.auth=e,this.observer=null,this.addObserver=bI(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lM(t){Bf=t}function NA(t){return Bf.loadJS(t)}function cM(){return Bf.recaptchaEnterpriseScript}function uM(){return Bf.gapiScript}function hM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dM{constructor(){this.enterprise=new fM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mM="recaptcha-enterprise",IA="NO_RECAPTCHA";class pM{constructor(e){this.type=mM,this.auth=fa(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{$D(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new GD(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;$1(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(IA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dM().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!n&&$1(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cM();p.length!==0&&(p+=f),NA(p).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function Z1(t,e,n,i=!1,a=!1){const l=new pM(t);let u;if(a)u=IA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function my(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Z1(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Z1(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}function gM(t,e){const n=ua(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(nr(l,e??{}))return a;ks(a,"already-initialized")}return n.initialize({options:e})}function yM(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Xi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function xM(t,e,n){const i=fa(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=DA(e),{host:u,port:f}=vM(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},x=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(nr(g,i.config.emulator)&&nr(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,ca(u)?(d0(`${l}//${u}${p}`),f0("Auth",!0)):bM()}function DA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vM(t){const e=DA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:J1(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:J1(u)}}}function J1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class b0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function _M(t,e){return da(t,"POST","/v1/accounts:signUp",e)}async function wM(t,e){return Ku(t,"POST","/v1/accounts:signInWithPassword",ha(t,e))}async function TM(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}async function EM(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}class ku extends b0{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new ku(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return my(e,n,"signInWithPassword",wM);case"emailLink":return TM(e,{email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return my(e,i,"signUpPassword",_M);case"emailLink":return EM(e,{idToken:n,email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Cl(t,e){return Ku(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}const AM="http://localhost";class uo extends b0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new uo(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Cl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Cl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cl(e,n)}buildRequest(){const e={requestUri:AM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gu(n)}return e}}function SM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CM(t){const e=au(ou(t)).link,n=e?au(ou(e)).deep_link_id:null,i=au(ou(t)).deep_link_id;return(i?au(ou(i)).link:null)||i||n||e||t}class _0{constructor(e){const n=au(ou(e)),i=n.apiKey??null,a=n.oobCode??null,l=SM(n.mode??null);Ne(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CM(e);try{return new _0(n)}catch{return null}}}class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=_0.parseLink(n);return Ne(i,"argument-error"),ku._fromEmailAndCode(e,i.code,i.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class w0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qu extends w0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hr extends Qu{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class Qi extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qi.credential(n,i)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";class Gr extends Qu{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class $r extends Qu{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return $r.credential(n,i)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";async function kM(t,e){return Ku(t,"POST","/v1/accounts:signUp",ha(t,e))}class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Hs._fromIdTokenResponse(e,i,a),u=ew(i);return new ho({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=ew(i);return new ho({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function ew(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hf extends Rs{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new hf(e,n,i,a)}}function MA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,l,e,i):l})}async function RM(t,e,n=!1){const i=await Cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",i)}async function NM(t,e,n=!1){const{auth:i}=t;if(Fn(i.app))return Promise.reject(Ji(i));const a="reauthenticate";try{const l=await Cu(t,MA(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const u=x0(l.idToken);Ne(u,i,"internal-error");const{sub:f}=u;return Ne(t.uid===f,i,"user-mismatch"),ho._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ks(i,"user-mismatch"),l}}async function jA(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ji(t));const i="signIn",a=await MA(t,i,e),l=await ho._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function IM(t,e){return jA(fa(t),e)}async function PA(t){const e=fa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DM(t,e,n){if(Fn(t.app))return Promise.reject(Ji(t));const i=fa(t),u=await my(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&PA(t),p}),f=await ho._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function MM(t,e,n){return Fn(t.app)?Promise.reject(Ji(t)):IM(gt(t),Fl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&PA(t),i})}function jM(t,e,n,i){return gt(t).onIdTokenChanged(e,n,i)}function PM(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function OM(t,e,n,i){return gt(t).onAuthStateChanged(e,n,i)}function VM(t){return gt(t).signOut()}const df="__sak";class OA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LM=1e3,UM=10;class VA extends OA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);nM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,UM):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const BM=VA;class LA extends OA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LA.type="SESSION";const UA=LA;function zM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new zf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async g=>g(n.origin,l)),p=await zM(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];function T0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class qM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=T0("",20);a.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function vi(){return window}function FM(t){vi().location.href=t}function BA(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function HM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){return navigator?.serviceWorker?.controller||null}function $M(){return BA()?self:null}const zA="firebaseLocalStorageDb",KM=1,ff="firebaseLocalStorage",qA="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function QM(){const t=indexedDB.deleteDatabase(zA);return new Yu(t).toPromise()}function py(){const t=indexedDB.open(zA,KM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ff,{keyPath:qA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ff)?e(i):(i.close(),await QM(),e(await py()))})})}async function tw(t,e,n){const i=qf(t,!0).put({[qA]:e,value:n});return new Yu(i).toPromise()}async function YM(t,e){const n=qf(t,!1).get(e),i=await new Yu(n).toPromise();return i===void 0?null:i.value}function nw(t,e){const n=qf(t,!0).delete(e);return new Yu(n).toPromise()}const WM=800,XM=3;class FA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>XM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance($M()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await py();return await tw(e,df,"1"),await nw(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>tw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>YM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=qf(a,!1).getAll();return new Yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FA.type="LOCAL";const ZM=FA;new $u(3e4,6e4);function HA(t,e){return e?Xi(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class E0 extends b0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JM(t){return jA(t.auth,new E0(t),t.bypassAuthState)}function ej(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),NM(n,new E0(t),t.bypassAuthState)}async function tj(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),RM(n,new E0(t),t.bypassAuthState)}class GA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return tj;case"reauthViaPopup":case"reauthViaRedirect":return ej;default:ks(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nj=new $u(2e3,1e4);async function sj(t,e,n){if(Fn(t.app))return Promise.reject(Gs(t,"operation-not-supported-in-this-environment"));const i=fa(t);OD(t,e,w0);const a=HA(i,n);return new Za(i,"signInViaPopup",e,a).executeNotNull()}class Za extends GA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=T0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nj.get())};e()}}Za.currentPopupAction=null;const ij="pendingRedirect",$d=new Map;class rj extends GA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const i=await aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aj(t,e){const n=cj(e),i=lj(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function oj(t,e){$d.set(t._key(),e)}function lj(t){return Xi(t._redirectPersistence)}function cj(t){return Gd(ij,t.config.apiKey,t.name)}async function uj(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ji(t));const i=fa(t),a=HA(i,e),u=await new rj(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const hj=600*1e3;class dj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$A(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(sw(e))}saveEventToCache(e){this.cachedEventUids.add(sw(e)),this.lastProcessedEventTime=Date.now()}}function sw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $A({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(t);default:return!1}}async function mj(t,e={}){return da(t,"GET","/v1/projects",e)}const pj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gj=/^https?/;async function yj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mj(t);for(const n of e)try{if(xj(n))return}catch{}ks(t,"unauthorized-domain")}function xj(t){const e=dy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!gj.test(n))return!1;if(pj.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const vj=new $u(3e4,6e4);function iw(){const t=vi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bj(t){return new Promise((e,n)=>{function i(){iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iw(),n(Gs(t,"network-request-failed"))},timeout:vj.get()})}if(vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vi().gapi?.load)i();else{const a=hM("iframefcb");return vi()[a]=()=>{gapi.load?i():n(Gs(t,"network-request-failed"))},NA(`${uM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function _j(t){return Kd=Kd||bj(t),Kd}const wj=new $u(5e3,15e3),Tj="__/auth/iframe",Ej="emulator/auth/iframe",Aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cj(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,Ej):`https://${t.config.authDomain}/${Tj}`,i={apiKey:e.apiKey,appName:t.name,v:bo},a=Sj.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Gu(i).slice(1)}`}async function kj(t){const e=await _j(t),n=vi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Cj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aj,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Gs(t,"network-request-failed"),f=vi().setTimeout(()=>{l(u)},wj.get());function p(){vi().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}const Rj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nj=500,Ij=600,Dj="_blank",Mj="http://localhost";class rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jj(t,e,n,i=Nj,a=Ij){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...Rj,width:i.toString(),height:a.toString(),top:l,left:u},g=kn().toLowerCase();n&&(f=TA(g)?Dj:n),_A(g)&&(e=e||Mj,p.scrollbars="yes");const x=Object.entries(p).reduce((T,[C,D])=>`${T}${C}=${D},`,"");if(tM(g)&&f!=="_self")return Pj(e||"",f),new rw(null);const _=window.open(e||"",f,x);Ne(_,t,"popup-blocked");try{_.focus()}catch{}return new rw(_)}function Pj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const Oj="__/auth/handler",Vj="emulator/auth/handler",Lj=encodeURIComponent("fac");async function aw(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:bo,eventId:a};if(e instanceof w0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",vI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof Qu){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await t._getAppCheckToken(),g=p?`#${Lj}=${encodeURIComponent(p)}`:"";return`${Uj(t)}?${Gu(f).slice(1)}${g}`}function Uj({config:t}){return t.emulator?y0(t,Vj):`https://${t.authDomain}/${Oj}`}const Rg="webStorageSupport";class Bj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UA,this._completeRedirectFn=uj,this._overrideRedirectResult=oj}async _openPopup(e,n,i,a){ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await aw(e,n,i,dy(),a);return jj(e,l,T0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await aw(e,n,i,dy(),a);return FM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ir(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await kj(e),i=new dj(e);return n.register("authEvent",a=>(Ne(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rg,{type:Rg},a=>{const l=a?.[0]?.[Rg];l!==void 0&&n(!!l),ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kA()||wA()||v0()}}const zj=Bj;var ow="@firebase/auth",lw="1.12.0";class qj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hj(t){$s(new Cs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},g=new oM(i,a,l,p);return yM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$s(new Cs("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(i=>new qj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(ow,lw,Fj(t)),$n(ow,lw,"esm2020")}const Gj=300,$j=sA("authIdTokenMaxAge")||Gj;let cw=null;const Kj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$j)return;const a=n?.token;cw!==a&&(cw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Qj(t=Uf()){const e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gM(t,{popupRedirectResolver:zj,persistence:[ZM,BM,UA]}),i=sA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=Kj(l.toString());PM(n,u,()=>u(n.currentUser)),jM(n,f=>u(f))}}const a=eA("auth");return a&&xM(n,`http://${a}`),n}function Yj(){return document.getElementsByTagName("head")?.[0]??document}lM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Gs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",Yj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hj("Browser");var uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,KA;(function(){var t;function e(R,S){function I(){}I.prototype=S.prototype,R.F=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(j,O,U){for(var N=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)N[fe-2]=arguments[fe];return S.prototype[O].apply(j,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,I){I||(I=0);const j=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)j[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;O<16;++O)j[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],O=R.g[2];let U=R.g[3],N;N=S+(U^I&(O^U))+j[0]+3614090360&4294967295,S=I+(N<<7&4294967295|N>>>25),N=U+(O^S&(I^O))+j[1]+3905402710&4294967295,U=S+(N<<12&4294967295|N>>>20),N=O+(I^U&(S^I))+j[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(S^O&(U^S))+j[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(U^I&(O^U))+j[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=U+(O^S&(I^O))+j[5]+1200080426&4294967295,U=S+(N<<12&4294967295|N>>>20),N=O+(I^U&(S^I))+j[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(S^O&(U^S))+j[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(U^I&(O^U))+j[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=U+(O^S&(I^O))+j[9]+2336552879&4294967295,U=S+(N<<12&4294967295|N>>>20),N=O+(I^U&(S^I))+j[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(S^O&(U^S))+j[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(U^I&(O^U))+j[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=U+(O^S&(I^O))+j[13]+4254626195&4294967295,U=S+(N<<12&4294967295|N>>>20),N=O+(I^U&(S^I))+j[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(S^O&(U^S))+j[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=S+(O^U&(I^O))+j[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(S^I))+j[6]+3225465664&4294967295,U=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(U^S))+j[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^S&(O^U))+j[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(O^U&(I^O))+j[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(S^I))+j[10]+38016083&4294967295,U=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(U^S))+j[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^S&(O^U))+j[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(O^U&(I^O))+j[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(S^I))+j[14]+3275163606&4294967295,U=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(U^S))+j[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^S&(O^U))+j[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(O^U&(I^O))+j[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(S^I))+j[2]+4243563512&4294967295,U=S+(N<<9&4294967295|N>>>23),N=O+(S^I&(U^S))+j[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^S&(O^U))+j[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=S+(I^O^U)+j[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=U+(S^I^O)+j[8]+2272392833&4294967295,U=S+(N<<11&4294967295|N>>>21),N=O+(U^S^I)+j[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^S)+j[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(I^O^U)+j[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=U+(S^I^O)+j[4]+1272893353&4294967295,U=S+(N<<11&4294967295|N>>>21),N=O+(U^S^I)+j[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^S)+j[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(I^O^U)+j[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=U+(S^I^O)+j[0]+3936430074&4294967295,U=S+(N<<11&4294967295|N>>>21),N=O+(U^S^I)+j[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^S)+j[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(I^O^U)+j[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=U+(S^I^O)+j[12]+3873151461&4294967295,U=S+(N<<11&4294967295|N>>>21),N=O+(U^S^I)+j[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^S)+j[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=S+(O^(I|~U))+j[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=U+(I^(S|~O))+j[7]+1126891415&4294967295,U=S+(N<<10&4294967295|N>>>22),N=O+(S^(U|~I))+j[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~S))+j[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=S+(O^(I|~U))+j[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=U+(I^(S|~O))+j[3]+2399980690&4294967295,U=S+(N<<10&4294967295|N>>>22),N=O+(S^(U|~I))+j[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~S))+j[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=S+(O^(I|~U))+j[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=U+(I^(S|~O))+j[15]+4264355552&4294967295,U=S+(N<<10&4294967295|N>>>22),N=O+(S^(U|~I))+j[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~S))+j[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=S+(O^(I|~U))+j[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=U+(I^(S|~O))+j[11]+3174756917&4294967295,U=S+(N<<10&4294967295|N>>>22),N=O+(S^(U|~I))+j[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~S))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.v=function(R,S){S===void 0&&(S=R.length);const I=S-this.blockSize,j=this.C;let O=this.h,U=0;for(;U<S;){if(O==0)for(;U<=I;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<S;)if(j[O++]=R.charCodeAt(U++),O==this.blockSize){a(this,j),O=0;break}}else for(;U<S;)if(j[O++]=R[U++],O==this.blockSize){a(this,j),O=0;break}}this.h=O,this.o+=S},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)R[S++]=this.g[I]>>>j&255;return R};function l(R,S){var I=f;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function u(R,S){this.h=S;const I=[];let j=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;j&&U==S||(I[O]=U,j=!1)}this.g=I}var f={};function p(R){return-128<=R&&R<128?l(R,function(S){return new u([S|0],S<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return M(g(-R));const S=[];let I=1;for(let j=0;R>=I;j++)S[j]=R/I|0,I*=4294967296;return new u(S,0)}function x(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return M(x(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(S,8));let j=_;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const N=parseInt(R.substring(U,U+O),S);O<8?(O=g(Math.pow(S,O)),j=j.j(O).add(g(N))):(j=j.j(I),j=j.add(g(N)))}return j}var _=p(0),T=p(1),C=p(16777216);t=u.prototype,t.m=function(){if(L(this))return-M(this).m();let R=0,S=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);R+=(j>=0?j:4294967296+j)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(L(this))return"-"+M(this).toString(R);const S=g(Math.pow(R,6));var I=this;let j="";for(;;){const O=ne(I,S).g;I=q(I,O.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,D(I))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function L(R){return R.h==-1}t.l=function(R){return R=q(this,R),L(R)?-1:D(R)?0:1};function M(R){const S=R.g.length,I=[];for(let j=0;j<S;j++)I[j]=~R.g[j];return new u(I,~R.h).add(T)}t.abs=function(){return L(this)?M(this):this},t.add=function(R){const S=Math.max(this.g.length,R.g.length),I=[];let j=0;for(let O=0;O<=S;O++){let U=j+(this.i(O)&65535)+(R.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);j=N>>>16,U&=65535,N&=65535,I[O]=N<<16|U}return new u(I,I[I.length-1]&-2147483648?-1:0)};function q(R,S){return R.add(M(S))}t.j=function(R){if(D(this)||D(R))return _;if(L(this))return L(R)?M(this).j(M(R)):M(M(this).j(R));if(L(R))return M(this.j(M(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const S=this.g.length+R.g.length,I=[];for(var j=0;j<2*S;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<R.g.length;O++){const U=this.i(j)>>>16,N=this.i(j)&65535,fe=R.i(O)>>>16,De=R.i(O)&65535;I[2*j+2*O]+=N*De,Y(I,2*j+2*O),I[2*j+2*O+1]+=U*De,Y(I,2*j+2*O+1),I[2*j+2*O+1]+=N*fe,Y(I,2*j+2*O+1),I[2*j+2*O+2]+=U*fe,Y(I,2*j+2*O+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new u(I,0)};function Y(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function H(R,S){this.g=R,this.h=S}function ne(R,S){if(D(S))throw Error("division by zero");if(D(R))return new H(_,_);if(L(R))return S=ne(M(R),S),new H(M(S.g),M(S.h));if(L(S))return S=ne(R,M(S)),new H(M(S.g),S.h);if(R.g.length>30){if(L(R)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var I=T,j=S;j.l(R)<=0;)I=ce(I),j=ce(j);var O=ue(I,1),U=ue(j,1);for(j=ue(j,2),I=ue(I,2);!D(j);){var N=U.add(j);N.l(R)<=0&&(O=O.add(I),U=N),j=ue(j,1),I=ue(I,1)}return S=q(R,O.j(S)),new H(O,S)}for(O=_;R.l(S)>=0;){for(I=Math.max(1,Math.floor(R.m()/S.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=g(I),N=U.j(S);L(N)||N.l(R)>0;)I-=j,U=g(I),N=U.j(S);D(U)&&(U=T),O=O.add(U),R=q(R,N)}return new H(O,R)}t.B=function(R){return ne(this,R).h},t.and=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)&R.i(j);return new u(I,this.h&R.h)},t.or=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)|R.i(j);return new u(I,this.h|R.h)},t.xor=function(R){const S=Math.max(this.g.length,R.g.length),I=[];for(let j=0;j<S;j++)I[j]=this.i(j)^R.i(j);return new u(I,this.h^R.h)};function ce(R){const S=R.g.length+1,I=[];for(let j=0;j<S;j++)I[j]=R.i(j)<<1|R.i(j-1)>>>31;return new u(I,R.h)}function ue(R,S){const I=S>>5;S%=32;const j=R.g.length-I,O=[];for(let U=0;U<j;U++)O[U]=S>0?R.i(U+I)>>>S|R.i(U+I+1)<<32-S:R.i(U+I);return new u(O,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,KA=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=x,Zr=u}).apply(typeof uw<"u"?uw:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QA,lu,YA,Qd,gy,WA,XA,ZA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var w=i;h=h.split(".");for(var k=0;k<h.length-1;k++){var $=h[k];if(!($ in w))break e;w=w[$]}h=h[h.length-1],k=w[h],v=v(k),v!=k&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var w=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&w.push([k,v[k]]);return w}});var l=l||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function p(h,v,w){return h.call.apply(h.bind,arguments)}function g(h,v,w){return g=p,g.apply(null,arguments)}function x(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function _(h,v){function w(){}w.prototype=v.prototype,h.Z=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(k,$,Z){for(var ge=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ge[Be-2]=arguments[Be];return v.prototype[$].apply(k,ge)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const v=h.length;if(v>0){const w=Array(v);for(let k=0;k<v;k++)w[k]=h[k];return w}return[]}function D(h,v){for(let k=1;k<arguments.length;k++){const $=arguments[k];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=h.length||0;const Z=$.length||0;h.length=w+Z;for(let ge=0;ge<Z;ge++)h[w+ge]=$[ge]}else h.push($)}}class L{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(h){u.setTimeout(()=>{throw h},0)}function q(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,w){const k=H.get();k.set(v,w),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new L(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ue=!1,R=new Y,S=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(I)}};function I(){for(var h;h=q();){try{h.h.call(h.g)}catch(w){M(w)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ue=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function fe(h,v){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(fe,O),fe.prototype.init=function(h,v){const w=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),te=0;function he(h,v,w,k,$){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!k,this.ha=$,this.key=++te,this.da=this.fa=!1}function xe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,v,w){for(const k in h)v.call(w,h[k],k,h)}function P(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function E(h){const v={};for(const w in h)v[w]=h[w];return v}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(h,v){let w,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(w in k)h[w]=k[w];for(let Z=0;Z<B.length;Z++)w=B[Z],Object.prototype.hasOwnProperty.call(k,w)&&(h[w]=k[w])}}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,v,w,k,$){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const ge=de(h,v,k,$);return ge>-1?(v=h[ge],w||(v.fa=!1)):(v=new he(v,this.src,Z,!!k,$),v.fa=w,h.push(v)),v};function me(h,v){const w=v.type;if(w in h.g){var k=h.g[w],$=Array.prototype.indexOf.call(k,v,void 0),Z;(Z=$>=0)&&Array.prototype.splice.call(k,$,1),Z&&(xe(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function de(h,v,w,k){for(let $=0;$<h.length;++$){const Z=h[$];if(!Z.da&&Z.listener==v&&Z.capture==!!w&&Z.ha==k)return $}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Ee={};function ke(h,v,w,k,$){if(Array.isArray(v)){for(let Z=0;Z<v.length;Z++)ke(h,v[Z],w,k,$);return null}return w=dn(w),h&&h[De]?h.J(v,w,f(k)?!!k.capture:!1,$):tt(h,v,w,!1,k,$)}function tt(h,v,w,k,$,Z){if(!v)throw Error("Invalid event type");const ge=f($)?!!$.capture:!!$;let Be=Ot(h);if(Be||(h[pe]=Be=new ie(h)),w=Be.add(v,w,k,ge,Z),w.proxy)return w;if(k=Ze(),w.proxy=k,k.src=h,k.listener=w,h.addEventListener)U||($=ge),$===void 0&&($=!1),h.addEventListener(v.toString(),k,$);else if(h.attachEvent)h.attachEvent(Me(v.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ze(){function h(w){return v.call(h.src,h.listener,w)}const v=kt;return h}function it(h,v,w,k,$){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)it(h,v[Z],w,k,$);else k=f(k)?!!k.capture:!!k,w=dn(w),h&&h[De]?(h=h.i,Z=String(v).toString(),Z in h.g&&(v=h.g[Z],w=de(v,w,k,$),w>-1&&(xe(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Ot(h))&&(v=h.g[v.toString()],h=-1,v&&(h=de(v,w,k,$)),(w=h>-1?v[h]:null)&&yt(w))}function yt(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[De])me(v.i,h);else{var w=h.type,k=h.proxy;v.removeEventListener?v.removeEventListener(w,k,h.capture):v.detachEvent?v.detachEvent(Me(w),k):v.addListener&&v.removeListener&&v.removeListener(k),(w=Ot(v))?(me(w,h),w.h==0&&(w.src=null,v[pe]=null)):xe(h)}}}function Me(h){return h in Ee?Ee[h]:Ee[h]="on"+h}function kt(h,v){if(h.da)h=!0;else{v=new fe(v,this);const w=h.listener,k=h.ha||h.src;h.fa&&yt(h),h=w.call(k,v)}return h}function Ot(h){return h=h[pe],h instanceof ie?h:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function dn(h){return typeof h=="function"?h:(h[en]||(h[en]=function(v){return h.handleEvent(v)}),h[en])}function W(){j.call(this),this.i=new ie(this),this.M=this,this.G=null}_(W,j),W.prototype[De]=!0,W.prototype.removeEventListener=function(h,v,w,k){it(this,h,v,w,k)};function ye(h,v){var w,k=h.G;if(k)for(w=[];k;k=k.G)w.push(k);if(h=h.M,k=v.type||v,typeof v=="string")v=new O(v,h);else if(v instanceof O)v.target=v.target||h;else{var $=v;v=new O(k,h),J(v,$)}$=!0;let Z,ge;if(w)for(ge=w.length-1;ge>=0;ge--)Z=v.g=w[ge],$=Oe(Z,k,!0,v)&&$;if(Z=v.g=h,$=Oe(Z,k,!0,v)&&$,$=Oe(Z,k,!1,v)&&$,w)for(ge=0;ge<w.length;ge++)Z=v.g=w[ge],$=Oe(Z,k,!1,v)&&$}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const w=h.g[v];for(let k=0;k<w.length;k++)xe(w[k]);delete h.g[v],h.h--}}this.G=null},W.prototype.J=function(h,v,w,k){return this.i.add(String(h),v,!1,w,k)},W.prototype.K=function(h,v,w,k){return this.i.add(String(h),v,!0,w,k)};function Oe(h,v,w,k){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let Z=0;Z<v.length;++Z){const ge=v[Z];if(ge&&!ge.da&&ge.capture==w){const Be=ge.listener,Lt=ge.ha||ge.src;ge.fa&&me(h.i,ge),$=Be.call(Lt,k)!==!1&&$}}return $&&!k.defaultPrevented}function We(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function Je(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,Je(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class vt extends j{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(h){j.call(this),this.h=h,this.g={}}_(an,j);var ls=[];function xa(h){Pe(h.g,function(v,w){this.g.hasOwnProperty(w)&&yt(v)},h),h.g={}}an.prototype.N=function(){an.Z.N.call(this),xa(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=u.JSON.stringify,Eo=u.JSON.parse,va=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function ur(){}function Ao(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){O.call(this,"d")}_(fn,O);function cs(){O.call(this,"c")}_(cs,O);var Vt={},ah=null;function So(){return ah=ah||new W}Vt.Ia="serverreachability";function oh(h){O.call(this,Vt.Ia,h)}_(oh,O);function Ys(h){const v=So();ye(v,new oh(v))}Vt.STAT_EVENT="statevent";function ba(h,v){O.call(this,Vt.STAT_EVENT,h),this.stat=v}_(ba,O);function qt(h){const v=So();ye(v,new ba(v,h))}Vt.Ja="timingevent";function Ws(h,v){O.call(this,Vt.Ja,h),this.size=v}_(Ws,O);function Xs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ns(){this.g=!0}Ns.prototype.ua=function(){this.g=!1};function _m(h,v,w,k,$,Z){h.info(function(){if(h.g)if(Z){var ge="",Be=Z.split("&");for(let rt=0;rt<Be.length;rt++){var Lt=Be[rt].split("=");if(Lt.length>1){const At=Lt[0];Lt=Lt[1];const fs=At.split("_");ge=fs.length>=2&&fs[1]=="type"?ge+(At+"="+Lt+"&"):ge+(At+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+v+`
`+w+`
`+ge})}function lh(h,v,w,k,$,Z,ge){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+v+`
`+w+`
`+Z+" "+ge})}function Zs(h,v,w,k){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+wm(h,w)+(k?" "+k:"")})}function _a(h,v){h.info(function(){return"TIMEOUT: "+v})}Ns.prototype.info=function(){};function wm(h,v){if(!h.g)return v;if(!v)return null;try{const Z=JSON.parse(v);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var w=Z[h];if(!(w.length<2)){var k=w[1];if(Array.isArray(k)&&!(k.length<1)){var $=k[0];if($!="noop"&&$!="stop"&&$!="close")for(let ge=1;ge<k.length;ge++)k[ge]=""}}}}return Qs(Z)}catch{return v}}var wa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nc;function Ta(){}_(Ta,ur),Ta.prototype.g=function(){return new XMLHttpRequest},nc=new Ta;function Ri(h){return encodeURIComponent(String(h))}function ch(h){var v=1;h=h.split(":");const w=[];for(;v>0&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function Is(h,v,w,k){this.j=h,this.i=v,this.l=w,this.S=k||1,this.V=new an(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ds}function Ds(){this.i=null,this.g="",this.h=!1}var Ft={},on={};function Js(h,v,w){h.M=1,h.A=Ea(Gt(v)),h.u=w,h.R=!0,Co(h,null)}function Co(h,v){h.F=Date.now(),ei(h),h.B=Gt(h.A);var w=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),Io(w.i,"t",k),h.C=0,w=h.j.L,h.h=new Ds,h.g=Eh(h.j,w?v:null,!h.u),h.P>0&&(h.O=new vt(g(h.Y,h,h.g),h.P)),v=h.V,w=h.g,k=h.ba;var $="readystatechange";Array.isArray($)||($&&(ls[0]=$.toString()),$=ls);for(let Z=0;Z<$.length;Z++){const ge=ke(w,$[Z],k||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=h.J?E(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ys(),_m(h.i,h.v,h.B,h.l,h.S,h.u)}Is.prototype.ba=function(h){h=h.target;const v=this.O;v&&Ps(h)==3?v.j():this.Y(h)},Is.prototype.Y=function(h){try{if(h==this.g)e:{const Be=Ps(this.g),Lt=this.g.ya(),rt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||Be!=4||Lt==7||(Lt==8||rt<=0?Ys(3):Ys(2)),ti(this);var v=this.g.ca();this.X=v;var w=Tm(this);if(this.o=v==200,lh(this.i,this.v,this.B,this.l,this.S,Be,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var Z=k;break t}}Z=null}if(h=Z)Zs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,h);else{this.o=!1,this.m=3,qt(12),Yn(this),us(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<w.length;)if(At=hh(this,w),At==on){Be==4&&(this.m=4,qt(14),h=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Ft){this.m=4,qt(15),Zs(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Zs(this.i,this.l,At,null),ni(this,At);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||w.length!=0||this.h.h||(this.m=1,qt(16),h=!1),this.o=this.o&&h,!h)Zs(this.i,this.l,w,"[Invalid Chunked Response]"),Yn(this),us(this);else if(w.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),yc(ge),ge.P=!0,qt(11))}}else Zs(this.i,this.l,w,null),ni(this,w);Be==4&&Yn(this),this.o&&!this.K&&(Be==4?bh(this.j,this):(this.o=!1,ei(this)))}else Ii(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Yn(this),us(this)}}}catch{}};function Tm(h){if(!uh(h))return h.g.la();const v=mn(h.g);if(v==="")return"";let w="";const k=v.length,$=Ps(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Yn(h),us(h),"";h.h.i=new u.TextDecoder}for(let Z=0;Z<k;Z++)h.h.h=!0,w+=h.h.i.decode(v[Z],{stream:!($&&Z==k-1)});return v.length=0,h.h.g+=w,h.C=0,h.h.g}function uh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function hh(h,v){var w=h.C,k=v.indexOf(`
`,w);return k==-1?on:(w=Number(v.substring(w,k)),isNaN(w)?Ft:(k+=1,k+w>v.length?on:(v=v.slice(k,k+w),h.C=k+w,v)))}Is.prototype.cancel=function(){this.K=!0,Yn(this)};function ei(h){h.T=Date.now()+h.H,ko(h,h.H)}function ko(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Xs(g(h.aa,h),v)}function ti(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Is.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(_a(this.i,this.B),this.M!=2&&(Ys(),qt(17)),Yn(this),this.m=2,us(this)):ko(this,this.T-h)};function us(h){h.j.I==0||h.K||bh(h.j,h)}function Yn(h){ti(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,xa(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function ni(h,v){try{var w=h.j;if(w.I!=0&&(w.g==h||ii(w.h,h))){if(!h.L&&ii(w.h,h)&&w.I==3){try{var k=w.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Oo(w),xr(w);else break e;Ia(w),qt(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Xs(g(w.Va,w),6e3));si(w.h)<=1&&w.ta&&(w.ta=void 0)}else ui(w,11)}else if((h.L||w.g==h)&&Oo(w),!N(v))for($=w.Ba.g.parse(v),v=0;v<$.length;v++){let rt=$[v];const At=rt[0];if(!(At<=w.K))if(w.K=At,rt=rt[1],w.I==2)if(rt[0]=="c"){w.M=rt[1],w.ba=rt[2];const fs=rt[3];fs!=null&&(w.ka=fs,w.j.info("VER="+w.ka));const hi=rt[4];hi!=null&&(w.za=hi,w.j.info("SVER="+w.za));const Os=rt[5];Os!=null&&typeof Os=="number"&&Os>0&&(k=1.5*Os,w.O=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const Vs=h.g;if(Vs){const Da=Vs.g?Vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var Z=k.h;Z.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(rc(Z,Z.h),Z.h=null))}if(k.G){const Vo=Vs.g?Vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(k.wa=Vo,lt(k.J,k.G,Vo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),k=w;var ge=h;if(k.na=Th(k,k.L?k.ba:null,k.W),ge.L){ac(k.h,ge);var Be=ge,Lt=k.O;Lt&&(Be.H=Lt),Be.D&&(ti(Be),ei(Be)),k.g=ge}else xh(k);w.i.length>0&&ci(w)}else rt[0]!="stop"&&rt[0]!="close"||ui(w,7);else w.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ui(w,7):pc(w):rt[0]!="noop"&&w.l&&w.l.qa(rt),w.A=0)}}Ys(4)}catch{}}var Ht=class{constructor(h,v){this.g=h,this.map=v}};function sc(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ic(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function si(h){return h.h?1:h.g?h.g.size:0}function ii(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function rc(h,v){h.g?h.g.add(v):h.h=v}function ac(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}sc.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function oc(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.G);return v}return C(h.i)}var dh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ro(h,v){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const k=h[w].indexOf("=");let $,Z=null;k>=0?($=h[w].substring(0,k),Z=h[w].substring(k+1)):$=h[w],v($,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Wn?(this.l=h.l,ln(this,h.j),this.o=h.o,this.g=h.g,hr(this,h.u),this.h=h.h,lc(this,gh(h.i)),this.m=h.m):h&&(v=String(h).match(dh))?(this.l=!1,ln(this,v[1]||"",!0),this.o=ri(v[2]||""),this.g=ri(v[3]||"",!0),hr(this,v[4]),this.h=ri(v[5]||"",!0),lc(this,v[6]||"",!0),this.m=ri(v[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}Wn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Aa(v,No,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Aa(v,No,!0),"@"),h.push(Ri(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Aa(w,w.charAt(0)=="/"?cc:fh,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Aa(w,mh)),h.join("")},Wn.prototype.resolve=function(h){const v=Gt(this);let w=!!h.j;w?ln(v,h.j):w=!!h.o,w?v.o=h.o:w=!!h.g,w?v.g=h.g:w=h.u!=null;var k=h.h;if(w)hr(v,h.u);else if(w=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var $=v.h.lastIndexOf("/");$!=-1&&(k=v.h.slice(0,$+1)+k)}if($=k,$==".."||$==".")k="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){k=$.lastIndexOf("/",0)==0,$=$.split("/");const Z=[];for(let ge=0;ge<$.length;){const Be=$[ge++];Be=="."?k&&ge==$.length&&Z.push(""):Be==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),k&&ge==$.length&&Z.push("")):(Z.push(Be),k=!0)}k=Z.join("/")}else k=$}return w?v.h=k:w=h.i.toString()!=="",w?lc(v,gh(h.i)):w=!!h.m,w&&(v.m=h.m),v};function Gt(h){return new Wn(h)}function ln(h,v,w){h.j=w?ri(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function hr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function lc(h,v,w){v instanceof fr?(h.i=v,Do(h.i,h.l)):(w||(v=Aa(v,dr)),h.i=new fr(v,h.l))}function lt(h,v,w){h.i.set(v,w)}function Ea(h){return lt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ri(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Aa(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,jn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var No=/[#\/\?@]/g,fh=/[#\?:]/g,cc=/[#\?]/g,dr=/[#\?@]/g,mh=/#/g;function fr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ro(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=fr.prototype,t.add=function(h,v){Pn(this),this.i=null,h=mr(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function ph(h,v){Pn(h),v=mr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function uc(h,v){return Pn(h),v=mr(h,v),h.g.has(v)}t.forEach=function(h,v){Pn(this),this.g.forEach(function(w,k){w.forEach(function($){h.call(v,$,k,this)},this)},this)};function hc(h,v){Pn(h);let w=[];if(typeof v=="string")uc(h,v)&&(w=w.concat(h.g.get(mr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)w=w.concat(h[v]);return w}t.set=function(h,v){return Pn(this),this.i=null,h=mr(this,h),uc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=hc(this,h),h.length>0?String(h[0]):v):v};function Io(h,v,w){ph(h,v),w.length>0&&(h.i=null,h.g.set(mr(h,v),C(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var w=v[k];const $=Ri(w);w=hc(this,w);for(let Z=0;Z<w.length;Z++){let ge=$;w[Z]!==""&&(ge+="="+Ri(w[Z])),h.push(ge)}}return this.i=h.join("&")};function gh(h){const v=new fr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function mr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Do(h,v){v&&!h.j&&(Pn(h),h.i=null,h.g.forEach(function(w,k){const $=k.toLowerCase();k!=$&&(ph(this,k),Io(this,$,w))},h)),h.j=v}function Ms(h,v){const w=new Ns;if(u.Image){const k=new Image;k.onload=x(hs,w,"TestLoadImage: loaded",!0,v,k),k.onerror=x(hs,w,"TestLoadImage: error",!1,v,k),k.onabort=x(hs,w,"TestLoadImage: abort",!1,v,k),k.ontimeout=x(hs,w,"TestLoadImage: timeout",!1,v,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else v(!1)}function dc(h,v){const w=new Ns,k=new AbortController,$=setTimeout(()=>{k.abort(),hs(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:k.signal}).then(Z=>{clearTimeout($),Z.ok?hs(w,"TestPingServer: ok",!0,v):hs(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),hs(w,"TestPingServer: error",!1,v)})}function hs(h,v,w,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(w)}catch{}}function pr(){this.g=new va}function ai(h){this.i=h.Sb||null,this.h=h.ab||!1}_(ai,ur),ai.prototype.g=function(){return new Sa(this.i,this.h)};function Sa(h,v){W.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Sa,W),t=Sa.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,js(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?gr(this):js(this),this.readyState==3&&Mo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,gr(this))},t.Na=function(h){this.g&&(this.response=h,gr(this))},t.ga=function(){this.g&&gr(this)};function gr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,js(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function js(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ds(h){let v="";return Pe(h,function(w,k){v+=k,v+=":",v+=w,v+=`\r
`}),v}function Ca(h,v,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=ds(w),typeof h=="string"?w!=null&&Ri(w):lt(h,v,w))}function dt(h){W.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(dt,W);var oi=/^https?$/i,fc=["POST","PUT"];t=dt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nc.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){ka(this,Z);return}if(h=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)w.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())w.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(fc,v,void 0)>=0)||k||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of w)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){ka(this,Z)}};function ka(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,mc(h),Ni(h)}function mc(h){h.A||(h.A=!0,ye(h,"complete"),ye(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ye(this,"complete"),ye(this,"abort"),Ni(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},t.Xa=function(){Ra(this)};function Ra(h){if(h.h&&typeof l<"u"){if(h.v&&Ps(h)==4)setTimeout(h.Ca.bind(h),0);else if(ye(h,"readystatechange"),Ps(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var k;if(k=Z===0){let ge=String(h.D).match(dh)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),k=!oi.test(ge?ge.toLowerCase():"")}w=k}if(w)ye(h,"complete"),ye(h,"success");else{h.o=6;try{var $=Ps(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",mc(h)}}finally{Ni(h)}}}}function Ni(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,v||ye(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ps(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Eo(v)}};function mn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(h){const v={};h=(h.g&&Ps(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(N(h[k]))continue;var w=ch(h[k]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=v[$]||[];v[$]=Z,Z.push(w)}P(v,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function yr(h){this.za=0,this.i=[],this.j=new Ns,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,h),this.Za=li("retryDelaySeedMs",1e4,h),this.Ta=li("forwardChannelMaxRetries",2,h),this.va=li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new sc(h&&h.concurrentRequestLimit),this.Ba=new pr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yr.prototype,t.ka=8,t.I=1,t.connect=function(h,v,w,k){qt(0),this.W=h,this.H=v||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.J=Th(this,null,this.W),ci(this)};function pc(h){if(jo(h),h.I==3){var v=h.V++,w=Gt(h.J);if(lt(w,"SID",h.M),lt(w,"RID",v),lt(w,"TYPE","terminate"),Na(h,w),v=new Is(h,h.j,v),v.M=2,v.A=Ea(Gt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=Eh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ei(v)}wh(h)}function xr(h){h.g&&(yc(h),h.g.cancel(),h.g=null)}function jo(h){xr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ci(h){if(!ic(h.h)&&!h.m){h.m=!0;var v=h.Ea;ce||S(),ue||(ce(),ue=!0),R.add(v,h),h.D=0}}function Po(h,v){return si(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Xs(g(h.Ea,h,v),_h(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new Is(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=E(Z),J(Z,this.U)):Z=this.U),this.u!==null||this.R||($.J=Z,Z=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=yh(this,$,v),w=Gt(this.J),lt(w,"RID",h),lt(w,"CVER",22),this.G&&lt(w,"X-HTTP-Session-Id",this.G),Na(this,w),Z&&(this.R?v="headers="+Ri(ds(Z))+"&"+v:this.u&&Ca(w,this.u,Z)),rc(this.h,$),this.Ra&&lt(w,"TYPE","init"),this.S?(lt(w,"$req",v),lt(w,"SID","null"),$.U=!0,Js($,w,null)):Js($,w,v),this.I=2}}else this.I==3&&(h?gc(this,h):this.i.length==0||ic(this.h)||gc(this))};function gc(h,v){var w;v?w=v.l:w=h.V++;const k=Gt(h.J);lt(k,"SID",h.M),lt(k,"RID",w),lt(k,"AID",h.K),Na(h,k),h.u&&h.o&&Ca(k,h.u,h.o),w=new Is(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),v&&(h.i=v.G.concat(h.i)),v=yh(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rc(h.h,w),Js(w,k,v)}function Na(h,v){h.H&&Pe(h.H,function(w,k){lt(v,k,w)}),h.l&&Pe({},function(w,k){lt(v,k,w)})}function yh(h,v,w){w=Math.min(h.i.length,w);const k=h.l?g(h.l.Ka,h.l,h):null;e:{var $=h.i;let Be=-1;for(;;){const Lt=["count="+w];Be==-1?w>0?(Be=$[0].g,Lt.push("ofs="+Be)):Be=0:Lt.push("ofs="+Be);let rt=!0;for(let At=0;At<w;At++){var Z=$[At].g;const fs=$[At].map;if(Z-=Be,Z<0)Be=Math.max(0,$[At].g-100),rt=!1;else try{Z="req"+Z+"_"||"";try{var ge=fs instanceof Map?fs:Object.entries(fs);for(const[hi,Os]of ge){let Vs=Os;f(Os)&&(Vs=Qs(Os)),Lt.push(Z+hi+"="+encodeURIComponent(Vs))}}catch(hi){throw Lt.push(Z+"type="+encodeURIComponent("_badmap")),hi}}catch{k&&k(fs)}}if(rt){ge=Lt.join("&");break e}}ge=void 0}return h=h.i.splice(0,w),v.G=h,ge}function xh(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ce||S(),ue||(ce(),ue=!0),R.add(v,h),h.A=0}}function Ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Xs(g(h.Da,h),_h(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,vh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Xs(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),xr(this),vh(this))};function yc(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function vh(h){h.g=new Is(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Gt(h.na);lt(v,"RID","rpc"),lt(v,"SID",h.M),lt(v,"AID",h.K),lt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&lt(v,"TO",h.ia),lt(v,"TYPE","xmlhttp"),Na(h,v),h.u&&h.o&&Ca(v,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Ea(Gt(v)),w.u=null,w.R=!0,Co(w,h)}t.Va=function(){this.C!=null&&(this.C=null,xr(this),Ia(this),qt(19))};function Oo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function bh(h,v){var w=null;if(h.g==v){Oo(h),yc(h),h.g=null;var k=2}else if(ii(h.h,v))w=v.G,ac(h.h,v),k=1;else return;if(h.I!=0){if(v.o)if(k==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var $=h.D;k=So(),ye(k,new Ws(k,w)),ci(h)}else xh(h);else if($=v.m,$==3||$==0&&v.X>0||!(k==1&&Po(h,v)||k==2&&Ia(h)))switch(w&&w.length>0&&(v=h.h,v.i=v.i.concat(w)),$){case 1:ui(h,5);break;case 4:ui(h,10);break;case 3:ui(h,6);break;default:ui(h,2)}}}function _h(h,v){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*v}function ui(h,v){if(h.j.info("Error code "+v),v==2){var w=g(h.bb,h),k=h.Ua;const $=!k;k=new Wn(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(k,"https"),Ea(k),$?Ms(k.toString(),w):dc(k.toString(),w)}else qt(2);h.I=0,h.l&&h.l.pa(v),wh(h),jo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function wh(h){if(h.I=0,h.ja=[],h.l){const v=oc(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Th(h,v,w){var k=w instanceof Wn?Gt(w):new Wn(w);if(k.g!="")v&&(k.g=v+"."+k.g),hr(k,k.u);else{var $=u.location;k=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const Z=new Wn(null);k&&ln(Z,k),v&&(Z.g=v),$&&hr(Z,$),w&&(Z.h=w),k=Z}return w=h.G,v=h.wa,w&&v&&lt(k,w,v),lt(k,"VER",h.ka),Na(h,k),k}function Eh(h,v,w){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new dt(new ai({ab:w})):new dt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ah(){}t=Ah.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vr(){}vr.prototype.g=function(h,v){return new Rn(h,v)};function Rn(h,v){W.call(this),this.g=new yr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Di(this)}_(Rn,W),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){pc(this.g)},Rn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Qs(h),h=w);v.i.push(new Ht(v.Ya++,h)),v.I==3&&ci(v)},Rn.prototype.N=function(){this.g.l=null,delete this.j,pc(this.g),delete this.g,Rn.Z.N.call(this)};function Sh(h){fn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Sh,fn);function Ch(){cs.call(this),this.status=1}_(Ch,cs);function Di(h){this.g=h}_(Di,Ah),Di.prototype.ra=function(){ye(this.g,"a")},Di.prototype.qa=function(h){ye(this.g,new Sh(h))},Di.prototype.pa=function(h){ye(this.g,new Ch)},Di.prototype.oa=function(){ye(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,ZA=function(){return new vr},XA=function(){return So()},WA=Vt,gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,Qd=wa,tc.COMPLETE="complete",YA=tc,Ao.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",W.prototype.listen=W.prototype.J,lu=Ao,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,QA=dt}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const hw="@firebase/firestore",dw="4.9.3";let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Hl="12.7.0";const fo=new Lf("@firebase/firestore");function gl(){return fo.logLevel}function _e(t,...e){if(fo.logLevel<=Ke.DEBUG){const n=e.map(A0);fo.debug(`Firestore (${Hl}): ${t}`,...n)}}function rr(t,...e){if(fo.logLevel<=Ke.ERROR){const n=e.map(A0);fo.error(`Firestore (${Hl}): ${t}`,...n)}}function Dl(t,...e){if(fo.logLevel<=Ke.WARN){const n=e.map(A0);fo.warn(`Firestore (${Hl}): ${t}`,...n)}}function A0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,JA(t,i,n)}function JA(t,e,n){let i=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw rr(i),new Error(i)}function ot(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||JA(e,a,i)}function Ue(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class eS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class Xj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Zj{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new er;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new er,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new er)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string",31837,{l:i}),new eS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class Jj{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new Jj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const i=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function n4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class S0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=n4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Qe(t,e){return t<e?-1:t>e?1:0}function yy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Ng(a)===Ng(l)?Qe(a,l):Ng(a)?1:-1}return Qe(t.length,e.length)}const s4=55296,i4=57343;function Ng(t){const e=t.charCodeAt(0);return e>=s4&&e<=i4}function Ml(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const mw="__name__";class yi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=yi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Qe(e.length,n.length)}static compareSegments(e,n){const i=yi.isNumericId(e),a=yi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?yi.extractNumericId(e).compare(yi.extractNumericId(n)):yy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class bt extends yi{construct(e,n,i){return new bt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const r4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends yi{construct(e,n,i){return new _n(e,n,i)}static isValidIdentifier(e){return r4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mw}static keyField(){return new _n([mw])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(bt.fromString(e))}static fromName(e){return new Ce(bt.fromString(e).popFirst(5))}static empty(){return new Ce(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new bt(e.slice()))}}function tS(t,e,n){if(!n)throw new ve(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a4(t,e,n,i){if(e===!0&&i===!0)throw new ve(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pw(t){if(!Ce.isDocumentKey(t))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gw(t){if(Ce.isDocumentKey(t))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie(12329,{type:typeof t})}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ff(t);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wu(t,e){if(!nS(t))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new ve(ae.INVALID_ARGUMENT,n);return!0}const yw=-62135596800,xw=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*xw);return new _t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yw)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wu(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Jt("string",_t._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new _t(0,0))}static max(){return new Ve(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ru=-1;function o4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new _t(n+1,0):new _t(n,i));return new ea(a,Ce.empty(),e)}function l4(t){return new ea(t.readTime,t.key,Ru)}class ea{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ea(Ve.min(),Ce.empty(),Ru)}static max(){return new ea(Ve.max(),Ce.empty(),Ru)}}function c4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}const u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gl(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==u4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,i)=>{n(e)}))}static reject(e){return new le(((n,i)=>{i(e)}))}static waitFor(e){return new le(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>i(p)))})),u=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next((a=>a?le.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new le(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((x=>{u[g]=x,++f,f===l&&i(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new le(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function d4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}class Hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hf.ce=-1;const C0=-1;function Gf(t){return t==null}function mf(t){return t===0&&1/t==-1/0}function f4(t){return typeof t=="number"&&Number.isInteger(t)&&!mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const sS="";function m4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vw(e)),e=p4(t.get(n),e);return vw(e)}function p4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case sS:n+="";break;default:n+=l}}return n}function vw(t){return t+sS+""}function bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??bn.RED,this.left=a??bn.EMPTY,this.right=l??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new bn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return bn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _w(this.data.getIterator())}getIteratorFrom(e){return new _w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class _w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rs{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new rs([])}unionWith(e){let n=new rn(_n.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class rS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rS("Invalid base64 string: "+l):l}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const g4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=g4.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}const aS="server_timestamp",oS="__type__",lS="__previous_value__",cS="__local_write_time__";function k0(t){return(t?.mapValue?.fields||{})[oS]?.stringValue===aS}function $f(t){const e=t.mapValue.fields[lS];return k0(e)?$f(e):e}function Nu(t){const e=ta(t.mapValue.fields[cS].timestampValue);return new _t(e.seconds,e.nanos)}class y4{constructor(e,n,i,a,l,u,f,p,g,x){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=x}}const pf="(default)";class Iu{constructor(e,n){this.projectId=e,this.database=n||pf}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}const uS="__type__",x4="__max__",jd={mapValue:{}},hS="__vector__",gf="value";function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k0(t)?4:b4(t)?9007199254740991:v4(t)?10:11:Ie(28295,{value:t})}function Si(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nu(t).isEqual(Nu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ta(a.timestampValue),f=ta(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return zt(a.geoPointValue.latitude)===zt(l.geoPointValue.latitude)&&zt(a.geoPointValue.longitude)===zt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return zt(a.integerValue)===zt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=zt(a.doubleValue),f=zt(l.doubleValue);return u===f?mf(u)===mf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(bw(u)!==bw(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Si(u[p],f[p])))return!1;return!0})(t,e);default:return Ie(52216,{left:t})}}function Du(t,e){return(t.values||[]).find((n=>Si(n,e)))!==void 0}function jl(t,e){if(t===e)return 0;const n=sa(t),i=sa(e);if(n!==i)return Qe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=zt(l.integerValue||l.doubleValue),p=zt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return ww(t.timestampValue,e.timestampValue);case 4:return ww(Nu(t),Nu(e));case 5:return yy(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=na(l),p=na(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const x=Qe(f[g],p[g]);if(x!==0)return x}return Qe(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Qe(zt(l.latitude),zt(u.latitude));return f!==0?f:Qe(zt(l.longitude),zt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Tw(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},g=f[gf]?.arrayValue,x=p[gf]?.arrayValue,_=Qe(g?.values?.length||0,x?.values?.length||0);return _!==0?_:Tw(g,x)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===jd.mapValue&&u===jd.mapValue)return 0;if(l===jd.mapValue)return 1;if(u===jd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},x=Object.keys(g);p.sort(),x.sort();for(let _=0;_<p.length&&_<x.length;++_){const T=yy(p[_],x[_]);if(T!==0)return T;const C=jl(f[p[_]],g[x[_]]);if(C!==0)return C}return Qe(p.length,x.length)})(t.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function ww(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=ta(t),i=ta(e),a=Qe(n.seconds,i.seconds);return a!==0?a:Qe(n.nanos,i.nanos)}function Tw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=jl(n[a],i[a]);if(l)return l}return Qe(n.length,i.length)}function Pl(t){return xy(t)}function xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ta(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return na(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ce.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=xy(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${xy(n.fields[u])}`;return a+"}"})(t.mapValue):Ie(61005,{value:t})}function Yd(t){switch(sa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$f(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Yd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ma(i.fields,((l,u)=>{a+=l.length+Yd(u)})),a})(t.mapValue);default:throw Ie(13486,{value:t})}}function Ew(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vy(t){return!!t&&"integerValue"in t}function R0(t){return!!t&&"arrayValue"in t}function Aw(t){return!!t&&"nullValue"in t}function Sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function v4(t){return(t?.mapValue?.fields||{})[uS]?.stringValue===hS}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=pu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return{...t}}function b4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===x4}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=_n.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=pu(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Wd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ma(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Hn(pu(this.value))}}function dS(t){const e=[];return ma(t.fields,((n,i)=>{const a=new _n([n]);if(Wd(i)){const l=dS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new rs(e)}class Sn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Sn(e,0,Ve.min(),Ve.min(),Ve.min(),Hn.empty(),0)}static newFoundDocument(e,n,i,a){return new Sn(e,1,n,Ve.min(),i,a,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ve.min(),Ve.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ve.min(),Ve.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yf{constructor(e,n){this.position=e,this.inclusive=n}}function Cw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(u.referenceValue),n.key):i=jl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fS{}class Zt extends fS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new T4(e,n,i):n==="array-contains"?new S4(e,i):n==="in"?new C4(e,i):n==="not-in"?new k4(e,i):n==="array-contains-any"?new R4(e,i):new Zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new E4(e,i):new A4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jl(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ks extends fS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ks(e,n)}matches(e){return mS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mS(t){return t.op==="and"}function pS(t){return w4(t)&&mS(t)}function w4(t){for(const e of t.filters)if(e instanceof Ks)return!1;return!0}function by(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(pS(t))return t.filters.map((e=>by(e))).join(",");{const e=t.filters.map((n=>by(n))).join(",");return`${t.op}(${e})`}}function gS(t,e){return t instanceof Zt?(function(i,a){return a instanceof Zt&&i.op===a.op&&i.field.isEqual(a.field)&&Si(i.value,a.value)})(t,e):t instanceof Ks?(function(i,a){return a instanceof Ks&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&gS(u,a.filters[f])),!0):!1})(t,e):void Ie(19439)}function yS(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`})(t):t instanceof Ks?(function(n){return n.op.toString()+" {"+n.getFilters().map(yS).join(" ,")+"}"})(t):"Filter"}class T4 extends Zt{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class E4 extends Zt{constructor(e,n){super(e,"in",n),this.keys=xS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class A4 extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=xS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xS(t,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class S4 extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R0(n)&&Du(n.arrayValue,this.value)}}class C4 extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class k4 extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}}class R4 extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Du(this.value.arrayValue,i)))}}class N4{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Rw(t,e=null,n=[],i=[],a=null,l=null,u=null){return new N4(t,e,n,i,a,l,u)}function N0(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>by(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Pl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Pl(i))).join(",")),e.Te=n}return e.Te}function I0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kw(t.startAt,e.startAt)&&kw(t.endAt,e.endAt)}function _y(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Kl{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I4(t,e,n,i,a,l,u,f){return new Kl(t,e,n,i,a,l,u,f)}function Kf(t){return new Kl(t)}function Nw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vS(t){return t.collectionGroup!==null}function gu(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new rn(_n.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mu(l,i))})),n.has(_n.keyField().canonicalString())||e.Ie.push(new Mu(_n.keyField(),i))}return e.Ie}function bi(t){const e=Ue(t);return e.Ee||(e.Ee=D4(e,gu(t))),e.Ee}function D4(t,e){if(t.limitType==="F")return Rw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Mu(a.field,l)}));const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return Rw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function wy(t,e){const n=t.filters.concat([e]);return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ty(t,e,n){return new Kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qf(t,e){return I0(bi(t),bi(e))&&t.limitType===e.limitType}function bS(t){return`${N0(bi(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>yS(a))).join(", ")}]`),Gf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Pl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Pl(a))).join(",")),`Target(${i})`})(bi(t))}; limitType=${t.limitType})`}function Yf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of gu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,p){const g=Cw(u,f,p);return u.inclusive?g<=0:g<0})(i.startAt,gu(i),a)||i.endAt&&!(function(u,f,p){const g=Cw(u,f,p);return u.inclusive?g>=0:g>0})(i.endAt,gu(i),a))})(t,e)}function M4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _S(t){return(e,n)=>{let i=!1;for(const a of gu(t)){const l=j4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function j4(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?jl(p,g):Ie(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:t.dir})}}class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return iS(this.inner)}size(){return this.innerSize}}const P4=new Nt(Ce.comparator);function ar(){return P4}const wS=new Nt(Ce.comparator);function cu(...t){let e=wS;for(const n of t)e=e.insert(n.key,n);return e}function TS(t){let e=wS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ja(){return yu()}function ES(){return yu()}function yu(){return new _o((t=>t.toString()),((t,e)=>t.isEqual(e)))}const O4=new Nt(Ce.comparator),V4=new rn(Ce.comparator);function Ye(...t){let e=V4;for(const n of t)e=e.add(n);return e}const L4=new rn(Qe);function U4(){return L4}function D0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function SS(t,e){return f4(e)?AS(e):D0(t,e)}class Wf{constructor(){this._=void 0}}function B4(t,e,n){return t instanceof ju?(function(a,l){const u={fields:{[oS]:{stringValue:aS},[cS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&k0(l)&&(l=$f(l)),l&&(u.fields[lS]=l),{mapValue:u}})(n,e):t instanceof Ol?kS(t,e):t instanceof Pu?RS(t,e):(function(a,l){const u=CS(a,l),f=Iw(u)+Iw(a.Ae);return vy(u)&&vy(a.Ae)?AS(f):D0(a.serializer,f)})(t,e)}function z4(t,e,n){return t instanceof Ol?kS(t,e):t instanceof Pu?RS(t,e):n}function CS(t,e){return t instanceof Ou?(function(i){return vy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ju extends Wf{}class Ol extends Wf{constructor(e){super(),this.elements=e}}function kS(t,e){const n=NS(e);for(const i of t.elements)n.some((a=>Si(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Pu extends Wf{constructor(e){super(),this.elements=e}}function RS(t,e){let n=NS(e);for(const i of t.elements)n=n.filter((a=>!Si(a,i)));return{arrayValue:{values:n}}}class Ou extends Wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Iw(t){return zt(t.integerValue||t.doubleValue)}function NS(t){return R0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class M0{constructor(e,n){this.field=e,this.transform=n}}function q4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Ol&&a instanceof Ol||i instanceof Pu&&a instanceof Pu?Ml(i.elements,a.elements,Si):i instanceof Ou&&a instanceof Ou?Si(i.Ae,a.Ae):i instanceof ju&&a instanceof ju})(t.transform,e.transform)}class F4{constructor(e,n){this.version=e,this.transformResults=n}}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xf{}function IS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j0(t.key,As.none()):new Xu(t.key,t.data,As.none());{const n=t.data,i=Hn.empty();let a=new rn(_n.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new pa(t.key,i,new rs(a.toArray()),As.none())}}function H4(t,e,n){t instanceof Xu?(function(a,l,u){const f=a.value.clone(),p=Mw(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof pa?(function(a,l,u){if(!Xd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Mw(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(DS(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function xu(t,e,n,i){return t instanceof Xu?(function(l,u,f,p){if(!Xd(l.precondition,u))return f;const g=l.value.clone(),x=jw(l.fieldTransforms,p,u);return g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof pa?(function(l,u,f,p){if(!Xd(l.precondition,u))return f;const g=jw(l.fieldTransforms,p,u),x=u.data;return x.setAll(DS(l)),x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,i):(function(l,u,f){return Xd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function G4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=CS(i.transform,a||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(i.field,l))}return n||null}function Dw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ml(i,a,((l,u)=>q4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xu extends Xf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pa extends Xf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function DS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Mw(t,e,n){const i=new Map;ot(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,z4(u,f,n[a]))}return i}function jw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,B4(l,u,e))}return i}class j0 extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $4 extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&H4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=xu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=xu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ES();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=IS(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,((n,i)=>Dw(n,i)))&&Ml(this.baseMutations,e.baseMutations,((n,i)=>Dw(n,i)))}}class P0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ot(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return O4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new P0(e,n,i,a)}}class Q4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wt,et;function W4(t){switch(t){case ae.OK:return Ie(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ie(15467,{code:t})}}function MS(t){if(t===void 0)return rr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Wt.OK:return ae.OK;case Wt.CANCELLED:return ae.CANCELLED;case Wt.UNKNOWN:return ae.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ae.INTERNAL;case Wt.UNAVAILABLE:return ae.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ae.NOT_FOUND;case Wt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Wt.ABORTED:return ae.ABORTED;case Wt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Wt.DATA_LOSS:return ae.DATA_LOSS;default:return Ie(39323,{code:t})}}(et=Wt||(Wt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";function X4(){return new TextEncoder}const Z4=new Zr([4294967295,4294967295],0);function Pw(t){const e=X4().encode(t),n=new KA;return n.update(e),new Uint8Array(n.digest())}function Ow(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Zr([n,i],0),new Zr([a,l],0)]}class O0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(i<0)throw new uu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Zr.fromNumber(i)));return a.compare(Z4)===1&&(a=new Zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Pw(e),[i,a]=Ow(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new O0(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=Pw(e),[i,a]=Ow(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zf(Ve.min(),a,new Nt(Qe),ar(),Ye())}}class Zu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zu(i,n,Ye(),Ye(),Ye())}}class Zd{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class jS{constructor(e,n){this.targetId=e,this.Ce=n}}class PS{constructor(e,n,i=wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Vw{constructor(){this.ve=0,this.Fe=Lw(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}})),new Zu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Lw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ar(),this.Je=Pd(),this.He=Pd(),this.Ye=new Nt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(_y(l))if(i===0){const u=new Ce(l.path);this.et(n,u,Sn.newNoDocument(u,Ve.min()))}else ot(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=na(i).toUint8Array()}catch(p){if(p instanceof rS)return Dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new O0(u,a,l)}catch(p){return Dl(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&_y(f.target)){const p=new Ce(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Sn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Ye();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Zf(e,n,this.Ye,this.je,i);return this.je=ar(),this.Je=Pd(),this.He=Pd(),this.Ye=new Nt(Qe),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new Nt(Ce.comparator)}function Lw(){return new Nt(Ce.comparator)}const eP={asc:"ASCENDING",desc:"DESCENDING"},tP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nP={and:"AND",or:"OR"};class sP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ey(t,e){return t.useProto3Json||Gf(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iP(t,e){return xf(t,e.toTimestamp())}function _i(t){return ot(!!t,49232),Ve.fromTimestamp((function(n){const i=ta(n);return new _t(i.seconds,i.nanos)})(t))}function V0(t,e){return Ay(t,e).canonicalString()}function Ay(t,e){const n=(function(a){return new bt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VS(t){const e=bt.fromString(t);return ot(qS(e),10190,{key:e.toString()}),e}function Sy(t,e){return V0(t.databaseId,e.path)}function Ig(t,e){const n=VS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(US(n))}function LS(t,e){return V0(t.databaseId,e)}function rP(t){const e=VS(t);return e.length===4?bt.emptyPath():US(e)}function Cy(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function US(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Uw(t,e,n){return{name:Sy(t,e),fields:n.value.mapValue.fields}}function aP(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,x){return g.useProto3Json?(ot(x===void 0||typeof x=="string",58123),wn.fromBase64String(x||"")):(ot(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),wn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(g){const x=g.code===void 0?ae.UNKNOWN:MS(g.code);return new ve(x,g.message||"")})(u);n=new PS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ig(t,i.document.name),l=_i(i.document.updateTime),u=i.document.createTime?_i(i.document.createTime):Ve.min(),f=new Hn({mapValue:{fields:i.document.fields}}),p=Sn.newFoundDocument(a,l,u,f),g=i.targetIds||[],x=i.removedTargetIds||[];n=new Zd(g,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ig(t,i.document),l=i.readTime?_i(i.readTime):Ve.min(),u=Sn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Zd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ig(t,i.document),l=i.removedTargetIds||[];n=new Zd([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new Y4(a,l),f=i.targetId;n=new jS(f,u)}}return n}function oP(t,e){let n;if(e instanceof Xu)n={update:Uw(t,e.key,e.value)};else if(e instanceof j0)n={delete:Sy(t,e.key)};else if(e instanceof pa)n={update:Uw(t,e.key,e.data),updateMask:gP(e.fieldMask)};else{if(!(e instanceof $4))return Ie(16599,{Vt:e.type});n={verify:Sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof ju)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Pu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ou)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:iP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(t,e.precondition)),n}function lP(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?_i(a.updateTime):_i(l);return u.isEqual(Ve.min())&&(u=_i(l)),new F4(u,a.transformResults||[])})(n,e)))):[]}function cP(t,e){return{documents:[LS(t,e.path)]}}function uP(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=LS(t,a);const l=(function(g){if(g.length!==0)return zS(Ks.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((x=>(function(T){return{field:xl(T.field),direction:fP(T.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Ey(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function hP(t){let e=rP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ot(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(_){const T=BS(_);return T instanceof Ks&&pS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((T=>(function(D){return new Mu(vl(D.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let T;return T=typeof _=="object"?_.value:_,Gf(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(_){const T=!!_.before,C=_.values||[];return new yf(C,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const T=!_.before,C=_.values||[];return new yf(C,T)})(n.endAt)),I4(e,a,u,l,f,"F",p,g)}function dP(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vl(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=vl(n.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(n.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vl(n.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(vl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ks.create(n.compositeFilter.filters.map((i=>BS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(t):Ie(30097,{filter:t})}function fP(t){return eP[t]}function mP(t){return tP[t]}function pP(t){return nP[t]}function xl(t){return{fieldPath:t.canonicalString()}}function vl(t){return _n.fromServerFormat(t.fieldPath)}function zS(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(Sw(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(Aw(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sw(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(Aw(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:mP(n.op),value:n.value}}})(t):t instanceof Ks?(function(n){const i=n.getFilters().map((a=>zS(a)));return i.length===1?i[0]:{compositeFilter:{op:pP(n.op),filters:i}}})(t):Ie(54877,{filter:t})}function gP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Yr{constructor(e,n,i,a,l=Ve.min(),u=Ve.min(),f=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yP{constructor(e){this.yt=e}}function xP(t){const e=hP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ty(e,e.limit,"L"):e}class vP{constructor(){this.Cn=new bP}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ea.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class bP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new rn(bt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new rn(bt.comparator)).toArray()}}const Bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(FS,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class Vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vl(0)}static cr(){return new Vl(-1)}}const zw="LruGarbageCollector",_P=1048576;function qw([t,e],[n,i]){const a=Qe(t,n);return a===0?Qe(e,i):a}class wP{constructor(e){this.Ir=e,this.buffer=new rn(qw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();qw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(zw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?_e(zw,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Vr(3e5)}))}}class EP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Hf.ce);const i=new wP(n);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Bw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,f,p,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,f=Date.now(),this.removeTargets(e,i,n)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(g=Date.now(),gl()<=Ke.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-x}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function AP(t,e){return new EP(t,e)}class SP{constructor(){this.changes=new _o((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class kP{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&xu(i.mutation,a,rs.empty(),_t.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ja();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=cu();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=Ja();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=ar();const u=yu(),f=(function(){return yu()})();return n.forEach(((p,g)=>{const x=i.get(g.key);a.has(g.key)&&(x===void 0||x.mutation instanceof pa)?l=l.insert(g.key,g):x!==void 0?(u.set(g.key,x.mutation.getFieldMask()),xu(x.mutation,g,x.mutation.getFieldMask(),_t.now())):u.set(g.key,rs.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,x)=>u.set(g,x))),n.forEach(((g,x)=>f.set(g,new CP(x,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=yu();let a=new Nt(((u,f)=>u-f)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let x=i.get(p)||rs.empty();x=f.applyToLocalView(g,x),i.set(p,x);const _=(a.get(f.batchId)||Ye()).add(p);a=a.insert(f.batchId,_)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,x=p.value,_=ES();x.forEach((T=>{if(!l.has(T)){const C=IS(n.get(T),i.get(T));C!==null&&_.set(T,C),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return le.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):le.resolve(Ja());let f=Ru,p=l;return u.next((g=>le.forEach(g,((x,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(x)?le.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{p=p.insert(x,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ye()))).next((x=>({batchId:f,changes:TS(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((i=>{let a=cu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=cu();return this.indexManager.getCollectionParents(e,l).next((f=>le.forEach(f,(p=>{const g=(function(_,T){return new Kl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((x=>{x.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((p,g)=>{const x=g.getKey();u.get(x)===null&&(u=u.insert(x,Sn.newInvalidDocument(x)))}));let f=cu();return u.forEach(((p,g)=>{const x=l.get(p);x!==void 0&&xu(x.mutation,g,rs.empty(),_t.now()),Yf(n,g)&&(f=f.insert(p,g))})),f}))}}class RP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:_i(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:xP(a.bundledQuery),readTime:_i(a.readTime)}})(n)),le.resolve()}}class NP{constructor(){this.overlays=new Nt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ja();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.St(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const a=Ja(),l=n.length+1,u=new Ce(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Nt(((g,x)=>g-x));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let x=l.get(g.largestBatchId);x===null&&(x=Ja(),l=l.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=Ja(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,x)=>f.set(g,x))),!(f.size()>=a)););return le.resolve(f)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Q4(n,i));let l=this.qr.get(n);l===void 0&&(l=Ye(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class IP{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class L0{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ce(new bt([])),i=new un(n,e),a=new un(n,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new bt([])),i=new un(n,e),a=new un(n,e+1);let l=Ye();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}class DP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K4(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new un(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?C0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),a=new un(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const f=this.Xr(u.Yr);l.push(f)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rn(Qe);return n.forEach((a=>{const l=new un(a,0),u=new un(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const u=new un(new Ce(l),0);let f=new rn(Qe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Yr)),!0)}),u),le.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(n.mutations,(a=>{const l=new un(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),a=this.Zr.firstAfterOrEqual(i);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class MP{constructor(e){this.ri=e,this.docs=(function(){return new Nt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let i=ar();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Sn.newInvalidDocument(a))})),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ar();const u=n.path,f=new Ce(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:x}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||c4(l4(x),i)<=0||(a.has(x.key)||Yf(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ie(9500)}ii(e,n){return le.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new jP(this)}getSize(e){return le.resolve(this.size)}}class jP extends SP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class PP{constructor(e){this.persistence=e,this.si=new _o((n=>N0(n)),I0),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new L0,this.targetCount=0,this.ai=Vl.ur()}forEachTarget(e,n){return this.si.forEach(((i,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}class HS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hf(0),this.li=!1,this.li=!0,this.hi=new IP,this.referenceDelegate=e(this),this.Pi=new PP(this),this.indexManager=new vP,this.remoteDocumentCache=(function(a){return new MP(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new yP(n),this.Ii=new RP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new DP(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const a=new OP(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return le.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class OP extends h4{constructor(e){super(),this.currentSequenceNumber=e}}class U0{constructor(e){this.persistence=e,this.Ri=new L0,this.Vi=null}static mi(e){return new U0(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(i=>{const a=Ce.fromPath(i);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vf{constructor(e,n){this.persistence=e,this.pi=new _o((i=>m4(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=AP(this,n)}static mi(e,n){return new vf(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}br(e,n,i){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class B0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new B0(e,n.fromCache,i,a)}}class VP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mI()?8:d4(kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new VP;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,a){return i.documentReadCount<this.fs?(gl()<=Ke.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(gl()<=Ke.DEBUG&&_e("QueryEngine","Query:",yl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(gl()<=Ke.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):le.resolve())}ys(e,n){if(Nw(n))return le.resolve(null);let i=bi(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ty(n,null,"F"),i=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ye(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(n,f);return this.Cs(n,g,u,p.readTime)?this.ys(e,Ty(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,i,a){return Nw(n)||a.isEqual(Ve.min())?le.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?le.resolve(null):(gl()<=Ke.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yl(n)),this.vs(e,u,n,o4(a,Ru)).next((f=>f)))}))}Ds(e,n){let i=new rn(_S(e));return n.forEach(((a,l)=>{Yf(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return gl()<=Ke.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(e,n,ea.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const z0="LocalStore",UP=3e8;class BP{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Nt(Qe),this.xs=new _o((l=>N0(l)),I0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zP(t,e,n,i){return new BP(t,e,n,i)}async function GS(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=Ye();for(const g of a){u.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}for(const g of l){f.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function qP(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,x){const _=g.batch,T=_.keys();let C=le.resolve();return T.forEach((D=>{C=C.next((()=>x.getEntry(p,D))).next((L=>{const M=g.docVersions.get(D);ot(M!==null,48541),L.version.compareTo(M)<0&&(_.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),x.addEntry(L)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(p,_)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ye();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function $S(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FP(t,e){const n=Ue(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((x,_)=>{const T=a.get(_);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,x.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,x.addedDocuments,_))));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(wn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):x.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(x.resumeToken,i)),a=a.insert(_,C),(function(L,M,q){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=UP?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(T,C,x)&&f.push(n.Pi.updateTargetData(l,C))}));let p=ar(),g=Ye();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),f.push(HP(l,u,e.documentUpdates).next((x=>{p=x.ks,g=x.qs}))),!i.isEqual(Ve.min())){const x=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(x)}return le.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.Ms=a,l)))}function HP(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=ar();return n.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):_e(z0,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:a}}))}function GP(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=C0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function $P(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,e).next((l=>l?(a=l,le.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new Yr(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ky(t,e,n){const i=Ue(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!$l(u))throw u;_e(z0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Fw(t,e,n){const i=Ue(t);let a=Ve.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,x){const _=Ue(p),T=_.xs.get(x);return T!==void 0?le.resolve(_.Ms.get(T)):_.Pi.getTargetData(g,x)})(i,u,bi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Ve.min(),n?l:Ye()))).next((f=>(KP(i,M4(e),f),{documents:f,Qs:l})))))}function KP(t,e,n){let i=t.Os.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class Hw{constructor(){this.activeTargetIds=U4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QP{constructor(){this.Mo=new Hw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YP{Oo(e){}shutdown(){}}const Gw="ConnectivityMonitor";class $w{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(Gw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(Gw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Od=null;function Ry(){return Od===null?Od=(function(){return 268435456+Math.round(2147483648*Math.random())})():Od++,"0x"+Od.toString(16)}const Dg="RestConnection",WP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===pf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=Ry(),f=this.zo(e,n.toUriEncodedString());_e(Dg,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(f),x=ca(g);return this.Jo(e,f,p,i,x).then((_=>(_e(Dg,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Dl(Dg,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_}))}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const i=WP[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class ZP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const En="WebChannelConnection";class JP extends XP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Ry();return new Promise(((f,p)=>{const g=new QA;g.setWithCredentials(!0),g.listenOnce(YA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qd.NO_ERROR:const _=g.getResponseJson();_e(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Qd.TIMEOUT:_e(En,`RPC '${e}' ${u} timed out`),p(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const T=g.getStatus();if(_e(En,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const L=(function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Y)>=0?Y:ae.UNKNOWN})(D.status);p(new ve(L,D.message))}else p(new ve(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{_e(En,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);_e(En,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=Ry(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ZA(),f=XA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const x=l.join("");_e(En,`Creating RPC '${e}' stream ${a}: ${x}`,p);const _=u.createWebChannel(x,p);this.I_(_);let T=!1,C=!1;const D=new ZP({Yo:M=>{C?_e(En,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(T||(_e(En,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),_e(En,`RPC '${e}' stream ${a} sending:`,M),_.send(M))},Zo:()=>_.close()}),L=(M,q,Y)=>{M.listen(q,(H=>{try{Y(H)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return L(_,lu.EventType.OPEN,(()=>{C||(_e(En,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),L(_,lu.EventType.CLOSE,(()=>{C||(C=!0,_e(En,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),L(_,lu.EventType.ERROR,(M=>{C||(C=!0,Dl(En,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),D.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),L(_,lu.EventType.MESSAGE,(M=>{if(!C){const q=M.data[0];ot(!!q,16349);const Y=q,H=Y?.error||Y[0]?.error;if(H){_e(En,`RPC '${e}' stream ${a} received error:`,H);const ne=H.status;let ce=(function(S){const I=Wt[S];if(I!==void 0)return MS(I)})(ne),ue=H.message;ce===void 0&&(ce=ae.INTERNAL,ue="Unknown error status: "+ne+" with message "+H.message),C=!0,D.a_(new ve(ce,ue)),_.close()}else _e(En,`RPC '${e}' stream ${a} received:`,q),D.u_(q)}})),L(f,WA.STAT_EVENT,(M=>{M.stat===gy.PROXY?_e(En,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===gy.NOPROXY&&_e(En,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mg(){return typeof document<"u"?document:null}function Jf(t){return new sP(t,!0)}class KS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kw="PersistentStream";class QS{constructor(e,n,i,a,l,u,f,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new ve(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(Kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(_e(Kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eO extends QS{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?_i(u.readTime):Ve.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Cy(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=_y(p)?{documents:cP(l,p)}:{query:uP(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=OS(l,u.resumeToken);const g=Ey(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ve.min())>0){f.readTime=xf(l,u.snapshotVersion.toTimestamp());const g=Ey(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=dP(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.q_(n)}}class tO extends QS{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lP(e.writeResults,e.commitTime),i=_i(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Cy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>oP(this.serializer,i)))};this.q_(n)}}class nO{}class sO extends nO{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Ay(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ae.UNKNOWN,l.toString())}))}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Ay(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const mo="RemoteStore";class rO{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{wo(this)&&(_e(mo,"Restarting streams for network reachability change."),await(async function(p){const g=Ue(p);g.Ea.add(4),await Ju(g),g.Ra.set("Unknown"),g.Ea.delete(4),await em(g)})(this))}))})),this.Ra=new iO(i,a)}}async function em(t){if(wo(t))for(const e of t.da)await e(!0)}async function Ju(t){for(const e of t.da)await e(!1)}function YS(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),G0(n)?H0(n):Ql(n).O_()&&F0(n,e))}function q0(t,e){const n=Ue(t),i=Ql(n);n.Ia.delete(e),i.O_()&&WS(n,e),n.Ia.size===0&&(i.O_()?i.L_():wo(n)&&n.Ra.set("Unknown"))}function F0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ql(t).Y_(e)}function WS(t,e){t.Va.Ue(e),Ql(t).Z_(e)}function H0(t){t.Va=new J4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ql(t).start(),t.Ra.ua()}function G0(t){return wo(t)&&!Ql(t).x_()&&t.Ia.size>0}function wo(t){return Ue(t).Ea.size===0}function XS(t){t.Va=void 0}async function aO(t){t.Ra.set("Online")}async function oO(t){t.Ia.forEach(((e,n)=>{F0(t,e)}))}async function lO(t,e){XS(t),G0(t)?(t.Ra.ha(e),H0(t)):t.Ra.set("Unknown")}async function cO(t,e,n){if(t.Ra.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(i){_e(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bf(t,i)}else if(e instanceof Zd?t.Va.Ze(e):e instanceof jS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const i=await $S(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.Ia.get(g);x&&l.Ia.set(g,x.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,g)=>{const x=l.Ia.get(p);if(!x)return;l.Ia.set(p,x.withResumeToken(wn.EMPTY_BYTE_STRING,x.snapshotVersion)),WS(l,p);const _=new Yr(x.target,p,g,x.sequenceNumber);F0(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){_e(mo,"Failed to raise snapshot:",i),await bf(t,i)}}async function bf(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await Ju(t),t.Ra.set("Offline"),n||(n=()=>$S(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(mo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)}))}function ZS(t,e){return e().catch((n=>bf(t,n,e)))}async function tm(t){const e=Ue(t),n=ia(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:C0;for(;uO(e);)try{const a=await GP(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,hO(e,a)}catch(a){await bf(e,a)}JS(e)&&e2(e)}function uO(t){return wo(t)&&t.Ta.length<10}function hO(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return wo(t)&&!ia(t).x_()&&t.Ta.length>0}function e2(t){ia(t).start()}async function dO(t){ia(t).ra()}async function fO(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function mO(t,e,n){const i=t.Ta.shift(),a=P0.from(i,e,n);await ZS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tm(t)}async function pO(t,e){e&&ia(t).X_&&await(async function(i,a){if((function(u){return W4(u)&&u!==ae.ABORTED})(a.code)){const l=i.Ta.shift();ia(i).B_(),await ZS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(i)}})(t,e),JS(t)&&e2(t)}async function Qw(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),_e(mo,"RemoteStore received new credentials");const i=wo(n);n.Ea.add(3),await Ju(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function gO(t,e){const n=Ue(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await Ju(n),n.Ra.set("Unknown"))}function Ql(t){return t.ma||(t.ma=(function(n,i,a){const l=Ue(n);return l.sa(),new eO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:aO.bind(null,t),t_:oO.bind(null,t),r_:lO.bind(null,t),H_:cO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),G0(t)?H0(t):t.Ra.set("Unknown")):(await t.ma.stop(),XS(t))}))),t.ma}function ia(t){return t.fa||(t.fa=(function(n,i,a){const l=Ue(n);return l.sa(),new tO(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dO.bind(null,t),r_:pO.bind(null,t),ta:fO.bind(null,t),na:mO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(mo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class $0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new $0(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K0(t,e){if(rr("AsyncQueue",`${e}: ${t}`),$l(t))return new ve(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=cu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new kl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Yw{constructor(){this.ga=new Nt(Ce.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ll{constructor(e,n,i,a,l,u,f,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Ll(e,n,kl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class yO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xO{constructor(){this.queries=Ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ue(n),l=a.queries;a.queries=Ww(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function Ww(){return new _o((t=>bS(t)),Qf)}async function Q0(t,e){const n=Ue(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new yO,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=K0(u,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&W0(n)}async function Y0(t,e){const n=Ue(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function vO(t,e){const n=Ue(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&W0(n)}function bO(t,e,n){const i=Ue(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function W0(t){t.Ca.forEach((e=>{e.next()}))}var Ny,Xw;(Xw=Ny||(Ny={})).Ma="default",Xw.Cache="cache";class X0{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Ll(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ny.Cache}}class t2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class _O{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=_S(e),this.tu=new kl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Yw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,_)=>{const T=a.get(x),C=Yf(this.query,_)?_:null,D=!!T&&this.mutatedKeys.has(T.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;T&&C?T.data.isEqual(C.data)?D!==L&&(i.track({type:3,doc:C}),M=!0):this.su(T,C)||(i.track({type:2,doc:C}),M=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(f=!0)):!T&&C?(i.track({type:0,doc:C}),M=!0):T&&!C&&(i.track({type:1,doc:T}),M=!0,(p||g)&&(f=!0)),M&&(C?(u=u.add(C),l=L?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,_)=>(function(C,D){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:M})}};return L(C)-L(D)})(x.type,_.type)||this.eu(x.doc,_.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Ll(this.query,e.tu,l,u,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new n2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new t2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Z0="SyncEngine";class wO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class TO{constructor(e){this.key=e,this.hu=!1}}class EO{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new _o((f=>bS(f)),Qf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ce.comparator),this.Au=new Map,this.Ru=new L0,this.Vu={},this.mu=new Map,this.fu=Vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AO(t,e,n=!0){const i=l2(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await s2(i,e,n,!0),a}async function SO(t,e){const n=l2(t);await s2(n,e,!0,!1)}async function s2(t,e,n,i){const a=await $P(t.localStore,bi(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await CO(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&YS(t.remoteStore,a),f}async function CO(t,e,n,i,a){t.pu=(_,T,C)=>(async function(L,M,q,Y){let H=M.view.ru(q);H.Cs&&(H=await Fw(L.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,H))));const ne=Y&&Y.targetChanges.get(M.targetId),ce=Y&&Y.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(H,L.isPrimaryClient,ne,ce);return Jw(L,M.targetId,ue.au),ue.snapshot})(t,_,T,C);const l=await Fw(t.localStore,e,!0),u=new _O(e,l.Qs),f=u.ru(l.documents),p=Zu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=u.applyChanges(f,t.isPrimaryClient,p);Jw(t,n,g.au);const x=new wO(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function kO(t,e,n){const i=Ue(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Qf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ky(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&q0(i.remoteStore,a.targetId),Iy(i,a.targetId)})).catch(Gl)):(Iy(i,a.targetId),await ky(i.localStore,a.targetId,!0))}async function RO(t,e){const n=Ue(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),q0(n.remoteStore,i.targetId))}async function NO(t,e,n){const i=VO(t);try{const a=await(function(u,f){const p=Ue(u),g=_t.now(),x=f.reduce(((C,D)=>C.add(D.key)),Ye());let _,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=ar(),L=Ye();return p.Ns.getEntries(C,x).next((M=>{D=M,D.forEach(((q,Y)=>{Y.isValidDocument()||(L=L.add(q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,D))).next((M=>{_=M;const q=[];for(const Y of f){const H=G4(Y,_.get(Y.key).overlayedDocument);H!=null&&q.push(new pa(Y.key,H,dS(H.value.mapValue),As.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,q,f)})).next((M=>{T=M;const q=M.applyToLocalDocumentSet(_,L);return p.documentOverlayCache.saveOverlays(C,M.batchId,q)}))})).then((()=>({batchId:T.batchId,changes:TS(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new Nt(Qe)),g=g.insert(f,p),u.Vu[u.currentUser.toKey()]=g})(i,a.batchId,n),await eh(i,a.changes),await tm(i.remoteStore)}catch(a){const l=K0(a,"Failed to persist write");n.reject(l)}}async function i2(t,e){const n=Ue(t);try{const i=await FP(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ot(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ot(u.hu,14607):a.removedDocuments.size>0&&(ot(u.hu,42227),u.hu=!1))})),await eh(n,i,e)}catch(i){await Gl(i)}}function Zw(t,e,n){const i=Ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=Ue(u);p.onlineState=f;let g=!1;p.queries.forEach(((x,_)=>{for(const T of _.Sa)T.va(f)&&(g=!0)})),g&&W0(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function IO(t,e,n){const i=Ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Nt(Ce.comparator);u=u.insert(l,Sn.newNoDocument(l,Ve.min()));const f=Ye().add(l),p=new Zf(Ve.min(),new Map,new Nt(Qe),u,f);await i2(i,p),i.du=i.du.remove(l),i.Au.delete(e),J0(i)}else await ky(i.localStore,e,!1).then((()=>Iy(i,e,n))).catch(Gl)}async function DO(t,e){const n=Ue(t),i=e.batch.batchId;try{const a=await qP(n.localStore,e);a2(n,i,null),r2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await eh(n,a)}catch(a){await Gl(a)}}async function MO(t,e,n){const i=Ue(t);try{const a=await(function(u,f){const p=Ue(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return p.mutationQueue.lookupMutationBatch(g,f).next((_=>(ot(_!==null,37113),x=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,x,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>p.localDocuments.getDocuments(g,x)))}))})(i.localStore,e);a2(i,e,n),r2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await eh(i,a)}catch(a){await Gl(a)}}function r2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function a2(t,e,n){const i=Ue(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||o2(t,i)}))}function o2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(q0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),J0(t))}function Jw(t,e,n){for(const i of n)i instanceof t2?(t.Ru.addReference(i.key,e),jO(t,i)):i instanceof n2?(_e(Z0,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||o2(t,i.key)):Ie(19791,{wu:i})}function jO(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(_e(Z0,"New document in limbo: "+n),t.Eu.add(i),J0(t))}function J0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ce(bt.fromString(e)),i=t.fu.next();t.Au.set(i,new TO(n)),t.du=t.du.insert(n,i),YS(t.remoteStore,new Yr(bi(Kf(n.path)),i,"TargetPurposeLimboResolution",Hf.ce))}}async function eh(t,e,n){const i=Ue(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((g=>{if((g||n)&&i.isPrimaryClient){const x=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){a.push(g);const x=B0.As(p.targetId,g);l.push(x)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(p,g){const x=Ue(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>le.forEach(g,(T=>le.forEach(T.Es,(C=>x.persistence.referenceDelegate.addReference(_,T.targetId,C))).next((()=>le.forEach(T.ds,(C=>x.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))))))}catch(_){if(!$l(_))throw _;_e(z0,"Failed to update sequence numbers: "+_)}for(const _ of g){const T=_.targetId;if(!_.fromCache){const C=x.Ms.get(T),D=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(D);x.Ms=x.Ms.insert(T,L)}}})(i.localStore,l))}async function PO(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){_e(Z0,"User change. New user:",e.toKey());const i=await GS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ve(ae.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await eh(n,i.Ls)}}function OO(t,e){const n=Ue(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function l2(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IO.bind(null,e),e.Pu.H_=vO.bind(null,e.eventManager),e.Pu.yu=bO.bind(null,e.eventManager),e}function VO(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MO.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zP(this.persistence,new LP,e.initialUser,this.serializer)}Cu(e){return new HS(U0.mi,this.serializer)}Du(e){return new QP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class LO extends _f{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof vf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new HS((i=>vf.mi(i,n)),this.serializer)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Zw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PO.bind(null,this.syncEngine),await gO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xO})()}createDatastore(e){const n=Jf(e.databaseInfo.databaseId),i=(function(l){return new JP(l)})(e.databaseInfo);return(function(l,u,f,p){return new sO(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new rO(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zw(this.syncEngine,n,0)),(function(){return $w.v()?new $w:new YP})())}createSyncEngine(e,n){return(function(a,l,u,f,p,g,x){const _=new EO(a,l,u,f,p,g);return x&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ue(n);_e(mo,"RemoteStore shutting down."),i.Ea.add(5),await Ju(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dy.provider={build:()=>new Dy};class ex{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ra="FirestoreClient";class UO{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=S0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{_e(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(_e(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=K0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function jg(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await GS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function eT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BO(t);_e(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>Qw(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>Qw(e.remoteStore,a))),t._onlineComponents=e}async function BO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ra,"Using user provided OfflineComponentProvider");try{await jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await jg(t,new _f)}}else _e(ra,"Using default OfflineComponentProvider"),await jg(t,new LO(void 0));return t._offlineComponents}async function c2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ra,"Using user provided OnlineComponentProvider"),await eT(t,t._uninitializedComponentsProvider._online)):(_e(ra,"Using default OnlineComponentProvider"),await eT(t,new Dy))),t._onlineComponents}function zO(t){return c2(t).then((e=>e.syncEngine))}async function wf(t){const e=await c2(t),n=e.eventManager;return n.onListen=AO.bind(null,e.syncEngine),n.onUnlisten=kO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RO.bind(null,e.syncEngine),n}function qO(t,e,n={}){const i=new er;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const x=new ex({next:T=>{x.Nu(),u.enqueueAndForget((()=>Y0(l,_)));const C=T.docs.has(f);!C&&T.fromCache?g.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new X0(Kf(f.path),x,{includeMetadataChanges:!0,qa:!0});return Q0(l,_)})(await wf(t),t.asyncQueue,e,n,i))),i.promise}function FO(t,e,n={}){const i=new er;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,g){const x=new ex({next:T=>{x.Nu(),u.enqueueAndForget((()=>Y0(l,_))),T.fromCache&&p.source==="server"?g.reject(new ve(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new X0(f,x,{includeMetadataChanges:!0,qa:!0});return Q0(l,_)})(await wf(t),t.asyncQueue,e,n,i))),i.promise}function u2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const tT=new Map;const h2="firestore.googleapis.com",nT=!0;class sT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h2,this.ssl=nT}else this.host=e.host,this.ssl=e.ssl??nT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_P)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Wj;switch(i.type){case"firstParty":return new e4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=tT.get(n);i&&(_e("ComponentProvider","Removing Datastore"),tT.delete(n),i.terminate())})(this),Promise.resolve()}}function HO(t,e,n,i={}){t=Kn(t,nm);const a=ca(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(d0(`https://${f}`),f0("Firestore",!0)),l.host!==h2&&l.host!==f&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:i};if(!nr(p,u)&&(t._setSettings(p),i.mockUserToken)){let g,x;if(typeof i.mockUserToken=="string")g=i.mockUserToken,x=An.MOCK_USER;else{g=iA(i.mockUserToken,t._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new An(_)}t._authCredentials=new Xj(new eS(g,x))}}class ga{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class Pt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Wu(n,Pt._jsonSchema))return new Pt(e,i||null,new Ce(bt.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Jt("string",Pt._jsonSchemaVersion),referencePath:Jt("string")};class Jr extends ga{constructor(e,n,i){super(e,n,Kf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Ce(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function Fs(t,e,...n){if(t=gt(t),tS("collection","path",e),t instanceof nm){const i=bt.fromString(e,...n);return gw(i),new Jr(t,null,i)}{if(!(t instanceof Pt||t instanceof Jr))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bt.fromString(e,...n));return gw(i),new Jr(t.firestore,null,i)}}function sn(t,e,...n){if(t=gt(t),arguments.length===1&&(e=S0.newId()),tS("doc","path",e),t instanceof nm){const i=bt.fromString(e,...n);return pw(i),new Pt(t,null,new Ce(i))}{if(!(t instanceof Pt||t instanceof Jr))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(bt.fromString(e,...n));return pw(i),new Pt(t.firestore,t instanceof Jr?t.converter:null,new Ce(i))}}const iT="AsyncQueue";class rT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KS(this,"async_queue_retry"),this._c=()=>{const i=Mg();i&&_e(iT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;_e(iT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",aT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ie(47125,{Pc:aT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function oT(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class or extends nm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new rT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rT(e),this._firestoreClient=void 0,await e}}}function GO(t,e){const n=typeof t=="object"?t:Uf(),i=typeof t=="string"?t:pf,a=ua(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=tA("firestore");l&&HO(a,...l)}return a}function sm(t){if(t._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$O(t),t._firestoreClient}function $O(t){const e=t._freezeSettings(),n=(function(a,l,u,f){return new y4(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,u2(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(wn.fromBase64String(e))}catch(n){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ts._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wu(e,Ts._jsonSchema))return Ts.fromBase64String(e.bytes)}}Ts._jsonSchemaVersion="firestore/bytes/1.0",Ts._jsonSchema={type:Jt("string",Ts._jsonSchemaVersion),bytes:Jt("string")};class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yl{constructor(e){this._methodName=e}}class wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(e){if(Wu(e,wi._jsonSchema))return new wi(e.latitude,e.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Jt("string",wi._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class Ti{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ti(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Jt("string",Ti._jsonSchemaVersion),vectorValues:Jt("object")};const KO=/^__.*__$/;class QO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}class d2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function f2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:t})}}class rm{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(f2(this.Ac)&&KO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Jf(e)}Cc(e,n,i,a=!1){return new rm({Ac:e,methodName:n,Dc:i,path:_n.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(t){const e=t._freezeSettings(),n=Jf(t._databaseId);return new YO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m2(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);ix("Data must be an object, but it was:",u,i);const f=p2(i,u);let p,g;if(l.merge)p=new rs(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const _ of l.mergeFields){const T=My(e,_,n);if(!u.contains(T))throw new ve(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);y2(x,T)||x.push(T)}p=new rs(x),g=u.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=u.fieldTransforms;return new QO(new Hn(f),p,g)}class om extends Yl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function WO(t,e,n){return new rm({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tx extends Yl{_toFieldTransform(e){return new M0(e.path,new ju)}isEqual(e){return e instanceof tx}}class nx extends Yl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=WO(this,e,!0),i=this.vc.map((l=>Wl(l,n))),a=new Ol(i);return new M0(e.path,a)}isEqual(e){return e instanceof nx&&nr(this.vc,e.vc)}}class sx extends Yl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Ou(e.serializer,SS(e.serializer,this.Fc));return new M0(e.path,n)}isEqual(e){return e instanceof sx&&this.Fc===e.Fc}}function XO(t,e,n,i){const a=t.Cc(1,e,n);ix("Data must be an object, but it was:",a,i);const l=[],u=Hn.empty();ma(i,((p,g)=>{const x=rx(e,p,n);g=gt(g);const _=a.yc(x);if(g instanceof om)l.push(x);else{const T=Wl(g,_);T!=null&&(l.push(x),u.set(x,T))}}));const f=new rs(l);return new d2(u,f,a.fieldTransforms)}function ZO(t,e,n,i,a,l){const u=t.Cc(1,e,n),f=[My(e,i,n)],p=[a];if(l.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(My(e,l[T])),p.push(l[T+1]);const g=[],x=Hn.empty();for(let T=f.length-1;T>=0;--T)if(!y2(g,f[T])){const C=f[T];let D=p[T];D=gt(D);const L=u.yc(C);if(D instanceof om)g.push(C);else{const M=Wl(D,L);M!=null&&(g.push(C),x.set(C,M))}}const _=new rs(g);return new d2(x,_,u.fieldTransforms)}function JO(t,e,n,i=!1){return Wl(n,t.Cc(i?4:3,e))}function Wl(t,e){if(g2(t=gt(t)))return ix("Unsupported field value:",e,t),p2(t,e);if(t instanceof Yl)return(function(i,a){if(!f2(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let p=Wl(f,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SS(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:xf(a.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xf(a.serializer,l)}}if(i instanceof wi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ts)return{bytesValue:OS(a.serializer,i._byteString)};if(i instanceof Pt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:V0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ti)return(function(u,f){return{mapValue:{fields:{[uS]:{stringValue:hS},[gf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return D0(f.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Ff(i)}`)})(t,e)}function p2(t,e){const n={};return iS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,((i,a)=>{const l=Wl(a,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function g2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof wi||t instanceof Ts||t instanceof Pt||t instanceof Yl||t instanceof Ti)}function ix(t,e,n){if(!g2(n)||!nS(n)){const i=Ff(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function My(t,e,n){if((e=gt(e))instanceof im)return e._internalPath;if(typeof e=="string")return rx(t,e);throw Tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const e3=new RegExp("[~\\*/\\[\\]]");function rx(t,e,n){if(e.search(e3)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch{throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new ve(ae.INVALID_ARGUMENT,f+t+p)}function y2(t,e){return t.some((n=>n.isEqual(e)))}class x2{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t3 extends x2{data(){return super.data()}}function lm(t,e){return typeof e=="string"?rx(t,e):e instanceof im?e._internalPath:e._delegate._internalPath}function v2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ax{}class b2 extends ax{}function vu(t,e,...n){let i=[];e instanceof ax&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof ox)).length,f=l.filter((p=>p instanceof cm)).length;if(u>1||u>0&&f>0)throw new ve(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class cm extends b2{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new cm(e,n,i)}_apply(e){const n=this._parse(e);return _2(e._query,n),new ga(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=am(e.firestore);return(function(l,u,f,p,g,x,_){let T;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){uT(_,x);const D=[];for(const L of _)D.push(cT(p,l,L));T={arrayValue:{values:D}}}else T=cT(p,l,_)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||uT(_,x),T=JO(f,u,_,x==="in"||x==="not-in");return Zt.create(g,x,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jy(t,e,n){const i=e,a=lm("where",t);return cm._create(a,i,n)}class ox extends ax{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ox(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ks.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)_2(u,p),u=wy(u,p)})(e._query,n),new ga(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lx extends b2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lx(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ve(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(l,u)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Kl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function lT(t,e="asc"){const n=e,i=lm("orderBy",t);return lx._create(i,n)}function cT(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new ve(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(bt.fromString(n));if(!Ce.isDocumentKey(i))throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ew(t,new Ce(i))}if(n instanceof Pt)return Ew(t,n._key);throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(n)}.`)}function uT(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _2(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n3{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ma(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[gf].arrayValue?.values?.map((i=>zt(i.doubleValue)));return new Ti(n)}convertGeoPoint(e){return new wi(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$f(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=ta(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=bt.fromString(e);ot(qS(i),9688,{name:e});const a=new Iu(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(n)||rr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function w2(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends x2{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Jt("string",so._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Jd extends so{data(e={}){return super.data(e)}}class io{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new hu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Jd(this._firestore,this._userDataWriter,i.key,i,new hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new Jd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new hu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Jd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new hu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,x=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:s3(f.type),doc:p,oldIndex:g,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:t})}}function Py(t){t=Kn(t,Pt);const e=Kn(t.firestore,or);return qO(sm(e),t._key).then((n=>T2(e,t,n)))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:Jt("string",io._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class cx extends n3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function Ef(t){t=Kn(t,ga);const e=Kn(t.firestore,or),n=sm(e),i=new cx(e);return v2(t._query),FO(n,t._query).then((a=>new io(e,i,t,a)))}function Vd(t,e,n){t=Kn(t,Pt);const i=Kn(t.firestore,or),a=w2(t.converter,e,n);return um(i,[m2(am(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,As.none())])}function ro(t,e,n,...i){t=Kn(t,Pt);const a=Kn(t.firestore,or),l=am(a);let u;return u=typeof(e=gt(e))=="string"||e instanceof im?ZO(l,"updateDoc",t._key,e,n,i):XO(l,"updateDoc",t._key,e),um(a,[u.toMutation(t._key,As.exists(!0))])}function Vu(t){return um(Kn(t.firestore,or),[new j0(t._key,As.none())])}function Lu(t,e){const n=Kn(t.firestore,or),i=sn(t),a=w2(t.converter,e);return um(n,[m2(am(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,As.exists(!1))]).then((()=>i))}function hT(t,...e){t=gt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||oT(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(oT(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,f;if(t instanceof Pt)u=Kn(t.firestore,or),f=Kf(t._key.path),l={next:p=>{e[i]&&e[i](T2(u,t,p))},error:e[i+1],complete:e[i+2]};else{const p=Kn(t,ga);u=Kn(p.firestore,or),f=p._query;const g=new cx(u);l={next:x=>{e[i]&&e[i](new io(u,g,p,x))},error:e[i+1],complete:e[i+2]},v2(t._query)}return(function(g,x,_,T){const C=new ex(T),D=new X0(x,C,_);return g.asyncQueue.enqueueAndForget((async()=>Q0(await wf(g),D))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>Y0(await wf(g),D)))}})(sm(u),f,a,l)}function um(t,e){return(function(i,a){const l=new er;return i.asyncQueue.enqueueAndForget((async()=>NO(await zO(i),a,l))),l.promise})(sm(t),e)}function T2(t,e,n){const i=n.docs.get(e._key),a=new cx(t);return new so(t,a,e._key,i,new hu(n.hasPendingWrites,n.fromCache),e.converter)}function fl(){return new tx("serverTimestamp")}function i3(...t){return new nx("arrayUnion",t)}function dT(t){return new sx("increment",t)}(function(e,n=!0){(function(a){Hl=a})(bo),$s(new Cs("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new or(new Zj(i.getProvider("auth-internal")),new t4(u,i.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(g.options.projectId,x)})(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),$n(hw,dw,e),$n(hw,dw,"esm2020")})();var r3="firebase",a3="12.7.0";$n(r3,a3,"app");const E2="firebasestorage.googleapis.com",A2="storageBucket",o3=120*1e3,l3=600*1e3,c3=1e3;class It extends Rs{constructor(e,n,i=0){super(Pg(e),`Firebase Storage: ${n} (${Pg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function Pg(t){return"storage/"+t}function ux(){const t="An unknown error occurred, please check the error payload for server response.";return new It(Et.UNKNOWN,t)}function u3(t){return new It(Et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function h3(t){return new It(Et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Et.UNAUTHENTICATED,t)}function f3(){return new It(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m3(t){return new It(Et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function S2(){return new It(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C2(){return new It(Et.CANCELED,"User canceled the upload/download.")}function p3(t){return new It(Et.INVALID_URL,"Invalid URL '"+t+"'.")}function g3(t){return new It(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y3(){return new It(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A2+"' property when initializing the app?")}function k2(){return new It(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x3(){return new It(Et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v3(){return new It(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function b3(t){return new It(Et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Oy(t){return new It(Et.INVALID_ARGUMENT,t)}function R2(){return new It(Et.APP_DELETED,"The Firebase app was deleted.")}function _3(t){return new It(Et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(t,e){return new It(Et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nu(t){throw new It(Et.INTERNAL_ERROR,"Internal error: "+t)}class as{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=as.makeFromUrl(e,n)}catch{return new as(e,"")}if(i.path==="")return i;throw g3(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const x="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${_}/${x}/b/${a}/o${T}`,"i"),D={bucket:1,path:3},L=n===E2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",q=new RegExp(`^https?://${L}/${a}/${M}`,"i"),H=[{regex:f,indices:p,postModify:l},{regex:C,indices:D,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<H.length;ne++){const ce=H[ne],ue=ce.regex.exec(e);if(ue){const R=ue[ce.indices.bucket];let S=ue[ce.indices.path];S||(S=""),i=new as(R,S),ce.postModify(i);break}}if(i==null)throw p3(e);return i}}class w3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function T3(t,e,n){let i=1,a=null,l=null,u=!1,f=0;function p(){return f===2}let g=!1;function x(...M){g||(g=!0,e.apply(null,M))}function _(M){a=setTimeout(()=>{a=null,t(C,p())},M)}function T(){l&&clearTimeout(l)}function C(M,...q){if(g){T();return}if(M){T(),x.call(null,M,...q);return}if(p()||u){T(),x.call(null,M,...q);return}i<64&&(i*=2);let H;f===1?(f=2,H=0):H=(i+Math.random())*1e3,_(H)}let D=!1;function L(M){D||(D=!0,T(),!g&&(a!==null?(M||(f=2),clearTimeout(a),_(0)):M||(f=1)))}return _(0),l=setTimeout(()=>{u=!0,L(!0)},n),L}function E3(t){t(!1)}function A3(t){return t!==void 0}function S3(t){return typeof t=="function"}function C3(t){return typeof t=="object"&&!Array.isArray(t)}function hm(t){return typeof t=="string"||t instanceof String}function fT(t){return hx()&&t instanceof Blob}function hx(){return typeof Blob<"u"}function mT(t,e,n,i){if(i<e)throw Oy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Oy(`Invalid value for '${t}'. Expected ${n} or less.`)}function Xl(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function N2(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ao||(ao={}));function I2(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class k3{constructor(e,n,i,a,l,u,f,p,g,x,_,T=!0,C=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=x,this.connectionFactory_=_,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,L)=>{this.resolve_=D,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Ld(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===ao.NO_ERROR,p=l.getStatus();if(!f||I2(p,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===ao.ABORT;i(!1,new Ld(!1,null,x));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new Ld(g,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());A3(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=ux();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(a.canceled){const p=this.appDelete_?R2():C2();u(p)}else{const p=S2();u(p)}};this.canceled_?n(!1,new Ld(!1,null,!0)):this.backoffId_=T3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ld{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function R3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function N3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function I3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M3(t,e,n,i,a,l,u=!0,f=!1){const p=N2(t.urlParams),g=t.url+p,x=Object.assign({},t.headers);return I3(x,e),R3(x,n),N3(x,l),D3(x,i),new k3(g,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}function j3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function P3(...t){const e=j3();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(hx())return new Blob(t);throw new It(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function V3(t){if(typeof atob>"u")throw b3("base-64");return atob(t)}const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Og{constructor(e,n){this.data=e,this.contentType=n||null}}function L3(t,e){switch(t){case xi.RAW:return new Og(D2(e));case xi.BASE64:case xi.BASE64URL:return new Og(M2(t,e));case xi.DATA_URL:return new Og(B3(e),z3(e))}throw ux()}function D2(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,u=t.charCodeAt(++n);i=65536|(l&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function U3(t){let e;try{e=decodeURIComponent(t)}catch{throw bu(xi.DATA_URL,"Malformed data URL.")}return D2(e)}function M2(t,e){switch(t){case xi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw bu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw bu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=V3(e)}catch(a){throw a.message.includes("polyfill")?a:bu(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class j2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bu(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=q3(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function B3(t){const e=new j2(t);return e.base64?M2(xi.BASE64,e.rest):U3(e.rest)}function z3(t){return new j2(t).contentType}function q3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class Yi{constructor(e,n){let i=0,a="";fT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(fT(this.data_)){const i=this.data_,a=O3(i,e,n);return a===null?null:new Yi(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Yi(i,!0)}}static getBlob(...e){if(hx()){const n=e.map(i=>i instanceof Yi?i.data_:i);return new Yi(P3.apply(null,n))}else{const n=e.map(u=>hm(u)?L3(xi.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new Yi(a,!0)}}uploadData(){return this.data_}}function P2(t){let e;try{e=JSON.parse(t)}catch{return null}return C3(e)?e:null}function F3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H3(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function O2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function G3(t,e){return e}class In{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||G3}}let Ud=null;function $3(t){return!hm(t)||t.length<2?t:O2(t)}function dx(){if(Ud)return Ud;const t=[];t.push(new In("bucket")),t.push(new In("generation")),t.push(new In("metageneration")),t.push(new In("name","fullPath",!0));function e(l,u){return $3(u)}const n=new In("name");n.xform=e,t.push(n);function i(l,u){return u!==void 0?Number(u):u}const a=new In("size");return a.xform=i,t.push(a),t.push(new In("timeCreated")),t.push(new In("updated")),t.push(new In("md5Hash",null,!0)),t.push(new In("cacheControl",null,!0)),t.push(new In("contentDisposition",null,!0)),t.push(new In("contentEncoding",null,!0)),t.push(new In("contentLanguage",null,!0)),t.push(new In("contentType",null,!0)),t.push(new In("metadata","customMetadata",!0)),Ud=t,Ud}function K3(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new as(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function Q3(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];i[u.local]=u.xform(i,e[u.server])}return K3(i,t),i}function V2(t,e,n){const i=P2(e);return i===null?null:Q3(t,i,n)}function Y3(t,e,n,i){const a=P2(e);if(a===null||!hm(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const x=t.bucket,_=t.fullPath,T="/b/"+u(x)+"/o/"+u(_),C=Xl(T,n,i),D=N2({alt:"media",token:g});return C+D})[0]}function L2(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class To{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tr(t){if(!t)throw ux()}function fx(t,e){function n(i,a){const l=V2(t,a,e);return tr(l!==null),l}return n}function W3(t,e){function n(i,a){const l=V2(t,a,e);return tr(l!==null),Y3(l,a,t.host,t._protocol)}return n}function th(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=f3():a=d3():n.getStatus()===402?a=h3(t.bucket):n.getStatus()===403?a=m3(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function mx(t){const e=th(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=u3(t.path)),l.serverResponse=a.serverResponse,l}return n}function X3(t,e,n){const i=e.fullServerUrl(),a=Xl(i,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new To(a,l,fx(t,n),u);return f.errorHandler=mx(e),f}function Z3(t,e,n){const i=e.fullServerUrl(),a=Xl(i,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new To(a,l,W3(t,n),u);return f.errorHandler=mx(e),f}function J3(t,e){const n=e.fullServerUrl(),i=Xl(n,t.host,t._protocol),a="DELETE",l=t.maxOperationRetryTime;function u(p,g){}const f=new To(i,a,u,l);return f.successCodes=[200,204],f.errorHandler=mx(e),f}function e5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function U2(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=e5(null,e)),i}function B2(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let H="";for(let ne=0;ne<2;ne++)H=H+Math.random().toString().slice(2);return H}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const g=U2(e,i,a),x=L2(g,n),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",C=Yi.getBlob(_,i,T);if(C===null)throw k2();const D={name:g.fullPath},L=Xl(l,t.host,t._protocol),M="POST",q=t.maxUploadRetryTime,Y=new To(L,M,fx(t,n),q);return Y.urlParams=D,Y.headers=u,Y.body=C.uploadData(),Y.errorHandler=th(e),Y}class Af{constructor(e,n,i,a){this.current=e,this.total=n,this.finalized=!!i,this.metadata=a||null}}function px(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{tr(!1)}return tr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function t5(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),u=U2(e,i,a),f={name:u.fullPath},p=Xl(l,t.host,t._protocol),g="POST",x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},_=L2(u,n),T=t.maxUploadRetryTime;function C(L){px(L);let M;try{M=L.getResponseHeader("X-Goog-Upload-URL")}catch{tr(!1)}return tr(hm(M)),M}const D=new To(p,g,C,T);return D.urlParams=f,D.headers=x,D.body=_,D.errorHandler=th(e),D}function n5(t,e,n,i){const a={"X-Goog-Upload-Command":"query"};function l(g){const x=px(g,["active","final"]);let _=null;try{_=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tr(!1)}_||tr(!1);const T=Number(_);return tr(!isNaN(T)),new Af(T,i.size(),x==="final")}const u="POST",f=t.maxUploadRetryTime,p=new To(n,u,l,f);return p.headers=a,p.errorHandler=th(e),p}const pT=256*1024;function s5(t,e,n,i,a,l,u,f){const p=new Af(0,0);if(u?(p.current=u.current,p.total=u.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw x3();const g=p.total-p.current;let x=g;a>0&&(x=Math.min(x,a));const _=p.current,T=_+x;let C="";x===0?C="finalize":g===x?C="upload, finalize":C="upload";const D={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${p.current}`},L=i.slice(_,T);if(L===null)throw k2();function M(ne,ce){const ue=px(ne,["active","final"]),R=p.current+x,S=i.size();let I;return ue==="final"?I=fx(e,l)(ne,ce):I=null,new Af(R,S,ue==="final",I)}const q="POST",Y=e.maxUploadRetryTime,H=new To(n,q,M,Y);return H.headers=D,H.body=L.uploadData(),H.progressCallback=f||null,H.errorHandler=th(t),H}const qn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vg(t){switch(t){case"running":case"pausing":case"canceling":return qn.RUNNING;case"paused":return qn.PAUSED;case"success":return qn.SUCCESS;case"canceled":return qn.CANCELED;case"error":return qn.ERROR;default:return qn.ERROR}}class i5{constructor(e,n,i){if(S3(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function ml(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class r5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a,l){if(this.sent_)throw nu("cannot .send() more than once");if(ca(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class a5 extends r5{initXhr(){this.xhr_.responseType="text"}}function Kr(){return new a5}class o5{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=dx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Et.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(I2(a.status,[]))if(l)a=S2();else{this.sleepTime=Math.max(this.sleepTime*2,c3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Et.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=t5(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Kr,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const a=n5(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Kr,n,i);this._request=l,l.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=pT*this._chunkMultiplier,n=new Af(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let u;try{u=s5(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const f=this._ref.storage._makeRequest(u,Kr,a,l,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){pT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=X3(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Kr,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=B2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Kr,e,n);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=C2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,a){const l=new i5(n||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vg(this._state)){case qn.SUCCESS:ml(this._resolve.bind(null,this.snapshot))();break;case qn.CANCELED:case qn.ERROR:const n=this._reject;ml(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vg(this._state)){case qn.RUNNING:case qn.PAUSED:e.next&&ml(e.next.bind(e,this.snapshot))();break;case qn.SUCCESS:e.complete&&ml(e.complete.bind(e))();break;case qn.CANCELED:case qn.ERROR:e.error&&ml(e.error.bind(e,this._error))();break;default:e.error&&ml(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class po{constructor(e,n){this._service=e,n instanceof as?this._location=n:this._location=as.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new po(e,n)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O2(this._location.path)}get storage(){return this._service}get parent(){const e=F3(this._location.path);if(e===null)return null;const n=new as(this._location.bucket,e);return new po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _3(e)}}function l5(t,e,n){t._throwIfRoot("uploadBytes");const i=B2(t.storage,t._location,dx(),new Yi(e,!0),n);return t.storage.makeRequestWithTokens(i,Kr).then(a=>({metadata:a,ref:t}))}function c5(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o5(t,new Yi(e),n)}function u5(t){t._throwIfRoot("getDownloadURL");const e=Z3(t.storage,t._location,dx());return t.storage.makeRequestWithTokens(e,Kr).then(n=>{if(n===null)throw v3();return n})}function h5(t){t._throwIfRoot("deleteObject");const e=J3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Kr)}function d5(t,e){const n=H3(t._location.path,e),i=new as(t._location.bucket,n);return new po(t.storage,i)}function f5(t){return/^[A-Za-z]+:\/\//.test(t)}function m5(t,e){return new po(t,e)}function z2(t,e){if(t instanceof gx){const n=t;if(n._bucket==null)throw y3();const i=new po(n,n._bucket);return e!=null?z2(i,e):i}else return e!==void 0?d5(t,e):t}function p5(t,e){if(e&&f5(e)){if(t instanceof gx)return m5(t,e);throw Oy("To use ref(service, url), the first argument must be a Storage instance.")}else return z2(t,e)}function gT(t,e){const n=e?.[A2];return n==null?null:as.makeFromBucketSpec(n,t)}function g5(t,e,n,i={}){t.host=`${e}:${n}`;const a=ca(e);a&&(d0(`https://${t.host}/b`),f0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:iA(l,t.app.options.projectId))}class gx{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=E2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o3,this._maxUploadRetryTime=l3,this._requests=new Set,a!=null?this._bucket=as.makeFromBucketSpec(a,this._host):this._bucket=gT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,e):this._bucket=gT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new po(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new w3(R2());{const u=M3(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const yT="@firebase/storage",xT="0.14.0";const q2="storage";function y5(t,e,n){return t=gt(t),l5(t,e,n)}function x5(t,e,n){return t=gt(t),c5(t,e,n)}function F2(t){return t=gt(t),u5(t)}function v5(t){return t=gt(t),h5(t)}function Vy(t,e){return t=gt(t),p5(t,e)}function b5(t=Uf(),e){t=gt(t);const i=ua(t,q2).getImmediate({identifier:e}),a=tA("storage");return a&&_5(i,...a),i}function _5(t,e,n,i={}){g5(t,e,n,i)}function w5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new gx(n,i,a,e,bo)}function T5(){$s(new Cs(q2,w5,"PUBLIC").setMultipleInstances(!0)),$n(yT,xT,""),$n(yT,xT,"esm2020")}T5();const H2="@firebase/installations",yx="0.6.19";const G2=1e4,$2=`w:${yx}`,K2="FIS_v2",E5="https://firebaseinstallations.googleapis.com/v1",A5=3600*1e3,S5="installations",C5="Installations";const k5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},go=new vo(S5,C5,k5);function Q2(t){return t instanceof Rs&&t.code.includes("request-failed")}function Y2({projectId:t}){return`${E5}/projects/${t}/installations`}function W2(t){return{token:t.token,requestStatus:2,expiresIn:N5(t.expiresIn),creationTime:Date.now()}}async function X2(t,e){const i=(await e.json()).error;return go.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Z2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function R5(t,{refreshToken:e}){const n=Z2(t);return n.append("Authorization",I5(e)),n}async function J2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function N5(t){return Number(t.replace("s","000"))}function I5(t){return`${K2} ${t}`}async function D5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Y2(t),a=Z2(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:n,authVersion:K2,appId:t.appId,sdkVersion:$2},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await J2(()=>fetch(i,f));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:W2(g.authToken)}}else throw await X2("Create Installation",p)}function eC(t){return new Promise(e=>{setTimeout(e,t)})}function M5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const j5=/^[cdef][\w-]{21}$/,Ly="";function P5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O5(t);return j5.test(n)?n:Ly}catch{return Ly}}function O5(t){return M5(t).substr(0,22)}function dm(t){return`${t.appName}!${t.appId}`}const tC=new Map;function nC(t,e){const n=dm(t);sC(n,e),V5(n,e)}function sC(t,e){const n=tC.get(t);if(n)for(const i of n)i(e)}function V5(t,e){const n=L5();n&&n.postMessage({key:t,fid:e}),U5()}let eo=null;function L5(){return!eo&&"BroadcastChannel"in self&&(eo=new BroadcastChannel("[Firebase] FID Change"),eo.onmessage=t=>{sC(t.data.key,t.data.fid)}),eo}function U5(){tC.size===0&&eo&&(eo.close(),eo=null)}const B5="firebase-installations-database",z5=1,yo="firebase-installations-store";let Lg=null;function xx(){return Lg||(Lg=uA(B5,z5,{upgrade:(t,e)=>{e===0&&t.createObjectStore(yo)}})),Lg}async function Sf(t,e){const n=dm(t),a=(await xx()).transaction(yo,"readwrite"),l=a.objectStore(yo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&nC(t,e.fid),e}async function iC(t){const e=dm(t),i=(await xx()).transaction(yo,"readwrite");await i.objectStore(yo).delete(e),await i.done}async function fm(t,e){const n=dm(t),a=(await xx()).transaction(yo,"readwrite"),l=a.objectStore(yo),u=await l.get(n),f=e(u);return f===void 0?await l.delete(n):await l.put(f,n),await a.done,f&&(!u||u.fid!==f.fid)&&nC(t,f.fid),f}async function vx(t){let e;const n=await fm(t.appConfig,i=>{const a=q5(i),l=F5(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Ly?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function q5(t){const e=t||{fid:P5(),registrationStatus:0};return rC(e)}function F5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(go.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=H5(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:G5(t)}:{installationEntry:e}}async function H5(t,e){try{const n=await D5(t,e);return Sf(t.appConfig,n)}catch(n){throw Q2(n)&&n.customData.serverCode===409?await iC(t.appConfig):await Sf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function G5(t){let e=await vT(t.appConfig);for(;e.registrationStatus===1;)await eC(100),e=await vT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await vx(t);return i||n}return e}function vT(t){return fm(t,e=>{if(!e)throw go.create("installation-not-found");return rC(e)})}function rC(t){return $5(t)?{fid:t.fid,registrationStatus:0}:t}function $5(t){return t.registrationStatus===1&&t.registrationTime+G2<Date.now()}async function K5({appConfig:t,heartbeatServiceProvider:e},n){const i=Q5(t,n),a=R5(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:$2,appId:t.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},p=await J2(()=>fetch(i,f));if(p.ok){const g=await p.json();return W2(g)}else throw await X2("Generate Auth Token",p)}function Q5(t,{fid:e}){return`${Y2(t)}/${e}/authTokens:generate`}async function bx(t,e=!1){let n;const i=await fm(t.appConfig,l=>{if(!aC(l))throw go.create("not-registered");const u=l.authToken;if(!e&&X5(u))return l;if(u.requestStatus===1)return n=Y5(t,e),l;{if(!navigator.onLine)throw go.create("app-offline");const f=J5(l);return n=W5(t,f),f}});return n?await n:i.authToken}async function Y5(t,e){let n=await bT(t.appConfig);for(;n.authToken.requestStatus===1;)await eC(100),n=await bT(t.appConfig);const i=n.authToken;return i.requestStatus===0?bx(t,e):i}function bT(t){return fm(t,e=>{if(!aC(e))throw go.create("not-registered");const n=e.authToken;return eV(n)?{...e,authToken:{requestStatus:0}}:e})}async function W5(t,e){try{const n=await K5(t,e),i={...e,authToken:n};return await Sf(t.appConfig,i),n}catch(n){if(Q2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iC(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Sf(t.appConfig,i)}throw n}}function aC(t){return t!==void 0&&t.registrationStatus===2}function X5(t){return t.requestStatus===2&&!Z5(t)}function Z5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+A5}function J5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function eV(t){return t.requestStatus===1&&t.requestTime+G2<Date.now()}async function tV(t){const e=t,{installationEntry:n,registrationPromise:i}=await vx(e);return i?i.catch(console.error):bx(e).catch(console.error),n.fid}async function nV(t,e=!1){const n=t;return await sV(n),(await bx(n,e)).token}async function sV(t){const{registrationPromise:e}=await vx(t);e&&await e}function iV(t){if(!t||!t.options)throw Ug("App Configuration");if(!t.name)throw Ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ug(t){return go.create("missing-app-config-values",{valueName:t})}const oC="installations",rV="installations-internal",aV=t=>{const e=t.getProvider("app").getImmediate(),n=iV(e),i=ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},oV=t=>{const e=t.getProvider("app").getImmediate(),n=ua(e,oC).getImmediate();return{getId:()=>tV(n),getToken:a=>nV(n,a)}};function lV(){$s(new Cs(oC,aV,"PUBLIC")),$s(new Cs(rV,oV,"PRIVATE"))}lV();$n(H2,yx);$n(H2,yx,"esm2020");const Cf="analytics",cV="firebase_id",uV="origin",hV=60*1e3,dV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_x="https://www.googletagmanager.com/gtag/js";const Mn=new Lf("@firebase/analytics");const fV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},os=new vo("analytics","Analytics",fV);function mV(t){if(!t.startsWith(_x)){const e=os.create("invalid-gtag-resource",{gtagURL:t});return Mn.warn(e.message),""}return t}function lC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gV(t,e){const n=pV("firebase-js-sdk-policy",{createScriptURL:mV}),i=document.createElement("script"),a=`${_x}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function yV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xV(t,e,n,i,a,l){const u=i[a];try{if(u)await e[u];else{const p=(await lC(n)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(f){Mn.error(f)}t("config",a,l)}async function vV(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await lC(n);for(const p of u){const g=f.find(_=>_.measurementId===p),x=g&&e[g.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){Mn.error(l)}}function bV(t,e,n,i){async function a(l,...u){try{if(l==="event"){const[f,p]=u;await vV(t,e,n,f,p)}else if(l==="config"){const[f,p]=u;await xV(t,e,n,i,f,p)}else if(l==="consent"){const[f,p]=u;t("consent",f,p)}else if(l==="get"){const[f,p,g]=u;t("get",f,p,g)}else if(l==="set"){const[f]=u;t("set",f)}else t(l,...u)}catch(f){Mn.error(f)}}return a}function _V(t,e,n,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=bV(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function wV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_x)&&n.src.includes(t))return n;return null}const TV=30,EV=1e3;class AV{constructor(e={},n=EV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cC=new AV;function SV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function CV(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:SV(n)},a=dV.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const f=await l.json();f.error?.message&&(u=f.error.message)}catch{}throw os.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function kV(t,e=cC,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw os.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw os.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new IV;return setTimeout(async()=>{f.abort()},hV),uC({appId:i,apiKey:a,measurementId:l},u,f,e)}async function uC(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=cC){const{appId:l,measurementId:u}=t;try{await RV(i,e)}catch(f){if(u)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw f}try{const f=await CV(t);return a.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!NV(p)){if(a.deleteThrottleMetadata(l),u)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:u};throw f}const g=Number(p?.customData?.httpStatus)===503?O1(n,a.intervalMillis,TV):O1(n,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,x),Mn.debug(`Calling attemptFetch again in ${g} millis`),uC(t,x,i,a)}}function RV(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(os.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NV(t){if(!(t instanceof Rs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DV(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,u={...i,send_to:l};t("event",n,u)}}async function MV(t,e,n,i){if(i&&i.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function jV(){if(aA())try{await oA()}catch(t){return Mn.warn(os.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Mn.warn(os.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PV(t,e,n,i,a,l,u){const f=kV(t);f.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Mn.error(T)),e.push(f);const p=jV().then(T=>{if(T)return i.getId()}),[g,x]=await Promise.all([f,p]);wV(l)||gV(l,g.measurementId),a("js",new Date);const _=u?.config??{};return _[uV]="firebase",_.update=!0,x!=null&&(_[cV]=x),a("config",g.measurementId,_),g.measurementId}class OV{constructor(e){this.app=e}_delete(){return delete Rl[this.app.options.appId],Promise.resolve()}}let Rl={},_T=[];const wT={};let Bg="dataLayer",VV="gtag",TT,wx,ET=!1;function LV(){const t=[];if(rA()&&t.push("This is a browser extension environment."),pI()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=os.create("invalid-analytics-context",{errorInfo:e});Mn.warn(n.message)}}function UV(t,e,n){LV();const i=t.options.appId;if(!i)throw os.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw os.create("no-api-key");if(Rl[i]!=null)throw os.create("already-exists",{id:i});if(!ET){yV(Bg);const{wrappedGtag:l,gtagCore:u}=_V(Rl,_T,wT,Bg,VV);wx=l,TT=u,ET=!0}return Rl[i]=PV(t,_T,wT,e,TT,Bg,n),new OV(t)}function BV(t=Uf()){t=gt(t);const e=ua(t,Cf);return e.isInitialized()?e.getImmediate():zV(t)}function zV(t,e={}){const n=ua(t,Cf);if(n.isInitialized()){const a=n.getImmediate();if(nr(e,n.getOptions()))return a;throw os.create("already-initialized")}return n.initialize({options:e})}function qV(t,e,n){t=gt(t),MV(wx,Rl[t.app.options.appId],e,n).catch(i=>Mn.error(i))}function FV(t,e,n,i){t=gt(t),DV(wx,Rl[t.app.options.appId],e,n,i).catch(a=>Mn.error(a))}const AT="@firebase/analytics",ST="0.10.19";function HV(){$s(new Cs(Cf,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return UV(i,a,n)},"PUBLIC")),$s(new Cs("analytics-internal",t,"PRIVATE")),$n(AT,ST),$n(AT,ST,"esm2020");function t(e){try{const n=e.getProvider(Cf).getImmediate();return{logEvent:(i,a,l)=>FV(n,i,a,l),setUserProperties:(i,a)=>qV(n,i,a)}}catch(n){throw os.create("interop-component-reg-failed",{reason:n})}}}HV();const GV={apiKey:"AIzaSyB2FURkzhOCIsI4bi8-jc_uydZ_oFCbcYA",authDomain:"lets-try007.firebaseapp.com",databaseURL:"https://lets-try007-default-rtdb.firebaseio.com",projectId:"lets-try007",storageBucket:"lets-try007.firebasestorage.app",messagingSenderId:"218535335758",appId:"1:218535335758:web:3c03cb75cb2d10ec57301f",measurementId:"G-XE0W1LTN0G"},mm=hA(GV);BV(mm);const su=Qj(mm),ht=GO(mm),Uy=b5(mm),hC=G.createContext();function $V({children:t}){const[e,n]=G.useState(null),[i,a]=G.useState(!0);G.useEffect(()=>{const D=OM(su,M=>{M?(n(q=>({...q,uid:M.uid,email:M.email,name:M.displayName||q?.name||"Loading...",username:q?.username||"User",gender:q?.gender||"male",history:q?.history||[],...M})),Py(sn(ht,"users",M.uid)).then(async q=>{if(q.exists())n(Y=>({...Y,...q.data()}));else{console.warn("UserProvider: Profile missing, creating default.");const Y={name:M.displayName||"New User",username:M.email?.split("@")[0]||"user",gender:"male",email:M.email,createdAt:new Date().toISOString(),history:[]};await Vd(sn(ht,"users",M.uid),Y),n(H=>({...H,...Y}))}}).catch(q=>{console.error("Error fetching/creating user profile:",q)})):n(null),a(!1)}),L=setTimeout(()=>{a(!1)},4e3);return()=>{D(),clearTimeout(L)}},[]);const l=async(D,L)=>{try{return await MM(su,D,L),{success:!0}}catch(M){return{success:!1,message:M.message}}},u=async D=>{try{const{user:L}=await DM(su,D.email,D.password),M={name:D.name,username:D.username,gender:D.gender,email:D.email,createdAt:new Date().toISOString(),history:[]};return await Vd(sn(ht,"users",L.uid),M),n({...L,...M}),{success:!0}}catch(L){return{success:!1,message:L.message}}},f=async()=>{try{const D=new Qi,M=(await sj(su,D)).user,q=await Py(sn(ht,"users",M.uid));if(q.exists())n({...M,...q.data()});else{const Y={name:M.displayName,username:M.email.split("@")[0],gender:"male",email:M.email,createdAt:new Date().toISOString(),history:[]};await Vd(sn(ht,"users",M.uid),Y),n({...M,...Y})}return{success:!0}}catch(D){return console.error("Google Sign-In Error:",D),{success:!1,message:D.message}}},p=async()=>{try{await VM(su)}catch(D){console.error("Logout failed",D)}},g=rf.useRef(0),x=async(D,L,M,q=[])=>{if(!e||!e.uid)return;const Y=Date.now();if(Y-g.current<2e3){console.log("History update throttled (preventing duplicate)");return}g.current=Y;const H=Math.round(D/L*100),ne={score:D,total:L,percentage:H,topic:M,details:q,date:new Date().toISOString()};try{const ce=sn(ht,"users",e.uid);await ro(ce,{history:i3(ne)}),n(ue=>({...ue,history:[...ue.history||[],ne]}))}catch(ce){console.error("Failed to save history",ce)}},_=async D=>{if(!(!e||!e.uid))try{const L=e.history.filter((q,Y)=>Y!==D),M=sn(ht,"users",e.uid);return await ro(M,{history:L}),n(q=>({...q,history:L})),{success:!0}}catch(L){return console.error("Failed to delete history item",L),{success:!1,message:L.message}}},T=async D=>{if(!e||!e.uid)return{success:!1,message:"No user logged in"};try{const L=sn(ht,"users",e.uid);return await Promise.race([Vd(L,D,{merge:!0}),new Promise((M,q)=>setTimeout(()=>q(new Error("Save timed out - Check connection")),1e4))]),n(M=>({...M,...D})),{success:!0}}catch(L){return console.error("Error updating profile:",L),{success:!1,message:L.message||"Failed to update profile"}}},C=rf.useMemo(()=>({user:e,loading:i,login:l,signup:u,logout:p,loginWithGoogle:f,updateUserHistory:x,updateUserProfile:T,deleteHistoryItem:_}),[e,i]);return d.jsx(hC.Provider,{value:C,children:t})}function ki(){return G.useContext(hC)}const Tx=G.createContext({});function Ex(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ax=typeof window<"u",dC=Ax?G.useLayoutEffect:G.useEffect,pm=G.createContext(null);function Sx(t,e){t.indexOf(e)===-1&&t.push(e)}function Cx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lr=(t,e,n)=>n>e?e:n<t?t:n;let kx=()=>{};const cr={},fC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mC(t){return typeof t=="object"&&t!==null}const pC=t=>/^0[^.\s]+$/u.test(t);function Rx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ss=t=>t,KV=(t,e)=>n=>e(t(n)),nh=(...t)=>t.reduce(KV),Uu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Nx{constructor(){this.subscriptions=[]}add(e){return Sx(this.subscriptions,e),()=>Cx(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ei=t=>t*1e3,Es=t=>t/1e3;function gC(t,e){return e?t*(1e3/e):0}const yC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QV=1e-7,YV=12;function WV(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=yC(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>QV&&++f<YV);return u}function sh(t,e,n,i){if(t===e&&n===i)return Ss;const a=l=>WV(l,0,1,t,n);return l=>l===0||l===1?l:yC(a(l),e,i)}const xC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vC=t=>e=>1-t(1-e),bC=sh(.33,1.53,.69,.99),Ix=vC(bC),_C=xC(Ix),wC=t=>(t*=2)<1?.5*Ix(t):.5*(2-Math.pow(2,-10*(t-1))),Dx=t=>1-Math.sin(Math.acos(t)),TC=vC(Dx),EC=xC(Dx),XV=sh(.42,0,1,1),ZV=sh(0,0,.58,1),AC=sh(.42,0,.58,1),JV=t=>Array.isArray(t)&&typeof t[0]!="number",SC=t=>Array.isArray(t)&&typeof t[0]=="number",e6={linear:Ss,easeIn:XV,easeInOut:AC,easeOut:ZV,circIn:Dx,circInOut:EC,circOut:TC,backIn:Ix,backInOut:_C,backOut:bC,anticipate:wC},t6=t=>typeof t=="string",CT=t=>{if(SC(t)){kx(t.length===4);const[e,n,i,a]=t;return sh(e,n,i,a)}else if(t6(t))return e6[t];return t},Bd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function n6(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(x){u.has(x)&&(g.schedule(x),t()),x(f)}const g={schedule:(x,_=!1,T=!1)=>{const D=T&&a?n:i;return _&&u.add(x),D.has(x)||D.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(f=x,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,g.process(x))}};return g}const s6=40;function CC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Bd.reduce((H,ne)=>(H[ne]=n6(l),H),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:x,update:_,preRender:T,render:C,postRender:D}=u,L=()=>{const H=cr.useManualTiming?a.timestamp:performance.now();n=!1,cr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,s6),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),p.process(a),g.process(a),x.process(a),_.process(a),T.process(a),C.process(a),D.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(L))},M=()=>{n=!0,i=!0,a.isProcessing||t(L)};return{schedule:Bd.reduce((H,ne)=>{const ce=u[ne];return H[ne]=(ue,R=!1,S=!1)=>(n||M(),ce.schedule(ue,R,S)),H},{}),cancel:H=>{for(let ne=0;ne<Bd.length;ne++)u[Bd[ne]].cancel(H)},state:a,steps:u}}const{schedule:Ct,cancel:aa,state:vn,steps:zg}=CC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let ef;function i6(){ef=void 0}const Gn={now:()=>(ef===void 0&&Gn.set(vn.isProcessing||cr.useManualTiming?vn.timestamp:performance.now()),ef),set:t=>{ef=t,queueMicrotask(i6)}},kC=t=>e=>typeof e=="string"&&e.startsWith(t),RC=kC("--"),r6=kC("var(--"),Mx=t=>r6(t)?a6.test(t.split("/*")[0].trim()):!1,a6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bu={...Zl,transform:t=>lr(0,1,t)},zd={...Zl,default:1},_u=t=>Math.round(t*1e5)/1e5,jx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o6(t){return t==null}const l6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Px=(t,e)=>n=>!!(typeof n=="string"&&l6.test(n)&&n.startsWith(t)||e&&!o6(n)&&Object.prototype.hasOwnProperty.call(n,e)),NC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(jx);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},c6=t=>lr(0,255,t),qg={...Zl,transform:t=>Math.round(c6(t))},to={test:Px("rgb","red"),parse:NC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+qg.transform(t)+", "+qg.transform(e)+", "+qg.transform(n)+", "+_u(Bu.transform(i))+")"};function u6(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const By={test:Px("#"),parse:u6,transform:to.transform},ih=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fr=ih("deg"),Ai=ih("%"),je=ih("px"),h6=ih("vh"),d6=ih("vw"),kT={...Ai,parse:t=>Ai.parse(t)/100,transform:t=>Ai.transform(t*100)},bl={test:Px("hsl","hue"),parse:NC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ai.transform(_u(e))+", "+Ai.transform(_u(n))+", "+_u(Bu.transform(i))+")"},Xt={test:t=>to.test(t)||By.test(t)||bl.test(t),parse:t=>to.test(t)?to.parse(t):bl.test(t)?bl.parse(t):By.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?to.transform(t):bl.transform(t),getAnimatableNone:t=>{const e=Xt.parse(t);return e.alpha=0,Xt.transform(e)}},f6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m6(t){return isNaN(t)&&typeof t=="string"&&(t.match(jx)?.length||0)+(t.match(f6)?.length||0)>0}const IC="number",DC="color",p6="var",g6="var(",RT="${}",y6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(y6,p=>(Xt.test(p)?(i.color.push(l),a.push(DC),n.push(Xt.parse(p))):p.startsWith(g6)?(i.var.push(l),a.push(p6),n.push(p)):(i.number.push(l),a.push(IC),n.push(parseFloat(p))),++l,RT)).split(RT);return{values:n,split:f,indexes:i,types:a}}function MC(t){return zu(t).values}function jC(t){const{split:e,types:n}=zu(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===IC?l+=_u(a[u]):f===DC?l+=Xt.transform(a[u]):l+=a[u]}return l}}const x6=t=>typeof t=="number"?0:Xt.test(t)?Xt.getAnimatableNone(t):t;function v6(t){const e=MC(t);return jC(t)(e.map(x6))}const oa={test:m6,parse:MC,createTransformer:jC,getAnimatableNone:v6};function Fg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=Fg(p,f,t+1/3),l=Fg(p,f,t),u=Fg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function kf(t,e){return n=>n>0?e:t}const Rt=(t,e,n)=>t+(e-t)*n,Hg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},_6=[By,to,bl],w6=t=>_6.find(e=>e.test(t));function NT(t){const e=w6(t);if(!e)return!1;let n=e.parse(t);return e===bl&&(n=b6(n)),n}const IT=(t,e)=>{const n=NT(t),i=NT(e);if(!n||!i)return kf(t,e);const a={...n};return l=>(a.red=Hg(n.red,i.red,l),a.green=Hg(n.green,i.green,l),a.blue=Hg(n.blue,i.blue,l),a.alpha=Rt(n.alpha,i.alpha,l),to.transform(a))},zy=new Set(["none","hidden"]);function T6(t,e){return zy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function E6(t,e){return n=>Rt(t,e,n)}function Ox(t){return typeof t=="number"?E6:typeof t=="string"?Mx(t)?kf:Xt.test(t)?IT:C6:Array.isArray(t)?PC:typeof t=="object"?Xt.test(t)?IT:A6:kf}function PC(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>Ox(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function A6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Ox(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function S6(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const C6=(t,e)=>{const n=oa.createTransformer(e),i=zu(t),a=zu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?zy.has(t)&&!a.values.length||zy.has(e)&&!i.values.length?T6(t,e):nh(PC(S6(i,a),a.values),n):kf(t,e)};function OC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rt(t,e,n):Ox(t)(t,e)}const k6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>aa(e),now:()=>vn.isProcessing?vn.timestamp:Gn.now()}},VC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Rf=2e4;function Vx(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Rf;)e+=n,i=t.next(e);return e>=Rf?1/0:e}function R6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Vx(i),Rf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Es(a)}}const N6=5;function LC(t,e,n){const i=Math.max(e-N6,0);return gC(n-t(i),e-i)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gg=.001;function I6({duration:t=jt.duration,bounce:e=jt.bounce,velocity:n=jt.velocity,mass:i=jt.mass}){let a,l,u=1-e;u=lr(jt.minDamping,jt.maxDamping,u),t=lr(jt.minDuration,jt.maxDuration,Es(t)),u<1?(a=g=>{const x=g*u,_=x*t,T=x-n,C=qy(g,u),D=Math.exp(-_);return Gg-T/C*D},l=g=>{const _=g*u*t,T=_*n+n,C=Math.pow(u,2)*Math.pow(g,2)*t,D=Math.exp(-_),L=qy(Math.pow(g,2),u);return(-a(g)+Gg>0?-1:1)*((T-C)*D)/L}):(a=g=>{const x=Math.exp(-g*t),_=(g-n)*t+1;return-Gg+x*_},l=g=>{const x=Math.exp(-g*t),_=(n-g)*(t*t);return x*_});const f=5/t,p=M6(a,l,f);if(t=Ei(t),isNaN(p))return{stiffness:jt.stiffness,damping:jt.damping,duration:t};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:t}}}const D6=12;function M6(t,e,n){let i=n;for(let a=1;a<D6;a++)i=i-t(i)/e(i);return i}function qy(t,e){return t*Math.sqrt(1-e*e)}const j6=["duration","bounce"],P6=["stiffness","damping","mass"];function DT(t,e){return e.some(n=>t[n]!==void 0)}function O6(t){let e={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...t};if(!DT(t,P6)&&DT(t,j6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*lr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:jt.mass,stiffness:a,damping:l}}else{const n=I6(t);e={...e,...n,mass:jt.mass},e.isResolvedFromDuration=!0}return e}function Nf(t=jt.visualDuration,e=jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:x,duration:_,velocity:T,isResolvedFromDuration:C}=O6({...n,velocity:-Es(n.velocity||0)}),D=T||0,L=g/(2*Math.sqrt(p*x)),M=u-l,q=Es(Math.sqrt(p/x)),Y=Math.abs(M)<5;i||(i=Y?jt.restSpeed.granular:jt.restSpeed.default),a||(a=Y?jt.restDelta.granular:jt.restDelta.default);let H;if(L<1){const ce=qy(q,L);H=ue=>{const R=Math.exp(-L*q*ue);return u-R*((D+L*q*M)/ce*Math.sin(ce*ue)+M*Math.cos(ce*ue))}}else if(L===1)H=ce=>u-Math.exp(-q*ce)*(M+(D+q*M)*ce);else{const ce=q*Math.sqrt(L*L-1);H=ue=>{const R=Math.exp(-L*q*ue),S=Math.min(ce*ue,300);return u-R*((D+L*q*M)*Math.sinh(S)+ce*M*Math.cosh(S))/ce}}const ne={calculatedDuration:C&&_||null,next:ce=>{const ue=H(ce);if(C)f.done=ce>=_;else{let R=ce===0?D:0;L<1&&(R=ce===0?Ei(D):LC(H,ce,ue));const S=Math.abs(R)<=i,I=Math.abs(u-ue)<=a;f.done=S&&I}return f.value=f.done?u:ue,f},toString:()=>{const ce=Math.min(Vx(ne),Rf),ue=VC(R=>ne.next(ce*R).value,ce,30);return ce+"ms "+ue},toTransition:()=>{}};return ne}Nf.applyToOptions=t=>{const e=R6(t,100,Nf);return t.ease=e.ease,t.duration=Ei(e.duration),t.type="keyframes",t};function Fy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:g=.5,restSpeed:x}){const _=t[0],T={done:!1,value:_},C=S=>f!==void 0&&S<f||p!==void 0&&S>p,D=S=>f===void 0?p:p===void 0||Math.abs(f-S)<Math.abs(p-S)?f:p;let L=n*e;const M=_+L,q=u===void 0?M:u(M);q!==M&&(L=q-_);const Y=S=>-L*Math.exp(-S/i),H=S=>q+Y(S),ne=S=>{const I=Y(S),j=H(S);T.done=Math.abs(I)<=g,T.value=T.done?q:j};let ce,ue;const R=S=>{C(T.value)&&(ce=S,ue=Nf({keyframes:[T.value,D(T.value)],velocity:LC(H,S,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:x}))};return R(0),{calculatedDuration:null,next:S=>{let I=!1;return!ue&&ce===void 0&&(I=!0,ne(S),R(S)),ce!==void 0&&S>=ce?ue.next(S-ce):(!I&&ne(S),T)}}}function V6(t,e,n){const i=[],a=n||cr.mix||OC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Ss:e;f=nh(p,f)}i.push(f)}return i}function L6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(kx(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=V6(e,i,a),p=f.length,g=x=>{if(u&&x<t[0])return e[0];let _=0;if(p>1)for(;_<t.length-2&&!(x<t[_+1]);_++);const T=Uu(t[_],t[_+1],x);return f[_](T)};return n?x=>g(lr(t[0],t[l-1],x)):g}function U6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Uu(0,e,i);t.push(Rt(n,1,a))}}function B6(t){const e=[0];return U6(e,t.length-1),e}function z6(t,e){return t.map(n=>n*e)}function q6(t,e){return t.map(()=>e||AC).splice(0,t.length-1)}function wu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=JV(i)?i.map(CT):CT(i),l={done:!1,value:e[0]},u=z6(n&&n.length===e.length?n:B6(e),t),f=L6(u,e,{ease:Array.isArray(a)?a:q6(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const F6=t=>t!==null;function Lx(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(F6),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const H6={decay:Fy,inertia:Fy,tween:wu,keyframes:wu,spring:Nf};function UC(t){typeof t.type=="string"&&(t.type=H6[t.type])}class Ux{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const G6=t=>t/100;class Bx extends Ux{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;UC(e);const{type:n=wu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||wu;p!==wu&&typeof f[0]!="number"&&(this.mixKeyframes=nh(G6,OC(f[0],f[1])),f=[0,100]);const g=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Vx(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:x,repeat:_,repeatType:T,repeatDelay:C,type:D,onUpdate:L,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?q<0:q>a;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ne=i;if(_){const S=Math.min(this.currentTime,a)/f;let I=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&I--,I=Math.min(I,_+1),I%2&&(T==="reverse"?(j=1-j,C&&(j-=C/f)):T==="mirror"&&(ne=u)),H=lr(0,1,j)*f}const ce=Y?{done:!1,value:x[0]}:ne.next(H);l&&(ce.value=l(ce.value));let{done:ue}=ce;!Y&&p!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return R&&D!==Fy&&(ce.value=Lx(x,this.options,M,this.speed)),L&&L(ce.value),R&&this.finish(),ce}then(e,n){return this.finished.then(e,n)}get duration(){return Es(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Es(e)}get time(){return Es(this.currentTime)}set time(e){e=Ei(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Es(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=k6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function $6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const no=t=>t*180/Math.PI,Hy=t=>{const e=no(Math.atan2(t[1],t[0]));return Gy(e)},K6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Hy,rotateZ:Hy,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gy=t=>(t=t%360,t<0&&(t+=360),t),MT=Hy,jT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),PT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Q6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jT,scaleY:PT,scale:t=>(jT(t)+PT(t))/2,rotateX:t=>Gy(no(Math.atan2(t[6],t[5]))),rotateY:t=>Gy(no(Math.atan2(-t[2],t[0]))),rotateZ:MT,rotate:MT,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $y(t){return t.includes("scale")?1:0}function Ky(t,e){if(!t||t==="none")return $y(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Q6,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=K6,a=f}if(!a)return $y(e);const l=i[e],u=a[1].split(",").map(W6);return typeof l=="function"?l(u):u[l]}const Y6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ky(n,e)};function W6(t){return parseFloat(t.trim())}const Jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ec=new Set(Jl),OT=t=>t===Zl||t===je,X6=new Set(["x","y","z"]),Z6=Jl.filter(t=>!X6.has(t));function J6(t){const e=[];return Z6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const oo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ky(e,"x"),y:(t,{transform:e})=>Ky(e,"y")};oo.translateX=oo.x;oo.translateY=oo.y;const lo=new Set;let Qy=!1,Yy=!1,Wy=!1;function BC(){if(Yy){const t=Array.from(lo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=J6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Yy=!1,Qy=!1,lo.forEach(t=>t.complete(Wy)),lo.clear()}function zC(){lo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yy=!0)})}function eL(){Wy=!0,zC(),BC(),Wy=!1}class zx{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),Qy||(Qy=!0,Ct.read(zC),Ct.resolveKeyframes(BC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}$6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tL=t=>t.startsWith("--");function nL(t,e,n){tL(e)?t.style.setProperty(e,n):t.style[e]=n}const sL=Rx(()=>window.ScrollTimeline!==void 0),iL={};function rL(t,e){const n=Rx(t);return()=>iL[e]??n()}const qC=rL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,VT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function FC(t,e){if(t)return typeof t=="function"?qC()?VC(t,e):"ease-out":SC(t)?du(t):Array.isArray(t)?t.map(n=>FC(n,e)||VT.easeOut):VT[t]}function aL(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},g=void 0){const x={[e]:n};p&&(x.offset=p);const _=FC(f,a);Array.isArray(_)&&(x.easing=_);const T={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),t.animate(x,T)}function HC(t){return typeof t=="function"&&"applyToOptions"in t}function oL({type:t,...e}){return HC(t)&&qC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lL extends Ux{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,kx(typeof e.type!="string");const g=oL(e);this.animation=aL(n,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=Lx(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):nL(n,i,x),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Es(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Es(e)}get time(){return Es(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ei(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sL()?(this.animation.timeline=e,Ss):n(this)}}const GC={anticipate:wC,backInOut:_C,circInOut:EC};function cL(t){return t in GC}function uL(t){typeof t.ease=="string"&&cL(t.ease)&&(t.ease=GC[t.ease])}const LT=10;class hL extends lL{constructor(e){uL(e),UC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Bx({...u,autoplay:!1}),p=Ei(this.finishedTime??this.time);n.setWithVelocity(f.sample(p-LT).value,f.sample(p).value,LT),f.stop()}}const UT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oa.test(t)||t==="0")&&!t.startsWith("url("));function dL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fL(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=UT(a,e),f=UT(l,e);return!u||!f?!1:dL(t)||(n==="spring"||HC(n))&&i}function Xy(t){t.duration=0,t.type="keyframes"}const mL=new Set(["opacity","clipPath","filter","transform"]),pL=Rx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gL(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return pL()&&n&&mL.has(n)&&(n!=="transform"||!g)&&!p&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const yL=40;class xL extends Ux{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:g,element:x,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const T={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:g,element:x,..._},C=x?.KeyframeResolver||zx;this.keyframeResolver=new C(f,(D,L,M)=>this.onKeyframesResolved(D,L,T,!M),p,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:g,onUpdate:x}=i;this.resolvedAt=Gn.now(),fL(e,l,u,f)||((cr.instantAnimations||!p)&&x?.(Lx(e,i,n)),e[0]=e[e.length-1],Xy(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>yL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},C=!g&&gL(T)?new hL({...T,element:T.motionValue.owner.current}):new Bx(T);C.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const vL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bL(t){const e=vL.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function $C(t,e,n=1){const[i,a]=bL(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return fC(u)?parseFloat(u):u}return Mx(a)?$C(a,e,n+1):a}function qx(t,e){return t?.[e]??t?.default??t}const KC=new Set(["width","height","top","left","right","bottom",...Jl]),_L={test:t=>t==="auto",parse:t=>t},QC=t=>e=>e.test(t),YC=[Zl,je,Ai,Fr,d6,h6,_L],BT=t=>YC.find(QC(t));function wL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pC(t):!0}const TL=new Set(["brightness","contrast","saturate","opacity"]);function EL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(jx)||[];if(!i)return t;const a=n.replace(i,"");let l=TL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const AL=/\b([a-z-]*)\(.*?\)/gu,Zy={...oa,getAnimatableNone:t=>{const e=t.match(AL);return e?e.map(EL).join(" "):t}},zT={...Zl,transform:Math.round},SL={rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:Fr,skewX:Fr,skewY:Fr,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Bu,originX:kT,originY:kT,originZ:je},Fx={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...SL,zIndex:zT,fillOpacity:Bu,strokeOpacity:Bu,numOctaves:zT},CL={...Fx,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:Zy,WebkitFilter:Zy},WC=t=>CL[t];function XC(t,e){let n=WC(t);return n!==Zy&&(n=oa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kL=new Set(["auto","none","0"]);function RL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!kL.has(l)&&zu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=XC(n,a)}class NL extends zx{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Mx(g))){const x=$C(g,n.current);x!==void 0&&(e[p]=x),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!KC.has(i)||e.length!==2)return;const[a,l]=e,u=BT(a),f=BT(l);if(u!==f)if(OT(u)&&OT(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else oo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||wL(e[a]))&&i.push(a);i.length&&RL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=oo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function IL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const ZC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function JC(t){return mC(t)&&"offsetHeight"in t}const qT=30,DL=t=>!isNaN(parseFloat(t));class ML{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Nx);const i=this.events[e].add(n);return e==="change"?()=>{i(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qT);return gC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ul(t,e){return new ML(t,e)}const{schedule:Hx}=CC(queueMicrotask,!1),qs={x:!1,y:!1};function ek(){return qs.x||qs.y}function jL(t){return t==="x"||t==="y"?qs[t]?null:(qs[t]=!0,()=>{qs[t]=!1}):qs.x||qs.y?null:(qs.x=qs.y=!0,()=>{qs.x=qs.y=!1})}function tk(t,e){const n=IL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function FT(t){return!(t.pointerType==="touch"||ek())}function PL(t,e,n={}){const[i,a,l]=tk(t,n),u=f=>{if(!FT(f))return;const{target:p}=f,g=e(p,f);if(typeof g!="function"||!p)return;const x=_=>{FT(_)&&(g(_),p.removeEventListener("pointerleave",x))};p.addEventListener("pointerleave",x,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const nk=(t,e)=>e?t===e?!0:nk(t,e.parentElement):!1,Gx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VL(t){return OL.has(t.tagName)||t.tabIndex!==-1}const tf=new WeakSet;function HT(t){return e=>{e.key==="Enter"&&t(e)}}function $g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=HT(()=>{if(tf.has(n))return;$g(n,"down");const a=HT(()=>{$g(n,"up")}),l=()=>$g(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function GT(t){return Gx(t)&&!ek()}function UL(t,e,n={}){const[i,a,l]=tk(t,n),u=f=>{const p=f.currentTarget;if(!GT(f))return;tf.add(p);const g=e(p,f),x=(C,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),tf.has(p)&&tf.delete(p),GT(C)&&typeof g=="function"&&g(C,{success:D})},_=C=>{x(C,p===window||p===document||n.useGlobalTarget||nk(p,C.target))},T=C=>{x(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),JC(f)&&(f.addEventListener("focus",g=>LL(g,a)),!VL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function sk(t){return mC(t)&&"ownerSVGElement"in t}function BL(t){return sk(t)&&t.tagName==="svg"}const Cn=t=>!!(t&&t.getVelocity),zL=[...YC,Xt,oa],qL=t=>zL.find(QC(t)),$x=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $T(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FL(...t){return e=>{let n=!1;const i=t.map(a=>{const l=$T(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():$T(t[a],null)}}}}function HL(...t){return G.useCallback(FL(...t),t)}class GL extends G.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=JC(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $L({children:t,isPresent:e,anchorX:n,root:i}){const a=G.useId(),l=G.useRef(null),u=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=G.useContext($x),p=HL(l,t?.ref);return G.useInsertionEffect(()=>{const{width:g,height:x,top:_,left:T,right:C}=u.current;if(e||!l.current||!g||!x)return;const D=n==="left"?`left: ${T}`:`right: ${C}`;l.current.dataset.motionPopId=a;const L=document.createElement("style");f&&(L.nonce=f);const M=i??document.head;return M.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${x}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{M.contains(L)&&M.removeChild(L)}},[e]),d.jsx(GL,{isPresent:e,childRef:l,sizeRef:u,children:G.cloneElement(t,{ref:p})})}const KL=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,root:p})=>{const g=Ex(QL),x=G.useId();let _=!0,T=G.useMemo(()=>(_=!1,{id:x,initial:e,isPresent:n,custom:a,onExitComplete:C=>{g.set(C,!0);for(const D of g.values())if(!D)return;i&&i()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,i]);return l&&_&&(T={...T}),G.useMemo(()=>{g.forEach((C,D)=>g.set(D,!1))},[n]),G.useEffect(()=>{!n&&!g.size&&i&&i()},[n]),u==="popLayout"&&(t=d.jsx($L,{isPresent:n,anchorX:f,root:p,children:t})),d.jsx(pm.Provider,{value:T,children:t})};function QL(){return new Map}function ik(t=!0){const e=G.useContext(pm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=G.useId();G.useEffect(()=>{if(t)return a(l)},[t]);const u=G.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const qd=t=>t.key||"";function KT(t){const e=[];return G.Children.forEach(t,n=>{G.isValidElement(n)&&e.push(n)}),e}const hn=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",root:p})=>{const[g,x]=ik(u),_=G.useMemo(()=>KT(t),[t]),T=u&&!g?[]:_.map(qd),C=G.useRef(!0),D=G.useRef(_),L=Ex(()=>new Map),[M,q]=G.useState(_),[Y,H]=G.useState(_);dC(()=>{C.current=!1,D.current=_;for(let ue=0;ue<Y.length;ue++){const R=qd(Y[ue]);T.includes(R)?L.delete(R):L.get(R)!==!0&&L.set(R,!1)}},[Y,T.length,T.join("-")]);const ne=[];if(_!==M){let ue=[..._];for(let R=0;R<Y.length;R++){const S=Y[R],I=qd(S);T.includes(I)||(ue.splice(R,0,S),ne.push(S))}return l==="wait"&&ne.length&&(ue=ne),H(KT(ue)),q(_),null}const{forceRender:ce}=G.useContext(Tx);return d.jsx(d.Fragment,{children:Y.map(ue=>{const R=qd(ue),S=u&&!g?!1:_===Y||T.includes(R),I=()=>{if(L.has(R))L.set(R,!0);else return;let j=!0;L.forEach(O=>{O||(j=!1)}),j&&(ce?.(),H(D.current),u&&x?.(),i&&i())};return d.jsx(KL,{isPresent:S,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:S?void 0:I,anchorX:f,children:ue},R)})})},rk=G.createContext({strict:!1}),QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bl={};for(const t in QT)Bl[t]={isEnabled:e=>QT[t].some(n=>!!e[n])};function YL(t){for(const e in t)Bl[e]={...Bl[e],...t[e]}}const WL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function If(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WL.has(t)}let ak=t=>!If(t);function XL(t){typeof t=="function"&&(ak=e=>e.startsWith("on")?!If(e):t(e))}try{XL(require("@emotion/is-prop-valid").default)}catch{}function ZL(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(ak(a)||n===!0&&If(a)||!e&&!If(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const gm=G.createContext({});function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qu(t){return typeof t=="string"||Array.isArray(t)}const Kx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qx=["initial",...Kx];function xm(t){return ym(t.animate)||Qx.some(e=>qu(t[e]))}function ok(t){return!!(xm(t)||t.variants)}function JL(t,e){if(xm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||qu(n)?n:void 0,animate:qu(i)?i:void 0}}return t.inherit!==!1?e:{}}function eU(t){const{initial:e,animate:n}=JL(t,G.useContext(gm));return G.useMemo(()=>({initial:e,animate:n}),[YT(e),YT(n)])}function YT(t){return Array.isArray(t)?t.join(" "):t}function WT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=WT(t,e.target.x),i=WT(t,e.target.y);return`${n}% ${i}%`}},tU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=oa.parse(t);if(a.length>5)return i;const l=oa.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const g=Rt(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},Jy={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:tU};function lk(t,{layout:e,layoutId:n}){return ec.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jy[t]||t==="opacity")}const nU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sU=Jl.length;function iU(t,e,n){let i="",a=!0;for(let l=0;l<sU;l++){const u=Jl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(u.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||n){const g=ZC(f,Fx[u]);if(!p){a=!1;const x=nU[u]||u;i+=`${x}(${g}) `}n&&(e[u]=g)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function Yx(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const g=e[p];if(ec.has(p)){u=!0;continue}else if(RC(p)){a[p]=g;continue}else{const x=ZC(g,Fx[p]);p.startsWith("origin")?(f=!0,l[p]=x):i[p]=x}}if(e.transform||(u||n?i.transform=iU(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:x=0}=l;i.transformOrigin=`${p} ${g} ${x}`}}const Wx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ck(t,e,n){for(const i in e)!Cn(e[i])&&!lk(i,n)&&(t[i]=e[i])}function rU({transformTemplate:t},e){return G.useMemo(()=>{const n=Wx();return Yx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aU(t,e){const n=t.style||{},i={};return ck(i,n,t),Object.assign(i,rU(t,e)),i}function oU(t,e){const n={},i=aU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const lU={offset:"stroke-dashoffset",array:"stroke-dasharray"},cU={offset:"strokeDashoffset",array:"strokeDasharray"};function uU(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?lU:cU;t[l.offset]=je.transform(-i);const u=je.transform(e),f=je.transform(n);t[l.array]=`${u} ${f}`}function uk(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,g,x){if(Yx(t,f,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T}=t;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=x?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&uU(_,a,l,u,!1)}const hk=()=>({...Wx(),attrs:{}}),dk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hU(t,e,n,i){const a=G.useMemo(()=>{const l=hk();return uk(l,e,dk(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ck(l,t.style,t),a.style={...l,...a.style}}return a}const dU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xx(t){return typeof t!="string"||t.includes("-")?!1:!!(dU.indexOf(t)>-1||/[A-Z]/u.test(t))}function fU(t,e,n,{latestValues:i},a,l=!1){const f=(Xx(t)?hU:oU)(e,i,a,t),p=ZL(e,typeof t=="string",l),g=t!==G.Fragment?{...p,...f,ref:n}:{},{children:x}=e,_=G.useMemo(()=>Cn(x)?x.get():x,[x]);return G.createElement(t,{...g,children:_})}function XT(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Zx(t,e,n,i){if(typeof e=="function"){const[a,l]=XT(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=XT(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function nf(t){return Cn(t)?t.get():t}function mU({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:pU(n,i,a,t),renderState:e()}}function pU(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=nf(l[T]);let{initial:u,animate:f}=t;const p=xm(t),g=ok(t);e&&g&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const _=x?f:u;if(_&&typeof _!="boolean"&&!ym(_)){const T=Array.isArray(_)?_:[_];for(let C=0;C<T.length;C++){const D=Zx(t,T[C]);if(D){const{transitionEnd:L,transition:M,...q}=D;for(const Y in q){let H=q[Y];if(Array.isArray(H)){const ne=x?H.length-1:0;H=H[ne]}H!==null&&(a[Y]=H)}for(const Y in L)a[Y]=L[Y]}}}return a}const fk=t=>(e,n)=>{const i=G.useContext(gm),a=G.useContext(pm),l=()=>mU(t,e,i,a);return n?l():Ex(l)};function Jx(t,e,n){const{style:i}=t,a={};for(const l in i)(Cn(i[l])||e.style&&Cn(e.style[l])||lk(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const gU=fk({scrapeMotionValuesFromProps:Jx,createRenderState:Wx});function mk(t,e,n){const i=Jx(t,e,n);for(const a in t)if(Cn(t[a])||Cn(e[a])){const l=Jl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const yU=fk({scrapeMotionValuesFromProps:mk,createRenderState:hk}),xU=Symbol.for("motionComponentSymbol");function _l(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vU(t,e,n){return G.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):_l(n)&&(n.current=i))},[e])}const ev=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bU="framerAppearId",pk="data-"+ev(bU),gk=G.createContext({});function _U(t,e,n,i,a){const{visualElement:l}=G.useContext(gm),u=G.useContext(rk),f=G.useContext(pm),p=G.useContext($x).reducedMotion,g=G.useRef(null);i=i||u.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const x=g.current,_=G.useContext(gk);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&wU(g.current,n,a,_);const T=G.useRef(!1);G.useInsertionEffect(()=>{x&&T.current&&x.update(n,f)});const C=n[pk],D=G.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return dC(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),D.current&&x.animationState&&x.animationState.animateChanges())}),G.useEffect(()=>{x&&(!D.current&&x.animationState&&x.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),D.current=!1),x.enteringChildren=void 0)}),x}function wU(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yk(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&_l(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:p,layoutRoot:g})}function yk(t){if(t)return t.options.allowProjection!==!1?t.projection:yk(t.parent)}function Kg(t,{forwardMotionProps:e=!1}={},n,i){n&&YL(n);const a=Xx(t)?yU:gU;function l(f,p){let g;const x={...G.useContext($x),...f,layoutId:TU(f)},{isStatic:_}=x,T=eU(f),C=a(f,_);if(!_&&Ax){EU();const D=AU(x);g=D.MeasureLayout,T.visualElement=_U(t,C,x,i,D.ProjectionNode)}return d.jsxs(gm.Provider,{value:T,children:[g&&T.visualElement?d.jsx(g,{visualElement:T.visualElement,...x}):null,fU(t,f,vU(C,T.visualElement,p),C,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=G.forwardRef(l);return u[xU]=t,u}function TU({layoutId:t}){const e=G.useContext(Tx).id;return e&&t!==void 0?e+"-"+t:t}function EU(t,e){G.useContext(rk).strict}function AU(t){const{drag:e,layout:n}=Bl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function SU(t,e){if(typeof Proxy>"u")return Kg;const n=new Map,i=(l,u)=>Kg(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Kg(u,void 0,t,e)),n.get(u))})}function xk({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function CU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Qg(t){return t===void 0||t===1}function e0({scale:t,scaleX:e,scaleY:n}){return!Qg(t)||!Qg(e)||!Qg(n)}function Xa(t){return e0(t)||vk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vk(t){return ZT(t.x)||ZT(t.y)}function ZT(t){return t&&t!=="0%"}function Df(t,e,n){const i=t-n,a=e*i;return n+a}function JT(t,e,n,i,a){return a!==void 0&&(t=Df(t,a,i)),Df(t,n,i)+e}function t0(t,e=0,n=1,i,a){t.min=JT(t.min,e,n,i,a),t.max=JT(t.max,e,n,i,a)}function bk(t,{x:e,y:n}){t0(t.x,e.translate,e.scale,e.originPoint),t0(t.y,n.translate,n.scale,n.originPoint)}const eE=.999999999999,tE=1.0000000000001;function RU(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Tl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,bk(t,u)),i&&Xa(l.latestValues)&&Tl(t,l.latestValues))}e.x<tE&&e.x>eE&&(e.x=1),e.y<tE&&e.y>eE&&(e.y=1)}function wl(t,e){t.min=t.min+e,t.max=t.max+e}function nE(t,e,n,i,a=.5){const l=Rt(t.min,t.max,a);t0(t,e,n,l,i)}function Tl(t,e){nE(t.x,e.x,e.scaleX,e.scale,e.originX),nE(t.y,e.y,e.scaleY,e.scale,e.originY)}function _k(t,e){return xk(kU(t.getBoundingClientRect(),e))}function NU(t,e,n){const i=_k(t,n),{scroll:a}=e;return a&&(wl(i.x,a.offset.x),wl(i.y,a.offset.y)),i}const sE=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:sE(),y:sE()}),iE=()=>({min:0,max:0}),nn=()=>({x:iE(),y:iE()}),n0={current:null},wk={current:!1};function IU(){if(wk.current=!0,!!Ax)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>n0.current=t.matches;t.addEventListener("change",e),e()}else n0.current=!1}const DU=new WeakMap;function MU(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Cn(a))t.addValue(i,a);else if(Cn(l))t.addValue(i,Ul(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Ul(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const rE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Gn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Ct.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=xm(n),this.isVariantNode=ok(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const C=_[T];p[T]!==void 0&&Cn(C)&&C.set(p[T])}}mount(e){this.current=e,DU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),wk.current||IU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),aa(this.notifyUpdate),aa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ec.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bl){const n=Bl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<rE.length;i++){const a=rE[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=MU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ul(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(fC(i)||pC(i))?i=parseFloat(i):!qL(i)&&oa.test(n)&&(i=XC(e,n)),this.setBaseTarget(e,Cn(i)?i.get():i)),Cn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Zx(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Nx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Hx.render(this.render)}}class Tk extends jU{constructor(){super(...arguments),this.KeyframeResolver=NL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ek(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function PU(t){return window.getComputedStyle(t)}class OU extends Tk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ek}readValueFromInstance(e,n){if(ec.has(n))return this.projection?.isProjecting?$y(n):Y6(e,n);{const i=PU(e),a=(RC(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _k(e,n)}build(e,n,i){Yx(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Jx(e,n,i)}}const Ak=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VU(t,e,n,i){Ek(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(Ak.has(a)?a:ev(a),e.attrs[a])}class LU extends Tk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ec.has(n)){const i=WC(n);return i&&i.default||0}return n=Ak.has(n)?n:ev(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return mk(e,n,i)}build(e,n,i){uk(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){VU(e,n,i,a)}mount(e){this.isSVGTag=dk(e.tagName),super.mount(e)}}const UU=(t,e)=>Xx(t)?new LU(e):new OU(e,{allowProjection:t!==G.Fragment});function Nl(t,e,n){const i=t.getProps();return Zx(i,e,n!==void 0?n:i.custom,t)}const s0=t=>Array.isArray(t);function BU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ul(n))}function zU(t){return s0(t)?t[t.length-1]||0:t}function qU(t,e){const n=Nl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=zU(l[u]);BU(t,u,f)}}function FU(t){return!!(Cn(t)&&t.add)}function i0(t,e){const n=t.getValue("willChange");if(FU(n))return n.add(e);if(!n&&cr.WillChange){const i=new cr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Sk(t){return t.props[pk]}const HU=t=>t!==null;function GU(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(HU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const $U={type:"spring",stiffness:500,damping:25,restSpeed:10},KU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QU={type:"keyframes",duration:.8},YU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WU=(t,{keyframes:e})=>e.length>2?QU:ec.has(t)?t.startsWith("scale")?KU(e[1]):$U:YU;function XU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const tv=(t,e,n,i={},a,l)=>u=>{const f=qx(i,t)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Ei(p);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};XU(f)||Object.assign(x,WU(t,x)),x.duration&&(x.duration=Ei(x.duration)),x.repeatDelay&&(x.repeatDelay=Ei(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let _=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(Xy(x),x.delay===0&&(_=!0)),(cr.instantAnimations||cr.skipAnimations)&&(_=!0,Xy(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const T=GU(x.keyframes,f);if(T!==void 0){Ct.update(()=>{x.onUpdate(T),x.onComplete()});return}}return f.isSync?new Bx(x):new xL(x)};function ZU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Ck(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const p=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const x in f){const _=t.getValue(x,t.latestValues[x]??null),T=f[x];if(T===void 0||g&&ZU(g,x))continue;const C={delay:n,...qx(l||{},x)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===D&&!C.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const q=Sk(t);if(q){const Y=window.MotionHandoffAnimation(q,x,Ct);Y!==null&&(C.startTime=Y,L=!0)}}i0(t,x),_.start(tv(x,_,T,t.shouldReduceMotion&&KC.has(x)?{type:!1}:C,t,L));const M=_.animation;M&&p.push(M)}return u&&Promise.all(p).then(()=>{Ct.update(()=>{u&&qU(t,u)})}),p}function kk(t,e,n,i=0,a=1){const l=Array.from(t).sort((g,x)=>g.sortNodePosition(x)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}function r0(t,e,n={}){const i=Nl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(Ck(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:_}=a;return JU(t,e,p,g,x,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function JU(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(r0(p,e,{...u,delay:n+(typeof i=="function"?0:i)+kk(t.variantChildren,p,i,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function e9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>r0(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=r0(t,e,n);else{const a=typeof e=="function"?Nl(t,e,n.custom):e;i=Promise.all(Ck(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Rk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const t9=Qx.length;function Nk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<t9;n++){const i=Qx[n],a=t.props[i];(qu(a)||a===!1)&&(e[i]=a)}return e}const n9=[...Kx].reverse(),s9=Kx.length;function i9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>e9(t,n,i)))}function r9(t){let e=i9(t),n=aE(),i=!0;const a=p=>(g,x)=>{const _=Nl(t,x,p==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:C,...D}=_;g={...g,...D,...C}}return g};function l(p){e=p(t)}function u(p){const{props:g}=t,x=Nk(t.parent)||{},_=[],T=new Set;let C={},D=1/0;for(let M=0;M<s9;M++){const q=n9[M],Y=n[q],H=g[q]!==void 0?g[q]:x[q],ne=qu(H),ce=q===p?Y.isActive:null;ce===!1&&(D=M);let ue=H===x[q]&&H!==g[q]&&ne;if(ue&&i&&t.manuallyAnimateOnMount&&(ue=!1),Y.protectedKeys={...C},!Y.isActive&&ce===null||!H&&!Y.prevProp||ym(H)||typeof H=="boolean")continue;const R=a9(Y.prevProp,H);let S=R||q===p&&Y.isActive&&!ue&&ne||M>D&&ne,I=!1;const j=Array.isArray(H)?H:[H];let O=j.reduce(a(q),{});ce===!1&&(O={});const{prevResolvedValues:U={}}=Y,N={...U,...O},fe=he=>{S=!0,T.has(he)&&(I=!0,T.delete(he)),Y.needsAnimating[he]=!0;const xe=t.getValue(he);xe&&(xe.liveStyle=!1)};for(const he in N){const xe=O[he],Pe=U[he];if(C.hasOwnProperty(he))continue;let P=!1;s0(xe)&&s0(Pe)?P=!Rk(xe,Pe):P=xe!==Pe,P?xe!=null?fe(he):T.add(he):xe!==void 0&&T.has(he)?fe(he):Y.protectedKeys[he]=!0}Y.prevProp=H,Y.prevResolvedValues=O,Y.isActive&&(C={...C,...O}),i&&t.blockInitialAnimation&&(S=!1);const De=ue&&R;S&&(!De||I)&&_.push(...j.map(he=>{const xe={type:q};if(typeof he=="string"&&i&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:Pe}=t,P=Nl(Pe,he);if(Pe.enteringChildren&&P){const{delayChildren:E}=P.transition||{};xe.delay=kk(Pe.enteringChildren,t,E)}}return{animation:he,options:xe}}))}if(T.size){const M={};if(typeof g.initial!="boolean"){const q=Nl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);q&&q.transition&&(M.transition=q.transition)}T.forEach(q=>{const Y=t.getBaseTarget(q),H=t.getValue(q);H&&(H.liveStyle=!0),M[q]=Y??null}),_.push({animation:M})}let L=!!_.length;return i&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(_):Promise.resolve()}function f(p,g){if(n[p].isActive===g)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(p,g)),n[p].isActive=g;const x=u(p);for(const _ in n)n[_].protectedKeys={};return x}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=aE()}}}function a9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rk(e,t):!1}function Qa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aE(){return{animate:Qa(!0),whileInView:Qa(),whileHover:Qa(),whileTap:Qa(),whileDrag:Qa(),whileFocus:Qa(),exit:Qa()}}class ya{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o9 extends ya{constructor(e){super(e),e.animationState||(e.animationState=r9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let l9=0;class c9 extends ya{constructor(){super(...arguments),this.id=l9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const u9={animation:{Feature:o9},exit:{Feature:c9}};function Fu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function rh(t){return{point:{x:t.pageX,y:t.pageY}}}const h9=t=>e=>Gx(e)&&t(e,rh(e));function Tu(t,e,n,i){return Fu(t,e,h9(n),i)}const Ik=1e-4,d9=1-Ik,f9=1+Ik,Dk=.01,m9=0-Dk,p9=0+Dk;function Dn(t){return t.max-t.min}function g9(t,e,n){return Math.abs(t-e)<=n}function oE(t,e,n,i=.5){t.origin=i,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=Rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=d9&&t.scale<=f9||isNaN(t.scale))&&(t.scale=1),(t.translate>=m9&&t.translate<=p9||isNaN(t.translate))&&(t.translate=0)}function Eu(t,e,n,i){oE(t.x,e.x,n.x,i?i.originX:void 0),oE(t.y,e.y,n.y,i?i.originY:void 0)}function lE(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function y9(t,e,n){lE(t.x,e.x,n.x),lE(t.y,e.y,n.y)}function cE(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Mf(t,e,n){cE(t.x,e.x,n.x),cE(t.y,e.y,n.y)}function ws(t){return[t("x"),t("y")]}const Mk=({current:t})=>t?t.ownerDocument.defaultView:null,uE=(t,e)=>Math.abs(t-e);function x9(t,e){const n=uE(t.x,e.x),i=uE(t.y,e.y);return Math.sqrt(n**2+i**2)}class jk{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Wg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,D=x9(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!D)return;const{point:L}=T,{timestamp:M}=vn;this.history.push({...L,timestamp:M});const{onStart:q,onMove:Y}=this.handlers;C||(q&&q(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Yg(C,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:D,onSessionEnd:L,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Wg(T.type==="pointercancel"?this.lastMoveEventInfo:Yg(C,this.transformPagePoint),this.history);this.startEvent&&D&&D(T,q),L&&L(T,q)},!Gx(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=rh(e),p=Yg(f,this.transformPagePoint),{point:g}=p,{timestamp:x}=vn;this.history=[{...g,timestamp:x}];const{onSessionStart:_}=n;_&&_(e,Wg(p,this.history)),this.removeListeners=nh(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),aa(this.updatePoint)}}function Yg(t,e){return e?{point:e(t.point)}:t}function hE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:hE(t,Pk(e)),offset:hE(t,v9(e)),velocity:b9(e,.1)}}function v9(t){return t[0]}function Pk(t){return t[t.length-1]}function b9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=Pk(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ei(e)));)n--;if(!i)return{x:0,y:0};const l=Es(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function _9(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Rt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Rt(n,t,i.max):Math.min(t,n)),t}function dE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function w9(t,{top:e,left:n,bottom:i,right:a}){return{x:dE(t.x,n,a),y:dE(t.y,e,i)}}function fE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function T9(t,e){return{x:fE(t.x,e.x),y:fE(t.y,e.y)}}function E9(t,e){let n=.5;const i=Dn(t),a=Dn(e);return a>i?n=Uu(e.min,e.max-i,t.min):i>a&&(n=Uu(t.min,t.max-a,e.min)),lr(0,1,n)}function A9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const a0=.35;function S9(t=a0){return t===!1?t=0:t===!0&&(t=a0),{x:mE(t,"left","right"),y:mE(t,"top","bottom")}}function mE(t,e,n){return{min:pE(t,e),max:pE(t,n)}}function pE(t,e){return typeof t=="number"?t:t[e]||0}const C9=new WeakMap;class k9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rh(_).point)},u=(_,T)=>{const{drag:C,dragPropagation:D,onDragStart:L}=this.getProps();if(C&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jL(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ws(q=>{let Y=this.getAxisMotionValue(q).get()||0;if(Ai.test(Y)){const{projection:H}=this.visualElement;if(H&&H.layout){const ne=H.layout.layoutBox[q];ne&&(Y=Dn(ne)*(parseFloat(Y)/100))}}this.originPoint[q]=Y}),L&&Ct.postRender(()=>L(_,T)),i0(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:L,onDrag:M}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:q}=T;if(D&&this.currentDirection===null){this.currentDirection=R9(q),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",T.point,q),this.updateAxis("y",T.point,q),this.visualElement.render(),M&&M(_,T)},p=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ws(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new jk(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:Mk(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&Ct.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Fd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=_9(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&_l(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=w9(i.layoutBox,e):this.constraints=!1,this.elastic=S9(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ws(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=A9(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_l(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=NU(i,a.root,this.visualElement.getTransformPagePoint());let u=T9(a.layout.layoutBox,l);if(n){const f=n(CU(u));this.hasMutatedConstraints=!!f,f&&(u=xk(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=ws(x=>{if(!Fd(x,n,this.currentDirection))return;let _=p&&p[x]||{};u&&(_={min:0,max:0});const T=a?200:1e6,C=a?40:1e7,D={type:"inertia",velocity:i?e[x]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(x,D)});return Promise.all(g).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i0(this.visualElement,e),i.start(tv(e,i,0,n,this.visualElement,!1))}stopAnimation(){ws(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ws(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ws(n=>{const{drag:i}=this.getProps();if(!Fd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Rt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!_l(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ws(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=E9({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ws(u=>{if(!Fd(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:g}=this.constraints[u];f.set(Rt(p,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;C9.set(this.visualElement,this);const e=this.visualElement.current,n=Tu(e,"pointerdown",p=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();_l(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ct.read(i);const u=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(ws(x=>{const _=this.getAxisMotionValue(x);_&&(this.originPoint[x]+=p[x].translate,_.set(_.get()+p[x].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=a0,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Fd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function R9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class N9 extends ya{constructor(e){super(e),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new k9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const gE=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class I9 extends ya{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(e){this.session=new jk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:gE(e),onStart:gE(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Ct.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Xg=!1;class D9 extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Xg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Xg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ok(t){const[e,n]=ik(),i=G.useContext(Tx);return d.jsx(D9,{...t,layoutGroup:i,switchLayoutGroup:G.useContext(gk),isPresent:e,safeToRemove:n})}function M9(t,e,n){const i=Cn(t)?t:Ul(t);return i.start(tv("",i,e,n)),i.animation}const j9=(t,e)=>t.depth-e.depth;class P9{constructor(){this.children=[],this.isDirty=!1}add(e){Sx(this.children,e),this.isDirty=!0}remove(e){Cx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j9),this.isDirty=!1,this.children.forEach(e)}}function O9(t,e){const n=Gn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(aa(i),t(l-e))};return Ct.setup(i,!0),()=>aa(i)}const Vk=["TopLeft","TopRight","BottomLeft","BottomRight"],V9=Vk.length,yE=t=>typeof t=="string"?parseFloat(t):t,xE=t=>typeof t=="number"||je.test(t);function L9(t,e,n,i,a,l){a?(t.opacity=Rt(0,n.opacity??1,U9(i)),t.opacityExit=Rt(e.opacity??1,0,B9(i))):l&&(t.opacity=Rt(e.opacity??1,n.opacity??1,i));for(let u=0;u<V9;u++){const f=`border${Vk[u]}Radius`;let p=vE(e,f),g=vE(n,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||xE(p)===xE(g)?(t[f]=Math.max(Rt(yE(p),yE(g),i),0),(Ai.test(g)||Ai.test(p))&&(t[f]+="%")):t[f]=g}(e.rotate||n.rotate)&&(t.rotate=Rt(e.rotate||0,n.rotate||0,i))}function vE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const U9=Lk(0,.5,TC),B9=Lk(.5,.95,Ss);function Lk(t,e,n){return i=>i<t?0:i>e?1:n(Uu(t,e,i))}function bE(t,e){t.min=e.min,t.max=e.max}function zs(t,e){bE(t.x,e.x),bE(t.y,e.y)}function _E(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wE(t,e,n,i,a){return t-=e,t=Df(t,1/n,i),a!==void 0&&(t=Df(t,1/a,i)),t}function z9(t,e=0,n=1,i=.5,a,l=t,u=t){if(Ai.test(e)&&(e=parseFloat(e),e=Rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Rt(l.min,l.max,i);t===l&&(f-=e),t.min=wE(t.min,e,n,f,a),t.max=wE(t.max,e,n,f,a)}function TE(t,e,[n,i,a],l,u){z9(t,e[n],e[i],e[a],e.scale,l,u)}const q9=["x","scaleX","originX"],F9=["y","scaleY","originY"];function EE(t,e,n,i){TE(t.x,e,q9,n?n.x:void 0,i?i.x:void 0),TE(t.y,e,F9,n?n.y:void 0,i?i.y:void 0)}function AE(t){return t.translate===0&&t.scale===1}function Uk(t){return AE(t.x)&&AE(t.y)}function SE(t,e){return t.min===e.min&&t.max===e.max}function H9(t,e){return SE(t.x,e.x)&&SE(t.y,e.y)}function CE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bk(t,e){return CE(t.x,e.x)&&CE(t.y,e.y)}function kE(t){return Dn(t.x)/Dn(t.y)}function RE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class G9{constructor(){this.members=[]}add(e){Sx(this.members,e),e.scheduleRender()}remove(e){if(Cx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $9(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:x,rotateX:_,rotateY:T,skewX:C,skewY:D}=n;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),C&&(i+=`skewX(${C}deg) `),D&&(i+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const Zg=["","X","Y","Z"],K9=1e3;let Q9=0;function Jg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function zk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Sk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&zk(i)}function qk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=Q9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(X9),this.nodes.forEach(tB),this.nodes.forEach(nB),this.nodes.forEach(Z9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new P9)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Nx),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=sk(u)&&!BL(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let x,_=0;const T=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{_=window.innerWidth}),t(u,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,x&&x(),x=O9(T,250),sf.hasAnimatedSinceResize&&(sf.hasAnimatedSinceResize=!1,this.nodes.forEach(DE)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||oB,{onLayoutAnimationStart:L,onLayoutAnimationComplete:M}=g.getProps(),q=!this.targetLayout||!Bk(this.targetLayout,C),Y=!_&&T;if(this.options.layoutRoot||this.resumeFrom||Y||_&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...qx(D,"layout"),onPlay:L,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(x,Y)}else _||DE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const _=this.path[x];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(IE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eB),this.nodes.forEach(Y9),this.nodes.forEach(W9)):this.nodes.forEach(IE),this.clearAllSnapshots();const f=Gn.now();vn.delta=lr(0,1e3/60,f-vn.timestamp),vn.timestamp=f,vn.isProcessing=!0,zg.update.process(vn),zg.preRender.process(vn),zg.render.process(vn),vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J9),this.sharedNodes.forEach(iB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Uk(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||Xa(this.latestValues)||x)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),lB(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return nn();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cB))){const{scroll:g}=this.root;g&&(wl(f.x,g.offset.x),wl(f.y,g.offset.y))}return f}removeElementScroll(u){const f=nn();if(zs(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:_}=g;g!==this.root&&x&&_.layoutScroll&&(x.wasRoot&&zs(f,u),wl(f.x,x.offset.x),wl(f.y,x.offset.y))}return f}applyTransform(u,f=!1){const p=nn();zs(p,u);for(let g=0;g<this.path.length;g++){const x=this.path[g];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Tl(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Xa(x.latestValues)&&Tl(p,x.latestValues)}return Xa(this.latestValues)&&Tl(p,this.latestValues),p}removeTransform(u){const f=nn();zs(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Xa(g.latestValues))continue;e0(g.latestValues)&&g.updateSnapshot();const x=nn(),_=g.measurePageBox();zs(x,_),EE(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Xa(this.latestValues)&&EE(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:_}=this.options;if(!this.layout||!(x||_))return;this.resolvedRelativeTargetAt=vn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zs(this.target,this.layout.layoutBox),bk(this.target,this.targetDelta)):zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||e0(this.parent.latestValues)||vk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),Mf(this.relativeTargetOrigin,f,p),zs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===vn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;zs(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;RU(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=nn());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_E(this.prevProjectionDelta.x,this.projectionDelta.x),_E(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!RE(this.projectionDelta.x,this.prevProjectionDelta.x)||!RE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(u,f=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},_=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=nn(),C=p?p.source:void 0,D=this.layout?this.layout.source:void 0,L=C!==D,M=this.getStack(),q=!M||M.members.length<=1,Y=!!(L&&!q&&this.options.crossfade===!0&&!this.path.some(aB));this.animationProgress=0;let H;this.mixTargetDelta=ne=>{const ce=ne/1e3;ME(_.x,u.x,ce),ME(_.y,u.y,ce),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mf(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rB(this.relativeTarget,this.relativeTargetOrigin,T,ce),H&&H9(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=nn()),zs(H,this.relativeTarget)),L&&(this.animationValues=x,L9(x,g,this.latestValues,ce,Y,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ce},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{sf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ul(0)),this.currentAnimation=M9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(K9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:x}=u;if(!(!f||!p||!g)){if(this!==u&&this.layout&&g&&Fk(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||nn();const _=Dn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+_;const T=Dn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}zs(f,p),Tl(f,x),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new G9),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Jg("z",u,g,this.animationValues);for(let x=0;x<Zg.length;x++)Jg(`rotate${Zg[x]}`,u,g,this.animationValues),Jg(`skew${Zg[x]}`,u,g,this.animationValues);u.render();for(const x in g)u.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nf(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nf(f?.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=$9(this.projectionDeltaWithTransform,this.treeScale,x);p&&(_=p(x,_)),u.transform=_;const{x:T,y:C}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,g.animationValues?u.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const D in Jy){if(x[D]===void 0)continue;const{correct:L,applyTo:M,isCSSVariable:q}=Jy[D],Y=_==="none"?x[D]:L(x[D],g);if(M){const H=M.length;for(let ne=0;ne<H;ne++)u[M[ne]]=Y}else q?this.options.visualElement.renderState.vars[D]=Y:u[D]=Y}this.options.layoutId&&(u.pointerEvents=g===this?nf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(NE),this.root.sharedNodes.clear()}}}function Y9(t){t.updateLayout()}function W9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ws(x=>{const _=l?e.measuredBox[x]:e.layoutBox[x],T=Dn(_);_.min=n[x].min,_.max=_.min+T}):Fk(a,e.layoutBox,n)&&ws(x=>{const _=l?e.measuredBox[x]:e.layoutBox[x],T=Dn(n[x]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+T)});const u=El();Eu(u,n,e.layoutBox);const f=El();l?Eu(f,t.applyTransform(i,!0),e.measuredBox):Eu(f,n,e.layoutBox);const p=!Uk(u);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:_,layout:T}=x;if(_&&T){const C=nn();Mf(C,e.layoutBox,_.layoutBox);const D=nn();Mf(D,n,T.layoutBox),Bk(C,D)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=C,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function X9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Z9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function J9(t){t.clearSnapshot()}function NE(t){t.clearMeasurements()}function IE(t){t.isLayoutDirty=!1}function eB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tB(t){t.resolveTargetDelta()}function nB(t){t.calcProjection()}function sB(t){t.resetSkewAndRotation()}function iB(t){t.removeLeadSnapshot()}function ME(t,e,n){t.translate=Rt(e.translate,0,n),t.scale=Rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function jE(t,e,n,i){t.min=Rt(e.min,n.min,i),t.max=Rt(e.max,n.max,i)}function rB(t,e,n,i){jE(t.x,e.x,n.x,i),jE(t.y,e.y,n.y,i)}function aB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oB={duration:.45,ease:[.4,0,.1,1]},PE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OE=PE("applewebkit/")&&!PE("chrome/")?Math.round:Ss;function VE(t){t.min=OE(t.min),t.max=OE(t.max)}function lB(t){VE(t.x),VE(t.y)}function Fk(t,e,n){return t==="position"||t==="preserve-aspect"&&!g9(kE(e),kE(n),.2)}function cB(t){return t!==t.root&&t.scroll?.wasRoot}const uB=qk({attachResizeListener:(t,e)=>Fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ey={current:void 0},Hk=qk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ey.current){const t=new uB({});t.mount(window),t.setOptions({layoutScroll:!0}),ey.current=t}return ey.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hB={pan:{Feature:I9},drag:{Feature:N9,ProjectionNode:Hk,MeasureLayout:Ok}};function LE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Ct.postRender(()=>l(e,rh(e)))}class dB extends ya{mount(){const{current:e}=this.node;e&&(this.unmount=PL(e,(n,i)=>(LE(this.node,i,"Start"),a=>LE(this.node,a,"End"))))}unmount(){}}class fB extends ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nh(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Ct.postRender(()=>l(e,rh(e)))}class mB extends ya{mount(){const{current:e}=this.node;e&&(this.unmount=UL(e,(n,i)=>(UE(this.node,i,"Start"),(a,{success:l})=>UE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const o0=new WeakMap,ty=new WeakMap,pB=t=>{const e=o0.get(t.target);e&&e(t)},gB=t=>{t.forEach(pB)};function yB({root:t,...e}){const n=t||document;ty.has(n)||ty.set(n,{});const i=ty.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(gB,{root:t,...e})),i[a]}function xB(t,e,n){const i=yB(e);return o0.set(t,n),i.observe(t),()=>{o0.delete(t),i.unobserve(t)}}const vB={some:0,all:1};class bB extends ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:vB[a]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:_}=this.node.getProps(),T=g?x:_;T&&T(p)};return xB(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_B(e,n))&&this.startObserver()}unmount(){}}function _B({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wB={inView:{Feature:bB},tap:{Feature:mB},focus:{Feature:fB},hover:{Feature:dB}},TB={layout:{ProjectionNode:Hk,MeasureLayout:Ok}},EB={...u9,...wB,...hB,...TB},be=SU(EB,UU);const AB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),BE=t=>{const e=SB(t);return e.charAt(0).toUpperCase()+e.slice(1)},Gk=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),CB=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var kB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RB=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},p)=>G.createElement("svg",{ref:p,...kB,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Gk("lucide",a),...!l&&!CB(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,x])=>G.createElement(g,x)),...Array.isArray(l)?l:[l]]));const Ae=(t,e)=>{const n=G.forwardRef(({className:i,...a},l)=>G.createElement(RB,{ref:l,iconNode:e,className:Gk(`lucide-${AB(BE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=BE(t),n};const NB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xo=Ae("arrow-left",NB);const IB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],is=Ae("arrow-right",IB);const DB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],MB=Ae("bell",DB);const jB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Il=Ae("book-open",jB);const PB=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],OB=Ae("box",PB);const VB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LB=Ae("calendar",VB);const UB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BB=Ae("chevron-right",UB);const zB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jf=Ae("circle-alert",zB);const qB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zE=Ae("circle-check",qB);const FB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HB=Ae("circle-question-mark",FB);const GB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ny=Ae("circle-x",GB);const $B=[["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}],["path",{d:"M9 14 4 9l5-5",key:"102s5s"}]],KB=Ae("corner-up-left",$B);const QB=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],YB=Ae("cpu",QB);const WB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qE=Ae("database",WB);const XB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],FE=Ae("download",XB);const ZB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HE=Ae("eye",ZB);const JB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],ez=Ae("file-code",JB);const tz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],l0=Ae("file-text",tz);const nz=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],GE=Ae("folder-plus",nz);const sz=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],$E=Ae("folder",sz);const iz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],rz=Ae("grid-3x3",iz);const az=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],oz=Ae("hard-drive",az);const lz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],cz=Ae("house",lz);const uz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hz=Ae("image",uz);const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fz=Ae("info",dz);const mz=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],$k=Ae("key-round",mz);const pz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],gz=Ae("lock-open",pz);const yz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xz=Ae("lock",yz);const vz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Au=Ae("log-out",vz);const bz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kk=Ae("mail",bz);const _z=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],wz=Ae("menu",_z);const Tz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],co=Ae("message-circle",Tz);const Ez=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Az=Ae("moon",Ez);const Sz=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Cz=Ae("network",Sz);const kz=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Zi=Ae("notebook-pen",kz);const Rz=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Nz=Ae("paperclip",Rz);const Iz=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Hu=Ae("pen-tool",Iz);const Dz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],c0=Ae("pen",Dz);const Mz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zl=Ae("play",Mz);const jz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pf=Ae("plus",jz);const Pz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Oz=Ae("rotate-ccw",Pz);const Vz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qk=Ae("save",Vz);const Lz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ql=Ae("search",Lz);const Uz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bz=Ae("send",Uz);const zz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Of=Ae("settings",zz);const qz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Fz=Ae("share-2",qz);const Hz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yk=Ae("shield",Hz);const Gz=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$z=Ae("smartphone",Gz);const Kz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qz=Ae("sparkles",Kz);const Yz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],la=Ae("trash-2",Yz);const Wz=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Wk=Ae("trophy",Wz);const Xz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],KE=Ae("type",Xz);const Zz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],QE=Ae("upload",Zz);const Jz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ci=Ae("user",Jz);const e8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YE=Ae("users",e8);const t8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vm=Ae("x",t8);const n8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],WE=Ae("zap",n8),Xk=({onBack:t})=>{const{user:e}=ki(),[n,i]=G.useState({title:"",description:"",questions:[{id:1,question:"",options:[{key:"A",text:""},{key:"B",text:""},{key:"C",text:""},{key:"D",text:""}],answer:"A",explanation:""}]}),[a,l]=G.useState(!1),[u,f]=G.useState(""),p=()=>{i(C=>({...C,questions:[...C.questions,{id:C.questions.length+1,question:"",options:[{key:"A",text:""},{key:"B",text:""},{key:"C",text:""},{key:"D",text:""}],answer:"A",explanation:""}]}))},g=C=>{if(n.questions.length===1)return;const D=n.questions.filter((L,M)=>M!==C);i(L=>({...L,questions:D}))},x=(C,D,L)=>{const M=[...n.questions];M[C][D]=L,i(q=>({...q,questions:M}))},_=(C,D,L)=>{const M=[...n.questions];M[C].options[D].text=L,i(q=>({...q,questions:M}))},T=async()=>{if(!n.title||!n.description){f("Please fill in Title and Description");return}for(let C of n.questions){if(!C.question){f("All questions must have text");return}for(let D of C.options)if(!D.text){f("All options must be filled");return}}l(!0),f("Saving...");try{await Lu(Fs(ht,"quizzes"),{...n,createdBy:e.uid,authorName:e.name||e.username||"Anonymous",createdAt:new Date().toISOString(),plays:0}),f("Quiz Created Successfully! "),setTimeout(t,2e3)}catch(C){console.error(C),f("Error saving quiz: "+C.message),l(!1)}};return d.jsxs("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-black mb-6",children:[d.jsx(xo,{size:20})," Back to Menu"]}),d.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create New Quiz"}),u&&d.jsx("div",{className:`p-4 rounded-xl mb-6 text-center font-bold ${u.includes("Success")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:u}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Quiz Title"}),d.jsx("input",{className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-black transition-colors",placeholder:"e.g. Advanced JavaScript Trivia",value:n.title,onChange:C=>i({...n,title:C.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Description"}),d.jsx("textarea",{className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-black transition-colors",placeholder:"What is this quiz about?",value:n.description,onChange:C=>i({...n,description:C.target.value})})]})]}),d.jsx("div",{className:"space-y-8",children:n.questions.map((C,D)=>d.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200 relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"font-bold text-lg",children:["Question ",D+1]}),n.questions.length>1&&d.jsx("button",{onClick:()=>g(D),className:"text-red-500 hover:bg-red-100 p-2 rounded-lg",children:d.jsx(la,{size:20})})]}),d.jsx("input",{className:"w-full p-3 rounded-xl border border-gray-300 mb-4",placeholder:"Enter question text here...",value:C.question,onChange:L=>x(D,"question",L.target.value)}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:C.options.map((L,M)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold border ${C.answer===L.key?"bg-green-500 text-white border-green-500":"bg-white border-gray-300"}`,children:L.key}),d.jsx("input",{className:"w-full p-2 rounded-lg border border-gray-300",placeholder:`Option ${L.key}`,value:L.text,onChange:q=>_(D,M,q.target.value)}),d.jsx("input",{type:"radio",name:`answer-${C.id}`,checked:C.answer===L.key,onChange:()=>x(D,"answer",L.key),className:"w-5 h-5 accent-black cursor-pointer"})]},L.key))}),d.jsx("input",{className:"w-full p-3 rounded-xl border border-gray-300 border-dashed bg-white",placeholder:"Explanation (Optional)",value:C.explanation,onChange:L=>x(D,"explanation",L.target.value)})]},C.id))}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mt-8",children:[d.jsxs("button",{onClick:p,className:"flex-1 py-4 border-2 border-black border-dashed rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50",children:[d.jsx(Pf,{size:20})," Add Question"]}),d.jsx("button",{onClick:T,disabled:a,className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 shadow-lg disabled:opacity-50",children:a?"Saving...":d.jsxs(d.Fragment,{children:[d.jsx(Qk,{size:20})," Save Quiz"]})})]})]})]})},bm=({isOpen:t,onClose:e,onConfirm:n,title:i="Are you sure?",message:a="This action cannot be undone.",confirmText:l="Delete",cancelText:u="Cancel",isDanger:f=!0})=>d.jsx(hn,{children:t&&d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:e,children:d.jsxs(be.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:p=>p.stopPropagation(),className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl border border-white/20 text-center",children:[d.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 ${f?"bg-red-50 text-red-500":"bg-blue-50 text-blue-500"}`,children:f?d.jsx(la,{size:32}):d.jsx(jf,{size:32})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:i}),d.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:a}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:e,className:"flex-1 py-3 font-bold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:u}),d.jsx("button",{onClick:()=>{n(),e()},className:`flex-1 py-3 font-bold text-white rounded-xl transition-colors shadow-lg ${f?"bg-red-500 hover:bg-red-600 hover:shadow-red-500/30":"bg-black hover:bg-gray-800 hover:shadow-gray-500/30"}`,children:l})]})]})})}),Zk=({onBack:t,onPlay:e})=>{const{user:n}=ki(),[i,a]=G.useState([]),[l,u]=G.useState([]),[f,p]=G.useState(!0),[g,x]=G.useState(!1),[_,T]=G.useState(null),C=async()=>{p(!0);try{const Y=(await Ef(Fs(ht,"quizzes"))).docs.map(H=>({id:H.id,...H.data()}));n?(a(Y.filter(H=>H.createdBy===n.uid)),u(Y.filter(H=>H.createdBy!==n.uid))):u(Y)}catch(q){console.error("Error fetching quizzes:",q)}finally{p(!1)}};G.useEffect(()=>{C()},[n]);const D=q=>{T(q),x(!0)},L=async()=>{if(_){try{await Vu(sn(ht,"quizzes",_.id)),a(q=>q.filter(Y=>Y.id!==_.id))}catch(q){console.error("Error deleting quiz:",q),alert("Failed to delete quiz.")}T(null)}},M=({quiz:q,isMine:Y})=>d.jsxs(be.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${Y?"bg-black text-white":"bg-purple-50 text-purple-600"}`,children:d.jsx(Il,{size:24})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs font-bold bg-gray-100 text-gray-500 px-3 py-1 rounded-full",children:[q.questions?.length||0," Qs"]}),Y&&d.jsx("button",{onClick:H=>{H.stopPropagation(),D(q)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Quiz",children:d.jsx(la,{size:16})})]})]}),d.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-1",children:q.title}),d.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2 min-h-[40px] flex-grow",children:q.description}),d.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium",children:[d.jsx(Ci,{size:14}),d.jsx("span",{children:q.authorName||"Anonymous"})]}),d.jsxs("button",{onClick:()=>e(q),className:"px-4 py-2 bg-black text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors shadow-lg hover:shadow-xl",children:[d.jsx(zl,{size:14,fill:"currentColor"})," Play"]})]})]});return d.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-4 sm:px-8",children:[d.jsx(bm,{isOpen:g,onClose:()=>x(!1),onConfirm:L,title:"Delete Quiz?",message:`Are you sure you want to delete "${_?.title}"? This cannot be undone.`,confirmText:"Delete"}),d.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-500 hover:text-black mb-8 font-bold transition-colors",children:[d.jsx(xo,{size:20})," Back to Menu"]}),d.jsxs("div",{className:"mb-12 text-center",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight mb-4",children:"Community Quizzes"}),d.jsx("p",{className:"text-gray-500 text-lg max-w-2xl mx-auto",children:"Explore and challenge yourself with quizzes created by the community, or manage your own creations."})]}),f?d.jsx("div",{className:"text-center text-gray-400 py-20 animate-pulse",children:"Loading amazing quizzes..."}):d.jsxs("div",{className:"space-y-16",children:[i.length>0&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-100 pb-4 flex items-center gap-3",children:[d.jsx("span",{className:"bg-black text-white px-3 py-1 rounded-lg text-sm",children:"You"}),"Your Created Quizzes"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.jsx(hn,{children:i.map(q=>d.jsx(M,{quiz:q,isMine:!0},q.id))})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 border-b border-gray-100 pb-4 flex items-center gap-3",children:[d.jsx("span",{className:"bg-purple-100 text-purple-600 px-3 py-1 rounded-lg text-sm",children:"Community"}),"Trending Quizzes"]}),l.length===0&&i.length===0?d.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border border-dashed border-gray-200",children:d.jsx("p",{className:"text-gray-500 font-medium",children:"No quizzes found yet. Be the first to create one!"})}):l.length===0?d.jsx("div",{className:"text-center py-12 text-gray-400 italic",children:"No community quizzes yet."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(q=>d.jsx(M,{quiz:q,isMine:!1},q.id))})]})]})]})};function u0({topic:t,description:e,questionCount:n,onStart:i,disabled:a=!1,compact:l=!1}){return d.jsxs(be.div,{whileHover:a?{}:{y:-5},onClick:()=>!a&&i&&i(),className:`bg-white rounded-2xl border transition-all ${a?"opacity-50 border-gray-100 cursor-not-allowed":"border-gray-200 hover:border-black hover:shadow-xl cursor-pointer"} ${l?"p-4 flex items-center justify-between gap-4":"p-8 flex flex-col h-full"}`,children:[d.jsxs("div",{className:l?"":"mb-6",children:[d.jsx("h3",{className:`font-bold text-gray-900 ${l?"text-lg":"text-2xl mb-2"}`,children:t}),!l&&d.jsx("p",{className:"text-gray-500 leading-relaxed",children:e})]}),d.jsxs("div",{className:`${l?"flex-shrink-0":"mt-auto pt-6 flex items-center justify-between"}`,children:[!l&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-medium text-sm",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),n," Questions"]}),d.jsx("button",{onClick:u=>{u.stopPropagation(),!a&&i&&i()},disabled:a,className:`${l?"p-3":"px-6 py-3"} bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors ${a?"bg-gray-200 text-gray-400 cursor-not-allowed":""}`,children:l?d.jsx(zl,{size:18}):d.jsxs(d.Fragment,{children:["Start Quiz ",d.jsx(zl,{size:18})]})})]})]})}var nv={};(function t(e,n,i,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;try{var P=new OffscreenCanvas(1,1),E=P.getContext("2d");E.fillRect(0,0,1,1);var B=P.transferToImageBitmap();E.createPattern(B,"no-repeat")}catch{return!1}return!0})();function p(){}function g(P){var E=n.exports.Promise,B=E!==void 0?E:e.Promise;return typeof B=="function"?new B(P):(P(p,p),null)}var x=(function(P,E){return{transform:function(B){if(P)return B;if(E.has(B))return E.get(B);var J=new OffscreenCanvas(B.width,B.height),ie=J.getContext("2d");return ie.drawImage(B,0,0),E.set(B,J),J},clear:function(){E.clear()}}})(f,new Map),_=(function(){var P=Math.floor(16.666666666666668),E,B,J={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(me){var de=Math.random();return J[de]=requestAnimationFrame(function pe(Ee){ie===Ee||ie+P-1<Ee?(ie=Ee,delete J[de],me()):J[de]=requestAnimationFrame(pe)}),de},B=function(me){J[me]&&cancelAnimationFrame(J[me])}):(E=function(me){return setTimeout(me,P)},B=function(me){return clearTimeout(me)}),{frame:E,cancel:B}})(),T=(function(){var P,E,B={};function J(ie){function me(de,pe){ie.postMessage({options:de||{},callback:pe})}ie.init=function(pe){var Ee=pe.transferControlToOffscreen();ie.postMessage({canvas:Ee},[Ee])},ie.fire=function(pe,Ee,ke){if(E)return me(pe,null),E;var tt=Math.random().toString(36).slice(2);return E=g(function(Ze){function it(yt){yt.data.callback===tt&&(delete B[tt],ie.removeEventListener("message",it),E=null,x.clear(),ke(),Ze())}ie.addEventListener("message",it),me(pe,tt),B[tt]=it.bind(null,{data:{callback:tt}})}),E},ie.reset=function(){ie.postMessage({reset:!0});for(var pe in B)B[pe](),delete B[pe]}}return function(){if(P)return P;if(!i&&l){var ie=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{P=new Worker(URL.createObjectURL(new Blob([ie])))}catch(me){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",me),null}J(P)}return P}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(P,E){return E?E(P):P}function L(P){return P!=null}function M(P,E,B){return D(P&&L(P[E])?P[E]:C[E],B)}function q(P){return P<0?0:Math.floor(P)}function Y(P,E){return Math.floor(Math.random()*(E-P))+P}function H(P){return parseInt(P,16)}function ne(P){return P.map(ce)}function ce(P){var E=String(P).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:H(E.substring(0,2)),g:H(E.substring(2,4)),b:H(E.substring(4,6))}}function ue(P){var E=M(P,"origin",Object);return E.x=M(E,"x",Number),E.y=M(E,"y",Number),E}function R(P){P.width=document.documentElement.clientWidth,P.height=document.documentElement.clientHeight}function S(P){var E=P.getBoundingClientRect();P.width=E.width,P.height=E.height}function I(P){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=P,E}function j(P,E,B,J,ie,me,de,pe,Ee){P.save(),P.translate(E,B),P.rotate(me),P.scale(J,ie),P.arc(0,0,1,de,pe,Ee),P.restore()}function O(P){var E=P.angle*(Math.PI/180),B=P.spread*(Math.PI/180);return{x:P.x,y:P.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:P.startVelocity*.5+Math.random()*P.startVelocity,angle2D:-E+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:P.color,shape:P.shape,tick:0,totalTicks:P.ticks,decay:P.decay,drift:P.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:P.gravity*3,ovalScalar:.6,scalar:P.scalar,flat:P.flat}}function U(P,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var B=E.tick++/E.totalTicks,J=E.x+E.random*E.tiltCos,ie=E.y+E.random*E.tiltSin,me=E.wobbleX+E.random*E.tiltCos,de=E.wobbleY+E.random*E.tiltSin;if(P.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-B)+")",P.beginPath(),u&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))P.fill(he(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(me-J)*.1,Math.abs(de-ie)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var pe=Math.PI/10*E.wobble,Ee=Math.abs(me-J)*.1,ke=Math.abs(de-ie)*.1,tt=E.shape.bitmap.width*E.scalar,Ze=E.shape.bitmap.height*E.scalar,it=new DOMMatrix([Math.cos(pe)*Ee,Math.sin(pe)*Ee,-Math.sin(pe)*ke,Math.cos(pe)*ke,E.x,E.y]);it.multiplySelf(new DOMMatrix(E.shape.matrix));var yt=P.createPattern(x.transform(E.shape.bitmap),"no-repeat");yt.setTransform(it),P.globalAlpha=1-B,P.fillStyle=yt,P.fillRect(E.x-tt/2,E.y-Ze/2,tt,Ze),P.globalAlpha=1}else if(E.shape==="circle")P.ellipse?P.ellipse(E.x,E.y,Math.abs(me-J)*E.ovalScalar,Math.abs(de-ie)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):j(P,E.x,E.y,Math.abs(me-J)*E.ovalScalar,Math.abs(de-ie)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Me=Math.PI/2*3,kt=4*E.scalar,Ot=8*E.scalar,en=E.x,dn=E.y,W=5,ye=Math.PI/W;W--;)en=E.x+Math.cos(Me)*Ot,dn=E.y+Math.sin(Me)*Ot,P.lineTo(en,dn),Me+=ye,en=E.x+Math.cos(Me)*kt,dn=E.y+Math.sin(Me)*kt,P.lineTo(en,dn),Me+=ye;else P.moveTo(Math.floor(E.x),Math.floor(E.y)),P.lineTo(Math.floor(E.wobbleX),Math.floor(ie)),P.lineTo(Math.floor(me),Math.floor(de)),P.lineTo(Math.floor(J),Math.floor(E.wobbleY));return P.closePath(),P.fill(),E.tick<E.totalTicks}function N(P,E,B,J,ie){var me=E.slice(),de=P.getContext("2d"),pe,Ee,ke=g(function(tt){function Ze(){pe=Ee=null,de.clearRect(0,0,J.width,J.height),x.clear(),ie(),tt()}function it(){i&&!(J.width===a.width&&J.height===a.height)&&(J.width=P.width=a.width,J.height=P.height=a.height),!J.width&&!J.height&&(B(P),J.width=P.width,J.height=P.height),de.clearRect(0,0,J.width,J.height),me=me.filter(function(yt){return U(de,yt)}),me.length?pe=_.frame(it):Ze()}pe=_.frame(it),Ee=Ze});return{addFettis:function(tt){return me=me.concat(tt),ke},canvas:P,promise:ke,reset:function(){pe&&_.cancel(pe),Ee&&Ee()}}}function fe(P,E){var B=!P,J=!!M(E||{},"resize"),ie=!1,me=M(E,"disableForReducedMotion",Boolean),de=l&&!!M(E||{},"useWorker"),pe=de?T():null,Ee=B?R:S,ke=P&&pe?!!P.__confetti_initialized:!1,tt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ze;function it(Me,kt,Ot){for(var en=M(Me,"particleCount",q),dn=M(Me,"angle",Number),W=M(Me,"spread",Number),ye=M(Me,"startVelocity",Number),Oe=M(Me,"decay",Number),We=M(Me,"gravity",Number),Je=M(Me,"drift",Number),vt=M(Me,"colors",ne),an=M(Me,"ticks",Number),ls=M(Me,"shapes"),xa=M(Me,"scalar"),Qs=!!M(Me,"flat"),Eo=ue(Me),va=en,ur=[],Ao=P.width*Eo.x,Qn=P.height*Eo.y;va--;)ur.push(O({x:Ao,y:Qn,angle:dn,spread:W,startVelocity:ye,color:vt[va%vt.length],shape:ls[Y(0,ls.length)],ticks:an,decay:Oe,gravity:We,drift:Je,scalar:xa,flat:Qs}));return Ze?Ze.addFettis(ur):(Ze=N(P,ur,Ee,kt,Ot),Ze.promise)}function yt(Me){var kt=me||M(Me,"disableForReducedMotion",Boolean),Ot=M(Me,"zIndex",Number);if(kt&&tt)return g(function(ye){ye()});B&&Ze?P=Ze.canvas:B&&!P&&(P=I(Ot),document.body.appendChild(P)),J&&!ke&&Ee(P);var en={width:P.width,height:P.height};pe&&!ke&&pe.init(P),ke=!0,pe&&(P.__confetti_initialized=!0);function dn(){if(pe){var ye={getBoundingClientRect:function(){if(!B)return P.getBoundingClientRect()}};Ee(ye),pe.postMessage({resize:{width:ye.width,height:ye.height}});return}en.width=en.height=null}function W(){Ze=null,J&&(ie=!1,e.removeEventListener("resize",dn)),B&&P&&(document.body.contains(P)&&document.body.removeChild(P),P=null,ke=!1)}return J&&!ie&&(ie=!0,e.addEventListener("resize",dn,!1)),pe?pe.fire(Me,en,W):it(Me,en,W)}return yt.reset=function(){pe&&pe.reset(),Ze&&Ze.reset()},yt}var De;function te(){return De||(De=fe(null,{useWorker:!0,resize:!0})),De}function he(P,E,B,J,ie,me,de){var pe=new Path2D(P),Ee=new Path2D;Ee.addPath(pe,new DOMMatrix(E));var ke=new Path2D;return ke.addPath(Ee,new DOMMatrix([Math.cos(de)*ie,Math.sin(de)*ie,-Math.sin(de)*me,Math.cos(de)*me,B,J])),ke}function xe(P){if(!u)throw new Error("path confetti are not supported in this browser");var E,B;typeof P=="string"?E=P:(E=P.path,B=P.matrix);var J=new Path2D(E),ie=document.createElement("canvas"),me=ie.getContext("2d");if(!B){for(var de=1e3,pe=de,Ee=de,ke=0,tt=0,Ze,it,yt=0;yt<de;yt+=2)for(var Me=0;Me<de;Me+=2)me.isPointInPath(J,yt,Me,"nonzero")&&(pe=Math.min(pe,yt),Ee=Math.min(Ee,Me),ke=Math.max(ke,yt),tt=Math.max(tt,Me));Ze=ke-pe,it=tt-Ee;var kt=10,Ot=Math.min(kt/Ze,kt/it);B=[Ot,0,0,Ot,-Math.round(Ze/2+pe)*Ot,-Math.round(it/2+Ee)*Ot]}return{type:"path",path:E,matrix:B}}function Pe(P){var E,B=1,J="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof P=="string"?E=P:(E=P.text,B="scalar"in P?P.scalar:B,ie="fontFamily"in P?P.fontFamily:ie,J="color"in P?P.color:J);var me=10*B,de=""+me+"px "+ie,pe=new OffscreenCanvas(me,me),Ee=pe.getContext("2d");Ee.font=de;var ke=Ee.measureText(E),tt=Math.ceil(ke.actualBoundingBoxRight+ke.actualBoundingBoxLeft),Ze=Math.ceil(ke.actualBoundingBoxAscent+ke.actualBoundingBoxDescent),it=2,yt=ke.actualBoundingBoxLeft+it,Me=ke.actualBoundingBoxAscent+it;tt+=it+it,Ze+=it+it,pe=new OffscreenCanvas(tt,Ze),Ee=pe.getContext("2d"),Ee.font=de,Ee.fillStyle=J,Ee.fillText(E,yt,Me);var kt=1/B;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[kt,0,0,kt,-tt*kt/2,-Ze*kt/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=fe,n.exports.shapeFromPath=xe,n.exports.shapeFromText=Pe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),nv,!1);const Jk=nv.exports;nv.exports.create;const sy=t=>{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const n=new e;if(t==="success")[523.25,659.25,783.99,1046.5].forEach((a,l)=>{const u=n.createOscillator(),f=n.createGain();u.type="sine",u.frequency.setValueAtTime(a,n.currentTime),f.gain.setValueAtTime(.1,n.currentTime),f.gain.exponentialRampToValueAtTime(.001,n.currentTime+.5+l*.1),u.connect(f),f.connect(n.destination),u.start(),u.stop(n.currentTime+1)});else if(t==="error"){const i=n.createOscillator(),a=n.createGain();i.type="sawtooth",i.frequency.setValueAtTime(150,n.currentTime),i.frequency.linearRampToValueAtTime(50,n.currentTime+.3),a.gain.setValueAtTime(.1,n.currentTime),a.gain.exponentialRampToValueAtTime(.001,n.currentTime+.3),i.connect(a),a.connect(n.destination),i.start(),i.stop(n.currentTime+.4)}},s8={hidden:{opacity:0,scale:.5,y:20},visible:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:-20}};function i8({isCorrect:t,show:e}){return d.jsx(hn,{children:e&&d.jsxs(be.div,{variants:s8,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",stiffness:400,damping:20},className:`absolute -top-16 right-0 p-4 rounded-2xl shadow-xl border-2 font-bold transform -rotate-6 z-10 ${t?"bg-green-100 border-green-500 text-green-800":"bg-red-100 border-red-500 text-red-800"}`,children:[t?"Doing great! ":"Uh oh... ",d.jsx("div",{className:`absolute bottom-0 right-6 translate-y-1/2 rotate-45 w-4 h-4 border-r-2 border-b-2 bg-inherit ${t?"border-green-500":"border-red-500"}`})]})})}const eR=({questions:t,onFinish:e,isMobile:n})=>{const[i,a]=G.useState(0),[l,u]=G.useState(null),[f,p]=G.useState(!1),[g,x]=G.useState(0),[_,T]=G.useState([]);if(!t||t.length===0)return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center",children:[d.jsx(jf,{size:48,className:"text-red-500 mb-4"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Oops! No questions found."}),d.jsx("p",{className:"text-gray-500 mt-2",children:"There seems to be an issue loading this quiz."}),d.jsx("button",{onClick:()=>e(0,[]),className:"mt-6 px-6 py-2 bg-black text-white rounded-lg font-bold",children:"Go Back"})]});const C=t[i];(i+(f?1:0))/t.length*100;const D=R=>{if(f)return;u(R),p(!0);const S=R===C.answer;T(I=>[...I,{question:C.question,selectedOption:R,correctAnswer:C.answer,isCorrect:S,explanation:C.explanation||"No explanation provided."}]),S?(x(I=>I+1),sy("success"),Jk({particleCount:100,spread:70,origin:{y:.6}})):(x(I=>I-.25),sy("error"))},L=()=>{f||(p(!0),u(null),sy("error"),T(R=>[...R,{question:C.question,selectedOption:null,correctAnswer:C.answer,isCorrect:!1,isSkipped:!0,explanation:C.explanation||"No explanation provided."}]))},M=()=>{i<t.length-1?(a(R=>R+1),u(null),p(!1)):e(g,_)},q=R=>f?R===C.answer?"border-green-500 bg-green-50 text-green-700":l===R&&R!==C.answer?"border-red-500 bg-red-50 text-red-700":"border-gray-100 text-gray-400 opacity-50":"border-gray-200 hover:border-black hover:bg-gray-50 text-gray-700",[Y,H]=G.useState(!1),ne=()=>{H(!0)},ce=()=>{H(!1),e(g,_)},ue={initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"}};return d.jsxs("div",{className:`w-full max-w-6xl mx-auto relative pb-32 lg:pb-0 ${n?"pt-2":"pt-0"}`,children:[d.jsx(hn,{children:Y&&d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>H(!1),children:d.jsxs(be.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:R=>R.stopPropagation(),className:"bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl border border-white/20 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6 text-red-500",children:d.jsx(jf,{size:32})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Give up so soon?"}),d.jsx("p",{className:"text-gray-500 mb-8",children:"You're doing great! Are you sure you want to quit? Your current score will be saved."}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-3 font-bold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Keep Going"}),d.jsx("button",{onClick:ce,className:"flex-1 py-3 font-bold text-white bg-red-500 hover:bg-red-600 rounded-xl transition-colors shadow-lg hover:shadow-red-500/30",children:"Quit Quiz"})]})]})})}),d.jsxs("div",{className:`mb-6 ${n?"px-4 pt-6 pb-2":"mb-12"}`,children:[d.jsxs("div",{className:"flex justify-between items-end text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wide",children:[d.jsxs("span",{children:["Question ",i+1," / ",t.length]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-black font-bold text-sm",children:["Score: ",g]}),d.jsx("button",{onClick:ne,className:"text-red-500 hover:bg-red-50 px-2 py-1 rounded transition-colors",children:"End Quiz"})]})]}),d.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:d.jsx(be.div,{className:"h-full bg-black rounded-full",initial:{width:0},animate:{width:`${(i+1)/t.length*100}%`},transition:{duration:.5}})})]}),d.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-3 gap-8 items-start ${n?"px-4 mt-5":"mt-0"}`,children:[d.jsxs("div",{className:`lg:col-span-2 bg-white rounded-3xl border border-gray-200 shadow-sm relative ${n?"p-5":"p-8"}`,children:[d.jsx(i8,{isCorrect:l===C.answer,show:f&&l!==null}),d.jsx("h2",{className:`font-bold text-gray-900 mb-8 leading-snug ${n?"text-xl":"text-2xl"}`,children:C.question}),d.jsx("div",{className:"space-y-3",children:C.options.map(R=>d.jsxs("button",{onClick:()=>D(R.key),disabled:f,className:`w-full text-left rounded-xl border-2 transition-all duration-200 flex items-center justify-between group ${n?"p-3":"p-4"} ${q(R.key)}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-sm font-bold border ${f?R.key===C.answer?"bg-green-500 border-green-500 text-white":l===R.key?"bg-red-500 border-red-500 text-white":"border-gray-200 text-gray-400":"border-gray-200 text-gray-500 group-hover:border-black group-hover:text-black"}`,children:R.key}),d.jsx("span",{className:"text-base font-medium",children:R.text})]}),f&&R.key===C.answer&&d.jsx(zE,{size:24,className:"text-green-500"}),f&&l===R.key&&R.key!==C.answer&&d.jsx(ny,{size:24,className:"text-red-500"})]},R.key))}),!f&&d.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:d.jsxs("button",{onClick:L,className:"w-full py-4 bg-red-500 text-white rounded-xl text-lg font-bold hover:bg-red-600 transition-all duration-300 transform hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-2 shadow-lg hover:shadow-red-500/30",children:[d.jsx(ny,{size:22}),"Give Up"]})})]}),d.jsx("div",{className:"space-y-6 lg:col-span-1 lg:sticky lg:top-6 self-start",children:d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-200 shadow-sm p-6",children:[d.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-sm uppercase tracking-wider",children:"Question Overview"}),d.jsx("div",{className:"grid grid-cols-5 gap-3",children:t.map((R,S)=>{const I=_[S];let j="border-gray-200 text-gray-400";return S===i&&!I?j="border-black border-2 text-black font-bold":I?I.isCorrect?j="bg-green-500 border-green-500 text-white":j="bg-red-500 border-red-500 text-white":j="bg-white border-2 border-gray-200 text-gray-500",I?I.isCorrect?j="bg-green-500 border-green-500 text-white":j="bg-red-500 border-red-500 text-white":j="bg-white border-2 border-black text-black",d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all ${j}`,children:S+1},S)})})]})})]}),d.jsx(hn,{mode:"wait",children:f&&d.jsxs(d.Fragment,{children:[d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 z-40 backdrop-blur-[2px]"}),d.jsx(be.div,{variants:n?ue:{initial:{opacity:0,scale:.9,x:"-50%",y:"-50%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.9,x:"-50%",y:"-50%"}},initial:"initial",animate:"animate",exit:"exit",transition:{type:"spring",damping:25,stiffness:200},className:n?"fixed bottom-0 left-0 right-0 z-50 bg-white rounded-t-[2rem] p-6 border-t border-gray-100 shadow-[0_-10px_40px_rgba(0,0,0,0.1)]":"fixed top-1/2 left-1/2 z-50 bg-white rounded-3xl p-8 shadow-2xl w-full max-w-2xl border border-gray-100",children:d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[l===C.answer?d.jsx("div",{className:"p-2 bg-green-100 rounded-full text-green-600",children:d.jsx(zE,{size:24})}):d.jsx("div",{className:"p-2 bg-red-100 rounded-full text-red-600",children:d.jsx(ny,{size:24})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-900 text-lg",children:l===C.answer?"Correct!":"Incorrect"}),l!==C.answer&&d.jsxs("p",{className:"text-sm text-gray-500",children:["Correct Answer: ",C.answer]})]})]}),d.jsxs("div",{className:"bg-gray-50 p-5 rounded-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-900 font-semibold",children:[d.jsx(HB,{size:18}),d.jsx("span",{children:"Explanation"})]}),d.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:C.explanation||"No additional explanation provided for this question."})]}),d.jsxs("button",{onClick:M,className:"w-full bg-black text-white px-8 py-4 rounded-xl font-bold text-base tracking-wide hover:bg-gray-800 transition-all flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform active:scale-95",children:[i===t.length-1?"Finish Result":"Next Question",d.jsx(is,{size:20})]})]})})]})})]})},tR=({score:t,total:e,userAnswers:n,onHome:i,onRetry:a})=>{const{user:l,updateUserHistory:u}=ki(),f=Math.round(t/e*100);G.useEffect(()=>{l&&u(t,e,"Operating Systems",n)},[]);const p=()=>{if(!l)return f>=70?"Great Job!":"Completed";if(f<=60){const g=l.gender==="female"?"hojayegi":"hojayega";return`Padhle ${l.username} nahi to fail ${g}`}return f>80?`Impressive ${l.username}!`:`Good job ${l.username}!`};return d.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl p-10 max-w-md w-full mx-auto text-center border border-gray-200 shadow-xl",children:[d.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-gray-50 mb-8",children:d.jsx(Wk,{size:48,className:"text-black"})}),d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:p()}),d.jsxs("p",{className:"text-gray-500 mb-8",children:["You scored ",t," out of ",e]}),d.jsx("div",{className:"relative h-4 bg-gray-100 rounded-full mb-8 overflow-hidden",children:d.jsx(be.div,{initial:{width:0},animate:{width:`${f}%`},transition:{delay:.5,duration:1},className:"absolute top-0 left-0 h-full bg-black rounded-full"})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[d.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl",children:[d.jsx("span",{className:"block text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Percentage"}),d.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[f,"%"]})]}),d.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl",children:[d.jsx("span",{className:"block text-gray-400 text-xs font-bold uppercase tracking-wider",children:"Correct"}),d.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:i,className:"flex-1 py-4 bg-gray-100 text-gray-700 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-200 transition-all",children:"Go Home"}),d.jsxs("button",{onClick:a,className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all",children:[d.jsx(Oz,{size:18}),"Try Again"]})]})]})};function nR({onSwitchToSignup:t,onLoginSuccess:e}){const{login:n,loginWithGoogle:i}=ki(),[a,l]=G.useState({email:"",password:""}),[u,f]=G.useState(""),p=async g=>{g.preventDefault();const x=await n(a.email,a.password);x.success?e():f(x.message)};return d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[80vh] py-12",children:d.jsxs("div",{className:"w-full max-w-lg bg-white rounded-3xl p-10 shadow-xl border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back!"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Please login to continue"})]}),u&&d.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm mb-4 text-center font-medium",children:u}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Enter your email",value:a.email,onChange:g=>l({...a,email:g.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($k,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Enter your password",value:a.password,onChange:g=>l({...a,password:g.target.value})})]})]}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-xl font-bold hover:bg-gray-800 transition-colors shadow-lg",children:"Login"}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-400 font-medium",children:"Or continue with"})})]}),d.jsxs("button",{type:"button",onClick:async()=>{const g=await i();g.success?e():f(g.message)},className:"w-full py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-500",children:["Don't have an account?"," ",d.jsx("button",{onClick:t,className:"text-black font-bold hover:underline",children:"Sign Up"})]})})]})})}function sR({onSwitchToLogin:t,onSignupSuccess:e}){const{signup:n,loginWithGoogle:i}=ki(),[a,l]=G.useState({name:"",username:"",email:"",gender:"male",password:""}),[u,f]=G.useState(""),p=async g=>{if(g.preventDefault(),a.password.length<4){f("Password must be at least 4 characters");return}const x=await n(a);x.success?e():f(x.message)};return d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center justify-center min-h-[80vh] py-10",children:d.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl p-10 shadow-xl border border-gray-100",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Join us to start learning!"})]}),u&&d.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-lg text-sm mb-4 text-center font-medium",children:u}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(KE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"Ansh Sharma",value:a.name,onChange:g=>l({...a,name:g.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username (Display Name)"}),d.jsxs("div",{className:"relative",children:[d.jsx(KE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"anshsharma",value:a.username,onChange:g=>l({...a,username:g.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"ansh@example.com",value:a.email,onChange:g=>l({...a,email:g.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:["male","female"].map(g=>d.jsx("button",{type:"button",onClick:()=>l({...a,gender:g}),className:`py-3 rounded-xl text-sm font-bold capitalize border transition-all ${a.gender===g?"bg-black text-white border-black":"bg-white text-gray-600 border-gray-200 hover:border-gray-300"}`,children:g},g))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx($k,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 transition-colors",placeholder:"",value:a.password,onChange:g=>l({...a,password:g.target.value})})]})]}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-black text-white rounded-xl font-bold hover:bg-gray-800 transition-colors shadow-lg mt-2",children:"Sign Up"}),d.jsxs("div",{className:"relative my-6",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-400 font-medium",children:"Or continue with"})})]}),d.jsxs("button",{type:"button",onClick:async()=>{const g=await i();g.success?e():f(g.message)},className:"w-full py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-gray-500",children:["Already have an account?"," ",d.jsx("button",{onClick:t,className:"text-black font-bold hover:underline",children:"Login"})]})})]})})}function iR({onBack:t}){const{user:e,updateUserProfile:n,deleteHistoryItem:i}=ki(),[a,l]=G.useState(!1),[u,f]=G.useState({name:e?.name||"",username:e?.username||"",gender:e?.gender||"male"}),[p,g]=G.useState(!1),[x,_]=G.useState(""),[T,C]=G.useState(!1),[D,L]=G.useState(null);if(!e)return null;const M=async()=>{g(!0);const ne=await n(u);g(!1),ne.success?(l(!1),_("Profile updated successfully!"),setTimeout(()=>_(""),3e3)):_(ne.message||"Error updating profile")},q=ne=>{L(ne),C(!0)},Y=async()=>{if(D===null)return;const ne=e.history.length-1-D;await i(ne),L(null)},H=ne=>ne?new Date(ne).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return d.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-4xl mx-auto space-y-8",children:[d.jsx(bm,{isOpen:T,onClose:()=>C(!1),onConfirm:Y,title:"Delete History Item?",message:"Are you sure you want to delete this quiz attempt from your history? This action cannot be undone.",confirmText:"Delete"}),d.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100 flex flex-col md:flex-row gap-8 items-start relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4",children:d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-black transition-colors font-bold text-sm",children:"Close"})}),d.jsx("div",{className:"w-32 h-32 bg-black rounded-full flex items-center justify-center text-white shrink-0 mx-auto md:mx-0",children:d.jsx("span",{className:"text-4xl font-bold",children:e.name.charAt(0).toUpperCase()})}),d.jsxs("div",{className:"flex-1 w-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:a?"Edit Profile":"My Profile"}),!a&&d.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors",children:[d.jsx(c0,{size:16}),"Edit"]})]}),x&&d.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm font-bold ${x.includes("Error")?"bg-red-50 text-red-500":"bg-green-50 text-green-600"}`,children:x}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Full Name"}),a?d.jsx("input",{type:"text",value:u.name,onChange:ne=>f({...u,name:ne.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 font-medium"}):d.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900",children:[d.jsx(Ci,{size:20,className:"text-gray-400"}),e.name]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Username"}),a?d.jsx("input",{type:"text",value:u.username,onChange:ne=>f({...u,username:ne.target.value}),className:"w-full p-3 rounded-xl border border-gray-200 focus:border-black focus:ring-0 font-medium"}):d.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900",children:[d.jsx("span",{className:"text-gray-400 font-bold",children:"@"}),e.username]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Email"}),d.jsxs("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900 opacity-60",children:[d.jsx(Kk,{size:20,className:"text-gray-400"}),e.email]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Gender"}),a?d.jsx("div",{className:"flex gap-4",children:["male","female"].map(ne=>d.jsx("button",{onClick:()=>f({...u,gender:ne}),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize border ${u.gender===ne?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:ne},ne))}):d.jsx("div",{className:"flex items-center gap-3 text-lg font-medium text-gray-900 capitalize",children:e.gender})]})]}),a&&d.jsxs("div",{className:"flex gap-4 mt-8",children:[d.jsxs("button",{onClick:M,disabled:p,className:"px-6 py-3 bg-black text-white rounded-xl font-bold flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[d.jsx(Qk,{size:18}),p?"Saving...":"Save Changes"]}),d.jsxs("button",{onClick:()=>{l(!1),f({name:e.name,username:e.username,gender:e.gender})},className:"px-6 py-3 bg-white border border-gray-200 text-gray-600 rounded-xl font-bold hover:bg-gray-50 transition-colors flex items-center gap-2",children:[d.jsx(vm,{size:18}),"Cancel"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsx("div",{className:"p-3 bg-green-100 rounded-xl text-green-600",children:d.jsx(Wk,{size:24})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quiz History"}),d.jsx("p",{className:"text-gray-500",children:"Your past attempts and scores"})]})]}),d.jsx("div",{className:"overflow-hidden",children:e.history&&e.history.length>0?d.jsx("div",{className:"space-y-4",children:[...e.history].reverse().map((ne,ce)=>d.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors border border-gray-100 group",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-900",children:ne.topic}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[d.jsx(LB,{size:14}),H(ne.date)]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-2xl font-black text-black",children:[ne.percentage!==void 0?ne.percentage:Math.round(ne.score/10*100),"%"]}),d.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Score"}),ne.details&&d.jsx("button",{className:"text-xs font-bold text-blue-600 hover:underline mt-1 bg-transparent border-0 p-0 cursor-pointer",children:"Review"})]}),d.jsx("button",{onClick:()=>q(ce),className:"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Delete from history",children:d.jsx(la,{size:18})})]})]},ce))}):d.jsx("div",{className:"text-center py-12 text-gray-400 italic",children:"No quiz history yet. Start learning!"})})]})]})}const r8=({isOpen:t,onClose:e,onConfirm:n,title:i,message:a,initialValue:l="",placeholder:u="",confirmText:f="Confirm",cancelText:p="Cancel"})=>{const[g,x]=G.useState(l);G.useEffect(()=>{t&&x(l)},[t,l]);const _=T=>{T.preventDefault(),n(g)};return d.jsx(hn,{children:t&&d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:d.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:T=>T.stopPropagation(),className:"w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(vm,{size:20,className:"text-gray-500"})})]}),d.jsx("p",{className:"text-gray-500 mb-6",children:a}),d.jsxs("form",{onSubmit:_,children:[d.jsx("input",{type:"text",value:g,onChange:T=>x(T.target.value),placeholder:u,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all mb-6 font-medium",autoFocus:!0}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 transition-colors",children:p}),d.jsx("button",{type:"submit",disabled:!g.trim(),className:"px-5 py-2.5 rounded-xl font-bold bg-black text-white hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f})]})]})]})})})})},a8=5*1024*1024,o8=50*1024*1024,l8=500,c8=["application/pdf","image/jpeg","image/png","image/webp"];function u8(){const{user:t}=ki(),[e,n]=G.useState("my-notes"),[i,a]=G.useState([]),[l,u]=G.useState([]),[f,p]=G.useState([]),[g,x]=G.useState(!0),[_,T]=G.useState(!1),[C,D]=G.useState(0),[L,M]=G.useState(!1),[q,Y]=G.useState(""),[H,ne]=G.useState(!1),ce=G.useRef(null),[ue,R]=G.useState(null),[S,I]=G.useState([]),[j,O]=G.useState({isOpen:!1,type:null,data:null}),[U,N]=G.useState({isOpen:!1,type:null,data:null,title:"",message:"",initialValue:""}),fe=i.reduce((W,ye)=>W+(ye.size||0),0),De=i.length;G.useEffect(()=>{t&&te()},[t,e]),G.useEffect(()=>{const W=new IntersectionObserver(([ye])=>{ne(!ye.isIntersecting)},{threshold:.1});return ce.current&&e==="my-notes"&&W.observe(ce.current),()=>{ce.current&&W.unobserve(ce.current)}},[i,e]);const te=async()=>{x(!0);try{if(e==="my-notes"){const W=vu(Fs(ht,"notes"),jy("userId","==",t.uid)),Oe=(await Ef(W)).docs.map(We=>({id:We.id,...We.data()}));u(Oe.filter(We=>We.type==="folder")),a(Oe.filter(We=>We.type!=="folder"))}else{const W=vu(Fs(ht,"notes"),jy("isPublic","==",!0)),We=(await Ef(W)).docs.map(Je=>({id:Je.id,...Je.data()})).filter(Je=>Je.userId!==t.uid&&Je.type!=="folder");We.sort((Je,vt)=>new Date(vt.createdAt)-new Date(Je.createdAt)),p(We)}}catch(W){console.error("Error fetching notes:",W),Y("Failed to load notes.")}finally{x(!1)}},he=()=>{N({isOpen:!0,type:"create-folder",title:"New Folder",message:"Enter a name for your new folder.",initialValue:"",placeholder:"Folder Name"})},xe=W=>{N({isOpen:!0,type:"rename",data:W,title:"Rename",message:`Enter a new name for "${W.title||W.name}"`,initialValue:W.title||W.name,placeholder:"New Name"})},Pe=async W=>{const ye=W.trim();if(ye){N({...U,isOpen:!1});try{if(U.type==="create-folder"){const Oe={userId:t.uid,title:ye,type:"folder",parentId:ue,createdAt:new Date().toISOString()},We=await Lu(Fs(ht,"notes"),Oe);u(Je=>[...Je,{id:We.id,...Oe}])}else if(U.type==="rename"){const Oe=U.data;await ro(sn(ht,"notes",Oe.id),{title:ye}),Oe.type==="folder"?u(We=>We.map(Je=>Je.id===Oe.id?{...Je,title:ye}:Je)):a(We=>We.map(Je=>Je.id===Oe.id?{...Je,title:ye}:Je))}}catch(Oe){console.error("Action failed:",Oe),alert("Action failed.")}}},P=W=>{I(ye=>[...ye,W]),R(W.id)},E=()=>{if(S.length===0)return;const W=[...S];W.pop(),I(W),R(W.length>0?W[W.length-1].id:null)},B=W=>{if(W===-1)I([]),R(null);else{const ye=S.slice(0,W+1);I(ye),R(ye[ye.length-1].id)}},J=async W=>{try{const Oe=await(await fetch(W.url)).blob(),We=window.URL.createObjectURL(Oe),Je=document.createElement("a");Je.href=We,Je.download=W.title,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),window.URL.revokeObjectURL(We)}catch(ye){console.error("Download failed, falling back to new tab:",ye),window.open(W.url,"_blank")}},ie=G.useCallback(W=>{W.preventDefault(),W.stopPropagation(),W.type==="dragenter"||W.type==="dragover"?M(!0):W.type==="dragleave"&&M(!1)},[]),me=G.useCallback(W=>{W.preventDefault(),W.stopPropagation(),M(!1),W.dataTransfer.files&&W.dataTransfer.files[0]&&Ee(W.dataTransfer.files[0])},[]),de=W=>{W.target.files&&W.target.files[0]&&Ee(W.target.files[0])},pe=()=>{document.getElementById("file-upload").click()},Ee=async W=>{if(Y(""),!c8.includes(W.type)){Y("Only PDF, JPEG, PNG, or WEBP files are allowed."),alert("Only PDF, JPEG, PNG, or WEBP files are allowed.");return}if(W.size>a8){Y(`File is too large (${(W.size/1024/1024).toFixed(2)}MB). Max 5MB allowed.`);return}if(De>=l8){Y("File limit reached.");return}if(fe+W.size>o8){Y("Storage limit reached.");return}T(!0),D(0);try{const ye=`${Date.now()}_${W.name}`,Oe=Vy(Uy,`users/${t.uid}/notes/${ye}`),We=x5(Oe,W);await new Promise((Je,vt)=>{We.on("state_changed",an=>{const ls=an.bytesTransferred/an.totalBytes*100;D(Math.round(ls))},vt,async()=>{try{const an=await F2(We.snapshot.ref);Je(an)}catch(an){vt(an)}})}).then(async Je=>{const vt={userId:t.uid,userName:t.name||"Anonymous",title:W.name,fileName:ye,url:Je,size:W.size,type:W.type,isPublic:!1,parentId:ue,createdAt:new Date().toISOString()},an=await Lu(Fs(ht,"notes"),vt);a(ls=>[{id:an.id,...vt},...ls]),Jk({particleCount:100,spread:70,origin:{y:.6}})})}catch(ye){console.error("Upload failed:",ye),Y("Failed to upload file.")}finally{T(!1),D(0)}},ke=W=>{O({isOpen:!0,type:"delete",data:W})},tt=W=>{W.isPublic?yt(W):O({isOpen:!0,type:"privacy",data:W})},Ze=async()=>{j.data&&(j.type==="delete"?await it(j.data):j.type==="privacy"&&await yt(j.data),O({...j,isOpen:!1}))},it=async W=>{try{if(W.type==="folder"){if(i.some(Oe=>Oe.parentId===W.id)||l.some(Oe=>Oe.parentId===W.id)){alert("Folder is not empty. Please empty it first.");return}await Vu(sn(ht,"notes",W.id)),u(Oe=>Oe.filter(We=>We.id!==W.id))}else{const ye=Vy(Uy,`users/${t.uid}/notes/${W.fileName}`);await v5(ye).catch(Oe=>console.warn("File not found in storage",Oe)),await Vu(sn(ht,"notes",W.id)),a(Oe=>Oe.filter(We=>We.id!==W.id))}}catch(ye){console.error("Delete failed:",ye),alert("Failed to delete.")}},yt=async W=>{try{const ye=!W.isPublic;await ro(sn(ht,"notes",W.id),{isPublic:ye}),a(Oe=>Oe.map(We=>We.id===W.id?{...We,isPublic:ye}:We))}catch{alert("Failed to update privacy.")}},Me=W=>{if(W===0)return"0 B";const ye=1024,Oe=Math.floor(Math.log(W)/Math.log(ye));return parseFloat((W/Math.pow(ye,Oe)).toFixed(1))+" "+["B","KB","MB","GB"][Oe]},kt=W=>W==="folder"?d.jsx($E,{size:32,className:"fill-yellow-400 text-yellow-600"}):W&&W.startsWith("image/")?d.jsx(hz,{size:24}):d.jsx(l0,{size:24}),Ot=()=>{const W=l.filter(Oe=>Oe.parentId===ue),ye=i.filter(Oe=>Oe.parentId===ue);return{currentFolders:W,currentFiles:ye}},{currentFolders:en,currentFiles:dn}=Ot();return d.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-20",children:[d.jsx(bm,{isOpen:j.isOpen,onClose:()=>O({...j,isOpen:!1}),onConfirm:Ze,title:j.type==="delete"?"Delete Item?":"Make Public?",message:j.type==="delete"?`Are you sure you want to delete "${j.data?.title}"?`:`Are you sure you want to share "${j.data?.title}"?`,confirmText:j.type==="delete"?"Delete":"Share",isDanger:j.type==="delete"}),d.jsx(r8,{isOpen:U.isOpen,onClose:()=>N({...U,isOpen:!1}),onConfirm:Pe,title:U.title,message:U.message,initialValue:U.initialValue,placeholder:U.placeholder,confirmText:"Save"}),d.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:".pdf, .jpg, .jpeg, .png, .webp",onChange:de}),d.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Study Material"}),d.jsx("p",{className:"text-gray-500 mt-2",children:"Store your notes and resources or share them with others."})]}),d.jsxs("div",{className:"flex gap-4 bg-white p-3 rounded-xl border border-gray-200 shadow-sm text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(l0,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"font-bold",children:De})]}),d.jsx("div",{className:"w-px bg-gray-200"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oz,{size:16,className:"text-gray-400"}),d.jsx("span",{className:"font-bold",children:Me(fe)})]})]})]}),d.jsxs("div",{className:"sticky top-0 z-30 bg-gray-50/95 backdrop-blur py-4 flex items-center justify-between border-b border-transparent transition-all",children:[d.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl w-fit",children:[d.jsx("button",{onClick:()=>n("my-notes"),className:`px-6 py-2 rounded-lg font-bold transition-all ${e==="my-notes"?"bg-white shadow text-black":"text-gray-500 hover:text-gray-700"}`,children:"My Notes"}),d.jsx("button",{onClick:()=>n("community"),className:`px-6 py-2 rounded-lg font-bold transition-all ${e==="community"?"bg-white shadow text-black":"text-gray-500 hover:text-gray-700"}`,children:"Community"})]}),d.jsx(hn,{children:(H||i.length<8)&&e==="my-notes"&&d.jsxs(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex gap-2",children:[d.jsxs("button",{onClick:he,className:"bg-gray-200 text-black w-10 h-10 md:w-auto md:px-4 md:py-2 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-300 transition-colors",title:"New Folder",children:[d.jsx(GE,{size:18}),d.jsx("span",{className:"hidden md:inline",children:"New Folder"})]}),d.jsxs("button",{onClick:pe,className:"bg-black text-white w-10 h-10 md:w-auto md:px-4 md:py-2 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg hover:bg-gray-800 transition-colors",title:"Upload",children:[d.jsx(QE,{size:18}),d.jsx("span",{className:"hidden md:inline",children:"Upload"})]})]})})]}),e==="my-notes"&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4 overflow-x-auto pb-2",children:[d.jsx("button",{onClick:()=>B(-1),className:`hover:text-black font-bold flex items-center gap-1 ${ue===null?"text-black":""}`,children:"Home"}),S.map((W,ye)=>d.jsxs(rf.Fragment,{children:[d.jsx("span",{children:"/"}),d.jsx("button",{onClick:()=>B(ye),className:`hover:text-black font-bold whitespace-nowrap ${ye===S.length-1?"text-black":""}`,children:W.title})]},W.id))]}),d.jsxs(hn,{mode:"wait",children:[e==="my-notes"&&d.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:g?d.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading notes..."}):d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[ue&&d.jsxs("button",{onClick:E,className:"bg-gray-100/50 p-6 rounded-2xl border border-gray-200 border-dashed hover:bg-gray-100 transition-all flex flex-col items-center justify-center text-gray-400 gap-2 min-h-[11rem] cursor-pointer",children:[d.jsx(KB,{size:24}),d.jsx("span",{className:"font-bold text-sm",children:"Back"})]}),en.map(W=>d.jsxs("div",{onClick:()=>P(W),className:"bg-yellow-50 p-6 rounded-2xl border border-yellow-100 shadow-sm hover:shadow-md transition-all group relative min-h-[11rem] flex flex-col cursor-pointer",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-600 rounded-xl",children:d.jsx($E,{size:24})}),d.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:ye=>{ye.stopPropagation(),xe(W)},className:"p-2 text-gray-400 hover:text-black rounded-lg",title:"Rename",children:d.jsx(c0,{size:16})}),d.jsx("button",{onClick:ye=>{ye.stopPropagation(),ke(W)},className:"p-2 text-gray-400 hover:text-red-500 rounded-lg",title:"Delete",children:d.jsx(la,{size:16})})]})]}),d.jsx("h3",{className:"font-bold text-gray-900 truncate mt-auto",children:W.title}),d.jsx("p",{className:"text-xs text-gray-400",children:"Folder"})]},W.id)),dn.map(W=>d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all group relative min-h-[11rem] flex flex-col",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${W.type?.startsWith("image/")?"bg-blue-50 text-blue-500":"bg-red-50 text-red-500"}`,children:kt(W.type)}),d.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>xe(W),className:"p-2 text-gray-400 hover:text-black hover:bg-gray-50 rounded-lg",title:"Rename",children:d.jsx(c0,{size:16})}),d.jsx("button",{onClick:()=>tt(W),className:`p-2 rounded-lg ${W.isPublic?"text-green-500":"text-gray-400 hover:text-black"}`,children:W.isPublic?d.jsx(gz,{size:16}):d.jsx(xz,{size:16})}),d.jsx("button",{onClick:()=>ke(W),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:d.jsx(la,{size:16})})]})]}),d.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",title:W.title,children:W.title}),d.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:d.jsx("span",{children:Me(W.size)})}),d.jsxs("div",{className:"flex items-center justify-between mt-auto pt-2 border-t border-gray-50",children:[d.jsxs("button",{onClick:()=>J(W),className:"text-gray-400 hover:text-black flex items-center gap-1 text-xs font-bold transition-colors",children:[d.jsx(FE,{size:14})," Save"]}),d.jsxs("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm font-bold text-black hover:underline",children:["View ",d.jsx(HE,{size:14})]})]})]},W.id)),d.jsxs("div",{onClick:he,className:"hidden md:flex bg-gray-50 border-2 border-dashed border-gray-200 rounded-2xl flex-col items-center justify-center text-center p-6 min-h-[11rem] cursor-pointer hover:border-gray-300 hover:bg-gray-100 transition-all group",children:[d.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-400 mb-4 group-hover:scale-110 transition-transform shadow-sm",children:d.jsx(GE,{size:20})}),d.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"New Folder"})]}),d.jsx("div",{ref:ce,onDragEnter:ie,onDragLeave:ie,onDragOver:ie,onDrop:me,onClick:pe,className:`hidden md:flex border-2 border-dashed rounded-2xl flex-col items-center justify-center text-center p-6 min-h-[11rem] cursor-pointer transition-all duration-200 ${L?"border-black bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:_?d.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[d.jsx("div",{className:"w-full flex items-center justify-between text-xs font-bold uppercase text-gray-400 mb-1",children:d.jsxs("span",{children:[C,"%"]})}),d.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:d.jsx(be.div,{className:"h-full bg-black rounded-full",initial:{width:0},animate:{width:`${C}%`},transition:{duration:.2}})})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-400 mb-4 group-hover:scale-110 transition-transform",children:d.jsx(QE,{size:20})}),d.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Upload Here"})]})})]})},"my-notes"),e==="community"&&d.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:g?d.jsx("div",{className:"text-center py-20 text-gray-400",children:"Loading community notes..."}):f.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(W=>d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all h-56 flex flex-col",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:`p-3 rounded-xl ${W.type?.startsWith("image/")?"bg-blue-50 text-blue-500":"bg-red-50 text-red-500"}`,children:kt(W.type)}),d.jsx("div",{className:"p-2 text-gray-400",children:d.jsx(Fz,{size:18})})]}),d.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",title:W.title,children:W.title}),d.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:d.jsxs("span",{children:["by ",W.userName]})}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-6",children:[d.jsx("span",{children:Me(W.size)}),d.jsx("span",{children:""}),d.jsx("span",{children:new Date(W.createdAt).toLocaleDateString()})]}),d.jsxs("div",{className:"flex gap-2 mt-auto",children:[d.jsxs("button",{onClick:()=>J(W),className:"flex-1 py-3 bg-gray-100 text-black rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-200 transition-colors",children:[d.jsx(FE,{size:16})," Save"]}),d.jsxs("a",{href:W.url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-colors",children:[d.jsx(HE,{size:16})," View"]})]})]},W.id))}):d.jsx("div",{className:"text-center py-20 text-gray-400 italic",children:"No shared notes found. Share yours to get started!"})},"community")]})]})}const rR=({onGetStarted:t})=>{const[e,n]=G.useState(!1);G.useEffect(()=>{const l=()=>{n(window.scrollY>300)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return d.jsxs("div",{className:"min-h-screen bg-white text-black overflow-x-hidden selection:bg-black selection:text-white pb-10 md:pb-0",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[d.jsx("div",{className:"absolute top-[-5%] right-[-10%] w-[300px] md:w-[600px] h-[300px] md:h-[600px] bg-green-50 rounded-full blur-[80px] md:blur-[120px] opacity-60"}),d.jsx("div",{className:"absolute bottom-[-5%] left-[-10%] w-[250px] md:w-[500px] h-[250px] md:h-[500px] bg-gray-50 rounded-full blur-[80px] md:blur-[120px] opacity-60"})]}),d.jsxs("header",{className:"sticky top-0 z-50 bg-white/70 backdrop-blur-xl border-b border-gray-100/50 px-6 py-4 flex items-center justify-between md:hidden",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg shadow-lg shadow-black/10",children:d.jsx(Hu,{size:18})}),d.jsx("span",{className:"font-black text-xl tracking-tight",children:"Lets Try"})]}),d.jsx("button",{onClick:t,className:"text-sm font-bold bg-black text-white px-4 py-2 rounded-xl active:scale-95 transition-transform",children:"Join"})]}),d.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 sm:px-8 pt-10 md:pt-32 pb-10 md:pb-24",children:[d.jsxs(be.div,{variants:i,initial:"hidden",animate:"visible",className:"text-left md:text-center max-w-4xl mx-auto mb-20 md:mb-32",children:[d.jsxs(be.div,{variants:a,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 rounded-full mb-6 border border-green-100/50",children:[d.jsx("div",{className:"bg-green-600 text-white p-0.5 rounded-md",children:d.jsx(Qz,{size:10})}),d.jsx("span",{className:"text-[10px] md:text-xs font-bold text-green-700 uppercase tracking-wider",children:"The Intelligent Learning Era"})]}),d.jsxs(be.h1,{variants:a,className:"text-[44px] leading-[1.05] sm:text-7xl md:text-8xl font-black tracking-tighter text-gray-900 mb-6 md:mb-8",children:["Learn. Create. ",d.jsx("br",{}),d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-600 via-emerald-700 to-black",children:"Grow Together."})]}),d.jsx(be.p,{variants:a,className:"text-lg md:text-2xl text-gray-500 mb-10 max-w-xl md:mx-auto leading-tight md:leading-relaxed",children:"Master your subjects with collaborative quizzes, smart notes, and real-time discussions."}),d.jsx(be.div,{variants:a,className:"flex flex-col sm:flex-row items-start md:items-center justify-start md:justify-center gap-4",children:d.jsxs(be.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-full sm:w-auto px-10 py-5 bg-black text-white text-lg font-bold rounded-2xl shadow-2xl shadow-black/20 flex items-center justify-center gap-2 transition-all",children:["Get Started Free",d.jsx(is,{size:20})]})})]}),d.jsxs("div",{className:"space-y-4 md:hidden mb-10",children:[d.jsx("h2",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Core Features"}),d.jsx(iy,{icon:WE,title:"Instant Quizzes",desc:"Build or play 100+ quizzes.",color:"blue"}),d.jsx(iy,{icon:Zi,title:"Smart Library",desc:"Cloud notes with safe access.",color:"green"}),d.jsx(iy,{icon:YE,title:"Live Community",desc:"Real-time peer discussions.",color:"purple"})]}),d.jsxs(be.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"hidden md:grid grid-cols-3 gap-8 mb-32",children:[d.jsx(ry,{icon:WE,title:"Interactive Quizzes",desc:"Challenge yourself with community-created quizzes or build your own to master any subject.",color:"blue"}),d.jsx(ry,{icon:Zi,title:"Smart Notes Library",desc:"Organize your study materials securely in the cloud. Access your notes anytime, anywhere.",color:"green"}),d.jsx(ry,{icon:YE,title:"Real-time Community",desc:"Connect with peers, share knowledge, and chat in real-time to solve problems together.",color:"purple"})]})]}),d.jsx(hn,{children:e&&d.jsx(be.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-6 left-6 right-6 z-50 md:hidden",children:d.jsxs("button",{onClick:t,className:"w-full bg-black text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-2xl shadow-black/40 active:scale-95 transition-transform",children:["Quick Start ",d.jsx(is,{size:18})]})})}),d.jsx("footer",{className:"border-t border-gray-100 py-12 bg-gray-50/50",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 opacity-50",children:[d.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg",children:d.jsx(Hu,{size:16})}),d.jsx("span",{className:"font-bold text-lg tracking-tighter",children:"Lets Try"})]}),d.jsxs("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-widest",children:[" ",new Date().getFullYear()," Precision Learning"]})]})})]})},iy=({icon:t,title:e,desc:n,color:i})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600"};return d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4 active:bg-gray-50 transition-colors",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${a[i]}`,children:d.jsx(t,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-900",children:e}),d.jsx("p",{className:"text-xs text-gray-500",children:n})]})]})},ry=({icon:t,title:e,desc:n,color:i})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600"};return d.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border border-gray-100 shadow-xl hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 group",children:[d.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 ${a[i]}`,children:d.jsx(t,{size:32})}),d.jsx("h3",{className:"text-2xl font-bold mb-3",children:e}),d.jsx("p",{className:"text-gray-500 leading-relaxed",children:n})]})};function aR({onBack:t}){const{user:e}=ki(),[n,i]=G.useState(null),[a,l]=G.useState(!1),[u,f]=G.useState([]),[p,g]=G.useState([]),[x,_]=G.useState({isOpen:!1,type:null,data:null}),[T,C]=G.useState(""),[D,L]=G.useState([]),[M,q]=G.useState(!1),[Y,H]=G.useState(null),[ne,ce]=G.useState(null),[ue,R]=G.useState(!1),[S,I]=G.useState(""),j=G.useRef(),O=G.useRef(null);G.useEffect(()=>{if(!e)return;const P=vu(Fs(ht,"chats"),jy("participants","array-contains",e.uid),lT("updatedAt","desc")),E=hT(P,B=>{const J=B.docs.map(ie=>{const me=ie.data(),de=me.users?.find(pe=>pe.uid!==e.uid)||{name:"Unknown",uid:"unknown"};return{id:ie.id,...me,otherUser:de}});f(J),ce(null)},B=>{console.error("Error fetching chats (Likely missing index):",B),ce(B.message)});return()=>E()},[e]),G.useEffect(()=>{if(!n)return;const P=U(e.uid,n.uid),E=vu(Fs(ht,"chats",P,"messages"),lT("createdAt","asc")),B=hT(E,J=>{const ie=new Date,me=J.docs.map(de=>({id:de.id,...de.data()})).filter(de=>{if(de.expiresAt){const pe=de.expiresAt.toDate();if(ie>pe)return!1}return!0});g(me),l(!0)});return()=>B()},[n,e]),G.useEffect(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[p]);const U=(P,E)=>[P,E].sort().join("_"),N=async P=>{if(P.preventDefault(),H(null),console.log("Starting search for:",T),!!T.trim()){q(!0);try{const E=Fs(ht,"users"),B=vu(E);console.log("Fetching users...");const J=await Ef(B);console.log("Users fetched:",J.size);const ie=T.toLowerCase(),me=J.docs.map(de=>({uid:de.id,...de.data()})).filter(de=>de.uid!==e.uid&&(de.username?.toLowerCase()?.includes(ie)||de.name?.toLowerCase()?.includes(ie)||de.email?.toLowerCase()?.includes(ie)));console.log("Matches found:",me.length),L(me)}catch(E){console.error("Search failed:",E),H(E.message)}q(!1)}},fe=async P=>{C(""),L([]),q(!1),H(null),i(P),l(!0);const E=U(e.uid,P.uid),B=sn(ht,"chats",E);(await Py(B)).exists()?await ro(B,{[`unreadCounts.${e.uid}`]:0}):await setDoc(B,{participants:[e.uid,P.uid],users:[{uid:e.uid,name:e.name,username:e.username,photoURL:e.photoURL||null},{uid:P.uid,name:P.name,username:P.username,photoURL:P.photoURL||null}],createdAt:fl(),updatedAt:fl(),lastMessage:{text:"Chat started",senderId:"system",createdAt:new Date},unreadCounts:{[e.uid]:0,[P.uid]:0}})},De=async P=>{const E=P.target.files[0];if(!E||!n)return;R(!0);const B=U(e.uid,n.uid);try{const J=Vy(Uy,`chat-media/${B}/${Date.now()}_${E.name}`),ie=await y5(J,E),me=await F2(J),de=new Date;de.setHours(de.getHours()+24),await Lu(Fs(ht,"chats",B,"messages"),{text:"",mediaUrl:me,mediaType:E.type.startsWith("image/")?"image":"file",mediaName:E.name,expiresAt:_t.fromDate(de),createdAt:fl(),senderId:e.uid,senderName:e.name}),await ro(sn(ht,"chats",B),{lastMessage:{text:E.type.startsWith("image/")?" Image":"Cc File",senderId:e.uid,createdAt:new Date},updatedAt:fl(),[`unreadCounts.${n.uid}`]:dT(1)})}catch(J){console.error("Upload failed:",J),alert("Failed to send file: "+J.message)}R(!1),P.target.value=null},te=async P=>{if(P.preventDefault(),!S.trim()||!n||!e)return;const E=U(e.uid,n.uid),B=S.trim();I("");try{await Lu(Fs(ht,"chats",E,"messages"),{text:B,createdAt:fl(),senderId:e.uid,senderName:e.name}),await ro(sn(ht,"chats",E),{lastMessage:{text:B,senderId:e.uid,createdAt:new Date},updatedAt:fl(),[`unreadCounts.${n.uid}`]:dT(1)})}catch(J){console.error("Error sending message: ",J)}},he=P=>{_({isOpen:!0,type:"message",data:P})},xe=()=>{_({isOpen:!0,type:"chat",data:null})},Pe=async()=>{if(!n)return;const P=U(e.uid,n.uid);try{x.type==="message"?await Vu(sn(ht,"chats",P,"messages",x.data)):x.type==="chat"&&(await Vu(sn(ht,"chats",P)),i(null),l(!1))}catch(E){console.error(`Error deleting ${x.type}:`,E),alert(`Failed to delete ${x.type}.`)}};return d.jsxs("div",{className:"flex w-full h-[100dvh] md:h-[calc(100vh-73px)] bg-white border-t border-gray-100",children:[d.jsx(bm,{isOpen:x.isOpen,onClose:()=>_({...x,isOpen:!1}),onConfirm:Pe,title:x.type==="chat"?"Delete Chat?":"Delete Message?",message:x.type==="chat"?"Are you sure you want to delete this chat permanently? This creates a clean slate for both users.":"Are you sure you want to delete this message?",confirmText:"Delete"}),d.jsxs("div",{className:`${a?"hidden md:flex":"flex"} w-full md:w-[350px] flex-col border-r border-gray-100 bg-gray-50/50`,children:[d.jsx("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-white",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-gray-100 rounded-full",children:d.jsx(xo,{size:20})}),d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chats"})]})}),d.jsxs("div",{className:"p-4 bg-white border-b border-gray-100",children:[d.jsxs("form",{onSubmit:N,className:"relative flex items-center gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),d.jsx("input",{type:"text",placeholder:"Search username/email...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 border-none rounded-xl focus:ring-1 focus:ring-black text-sm",value:T,onChange:P=>C(P.target.value)})]}),d.jsx("button",{type:"submit",disabled:M,className:"p-2 bg-black text-white rounded-lg hover:bg-gray-800 disabled:opacity-50",children:d.jsx(ql,{size:18})})]}),Y&&d.jsxs("div",{className:"mt-2 text-xs text-red-500 bg-red-50 p-2 rounded border border-red-100 break-words",children:["Search Error: ",Y]}),ne&&d.jsxs("div",{className:"mt-2 text-xs text-orange-600 bg-orange-50 p-2 rounded border border-orange-100 break-words",children:[d.jsx("strong",{children:"Sidebar Error:"})," ",ne.includes("index")?"Missing Index":ne,d.jsx("br",{}),d.jsx("span",{className:"opacity-75",children:"Check console (F12) for the link to fix it."})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[T&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Search Results"}),D.length===0&&!M?d.jsx("p",{className:"px-4 text-sm text-gray-500",children:"No users found."}):D.map(P=>d.jsxs("button",{onClick:()=>fe(P),className:"w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-b border-gray-50 text-left group",children:[d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 group-hover:bg-black group-hover:text-white transition-colors",children:d.jsx(Ci,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-900",children:P.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:["@",P.username]})]})]},P.uid))]}),!T&&d.jsx(d.Fragment,{children:u.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400 text-center px-6",children:[d.jsx(co,{size:32,className:"mb-2 opacity-50"}),d.jsx("p",{className:"text-sm",children:"No conversations yet."}),d.jsx("p",{className:"text-xs mt-1",children:"Search for a username above to start chatting!"})]}):u.map(P=>{const E=P.unreadCounts?.[e.uid]||0,B=E>0;return d.jsxs("button",{onClick:()=>fe(P.otherUser),className:`w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-b border-gray-50 text-left ${n?.uid===P.otherUser.uid?"bg-white border-l-4 border-l-black":""}`,children:[d.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-gray-600 relative ${B?"border-2 border-green-500 bg-green-50":"border border-gray-200 bg-gray-100"}`,children:[d.jsx("span",{className:`font-bold text-lg ${B?"text-green-700":""}`,children:P.otherUser.name?.[0]?.toUpperCase()}),B&&d.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white translate-x-1 -translate-y-1"})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("h4",{className:`font-bold text-gray-900 truncate ${B?"text-black":""}`,children:P.otherUser.name}),d.jsx("span",{className:`text-[10px] ${B?"text-green-600 font-bold":"text-gray-400"}`,children:P.updatedAt?.seconds?new Date(P.updatedAt.seconds*1e3).toLocaleDateString():""})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`text-xs truncate max-w-[85%] ${B?"font-bold text-gray-900":"text-gray-500"}`,children:[P.lastMessage?.senderId===e.uid?"You: ":"",P.lastMessage?.text]}),B&&d.jsx("span",{className:"flex items-center justify-center bg-green-500 text-white text-[9px] font-bold rounded-full h-5 min-w-[20px] px-1",children:E})]})]})]},P.id)})})]})]}),d.jsx("div",{className:`${a?"flex":"hidden md:flex"} w-full flex-col bg-white relative`,children:n?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3 bg-white shadow-sm z-10 sticky top-0",children:[d.jsx("button",{onClick:()=>l(!1),className:"md:hidden p-2 hover:bg-gray-100 rounded-full",children:d.jsx(xo,{size:20})}),d.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center font-bold",children:n.name?.[0]?.toUpperCase()}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-900",children:n.name}),d.jsxs("p",{className:"text-xs text-green-500 font-bold flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Online"]})]}),d.jsx("button",{onClick:xe,className:"ml-auto p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Chat",children:d.jsx(la,{size:18})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white",children:[p.map((P,E)=>{const B=P.senderId===e.uid;return d.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${B?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[70%] px-4 py-2.5 rounded-2xl text-sm relative leading-relaxed ${B?"bg-black text-white rounded-br-sm":"bg-gray-100 text-gray-900 rounded-bl-sm"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 group/msg",children:[d.jsx("div",{className:"flex-1",children:P.mediaUrl?d.jsxs("div",{className:"mb-1",children:[P.mediaType==="image"?d.jsx("a",{href:P.mediaUrl,target:"_blank",rel:"noopener noreferrer",children:d.jsx("img",{src:P.mediaUrl,alt:"Shared",className:"rounded-lg max-w-full max-h-[200px] object-cover border border-black/10"})}):d.jsxs("a",{href:P.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 p-2 rounded-lg ${B?"bg-white/10":"bg-black/5"} hover:opacity-80 transition-opacity`,children:[d.jsx(l0,{size:20}),d.jsx("span",{className:"underline truncate max-w-[150px]",children:P.mediaName||"File"})]}),d.jsx("div",{className:"text-[10px] mt-1 opacity-75 flex items-center gap-1",children:" Expires in 24h"})]}):d.jsx("p",{children:P.text})}),B&&d.jsx("button",{onClick:()=>he(P.id),className:"opacity-100 md:opacity-0 md:group-hover/msg:opacity-100 p-1 text-red-400 hover:text-red-500 transition-opacity",title:"Delete",children:d.jsx(la,{size:12})})]}),d.jsx("p",{className:`text-[10px] text-right mt-1 opacity-60 ${B?"text-gray-300":"text-gray-500"}`,children:P.createdAt?.seconds?new Date(P.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"..."})]})},P.id)}),d.jsx("div",{ref:j})]}),d.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[d.jsx("input",{type:"file",ref:O,onChange:De,className:"hidden",accept:"image/*,application/pdf"}),d.jsxs("form",{onSubmit:te,className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>O.current?.click(),disabled:ue,className:"p-3 text-gray-500 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50",title:"Attach File (24h expiry)",children:ue?d.jsx("span",{className:"text-xs font-bold animate-pulse",children:"..."}):d.jsx(Nz,{size:20})}),d.jsx("input",{type:"text",className:"flex-1 py-3 px-5 bg-gray-50 border-transparent focus:bg-white focus:border-black rounded-full transition-all focus:ring-0",placeholder:"Type your message...",value:S,onChange:P=>I(P.target.value)}),d.jsx("button",{type:"submit",disabled:!S.trim(),className:"p-3 bg-black text-white rounded-full hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-transform hover:scale-105 active:scale-95",children:d.jsx(Bz,{size:20})})]})]})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:d.jsx(co,{size:40,className:"text-gray-300"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Messages"}),d.jsx("p",{className:"text-sm mt-2 max-w-xs text-center",children:"Select a chat from the left or search for a user to start a conversation."})]})})]})}const ay=({title:t,children:e})=>d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4 px-2",children:t}),d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:e})]}),Ya=({icon:t,label:e,value:n,type:i="arrow",onClick:a,isLast:l})=>d.jsxs("div",{onClick:i!=="toggle"?a:void 0,className:`flex items-center justify-between p-4 ${l?"":"border-b border-gray-50"} ${i!=="toggle"?"cursor-pointer hover:bg-gray-50 transition-colors":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:d.jsx(t,{size:20})}),d.jsx("span",{className:"font-medium text-gray-900",children:e})]}),i==="toggle"&&d.jsx("button",{onClick:a,className:`w-12 h-7 rounded-full p-1 flex items-center transition-colors duration-300 focus:outline-none ${n?"bg-black justify-end":"bg-gray-200 justify-start"}`,children:d.jsx(be.div,{layout:!0,className:"w-5 h-5 bg-white rounded-full shadow-sm",transition:{type:"spring",stiffness:500,damping:30}})}),i==="arrow"&&d.jsx(BB,{size:18,className:"text-gray-300"}),i==="value"&&d.jsx("span",{className:"text-sm text-gray-500",children:n})]}),oR=({onBack:t,onNavigate:e})=>{const{user:n,logout:i}=ki(),[a,l]=G.useState(!1),[u,f]=G.useState(!0),[p,g]=G.useState(!1);return d.jsxs(be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-2xl mx-auto pb-20",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsx("button",{onClick:t,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition-colors",children:d.jsx(xo,{size:20})}),d.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Settings"})]}),d.jsxs(ay,{title:"Account",children:[d.jsxs("div",{className:"p-6 flex items-center gap-4 border-b border-gray-50",children:[d.jsx("div",{className:"w-16 h-16 bg-black text-white rounded-full flex items-center justify-center font-bold text-2xl",children:n?.name?.charAt(0)||"U"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:n?.name||"User Name"}),d.jsx("p",{className:"text-gray-500 text-sm",children:n?.email||"user@example.com"})]}),d.jsx("button",{className:"ml-auto px-4 py-2 text-sm font-bold bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Edit"})]}),d.jsx(Ya,{icon:Ci,label:"Personal Information",isLast:!0,onClick:()=>alert("Full profile editing coming soon!")})]}),d.jsxs(ay,{title:"Preferences",children:[d.jsx(Ya,{icon:Az,label:"Dark Mode",type:"toggle",value:a,onClick:()=>l(!a)}),d.jsx(Ya,{icon:MB,label:"Push Notifications",type:"toggle",value:u,onClick:()=>f(!u)}),d.jsx(Ya,{icon:Kk,label:"Email Alerts",type:"toggle",value:p,isLast:!0,onClick:()=>g(!p)})]}),d.jsxs(ay,{title:"Support",children:[d.jsx(Ya,{icon:Yk,label:"Privacy Policy",onClick:()=>e&&e("privacy")}),d.jsx(Ya,{icon:fz,label:"Terms of Service",onClick:()=>e&&e("terms")}),d.jsx(Ya,{icon:$z,label:"App Version",type:"value",value:"v1.2.0",isLast:!0})]}),d.jsxs("div",{className:"mt-8",children:[d.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to logout?")&&i()},className:"w-full bg-red-50 text-red-600 font-bold p-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[d.jsx(Au,{size:20}),"Log Out"]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("p",{className:"text-xs text-gray-400",children:"Lets Try Inc.  2024"})})]})]})},lR=({onBack:t})=>d.jsxs(be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-3xl mx-auto pb-20 p-4",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsx("button",{onClick:t,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition-colors",children:d.jsx(xo,{size:20})}),d.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Privacy Policy"})]}),d.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-4 p-4 bg-green-50 rounded-2xl text-green-800 text-sm font-medium",children:[d.jsx(Yk,{className:"shrink-0",size:24}),d.jsx("p",{children:`Your privacy is important to us. We only collect what is necessary to provide the "Let's Try" experience.`})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"1. Information We Collect"}),d.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Account Information:"})," When you sign up, we collect your name and email address to create and secure your account."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"User Content:"})," We store the quizzes you create, the notes you upload (including files), and the messages you send in the Chat."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Activity Data:"})," We track your quiz scores and progress to provide you with your comprehensive history and statistics."]})]})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"2. How We Use Your Data"}),d.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["We use your information to:",d.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[d.jsx("li",{children:"Provide, maintain, and improve our services."}),d.jsx("li",{children:'Facilitate the "Community" features, such as sharing quizzes and public notes.'}),d.jsx("li",{children:"Enable real-time communication in the Chat feature."}),d.jsx("li",{children:"Calculate and display your performance analytics."})]})]})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"3. Sharing & Public Content"}),d.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[d.jsx("strong",{children:"Public Notes & Quizzes:"}),` If you verify/choose to make a note or quiz "Public", it becomes accessible to all users of the "Let's Try" platform. You can change this anytime.`]}),d.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[d.jsx("strong",{children:"Chat:"})," Messages sent in global chat rooms are visible to all current participants."]})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"4. Data Storage & Security"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We use Google Firebase for secure authentication and data storage. While we implement robust security measures, no method of transmission over the internet is 100% secure."})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"5. Your Rights"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"You have the right to access, update, or delete your personal information. You can delete specific notes, quizzes, or history items directly within the app. For full account deletion, please contact support or use the delete option in Settings (if available)."})]}),d.jsx("div",{className:"pt-8 border-t border-gray-100 text-sm text-gray-400",children:"Last Updated: December 2024"})]})]}),cR=({onBack:t})=>d.jsxs(be.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-3xl mx-auto pb-20 p-4",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsx("button",{onClick:t,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition-colors",children:d.jsx(xo,{size:20})}),d.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Terms of Service"})]}),d.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl text-gray-700 text-sm font-medium",children:[d.jsx(jf,{className:"shrink-0",size:24}),d.jsx("p",{children:`By using "Let's Try", you agree to these terms. Please read them carefully.`})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:`By accessing or using the "Let's Try" application, you agree to be bound by these Terms of Service. If you disagree with any part of the terms, you may not access the service.`})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"2. User Conduct"}),d.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["You are responsible for your use of the service. You agree NOT to:",d.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[d.jsx("li",{children:"Upload content that is illegal, offensive, or violates others' rights."}),d.jsx("li",{children:"Use the Chat feature to harass, abuse, or spam other users."}),d.jsx("li",{children:"Attempt to bypass security measures or reverse engineer the app."}),d.jsx("li",{children:"Share false or misleading information in Community quizzes/notes."})]})]})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"3. User Content & License"}),d.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[d.jsx("strong",{children:"Ownership:"})," You retain ownership of the notes and quizzes you create."]}),d.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[d.jsx("strong",{children:"License:"}),` By making content "Public", you grant "Let's Try" and its users a non-exclusive, royalty-free license to view, use, and share that content within the platform.`]})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"4. Service Availability"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:`We strive to keep "Let's Try" up and running, but provided on an "AS IS" basis. We are not liable for any data loss, service interruptions, or storage failures.`})]}),d.jsxs("section",{className:"space-y-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"5. Termination"}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We reserve the right to suspend or terminate your account at our sole discretion, without notice, for conduct that we believe violates these Terms or is harmful to other users."})]}),d.jsx("div",{className:"pt-8 border-t border-gray-100 text-sm text-gray-400",children:"Last Updated: December 2024"})]})]}),uR=({notification:t,onClose:e,onClick:n})=>(G.useEffect(()=>{if(t){const i=setTimeout(()=>{e()},5e3);return()=>clearTimeout(i)}},[t,e]),d.jsx(hn,{children:t&&d.jsxs(be.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:20,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:"fixed top-0 left-1/2 z-50 flex items-center gap-4 bg-white px-6 py-4 rounded-2xl shadow-2xl border border-gray-100 min-w-[320px] max-w-md cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>{n(),e()},children:[d.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(co,{size:20})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-bold text-gray-900 text-sm truncate",children:t.title}),d.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.body})]}),d.jsx("button",{onClick:i=>{i.stopPropagation(),e()},className:"p-1 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:d.jsx(vm,{size:16})})]})})),h8=JSON.parse(`[{"id":1,"question":"Which of the following conditions is NOT necessary for a deadlock to occur?","options":[{"key":"A","text":"Mutual Exclusion"},{"key":"B","text":"Hold and Wait"},{"key":"C","text":"No Preemption"},{"key":"D","text":"Starvation"}],"answer":"D","explanation":"Starvation is a scheduling issue where a process waits indefinitely, but it is not a prerequisite for a deadlock. For a deadlock to occur, four specific conditions must hold simultaneously: Mutual Exclusion, Hold and Wait, No Preemption, and Circular Wait."},{"id":2,"question":"In a paging system, if the page size is increased, what is the most likely effect on fragmentation?","options":[{"key":"A","text":"Internal fragmentation increases"},{"key":"B","text":"External fragmentation increases"},{"key":"C","text":"Internal fragmentation decreases"},{"key":"D","text":"No change in fragmentation"}],"answer":"A","explanation":"When page size increases, the average unused space in the last page of a process (which is rarely perfectly filled) also increases. This wasted space within an allocated block is called internal fragmentation."},{"id":3,"question":"Which disk scheduling algorithm is most likely to cause starvation for requests far from the current head position?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SSTF"},{"key":"C","text":"SCAN"},{"key":"D","text":"C-SCAN"}],"answer":"B","explanation":"Shortest Seek Time First prioritizes requests closest to the current disk head position. If a continuous stream of requests arrives near the current position, requests at the far ends of the disk may wait indefinitely (starvation)."},{"id":4,"question":"A system is in a safe state if:","options":[{"key":"A","text":"There are no deadlocks currently."},{"key":"B","text":"There is at least one process that can complete."},{"key":"C","text":"There exists a safe sequence of all processes."},{"key":"D","text":"The resource allocation graph has no cycles."}],"answer":"C","explanation":"A system is in a safe state only if the OS can allocate resources to each process in some specific order (a safe sequence) such that every process can eventually obtain its maximum needed resources and terminate."},{"id":5,"question":"Which component of the disk structure is responsible for the time it takes for the desired sector to rotate under the disk head?","options":[{"key":"A","text":"Seek Time"},{"key":"B","text":"Rotational Latency"},{"key":"C","text":"Transfer Rate"},{"key":"D","text":"Access Time"}],"answer":"B","explanation":"Disk access time is composed of Seek Time (moving the arm), Rotational Latency (waiting for the sector to spin under the head), and Transfer Time. Latency specifically refers to the rotation delay."},{"id":6,"question":"In the context of the Critical Section Problem, \\"Progress\\" means:","options":[{"key":"A","text":"No process waits forever."},{"key":"B","text":"If no process is executing in its critical section, the selection of the next process cannot be postponed indefinitely."},{"key":"C","text":"Processes must enter the critical section in a specific order."},{"key":"D","text":"The CPU is never idle."}],"answer":"B","explanation":"The \\"Progress\\" requirement ensures that if the critical section is free and processes wish to enter, the decision of who enters next cannot be delayed forever; the system must make a decision and proceed."},{"id":7,"question":"Thrashing occurs when:","options":[{"key":"A","text":"The CPU is utilized 100%."},{"key":"B","text":"The sum of the size of the working sets exceeds the total number of available frames."},{"key":"C","text":"The page fault rate is very low."},{"key":"D","text":"Processes have too many frames allocated."}],"answer":"B","explanation":"Thrashing happens when the OS spends more time swapping pages in and out than executing instructions. This occurs when the total memory required by active processes (working sets) is larger than physical RAM."},{"id":8,"question":"Which mechanism is used to determine where in memory a process should be loaded (e.g., First-fit, Best-fit)?","options":[{"key":"A","text":"Address Binding"},{"key":"B","text":"Contiguous Allocation"},{"key":"C","text":"Paging"},{"key":"D","text":"Dynamic Linking"}],"answer":"B","explanation":"First-fit, Best-fit, and Worst-fit are strategies used in Contiguous Memory Allocation to find a suitable \\"hole\\" or free block in main memory to place a process."},{"id":9,"question":"Beladys Anomaly is observed in which page replacement algorithm?","options":[{"key":"A","text":"LRU"},{"key":"B","text":"Optimal"},{"key":"C","text":"FIFO"},{"key":"D","text":"LFU"}],"answer":"C","explanation":"Beladys Anomaly is a phenomenon where increasing the number of page frames results in an increase in the number of page faults. This is specific to the First-In-First-Out (FIFO) replacement algorithm."},{"id":10,"question":"The Bankers Algorithm is used for:","options":[{"key":"A","text":"Deadlock Prevention"},{"key":"B","text":"Deadlock Avoidance"},{"key":"C","text":"Deadlock Detection"},{"key":"D","text":"Deadlock Recovery"}],"answer":"B","explanation":"The Bankers Algorithm is a Deadlock Avoidance strategy. It simulates resource allocation for every request to check if granting it would leave the system in a \\"Safe State.\\" If not, the request is denied or delayed."},{"id":11,"question":"In Segmentation, the logical address consists of:","options":[{"key":"A","text":"Page number and Offset"},{"key":"B","text":"Frame number and Offset"},{"key":"C","text":"Segment number and Offset"},{"key":"D","text":"Segment number and Page number"}],"answer":"C","explanation":"In segmentation, the user views memory as a collection of segments. The logical address is a tuple <segment-number, offset>, where the segment number indexes into the Segment Table to find the base address."},{"id":12,"question":"Which system call is typically used by a parent process to wait for the termination of a child process?","options":[{"key":"A","text":"fork()"},{"key":"B","text":"exec()"},{"key":"C","text":"wait()"},{"key":"D","text":"signal()"}],"answer":"C","explanation":"The wait() system call suspends the execution of the calling process (parent) until one of its children terminates. It allows the parent to synchronize with the child's completion and retrieve its exit status."},{"id":13,"question":"In the Access Matrix model of protection, the rows typically represent ______ and the columns represent ______.","options":[{"key":"A","text":"Objects, Domains"},{"key":"B","text":"Domains, Objects"},{"key":"C","text":"Files, Users"},{"key":"D","text":"Processes, Resources"}],"answer":"B","explanation":"In the Access Matrix model, rows represent Domains (users or processes with specific rights) and columns represent Objects (resources or files). The intersection defines the access rights a domain has over an object."},{"id":14,"question":"Which CPU scheduling algorithm allows a process to move between different queues based on its behavior (e.g., CPU bursts)?","options":[{"key":"A","text":"Round Robin"},{"key":"B","text":"FCFS"},{"key":"C","text":"Multilevel Feedback Queue"},{"key":"D","text":"Priority Scheduling"}],"answer":"C","explanation":"This algorithm allows processes to move between queues. If a process uses too much CPU time, it is moved to a lower-priority queue; if it waits too long (aging), it may be moved to a higher-priority queue."},{"id":15,"question":"TLB (Translation Lookaside Buffer) is used to:","options":[{"key":"A","text":"Store the entire page table."},{"key":"B","text":"Speed up logical-to-physical address translation."},{"key":"C","text":"Handle page faults."},{"key":"D","text":"Store frequently accessed disk sectors."}],"answer":"B","explanation":"The TLB is a fast, associative hardware cache inside the MMU. It stores recent virtual-to-physical address translations to avoid the performance penalty of accessing the page table in main memory for every instruction."},{"id":16,"question":"If a system uses C-SCAN disk scheduling, how does the disk head move?","options":[{"key":"A","text":"It moves back and forth, servicing requests in both directions."},{"key":"B","text":"It moves in one direction servicing requests, then jumps back to the beginning without servicing requests on the return."},{"key":"C","text":"It always moves to the closest request."},{"key":"D","text":"It services requests in the order of arrival."}],"answer":"B","explanation":"Circular SCAN (C-SCAN) treats the cylinders as a circular list. It services requests in only one direction to ensure a more uniform wait time, then essentially \\"rewinds\\" to the start immediately without servicing on the return trip."},{"id":17,"question":"Which of the following is true regarding User-level threads vs Kernel-level threads?","options":[{"key":"A","text":"User-level threads are slower to create."},{"key":"B","text":"If a user-level thread performs a blocking system call, the entire process will block."},{"key":"C","text":"The kernel is aware of all user-level threads."},{"key":"D","text":"User-level threads require hardware support."}],"answer":"B","explanation":"Since the OS kernel is unaware of user-level threads, it views the process as a single thread of execution. If that single kernel-thread blocks (e.g., waiting for I/O), the OS blocks the whole process, stopping all other user threads within it."},{"id":18,"question":"What is the main advantage of Dynamic Loading?","options":[{"key":"A","text":"A routine is not loaded until it is called, saving memory space."},{"key":"B","text":"It allows multiple processes to share code."},{"key":"C","text":"It prevents internal fragmentation."},{"key":"D","text":"It eliminates the need for relocation."}],"answer":"A","explanation":"Dynamic loading delays the loading of a subroutine until it is explicitly called during execution. This improves memory utilization because unused routines are never loaded into RAM."},{"id":19,"question":"In a Resource Allocation Graph, a cycle indicates a deadlock only if:","options":[{"key":"A","text":"There is a single instance of each resource type."},{"key":"B","text":"There are multiple instances of each resource type."},{"key":"C","text":"There is a single instance of each resource type (necessary and sufficient)."},{"key":"D","text":"The graph is disconnected."}],"answer":"A","explanation":"If every resource type has only one instance, a cycle in the Resource Allocation Graph implies a circular wait, which is both necessary and sufficient for a deadlock. If multiple instances exist, a cycle implies a deadlock is only possible."},{"id":20,"question":"Which page replacement algorithm usually provides the minimum page fault rate?","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"LRU"},{"key":"C","text":"Optimal"},{"key":"D","text":"Counting-based"}],"answer":"C","explanation":"The Optimal Page Replacement algorithm (OPT) replaces the page that will not be used for the longest period of time. It is a theoretical benchmark that guarantees the lowest possible page fault rate but requires future knowledge."},{"id":21,"question":"Context Switching is:","options":[{"key":"A","text":"Switching the CPU from user mode to kernel mode."},{"key":"B","text":"Storing the state of the current process and loading the saved state of a new process."},{"key":"C","text":"Swapping a process from memory to disk."},{"key":"D","text":"Changing the priority of a process."}],"answer":"B","explanation":"Context Switching is the overhead process of saving the Process Control Block (PCB) of the currently running process and restoring the PCB of the next process to be executed."},{"id":22,"question":"The \\"Working Set\\" model is based on the assumption of:","options":[{"key":"A","text":"Global replacement."},{"key":"B","text":"Random access patterns."},{"key":"C","text":"Locality of reference."},{"key":"D","text":"Pre-paging."}],"answer":"C","explanation":"The Working Set model relies on the principle of Locality of Reference, which states that processes tend to access a specific set of pages (a \\"locality\\") frequently during a specific time window."},{"id":23,"question":"Which method of handling deadlocks involves granting resources only if the allocation leaves the system in a safe state?","options":[{"key":"A","text":"Prevention"},{"key":"B","text":"Avoidance"},{"key":"C","text":"Detection"},{"key":"D","text":"Recovery"}],"answer":"B","explanation":"Deadlock Avoidance checks the system state before allocation. It only grants a resource request if the resulting state is \\"safe\\" (i.e., deadlock is mathematically impossible), preventing the system from entering an unsafe state."},{"id":24,"question":"Internal Fragmentation is a common issue in:","options":[{"key":"A","text":"Fixed Partitioning and Paging"},{"key":"B","text":"Dynamic Partitioning and Segmentation"},{"key":"C","text":"Segmentation only"},{"key":"D","text":"Demand Paging only"}],"answer":"A","explanation":"Internal fragmentation occurs when memory is allocated in fixed-sized blocks (like pages or fixed partitions). If a process needs less space than the block size, the remaining space inside that block is wasted."},{"id":25,"question":"The problem of starvation in priority scheduling can be resolved by:","options":[{"key":"A","text":"Context Switching"},{"key":"B","text":"Aging"},{"key":"C","text":"Swapping"},{"key":"D","text":"Round Robin"}],"answer":"B","explanation":"Aging is a technique where the priority of a process is gradually increased the longer it waits in the system. This prevents low-priority processes from being starved indefinitely by high-priority ones."},{"id":26,"question":"Which file access method is best suited for database applications where arbitrary records need to be accessed quickly?","options":[{"key":"A","text":"Sequential Access"},{"key":"B","text":"Direct/Random Access"},{"key":"C","text":"Indexed Sequential Access"},{"key":"D","text":"Contiguous Access"}],"answer":"B","explanation":"Direct access allows a program to jump to any logical record in a file immediately (like a CD track). This is essential for databases where users need to retrieve specific records without reading everything preceding them."},{"id":27,"question":"If the time quantum in Round Robin scheduling is extremely large, the algorithm degenerates into:","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SJF"},{"key":"C","text":"Priority Scheduling"},{"key":"D","text":"Multilevel Queue"}],"answer":"A","explanation":"In Round Robin, if the time quantum is infinitely large, the first process will finish its entire CPU burst before the timer interrupts. This behavior is identical to First-Come, First-Served (FCFS)."},{"id":28,"question":"Compaction is a solution for:","options":[{"key":"A","text":"Internal Fragmentation"},{"key":"B","text":"External Fragmentation"},{"key":"C","text":"Thrashing"},{"key":"D","text":"Deadlocks"}],"answer":"B","explanation":"Compaction (or defragmentation) shuffles memory contents to place all free memory together in one large block. This resolves external fragmentation, where total free memory is sufficient but scattered in small chunks."},{"id":29,"question":"A semaphore that can take any non-negative integer value is called a:","options":[{"key":"A","text":"Binary Semaphore"},{"key":"B","text":"Mutex"},{"key":"C","text":"Counting Semaphore"},{"key":"D","text":"Spinlock"}],"answer":"C","explanation":"A counting semaphore is a synchronization variable that can value range over an unrestricted domain (non-negative integers). It is typically used to control access to a resource that has multiple instances."},{"id":30,"question":"In Demand Paging, a page fault occurs when:","options":[{"key":"A","text":"The page is in memory but locked."},{"key":"B","text":"The requested page is not currently in memory."},{"key":"C","text":"The process tries to access a restricted memory area."},{"key":"D","text":"The TLB is full."}],"answer":"B","explanation":"A page fault is a hardware trap raised by the MMU when a program accesses a logical page that is marked \\"invalid\\" in the page table because it has not yet been loaded into physical RAM."},{"id":31,"question":"Logical address space is generated by:","options":[{"key":"A","text":"The CPU"},{"key":"B","text":"The MMU"},{"key":"C","text":"The OS kernel"},{"key":"D","text":"The Disk Controller"}],"answer":"A","explanation":"The CPU generates logical (virtual) addresses while executing a program. The Memory Management Unit (MMU) is the hardware component that translates these logical addresses into physical addresses."},{"id":32,"question":"Which of the following disk scheduling algorithms yields the lowest variance in response time?","options":[{"key":"A","text":"SSTF"},{"key":"B","text":"FCFS"},{"key":"C","text":"C-SCAN"},{"key":"D","text":"SCAN"}],"answer":"C","explanation":"C-SCAN provides a more uniform wait time compared to SCAN or SSTF. By servicing requests in only one direction, it prevents the bias against requests located at the far ends of the disk (reducing variance)."},{"id":33,"question":"To prevent a deadlock by denying the \\"Hold and Wait\\" condition, a system could:","options":[{"key":"A","text":"Preempt resources from a holding process."},{"key":"B","text":"Require a process to request and be allocated all its resources before execution begins."},{"key":"C","text":"Order resources numerically."},{"key":"D","text":"Use the Banker's Algorithm."}],"answer":"B","explanation":"This strategy invalidates the \\"Hold and Wait\\" condition. If a process must grab all resources at the start, it never holds some resources while waiting for others, effectively preventing deadlock."},{"id":34,"question":"The Dirty Bit in a page table entry indicates:","options":[{"key":"A","text":"The page is invalid."},{"key":"B","text":"The page is read-only."},{"key":"C","text":"The page has been modified since it was loaded into memory."},{"key":"D","text":"The page is currently in the TLB."}],"answer":"C","explanation":"The Dirty Bit (or modify bit) is set by hardware whenever a page is written to. If the bit is set, the page must be written back to the disk (swapped out) before the frame can be reused; otherwise, the changes are lost."},{"id":35,"question":"Which structure helps resolve the issue of very large page tables in systems with large logical address spaces?","options":[{"key":"A","text":"TLB"},{"key":"B","text":"Multi-level Paging (Hierarchical Paging)"},{"key":"C","text":"Inverted Page Table"},{"key":"D","text":"Hashed Page Table"}],"answer":"B","explanation":"Systems with large logical address spaces would require massive page tables that consume too much contiguous memory. Multi-level paging breaks the page table into smaller pieces (paging the page table), so only parts of it need to be in memory."},{"id":36,"question":"In the context of disk management, boot block stores:","options":[{"key":"A","text":"The file system structure."},{"key":"B","text":"The bootstrap loader program."},{"key":"C","text":"Bad blocks info."},{"key":"D","text":"The operating system kernel."}],"answer":"B","explanation":"The boot block (usually the first block of the disk) contains the initial bootstrap program. The hardware loads this code on startup, which then locates and loads the full Operating System kernel."},{"id":37,"question":"A system has 3 processes sharing 4 resources. If each process needs a maximum of 2 units, deadlock is:","options":[{"key":"A","text":"Inevitable."},{"key":"B","text":"Possible."},{"key":"C","text":"Impossible."}],"answer":"C","explanation":"Deadlock occurs if all processes are holding resources and waiting for more. With 3 processes and 4 resources, even if every process holds 1 resource (Total 3), there is 1 resource left. One process can take it, reach its max of 2, finish, and return the resources."},{"id":38,"question":"Inverted Page Tables map:","options":[{"key":"A","text":"Logical addresses to physical addresses directly."},{"key":"B","text":"Logical pages to physical frames per process."},{"key":"C","text":"Physical frame numbers to logical page numbers (PID + Page#)."},{"key":"D","text":"Disk blocks to memory frames."}],"answer":"C","explanation":"Standard page tables map Page to Frame. Inverted Page Tables map Frame to Page (and Process ID). There is only one entry per physical frame, which saves memory but necessitates searching the table."},{"id":39,"question":"The Wait-for graph is a deadlock detection method used for systems with:","options":[{"key":"A","text":"Multiple instances of each resource type."},{"key":"B","text":"Single instance of each resource type."},{"key":"C","text":"Preemptible resources only."},{"key":"D","text":"Infinite resources."}],"answer":"B","explanation":"A Wait-for graph is a collapsed version of the Resource Allocation Graph. It is only applicable for deadlock detection when there is a single instance of each resource type; a cycle in this graph confirms a deadlock."},{"id":40,"question":"If Effective Access Time = (1-p) x ma + p x (page fault time), what does 'p' represent?","options":[{"key":"A","text":"Probability of a TLB hit."},{"key":"B","text":"Process priority."},{"key":"C","text":"Page fault rate."},{"key":"D","text":"CPU utilization."}],"answer":"C","explanation":"The variable p represents the probability that a memory access results in a page fault. The formula calculates the weighted average of memory access time based on how often faults occur."},{"id":41,"question":"In Linked Allocation of files:","options":[{"key":"A","text":"Random access is extremely fast."},{"key":"B","text":"There is no external fragmentation."},{"key":"C","text":"Seeking to the middle of a file is efficient."},{"key":"D","text":"All pointers are stored in a central index block."}],"answer":"B","explanation":"In Linked Allocation, files are stored as a linked list of blocks, which can be scattered anywhere on the disk. This eliminates external fragmentation because any free block can be used to extend the file."},{"id":42,"question":"What is the primary benefit of using Overlays?","options":[{"key":"A","text":"Faster context switching."},{"key":"B","text":"Running a process that is larger than the available physical memory."},{"key":"C","text":"Reducing internal fragmentation."},{"key":"D","text":"Simplifying address binding."}],"answer":"B","explanation":"Overlays allow a process to run even if it is larger than physical memory by keeping only the instructions needed at that moment in memory. When a different phase of the program is needed, it overwrites (overlays) the previous one."},{"id":43,"question":"Which deadlock recovery method involves rolling back a process to a safe state?","options":[{"key":"A","text":"Process Termination"},{"key":"B","text":"Resource Preemption"},{"key":"C","text":"Checkpointing and Rollback"},{"key":"D","text":"Starvation"}],"answer":"C","explanation":"Deadlock recovery often involves rolling back a process. To do this, the system periodically saves the state (checkpoint). If a deadlock is detected, the process is reset to a previous safe checkpoint rather than being killed entirely."},{"id":44,"question":"Circular Wait can be prevented by:","options":[{"key":"A","text":"Using semaphores."},{"key":"B","text":"Imposing a total ordering of all resource types."},{"key":"C","text":"Using time-outs."},{"key":"D","text":"Using counting semaphores."}],"answer":"B","explanation":"This prevents Circular Wait. If resources are numbered (1, 2, 3...) and processes can only request resources in increasing order, a cycle cannot form."},{"id":45,"question":"In Paged Segmentation:","options":[{"key":"A","text":"The segment is divided into pages."},{"key":"B","text":"The pages are divided into segments."},{"key":"C","text":"Memory allocation is done by frames, avoiding external fragmentation."},{"key":"D","text":"It eliminates internal fragmentation entirely."}],"answer":"A","explanation":"Paged Segmentation combines both schemes. The logical address space is segmented to support user view/protection, but the linear segments themselves are divided into pages to simplify physical memory management and avoid external fragmentation."},{"id":46,"question":"Which disk scheduling algorithm performs better for systems with a heavy load?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SCAN / Elevator"},{"key":"C","text":"Random"},{"key":"D","text":"Prioritized"}],"answer":"B","explanation":"Under heavy load, FCFS performs poorly due to excessive arm movement. SCAN (Elevator algorithm) is more efficient because it sweeps across the disk servicing multiple requests in a single pass, maximizing throughput."},{"id":47,"question":"The Access Matrix can be implemented using:","options":[{"key":"A","text":"Global Table"},{"key":"B","text":"Access Control Lists (ACL) for objects"},{"key":"C","text":"Capability Lists for domains"},{"key":"D","text":"All of the above"}],"answer":"D","explanation":"The Access Matrix is an abstract model. It can be implemented physically using a Global Table (sparse), Access Control Lists (storing columns with objects), or Capability Lists (storing rows with domains)."},{"id":48,"question":"When does Address Binding happen at Load Time?","options":[{"key":"A","text":"If the process can be moved during execution."},{"key":"B","text":"If it is known at compile time where the process will reside."},{"key":"C","text":"If the compiler generates relocatable code and the binding is done when the program is loaded into memory."},{"key":"D","text":"During the execution of the machine code instruction."}],"answer":"C","explanation":"Load-time binding occurs when the compiler doesn't know the absolute address. It generates relocatable addresses (relative to 0), and the loader adds the starting address of the memory block when the program is loaded."},{"id":49,"question":"SSTF (Shortest Seek Time First) is essentially a form of ______ scheduling.","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"Round Robin"},{"key":"C","text":"SJF (Shortest Job First)"},{"key":"D","text":"Priority"}],"answer":"C","explanation":"SSTF is the disk-scheduling equivalent of Shortest Job First CPU scheduling. By selecting the request with the minimum seek time (shortest \\"job\\"), it reduces average service time but risks starvation for \\"long\\" jobs."},{"id":50,"question":"Global replacement in page replacement algorithms allows:","options":[{"key":"A","text":"A process to select a replacement frame from the set of all frames in the system."},{"key":"B","text":"A process to select only from its own allocated frames."},{"key":"C","text":"The OS to replace kernel pages only."},{"key":"D","text":"Replacement only when memory is completely full."}],"answer":"A","explanation":"Global replacement allows a process to \\"steal\\" a frame from another process if it needs one. This improves system throughput but means a process's execution time can vary based on the behavior of other processes."},{"id":51,"question":"Which of the following is an example of a Deadlock Prevention strategy?","options":[{"key":"A","text":"Banker's Algorithm"},{"key":"B","text":"Wait-For Graph"},{"key":"C","text":"Spooling everything (to avoid Hold and Wait on physical devices)"},{"key":"D","text":"Killing the youngest process"}],"answer":"C","explanation":"Spooling (Simultaneous Peripheral Operations On-Line) virtualizes devices. Instead of a process holding a physical printer (Mutual Exclusion), it writes to a disk file (spool). The daemon handles the printer, removing the deadlock condition regarding exclusive hardware access."},{"id":52,"question":"The time it takes to move the disk arm to the required cylinder is called:","options":[{"key":"A","text":"Seek Time"},{"key":"B","text":"Latency"},{"key":"C","text":"Transmission Time"},{"key":"D","text":"Response Time"}],"answer":"A","explanation":"Seek time is the mechanical delay required for the disk arm (actuator) to move the read/write head from its current position to the cylinder containing the desired data."},{"id":53,"question":"Copy-on-Write allows parent and child processes to share pages until:","options":[{"key":"A","text":"The child terminates."},{"key":"B","text":"The parent terminates."},{"key":"C","text":"Either process modifies a shared page."},{"key":"D","text":"The time quantum expires."}],"answer":"C","explanation":"Copy-on-Write (COW) is an optimization where parent and child share physical pages after a fork(). The OS only creates a copy of a page when one of the processes tries to write to it, conserving memory."},{"id":54,"question":"If a system has a 32-bit logical address and a 4KB page size, the page table will have approximately how many entries?","options":[{"key":"A","text":"32,000"},{"key":"B","text":"64,000"},{"key":"C","text":"1 Million ($2^{20}$)"},{"key":"D","text":"4 Billion"}],"answer":"C","explanation":"The number of entries = Total Logical Address Space / Page Size. Calculation: 2^32 / 2^12 = 2^20. 2^20 is approximately 1,000,000 entries (specifically 1,048,576)."},{"id":55,"question":"Which of the following is true about FAT (File Allocation Table)?","options":[{"key":"A","text":"It uses contiguous allocation."},{"key":"B","text":"It is a variation of linked allocation where links are stored in a separate table."},{"key":"C","text":"It supports no random access."},{"key":"D","text":"It is an inode-based system."}],"answer":"B","explanation":"The FAT system pulls the pointers out of the data blocks and stores them in a dedicated table at the beginning of the volume. This allows the OS to follow the chain without reading every data block, enabling faster access."},{"id":56,"question":"The Protection Domain determines:","options":[{"key":"A","text":"The priority of the process."},{"key":"B","text":"The set of access rights a process has."},{"key":"C","text":"The memory space of the process."},{"key":"D","text":"The CPU time allocated."}],"answer":"B","explanation":"A Protection Domain defines the boundaries within which a process operates. It specifies strictly which objects (files, hardware) the process can access and what operations (read, write, execute) it can perform on them."},{"id":57,"question":"Swap space management is primarily concerned with:","options":[{"key":"A","text":"Managing RAM."},{"key":"B","text":"Managing disk space used for moving processes out of main memory."},{"key":"C","text":"Managing CPU registers."},{"key":"D","text":"Managing cache memory."}],"answer":"B","explanation":"Swap space is a reserved area on the disk (or a file). When physical RAM is full, the OS moves inactive pages or entire processes to this swap space to free up RAM for active tasks."},{"id":58,"question":"Which algorithm handles the \\"Beladys Anomaly\\"?","options":[{"key":"A","text":"FIFO"},{"key":"B","text":"Stack-based algorithms (like LRU)"},{"key":"C","text":"Second-Chance"},{"key":"D","text":"Random"}],"answer":"B","explanation":"Stack algorithms satisfy the inclusion property: the set of pages in memory with N frames is always a subset of the pages in memory with N+1 frames. This mathematical property prevents Belady's Anomaly."},{"id":59,"question":"A Relocatable Code implies that:","options":[{"key":"A","text":"Physical addresses are generated at compile time."},{"key":"B","text":"Base registers are used to calculate physical addresses at runtime."},{"key":"C","text":"The code cannot be moved once loaded."},{"key":"D","text":"It uses absolute addressing."}],"answer":"B","explanation":"Relocatable code uses relative addressing. At runtime, the hardware adds the value of a relocation (base) register to every logical address generated to find the actual physical memory location."},{"id":60,"question":"The Wait and Signal operations of a semaphore are atomic. This means:","options":[{"key":"A","text":"They are executed very quickly."},{"key":"B","text":"They cannot be called recursively."},{"key":"C","text":"They cannot be interrupted."},{"key":"D","text":"They are implemented in user space."}],"answer":"C","explanation":"Atomicity is crucial for semaphores. If a process is executing a Wait or Signal operation, no other process can interrupt it or access the semaphore variable until the operation is fully complete, preventing race conditions."},{"id":61,"question":"Index Allocation (like inodes) solves the external fragmentation of Contiguous allocation and the poor direct access of Linked allocation by:","options":[{"key":"A","text":"Using a FAT."},{"key":"B","text":"Bringing all pointers together into an index block."},{"key":"C","text":"Using variable partition sizes."},{"key":"D","text":"Compressing the file."}],"answer":"B","explanation":"Indexed allocation gives each file an index block containing pointers to all its data blocks. This supports direct access (calculating the offset in the index block) and eliminates external fragmentation (blocks can be anywhere)."},{"id":62,"question":"If you want to ensure no process starves on a disk queue, you should avoid:","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"SCAN"},{"key":"C","text":"SSTF"},{"key":"D","text":"C-LOOK"}],"answer":"C","explanation":"SSTF creates a risk of starvation. If requests continue to arrive near the current head position, the disk arm will stay there to minimize seek time, ignoring requests at the other end of the disk indefinitely."},{"id":63,"question":"Which condition must hold for a Critical Section?","options":[{"key":"A","text":"Mutual Exclusion"},{"key":"B","text":"Preemption"},{"key":"C","text":"Deadlock"},{"key":"D","text":"Latency"}],"answer":"A","explanation":"For a Critical Section to function correctly, Mutual Exclusion is mandatory. It ensures that if process P is executing in its critical section, no other process can be executing in their corresponding critical sections."},{"id":64,"question":"Dynamic Linking is most useful for:","options":[{"key":"A","text":"Embedded systems."},{"key":"B","text":"Shared libraries (like .dll or .so files)."},{"key":"C","text":"Real-time systems."},{"key":"D","text":"Boot loaders."}],"answer":"B","explanation":"Dynamic linking keeps libraries separate on disk. Multiple programs can link to the same library file at runtime. This saves disk space and RAM, as one copy of the library code is shared in memory."},{"id":65,"question":"A \\"page fault\\" is an interrupt raised by:","options":[{"key":"A","text":"The Operating System."},{"key":"B","text":"The Hardware (MMU)."},{"key":"C","text":"The User Program."},{"key":"D","text":"The Disk Drive."}],"answer":"B","explanation":"A page fault is a hardware exception (trap). When the MMU tries to translate an address and finds the \\"Valid/Invalid\\" bit set to Invalid, it raises a hardware interrupt to tell the OS to fetch the page from disk."},{"id":66,"question":"Monitor is a high-level synchronization construct that:","options":[{"key":"A","text":"Uses spinlocks internally."},{"key":"B","text":"Ensures only one process can be active within the monitor at a time."},{"key":"C","text":"Is faster than semaphores."},{"key":"D","text":"Causes deadlocks easily."}],"answer":"B","explanation":"A Monitor is a high-level language construct. The compiler automatically injects the mutual exclusion logic, ensuring only one thread can execute code inside the monitor instance at any moment."},{"id":67,"question":"What is the main purpose of the SSTF algorithm?","options":[{"key":"A","text":"To minimize total head movement."},{"key":"B","text":"To ensure fairness."},{"key":"C","text":"To service the oldest request first."},{"key":"D","text":"To minimize CPU usage."}],"answer":"A","explanation":"The primary goal of Shortest Seek Time First (SSTF) is performance optimization. By always choosing the closest request, it reduces the total distance the disk arm travels, thereby reducing the average seek time."},{"id":68,"question":"In RAID, redundancy is used to improve:","options":[{"key":"A","text":"Speed."},{"key":"B","text":"Reliability."},{"key":"C","text":"Capacity."},{"key":"D","text":"Formatting time."}],"answer":"B","explanation":"RAID (Redundant Array of Independent Disks) levels like RAID 1 (Mirroring) or RAID 5 (Parity) use redundancy to ensure that if a single disk fails, the data can be recovered or operations can continue without data loss."},{"id":69,"question":"Which file attribute is NOT typically stored in the file control block (inode)?","options":[{"key":"A","text":"File size."},{"key":"B","text":"File owner."},{"key":"C","text":"File content."},{"key":"D","text":"Time of last modification."}],"answer":"C","explanation":"The File Control Block (FCB or inode) stores metadata about the file (permissions, owner, size, timestamps, and pointers to data blocks). It does not store the actual data/content of the file itself."},{"id":70,"question":"Pure Code (Reentrant Code) is:","options":[{"key":"A","text":"Code that modifies itself."},{"key":"B","text":"Code that can be shared by multiple processes simultaneously without modification."},{"key":"C","text":"Code that has no variables."},{"key":"D","text":"Code written in Assembly."}],"answer":"B","explanation":"Pure (Reentrant) code does not change during execution; it holds no static data. This allows multiple processes to execute the same memory block of code safely while keeping their own separate data/stack areas."},{"id":71,"question":"Look and C-Look are optimizations of SCAN that:","options":[{"key":"A","text":"Don't go to the physical end of the disk, only to the furthest request."},{"key":"B","text":"Move faster."},{"key":"C","text":"Use caching."},{"key":"D","text":"Prioritize reads over writes."}],"answer":"A","explanation":"Standard SCAN goes from end-to-end even if the last request is at 90. LOOK and C-LOOK optimize this by reversing direction immediately after serving the last request at 90, saving idle travel time."},{"id":72,"question":"Preemption is required for which type of scheduling?","options":[{"key":"A","text":"FCFS"},{"key":"B","text":"Round Robin"},{"key":"C","text":"Non-preemptive SJF"},{"key":"D","text":"Cooperative Scheduling"}],"answer":"B","explanation":"Round Robin is inherently preemptive. It relies on a timer interrupt (time quantum). When the time is up, the OS forcibly takes the CPU away from the current process and gives it to the next one."},{"id":73,"question":"Peterson's Solution is a software-based solution for:","options":[{"key":"A","text":"Deadlock recovery."},{"key":"B","text":"Critical Section problem for 2 processes."},{"key":"C","text":"Memory fragmentation."},{"key":"D","text":"Disk scheduling."}],"answer":"B","explanation":"Petersons Solution is a classic algorithmic solution that provides Mutual Exclusion, Progress, and Bounded Waiting for two processes using two shared variables (turn and flag) without special hardware instructions."},{"id":74,"question":"If the page size is too small:","options":[{"key":"A","text":"The page table becomes very large."},{"key":"B","text":"Internal fragmentation increases."},{"key":"C","text":"Access time decreases."},{"key":"D","text":"Thrashing is eliminated."}],"answer":"A","explanation":"If pages are tiny (e.g., 256 bytes), a large memory space will be divided into millions of pages. This requires a massive page table to map them all, wasting memory on management overhead."},{"id":75,"question":"Safe Sequence <P1,P2,P3> implies:","options":[{"key":"A","text":"P1 must finish before P2 starts."},{"key":"B","text":"System can allocate resources to P1, then wait for P1 to finish/release, then satisfy P2, and so on."},{"key":"C","text":"P3 holds the most resources."},{"key":"D","text":"There is no circular wait."}],"answer":"B","explanation":"A safe sequence ensures that P1 can finish with currently available resources. Once P1 finishes, it returns its resources, whichadded to the available poolare enough to let P2 finish, and so on."},{"id":76,"question":"Contiguous Memory Allocation suffers primarily from:","options":[{"key":"A","text":"Internal Fragmentation."},{"key":"B","text":"External Fragmentation."},{"key":"C","text":"Page Faults."},{"key":"D","text":"Slow Access Time."}],"answer":"B","explanation":"Contiguous allocation requires a continuous block of memory. As processes are loaded and removed, free memory becomes broken into small, non-contiguous holes that are too small to be useful individually."},{"id":77,"question":"Which structure allows a large logical address space to be mapped to a smaller physical memory?","options":[{"key":"A","text":"Overlays."},{"key":"B","text":"Segmentation."},{"key":"C","text":"Virtual Memory (Paging)."},{"key":"D","text":"DMA."}],"answer":"C","explanation":"Virtual memory separates logical memory from physical memory. It allows a program to have a logical address space much larger than actual RAM by only keeping the currently needed pages in physical memory."},{"id":78,"question":"A Race Condition occurs when:","options":[{"key":"A","text":"Two processes read the same data."},{"key":"B","text":"The outcome of execution depends on the specific order in which access takes place."},{"key":"C","text":"One process is faster than the other."},{"key":"D","text":"A process dies unexpectedly."}],"answer":"B","explanation":"A race condition happens when multiple processes access and manipulate shared data concurrently. The final value of the data depends on the luck of the scheduling order, leading to bugs."},{"id":79,"question":"In Capability Lists:","options":[{"key":"A","text":"Each process has a list of objects it can access."},{"key":"B","text":"Each object has a list of processes that can access it."},{"key":"C","text":"There is a central matrix."},{"key":"D","text":"Access is public."}],"answer":"A","explanation":"In a Capability List implementation of the Access Matrix, the matrix is decomposed by row. Each process (domain) carries a list of \\"capabilities\\" (like tickets or keys) for the objects it is allowed to touch."},{"id":80,"question":"Memory Mapped I/O means:","options":[{"key":"A","text":"I/O devices have their own dedicated bus."},{"key":"B","text":"Device control registers are mapped into the memory address space of the processor."},{"key":"C","text":"I/O is handled only by the kernel."},{"key":"D","text":"Files are always loaded into RAM."}],"answer":"B","explanation":"Memory Mapped I/O allows the CPU to control hardware devices using standard memory instructions (like Load/Store) by assigning specific memory addresses to device registers, rather than using special I/O instructions."},{"id":81,"question":"Counting Semaphores are initialized to:","options":[{"key":"A","text":"0"},{"key":"B","text":"1"},{"key":"C","text":"The number of available resources."},{"key":"D","text":"-1"}],"answer":"C","explanation":"A counting semaphore is used to track available instances of a resource. It is initialized to the total count (e.g., 5 printers). Wait decrements the count; Signal increments it."},{"id":82,"question":"The seek time is the time to move the arm, and rotational latency is the time for the sector to rotate. The sum of these plus transfer time is:","options":[{"key":"A","text":"Throughput."},{"key":"B","text":"Disk Access Time."},{"key":"C","text":"Bus Latency."},{"key":"D","text":"Response Time."}],"answer":"B","explanation":"The total time to satisfy a disk request is the sum of getting to the right place (Seek Time + Rotational Latency) and the actual time to read the data (Transfer Time)."},{"id":83,"question":"Which is a technique to avoid External Fragmentation without using paging?","options":[{"key":"A","text":"Compaction"},{"key":"B","text":"Swapping"},{"key":"C","text":"Zoning"},{"key":"D","text":"Formatting"}],"answer":"A","explanation":"Compaction is the only way to fix external fragmentation in contiguous systems without changing the architecture. It physically moves memory contents to push all free space to one end, creating one large usable block."},{"id":84,"question":"FCFS disk scheduling is generally:","options":[{"key":"A","text":"Fair but performs poorly."},{"key":"B","text":"Unfair and performs poorly."},{"key":"C","text":"Optimal."},{"key":"D","text":"Complex to implement."}],"answer":"A","explanation":"FCFS is fair because it strictly follows the order of arrival (no starvation). However, it does not optimize for seek time, leading to \\"wild\\" swings of the disk arm and slow performance."},{"id":85,"question":"In a system using RR Scheduling, if a process is I/O bound, it will:","options":[{"key":"A","text":"Use its full time quantum."},{"key":"B","text":"Relinquish the CPU voluntarily before the quantum expires."},{"key":"C","text":"Be moved to a lower priority queue."},{"key":"D","text":"Cause a deadlock."}],"answer":"B","explanation":"I/O bound processes spend little time computing. They will issue an I/O request quickly and block themselves (give up the CPU) long before their time quantum runs out, leading to short CPU bursts."},{"id":86,"question":"Safe State is ______ condition for deadlock freedom.","options":[{"key":"A","text":"A Necessary"},{"key":"B","text":"A Sufficient"},{"key":"C","text":"Not a related"},{"key":"D","text":"An equivalent"}],"answer":"B","explanation":"If a system is in a Safe State, it is guaranteed that no deadlock exists. Therefore, being in a safe state is sufficient to prove the system is deadlock-free."},{"id":87,"question":"Which of the following allows a file to be distributed across different disks?","options":[{"key":"A","text":"Linked Allocation"},{"key":"B","text":"Contiguous Allocation"},{"key":"C","text":"Striping (RAID)"},{"key":"D","text":"Inode"}],"answer":"C","explanation":"Disk striping divides data into blocks and spreads them across multiple physical disks (RAID 0). This allows parallel reading/writing, improving performance, and creating a file system larger than a single disk."},{"id":88,"question":"If a process attempts to access a page that is not in its address space (invalid reference), the OS handles this by:","options":[{"key":"A","text":"Loading the page."},{"key":"B","text":"Ignoring it."},{"key":"C","text":"Terminating the process (Segmentation Fault)."},{"key":"D","text":"Waiting."}],"answer":"C","explanation":"If a process tries to access a logical address that is not mapped in its page table (not part of its allocated address space), it is an illegal access. The OS traps this error and terminates the process."},{"id":89,"question":"Working Set is defined as the set of pages referenced in the most recent:","options":[{"key":"A","text":"Time quantum."},{"key":"B","text":"Delta ($\\\\Delta$) time units."},{"key":"C","text":"Process lifetime."},{"key":"D","text":"Critical section."}],"answer":"B","explanation":"The Working Set model looks at the most recent Delta time references. The set of unique pages accessed during this time window is considered the process's current \\"Working Set.\\""},{"id":90,"question":"Base and Limit registers define:","options":[{"key":"A","text":"The logical address space of a process."},{"key":"B","text":"The physical memory size."},{"key":"C","text":"The disk capacity."},{"key":"D","text":"The page table size."}],"answer":"A","explanation":"In contiguous allocation, the Base register holds the smallest physical address, and the Limit register holds the size of the range. Together, they define and protect the process's logical address space."},{"id":91,"question":"Bit Vector is a common method for:","options":[{"key":"A","text":"Page replacement."},{"key":"B","text":"Free space management on disk."},{"key":"C","text":"Deadlock detection."},{"key":"D","text":"Process scheduling."}],"answer":"B","explanation":"A Bit Vector (or Bit Map) is a compact way to track free disk blocks. Each block is represented by 1 bit (0 for allocated, 1 for free). This allows the OS to quickly find free blocks."},{"id":92,"question":"The Dispatcher is the module that:","options":[{"key":"A","text":"Selects the process to run."},{"key":"B","text":"Gives control of the CPU to the process selected by the short-term scheduler."},{"key":"C","text":"Moves processes to disk."},{"key":"D","text":"Handles interrupts."}],"answer":"B","explanation":"The Scheduler decides who runs next. The Dispatcher is the mechanism that actually switches to that process (performing context switch, switching to user mode, and jumping to the instruction)."},{"id":93,"question":"Priority Inversion can be solved by:","options":[{"key":"A","text":"Disabling interrupts."},{"key":"B","text":"Priority Inheritance Protocol."},{"key":"C","text":"Killing the low-priority process."},{"key":"D","text":"Using FCFS."}],"answer":"B","explanation":"Priority Inversion happens when a low-priority task holds a lock needed by a high-priority task. Priority Inheritance temporarily raises the priority of the lock-holder to that of the waiter, so it can finish and release the lock faster."},{"id":94,"question":"Spinlocks are useful in:","options":[{"key":"A","text":"Single-processor systems."},{"key":"B","text":"Multi-processor systems (for short waits)."},{"key":"C","text":"I/O bound processes."},{"key":"D","text":"Long critical sections."}],"answer":"B","explanation":"Spinlocks cause the CPU to \\"busy wait\\". On a single core, this wastes time. On multicore systems, if the wait is short, spinning is cheaper than the overhead of a context switch."},{"id":95,"question":"In Indexed Allocation, the max file size depends on:","options":[{"key":"A","text":"Disk size."},{"key":"B","text":"The number of pointers in the index block."},{"key":"C","text":"RAM size."},{"key":"D","text":"The file name."}],"answer":"B","explanation":"In standard Indexed Allocation, the file size is limited by how many block pointers fit inside the single index block."},{"id":96,"question":"Which is false about threads?","options":[{"key":"A","text":"They share the code section."},{"key":"B","text":"They share open files."},{"key":"C","text":"They share the stack."},{"key":"D","text":"They share data section."}],"answer":"C","explanation":"Threads within the same process share the code segment, data segment, and OS resources. However, each thread must have its own stack to manage its own function calls and local variables."},{"id":97,"question":"The Bootstrap program is typically stored in:","options":[{"key":"A","text":"RAM."},{"key":"B","text":"ROM or EEPROM."},{"key":"C","text":"Hard Disk (Sector 100)."},{"key":"D","text":"Cache."}],"answer":"B","explanation":"The bootstrap program runs when the computer is first turned on. Since RAM is volatile, this initial code must be stored in non-volatile memory like ROM or firmware (BIOS/UEFI)."},{"id":98,"question":"Shortest Job First (SJF) is optimal in terms of:","options":[{"key":"A","text":"Throughput."},{"key":"B","text":"Minimum average waiting time."},{"key":"C","text":"Fairness."},{"key":"D","text":"CPU utilization."}],"answer":"B","explanation":"SJF is mathematically proven to provide the lowest possible average waiting time for a given set of processes because it clears the queue of short tasks quickly."},{"id":99,"question":"A system has 4 processes and 3 resource types. To ensure deadlock freedom using the Banker's algorithm, we must check the:","options":[{"key":"A","text":"Need Matrix vs Available Vector."},{"key":"B","text":"Allocation Matrix vs Max Matrix."},{"key":"C","text":"Hold count."},{"key":"D","text":"Wait queue length."}],"answer":"A","explanation":"The Banker's Algorithm checks safety by comparing the Need (Max - Allocation) of a process against the currently Available resources. If Available >= Need, the process can theoretically finish."},{"id":100,"question":"File System consistency checks (like fsck or chkdsk) compare:","options":[{"key":"A","text":"Data in memory vs Disk."},{"key":"B","text":"Directory structure vs the actual blocks allocated on disk."},{"key":"C","text":"User permissions."},{"key":"D","text":"File names."}],"answer":"B","explanation":"Consistency checkers ensure the file system metadata is valid. They check if a block is marked as \\"used\\" in the free-space list but not claimed by any file in the directory structure."}]`),pl=(t,e)=>{let n=[...t];for(;n.length<e;){const i=t.map((a,l)=>({...a,id:n.length+l+1}));n=[...n,...i]}return n.slice(0,e)},d8=[{id:1,question:"What does ACID stand for in DBMS?",options:[{key:"A",text:"Atomicity, Consistency, Isolation, Durability"},{key:"B",text:"Atomicity, Consistency, Integrity, Durability"},{key:"C",text:"Accuracy, Consistency, Isolation, Durability"},{key:"D",text:"Atomicity, Concurrency, Isolation, Durability"}],answer:"A",explanation:"ACID properties (Atomicity, Consistency, Isolation, Durability) guarantee that database transactions are processed reliably."},{id:2,question:"Which key uniquely identifies a record in a table?",options:[{key:"A",text:"Foreign Key"},{key:"B",text:"Primary Key"},{key:"C",text:"Secondary Key"},{key:"D",text:"Alternate Key"}],answer:"B",explanation:"A Primary Key is a minimal set of attributes that uniquely identifies a specific tuple (row) in a relation (table)."},{id:3,question:"What is Normalization used for?",options:[{key:"A",text:"To add redundancy"},{key:"B",text:"To reduce redundancy and dependency"},{key:"C",text:"To increase query speed"},{key:"D",text:"To backup data"}],answer:"B",explanation:"Normalization is the process of organizing data to minimize redundancy and prevent update anomalies."},{id:4,question:"Which SQL command is used to remove a table from the database?",options:[{key:"A",text:"DELETE"},{key:"B",text:"REMOVE"},{key:"C",text:"DROP"},{key:"D",text:"TRUNCATE"}],answer:"C",explanation:"DROP TABLE deletes the table structure and all its data. DELETE removes rows, TRUNCATE removes all rows but keeps structure."},{id:5,question:"A relationship where one record refers to many records in another table is:",options:[{key:"A",text:"One-to-One"},{key:"B",text:"Many-to-Many"},{key:"C",text:"One-to-Many"},{key:"D",text:"None of the above"}],answer:"C",explanation:"One-to-Many relationship is the most common type, where a single record in Table A is related to multiple records in Table B."},{id:6,question:"Which level of RAID provides disk mirroring?",options:[{key:"A",text:"RAID 0"},{key:"B",text:"RAID 1"},{key:"C",text:"RAID 5"},{key:"D",text:"RAID 10"}],answer:"B",explanation:"RAID 1 consists of an exact copy (or mirror) of a set of data on two or more disks."},{id:7,question:"In E-R diagram, a rectangle represents:",options:[{key:"A",text:"Attribute"},{key:"B",text:"Relationship"},{key:"C",text:"Entity Set"},{key:"D",text:"Key"}],answer:"C",explanation:"A rectangle represents an entity set in an E-R diagram."},{id:8,question:"Which operation is used to select specific columns from a table?",options:[{key:"A",text:"Selection"},{key:"B",text:"Projection"},{key:"C",text:"Join"},{key:"D",text:"Union"}],answer:"B",explanation:"Projection (Pi) is used to select specific columns (attributes) from a relation."},{id:9,question:"A transaction that has not completed is called:",options:[{key:"A",text:"Aborted"},{key:"B",text:"Active"},{key:"C",text:"Committed"},{key:"D",text:"Partially Committed"}],answer:"B",explanation:"A transaction is in the Active state while it is executing."},{id:10,question:"BCNF stands for:",options:[{key:"A",text:"Basic Codd Normal Form"},{key:"B",text:"Boyce-Codd Normal Form"},{key:"C",text:"Binary Codd Normal Form"},{key:"D",text:"Basic Column Normal Form"}],answer:"B",explanation:"BCNF is a stricter version of 3NF."}],f8=[{id:1,question:"Layer responsible for routing?",options:[{key:"A",text:"Data Link"},{key:"B",text:"Network"},{key:"C",text:"Transport"},{key:"D",text:"Session"}],answer:"B",explanation:"The Network Layer is responsible for routing."},{id:2,question:"IPv4 address size?",options:[{key:"A",text:"32 bits"},{key:"B",text:"64 bits"},{key:"C",text:"128 bits"},{key:"D",text:"256 bits"}],answer:"A",explanation:"IPv4 addresses are 32 bits long."},{id:3,question:"Default HTTP port?",options:[{key:"A",text:"21"},{key:"B",text:"443"},{key:"C",text:"80"},{key:"D",text:"25"}],answer:"C",explanation:"HTTP uses port 80."},{id:4,question:"Protocol for sending email?",options:[{key:"A",text:"POP3"},{key:"B",text:"IMAP"},{key:"C",text:"SMTP"},{key:"D",text:"HTTP"}],answer:"C",explanation:"SMTP is for sending; POP3/IMAP for receiving."},{id:5,question:"Layer 2 device?",options:[{key:"A",text:"Hub"},{key:"B",text:"Switch"},{key:"C",text:"Router"},{key:"D",text:"Repeater"}],answer:"B",explanation:"A Switch operates at the Data Link Layer (Layer 2)."},{id:6,question:"Which protocol is connectionless?",options:[{key:"A",text:"TCP"},{key:"B",text:"UDP"},{key:"C",text:"FTP"},{key:"D",text:"HTTP"}],answer:"B",explanation:"UDP is a connectionless protocol."},{id:7,question:"What is MAC?",options:[{key:"A",text:"Media Access Control"},{key:"B",text:"Memory Access Control"},{key:"C",text:"Main Access Control"},{key:"D",text:"Media Address Code"}],answer:"A",explanation:"MAC stands for Media Access Control."},{id:8,question:"Which command checks connectivity?",options:[{key:"A",text:"ipconfig"},{key:"B",text:"ping"},{key:"C",text:"netstat"},{key:"D",text:"nslookup"}],answer:"B",explanation:"Ping checks connectivity using ICMP."},{id:9,question:"DNS maps names to:",options:[{key:"A",text:"MAC Addresses"},{key:"B",text:"IP Addresses"},{key:"C",text:"Ports"},{key:"D",text:"URLs"}],answer:"B",explanation:"DNS maps domain names to IP addresses."},{id:10,question:"Fastest topology?",options:[{key:"A",text:"Bus"},{key:"B",text:"Ring"},{key:"C",text:"Star"},{key:"D",text:"Mesh"}],answer:"D",explanation:"Mesh topology is most robust but expensive; Star is most common and fast."}],m8=[{id:1,question:"Deriving properties from another class?",options:[{key:"A",text:"Polymorphism"},{key:"B",text:"Encapsulation"},{key:"C",text:"Inheritance"},{key:"D",text:"Abstraction"}],answer:"C",explanation:"Inheritance."},{id:2,question:"Same function name, different params?",options:[{key:"A",text:"Overriding"},{key:"B",text:"Overloading"},{key:"C",text:"Encapsulation"},{key:"D",text:"Detailed"}],answer:"B",explanation:"Function Overloading."},{id:3,question:"Hiding implementation details?",options:[{key:"A",text:"Encapsulation"},{key:"B",text:"Abstraction"},{key:"C",text:"Inheritance"},{key:"D",text:"Polymorphism"}],answer:"B",explanation:"Abstraction."},{id:4,question:"Private members accessible where?",options:[{key:"A",text:"Anywhere"},{key:"B",text:"Within same class"},{key:"C",text:"Derived classes"},{key:"D",text:"Same package"}],answer:"B",explanation:"Only inside the defining class."},{id:5,question:"Instance of a class?",options:[{key:"A",text:"Object"},{key:"B",text:"Method"},{key:"C",text:"Variable"},{key:"D",text:"Pointer"}],answer:"A",explanation:"An Object."},{id:6,question:"Wrapping data and code?",options:[{key:"A",text:"Abstraction"},{key:"B",text:"Encapsulation"},{key:"C",text:"Polymorphism"},{key:"D",text:"Interpolation"}],answer:"B",explanation:"Encapsulation."},{id:7,question:"Runtime Polymorphism uses?",options:[{key:"A",text:"Overloading"},{key:"B",text:"Overriding"},{key:"C",text:"Constructor"},{key:"D",text:"Destructor"}],answer:"B",explanation:"Method Overriding is runtime polymorphism."},{id:8,question:"Pure virtual function makes a class?",options:[{key:"A",text:"Static"},{key:"B",text:"Abstract"},{key:"C",text:"Final"},{key:"D",text:"Public"}],answer:"B",explanation:"A class with a pure virtual function is Abstract."},{id:9,question:"Does Java support multiple inheritance?",options:[{key:"A",text:"Yes"},{key:"B",text:"No"},{key:"C",text:"Through classes"},{key:"D",text:"Through pointers"}],answer:"B",explanation:"Java supports multiple inheritance only through Interfaces."},{id:10,question:"Constructor name must match?",options:[{key:"A",text:"File name"},{key:"B",text:"Class name"},{key:"C",text:"Package name"},{key:"D",text:"Object name"}],answer:"B",explanation:"Constructor matches Class name."}],p8=[{id:1,question:"Runs Java programs?",options:[{key:"A",text:"JVM"},{key:"B",text:"JDK"},{key:"C",text:"JRE"},{key:"D",text:"JIT"}],answer:"C",explanation:"JRE."},{id:2,question:"Size of int?",options:[{key:"A",text:"8 bit"},{key:"B",text:"16 bit"},{key:"C",text:"32 bit"},{key:"D",text:"64 bit"}],answer:"C",explanation:"32 bit."},{id:3,question:"No explicit pointers in Java?",options:[{key:"A",text:"True"},{key:"B",text:"False"},{key:"C",text:"Maybe"},{key:"D",text:"Sometimes"}],answer:"A",explanation:"True, for security."},{id:4,question:"Constant keyword?",options:[{key:"A",text:"const"},{key:"B",text:"static"},{key:"C",text:"final"},{key:"D",text:"var"}],answer:"C",explanation:"final."},{id:5,question:"Divide by Zero exception?",options:[{key:"A",text:"NullPointer"},{key:"B",text:"Arithmetic"},{key:"C",text:"NumberFormat"},{key:"D",text:"IO"}],answer:"B",explanation:"ArithmeticException."},{id:6,question:"Entry point of program?",options:[{key:"A",text:"start()"},{key:"B",text:"main()"},{key:"C",text:"run()"},{key:"D",text:"init()"}],answer:"B",explanation:"public static void main(String[] args)."},{id:7,question:"Is Java platform independent?",options:[{key:"A",text:"Yes"},{key:"B",text:"No"},{key:"C",text:"Only on Windows"},{key:"D",text:"Only on Linux"}],answer:"A",explanation:"Yes, Write Once Run Anywhere (WORA)."},{id:8,question:"Superclass of all?",options:[{key:"A",text:"Class"},{key:"B",text:"Object"},{key:"C",text:"Main"},{key:"D",text:"System"}],answer:"B",explanation:"The Object class."},{id:9,question:"Keyword for inheritance?",options:[{key:"A",text:"implements"},{key:"B",text:"extends"},{key:"C",text:"inherits"},{key:"D",text:"super"}],answer:"B",explanation:"extends."},{id:10,question:"Compiled Java extension?",options:[{key:"A",text:".java"},{key:"B",text:".class"},{key:"C",text:".jar"},{key:"D",text:".exe"}],answer:"B",explanation:".class (Bytecode)."}],g8=[{id:1,question:"Extract data?",options:[{key:"A",text:"GET"},{key:"B",text:"OPEN"},{key:"C",text:"SELECT"},{key:"D",text:"PULL"}],answer:"C",explanation:"SELECT."},{id:2,question:"Pattern match?",options:[{key:"A",text:"LIKE"},{key:"B",text:"MATCH"},{key:"C",text:"SIMILAR"},{key:"D",text:"SAME"}],answer:"A",explanation:"LIKE."},{id:3,question:"Sort results?",options:[{key:"A",text:"SORT BY"},{key:"B",text:"ORDER BY"},{key:"C",text:"GROUP BY"},{key:"D",text:"ALIGN"}],answer:"B",explanation:"ORDER BY."},{id:4,question:"Unique values?",options:[{key:"A",text:"NOT NULL"},{key:"B",text:"UNIQUE"},{key:"C",text:"PRIMARY"},{key:"D",text:"DISTINCT"}],answer:"B",explanation:"UNIQUE."},{id:5,question:"SQL stands for?",options:[{key:"A",text:"Structured Question Language"},{key:"B",text:"Structured Query Language"},{key:"C",text:"Strong Query Language"},{key:"D",text:"Standard Query Language"}],answer:"B",explanation:"Structured Query Language."},{id:6,question:"Modify existing data?",options:[{key:"A",text:"MODIFY"},{key:"B",text:"CHANGE"},{key:"C",text:"UPDATE"},{key:"D",text:"ALTER"}],answer:"C",explanation:"UPDATE."},{id:7,question:"Add new row?",options:[{key:"A",text:"ADD"},{key:"B",text:"INSERT INTO"},{key:"C",text:"CREATE"},{key:"D",text:"NEW"}],answer:"B",explanation:"INSERT INTO."},{id:8,question:"Constraint for no empty values?",options:[{key:"A",text:"UNIQUE"},{key:"B",text:"NOT NULL"},{key:"C",text:"PRIMARY KEY"},{key:"D",text:"CHECK"}],answer:"B",explanation:"NOT NULL."},{id:9,question:"Delete table structure?",options:[{key:"A",text:"DELETE"},{key:"B",text:"DROP"},{key:"C",text:"TRUNCATE"},{key:"D",text:"REMOVE"}],answer:"B",explanation:"DROP."},{id:10,question:"Filter groups?",options:[{key:"A",text:"WHERE"},{key:"B",text:"HAVING"},{key:"C",text:"GROUP BY"},{key:"D",text:"ORDER BY"}],answer:"B",explanation:"HAVING filters aggregated groups; WHERE filters rows."}],Qr=[{id:"os",title:"Operating Systems",description:"Processes, threads, scheduling, synchronization.",questions:pl(h8,100),category:"CS Core",icon:YB,color:"bg-blue-500",gradient:"from-blue-500 to-indigo-600"},{id:"dbms",title:"DBMS",description:"ACID, Normalization, SQL, Transactions.",questions:pl(d8,100),category:"CS Core",icon:qE,color:"bg-emerald-500",gradient:"from-emerald-500 to-teal-600"},{id:"cn",title:"Computer Networks",description:"OSI, TCP/IP, Protocols, Addressing.",questions:pl(f8,100),category:"CS Core",icon:Cz,color:"bg-indigo-500",gradient:"from-indigo-500 to-purple-600"},{id:"oop",title:"OOP Concepts",description:"Inheritance, Polymorphism, Encapsulation.",questions:pl(m8,100),category:"Programming",icon:OB,color:"bg-orange-500",gradient:"from-orange-500 to-pink-600"},{id:"java",title:"Java Programming",description:"Syntax, JVM, Exceptions, OOP in Java.",questions:pl(p8,100),category:"Language",icon:ez,color:"bg-red-500",gradient:"from-red-500 to-rose-600"},{id:"sql",title:"SQL Fundamentals",description:"Queries, Joins, Constraints, Database logic.",questions:pl(g8,100),category:"Language",icon:qE,color:"bg-cyan-500",gradient:"from-cyan-500 to-blue-600"}],gi={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}};function y8({user:t,screen:e,setScreen:n,activeSection:i,setActiveSection:a,mobileMenuOpen:l,setMobileMenuOpen:u,notification:f,setNotification:p,handleLogout:g,handleTopicSelect:x,startQuiz:_,finishQuiz:T,restartQuiz:C,currentTopic:D,questionCount:L,setQuestionCount:M,quizQuestions:q,score:Y,userAnswers:H}){const[ne,ce]=G.useState(!1),[ue,R]=G.useState(!1),[S,I]=G.useState(""),[j,O]=G.useState(!1),U=S?Qr.filter(fe=>fe.title.toLowerCase().includes(S.toLowerCase())||fe.description.toLowerCase().includes(S.toLowerCase())):[],N=fe=>{x(fe.id),R(!1),I(""),n("home"),a("quiz")};return rf.useEffect(()=>{const fe=De=>{De.key==="Escape"&&ue&&R(!1)};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[ue]),d.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800 font-sans selection:bg-black selection:text-white",children:[d.jsxs("header",{className:"sticky top-0 z-50 w-full bg-white/70 backdrop-blur-2xl saturate-150 border-b border-white/80 shadow-sm transition-all duration-300",children:[d.jsxs("div",{className:"max-w-screen-2xl mx-auto px-6 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>{n("home"),a("quiz")},children:[d.jsx(be.div,{whileHover:{rotate:15,scale:1.1},whileTap:{scale:.9},className:"bg-black text-white p-2 rounded-lg",children:d.jsx(Hu,{size:20})}),d.jsx("h1",{className:"text-xl font-bold tracking-tight text-black group-hover:text-gray-700 transition-colors",children:"Let's Try"})]}),d.jsx("div",{className:"flex items-center gap-4",children:t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[d.jsx("button",{onClick:()=>R(!0),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-xl transition-colors",title:"Global Search",children:d.jsx(ql,{size:20})}),d.jsxs("button",{onClick:()=>n("chat"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${e==="chat"?"bg-gray-100 font-bold":"hover:bg-gray-50 text-gray-600"}`,children:[d.jsx(co,{size:18}),d.jsx("span",{children:"Chat"})]}),d.jsxs("button",{onClick:()=>n("notes"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${e==="notes"?"bg-gray-100 font-bold":"hover:bg-gray-50 text-gray-600"}`,children:[d.jsx(Zi,{size:18}),d.jsx("span",{children:"Notes"})]}),d.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>O(!j),className:"flex items-center gap-2 hover:bg-gray-100 p-2 rounded-full transition-colors",children:[d.jsx("div",{className:"bg-gray-100 p-2 rounded-full border border-gray-200",children:d.jsx(Ci,{size:18})}),d.jsx("span",{className:"font-bold hover:underline",children:t?.name})]}),d.jsx(hn,{children:j&&d.jsxs(d.Fragment,{children:[d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),className:"fixed inset-0 z-40 bg-transparent"}),d.jsxs(be.div,{initial:{opacity:0,scale:.95,y:10,x:20},animate:{opacity:1,scale:1,y:0,x:0},exit:{opacity:0,scale:.95,y:10,x:20},className:"absolute right-0 top-full mt-4 w-64 bg-white rounded-3xl shadow-2xl border border-gray-100 p-2 z-50 origin-top-right overflow-hidden",children:[d.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl mb-2 flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center font-bold text-lg shadow-md",children:t?.name?.charAt(0)}),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("h3",{className:"font-bold text-gray-900 truncate text-sm",children:t?.name}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:"View Profile"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("button",{onClick:()=>{O(!1),n("home"),a("profile")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Ci,{size:18,className:"text-gray-400"}),"My Profile"]}),d.jsxs("button",{onClick:()=>{O(!1),n("notes")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Zi,{size:18,className:"text-gray-400"}),"My Notes"]}),d.jsxs("button",{onClick:()=>{O(!1),n("settings")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Of,{size:18,className:"text-gray-400"}),"Settings"]})]}),d.jsx("div",{className:"h-px bg-gray-100 mx-2 my-2"}),d.jsxs("button",{onClick:()=>{O(!1),g()},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-red-600 hover:bg-red-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Au,{size:18}),"Log out"]})]})]})})]}),d.jsx("button",{onClick:g,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors ml-2",title:"Logout",children:d.jsx(Au,{size:20})})]}),d.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[d.jsx("button",{onClick:()=>n("chat"),className:`p-2 rounded-xl transition-colors ${e==="chat"?"bg-black text-white":"bg-gray-100 text-gray-600"}`,children:d.jsx(co,{size:20})}),d.jsx("button",{onClick:()=>u(!0),className:"p-2 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors",children:d.jsx(wz,{size:20})})]})]}):d.jsx("button",{onClick:()=>n("login"),className:"px-6 py-2.5 bg-black text-white rounded-xl hover:bg-gray-800 transition-colors font-medium shadow-lg shadow-black/10",children:"Get Started"})})]}),d.jsx(hn,{children:l&&d.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 w-full bg-white z-50 shadow-2xl border-b border-gray-100 p-6 md:hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-black text-white p-2 rounded-lg",children:d.jsx(Hu,{size:20})}),d.jsx("h2",{className:"text-xl font-bold",children:"Menu"})]}),d.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:d.jsx(vm,{size:20})})]}),t&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{onClick:()=>{n("home"),a("profile"),u(!1)},className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl border border-gray-100 active:scale-95 transition-transform",children:[d.jsx("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center text-white font-bold text-xl",children:t.name.charAt(0)}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-900",children:t.name}),d.jsx("p",{className:"text-sm text-gray-500",children:"View Profile"})]}),d.jsx(is,{size:16,className:"ml-auto text-gray-400"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>{n("home"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[d.jsx(rz,{size:20})," Dashboard"]}),d.jsxs("button",{onClick:()=>{n("notes"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[d.jsx(Zi,{size:20})," Notes"]}),d.jsxs("button",{onClick:()=>{n("chat"),u(!1)},className:"w-full p-4 flex items-center gap-4 font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors",children:[d.jsx(co,{size:20})," Chat"]})]}),d.jsx("div",{className:"pt-6 border-t border-gray-100",children:d.jsxs("button",{onClick:()=>{g(),u(!1)},className:"w-full py-3 bg-red-50 text-red-500 font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[d.jsx(Au,{size:18})," Logout"]})})]})]})})]}),d.jsx(hn,{children:ue&&d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/20 backdrop-blur-sm flex items-start justify-center pt-24 px-4",onClick:()=>R(!1),children:d.jsxs(be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:fe=>fe.stopPropagation(),className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl border border-gray-100 overflow-hidden flex flex-col max-h-[70vh]",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3",children:[d.jsx(ql,{size:20,className:"text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search quizzes, notes, or people...",className:"flex-1 text-lg outline-none placeholder:text-gray-400",autoFocus:!0,value:S,onChange:fe=>I(fe.target.value)}),d.jsx("button",{onClick:()=>R(!1),className:"px-3 py-1 bg-gray-100 text-xs font-bold text-gray-500 rounded-md hover:bg-gray-200",children:"ESC"})]}),d.jsx("div",{className:"overflow-y-auto p-2",children:S?d.jsx(d.Fragment,{children:U.length>0?d.jsxs("div",{className:"space-y-1",children:[d.jsx("h3",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase",children:"Quizzes"}),U.map(fe=>d.jsxs("button",{onClick:()=>N(fe),className:"w-full flex items-center gap-4 p-3 hover:bg-gray-50 rounded-xl transition-colors text-left group",children:[d.jsx("div",{className:`p-3 rounded-lg ${fe.color?fe.color.replace("text-","bg-").replace("600","100"):"bg-gray-100"} ${fe.color||"text-gray-600"}`,children:fe.icon?d.jsx(fe.icon,{size:20}):d.jsx(Il,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-black",children:fe.title}),d.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:fe.description})]})]},fe.id))]}):d.jsxs("div",{className:"p-8 text-center text-gray-500",children:['No results found for "',S,'"']})}):d.jsx("div",{className:"p-12 text-center text-gray-400 text-sm",children:"Type to start searching across the entire app."})})]})})}),d.jsx("main",{className:`flex-1 relative z-0 ${e==="chat"||!t?"w-full":"w-full max-w-[1920px] mx-auto px-4 sm:px-8 py-8"}`,children:d.jsxs(hn,{mode:"wait",children:[e==="login"&&d.jsx(nR,{onSwitchToSignup:()=>n("signup"),onLoginSuccess:()=>n("home")},"login"),e==="signup"&&d.jsx(sR,{onSwitchToLogin:()=>n("login"),onSignupSuccess:()=>n("home")},"signup"),e==="home"&&d.jsx(hn,{mode:"wait",children:t?d.jsxs(d.Fragment,{children:[i==="profile"&&d.jsx(iR,{onBack:()=>a("quiz")},"profile"),i==="create"&&d.jsx(Xk,{onBack:()=>a("quiz")},"create"),i==="community"&&d.jsx(Zk,{onBack:()=>a("quiz"),onPlay:fe=>_(fe)},"community"),i==="quiz"&&d.jsxs(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},className:"space-y-16",children:[d.jsx("div",{className:"relative overflow-hidden rounded-[3rem] bg-gradient-to-br from-white to-gray-100 p-8 md:p-16 text-gray-900 shadow-2xl border border-gray-200",children:d.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-12",children:[d.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-6",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter leading-tight",children:["Ready to ",d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-emerald-600",children:"Level Up?"})]}),d.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-lg mx-auto lg:mx-0 font-medium",children:"Master your skills with our curated quizzes or challenge the community with your own creations."}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 pt-4",children:[d.jsxs("button",{onClick:()=>a("create"),className:"px-8 py-4 bg-gray-900 text-white rounded-2xl font-bold hover:bg-gray-800 transition-all flex items-center gap-2 group shadow-lg hover:shadow-xl",children:[d.jsx(Pf,{size:20,className:"group-hover:scale-110 transition-transform"}),"Create Quiz"]}),d.jsxs("button",{onClick:()=>a("community"),className:"px-8 py-4 bg-white border border-gray-200 text-gray-700 rounded-2xl font-bold hover:bg-gray-50 transition-all flex items-center gap-2 shadow-sm hover:shadow-md",children:[d.jsx(Il,{size:20}),"Community"]})]})]}),d.jsx("div",{className:"w-full max-w-md",children:d.jsxs("div",{className:"bg-white/60 backdrop-blur-xl border border-white/40 p-6 rounded-3xl shadow-xl flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-gray-800",children:[d.jsx("h3",{className:"font-bold uppercase tracking-wider text-sm",children:"Study Material"}),d.jsxs("button",{onClick:()=>n("notes"),className:"text-xs font-bold hover:text-blue-600 flex items-center gap-1 transition-colors",children:["Go to Notes ",d.jsx(is,{size:12})]})]}),d.jsxs("div",{className:"bg-white/40 rounded-2xl p-4 flex flex-col items-center justify-center text-center space-y-3 min-h-[140px] border border-white/50",children:[d.jsx("div",{className:"bg-white p-3 rounded-full text-green-600 shadow-sm",children:d.jsx(Zi,{size:28})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-900",children:"Your Notes Library"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px]",children:"Upload and manage your study notes securely in the cloud."})]}),d.jsx("button",{onClick:()=>n("notes"),className:"mt-8 w-full py-2 bg-white text-black text-sm font-bold rounded-xl border-2 border-green-600 hover:bg-green-50 transition-colors shadow-sm hover:shadow-md",children:"Add Notes"})]})]})})]})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-8 text-center sm:text-left",children:"What do you want to Try today?"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(be.div,{whileHover:{y:-5},className:"bg-white text-black rounded-3xl p-8 shadow-xl cursor-pointer flex flex-col justify-between h-[320px] group relative overflow-hidden border-2 border-black",onClick:()=>a("create"),children:[d.jsx("div",{className:"absolute top-0 right-0 p-32 bg-black/5 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-black/10"}),d.jsxs("div",{children:[d.jsx("div",{className:"bg-black w-12 h-12 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(Pf,{size:24,className:"text-white"})}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Create New"}),d.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Craft your own quiz to challenge yourself and others."})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-black opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:["Start Creating ",d.jsx(is,{size:16})]})]}),d.jsxs(be.div,{whileHover:{y:-5},className:"bg-white border border-gray-100 text-gray-900 rounded-3xl p-8 shadow-xl cursor-pointer flex flex-col justify-between h-[320px] group relative overflow-hidden hover:shadow-2xl transition-all",onClick:()=>a("community"),children:[d.jsx("div",{className:"absolute top-0 right-0 p-32 bg-green-50 rounded-full blur-3xl -mr-16 -mt-16 transition-all group-hover:bg-green-100"}),d.jsxs("div",{children:[d.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(Il,{size:24,className:"text-green-600"})}),d.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Community"}),d.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Explore quizzes created by other users."})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-green-600 opacity-0 group-hover:opacity-100 transition-opacity translate-y-2 group-hover:translate-y-0",children:["Browse Library ",d.jsx(is,{size:16})]})]}),(ne?Qr:Qr.slice(0,3)).map(fe=>d.jsx("div",{className:"lg:col-span-2 h-full",children:d.jsx(u0,{topic:fe.title,icon:fe.icon,description:fe.description,color:fe.color,onStart:()=>x(fe),questionCount:fe.questions.length})},fe.id))]}),!ne&&Qr.length>3&&d.jsx("div",{className:"mt-12 flex justify-center",children:d.jsxs(be.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>ce(!0),className:"px-10 py-4 bg-black text-white rounded-2xl font-bold flex items-center gap-3 shadow-xl hover:shadow-2xl transition-all",children:["Explore More Quizzes",d.jsx(is,{size:20})]})})]})]},"dashboard"),i==="all-curated"&&d.jsxs(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[d.jsx("button",{onClick:()=>a("quiz"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(is,{className:"rotate-180",size:24})}),d.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"All Topics"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Qr.map(fe=>d.jsx(u0,{topic:fe.title,icon:fe.icon,description:fe.description,color:fe.color,onStart:()=>x(fe),questionCount:fe.questions.length},fe.id))})]},"all-curated")]}):d.jsx(rR,{onGetStarted:()=>n("login")})}),e==="notes"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",className:"w-full",children:d.jsx(u8,{})},"notes"),e==="chat"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",className:"w-full px-4",children:d.jsx(aR,{onBack:()=>n("home")})},"chat"),e==="settings"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",className:"w-full px-4",children:d.jsx(oR,{onBack:()=>n("home"),onNavigate:n})},"settings"),e==="privacy"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",className:"w-full px-4",children:d.jsx(lR,{onBack:()=>n("settings")})},"privacy"),e==="terms"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",className:"w-full px-4",children:d.jsx(cR,{onBack:()=>n("settings")})},"terms"),e==="config"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},className:"flex items-center justify-center min-h-[60vh]",children:d.jsxs("div",{className:"w-full max-w-xl bg-white rounded-3xl p-10 border border-gray-200 shadow-xl text-center",children:[d.jsx("div",{className:"inline-flex justify-center items-center p-4 bg-gray-100 rounded-full mb-6",children:d.jsx(Of,{size:32,className:"text-gray-700"})}),d.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configure Quiz"}),d.jsx("p",{className:"text-gray-500 mb-8",children:"How many questions would you like to attempt?"}),d.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[10,20,30,50,"all"].map(fe=>d.jsx("button",{onClick:()=>M(fe),className:`py-4 rounded-xl font-bold border-2 transition-all ${L===fe?"border-black bg-black text-white shadow-lg":"border-gray-100 bg-white text-gray-600 hover:border-gray-300 transform hover:-translate-y-0.5"}`,children:fe==="all"?"All Questions":`${fe} Questions`},fe))}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:()=>n("home"),className:"flex-1 py-4 font-bold text-gray-500 hover:bg-gray-50 rounded-xl transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:()=>_(D),className:"flex-1 py-4 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[d.jsx(zl,{size:20}),"Start Now"]})]})]})},"config"),e==="quiz"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:d.jsx(eR,{questions:q,onFinish:T,isMobile:!1})},"quiz"),e==="result"&&d.jsx(be.div,{variants:gi,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:d.jsx(tR,{score:Y,total:q.length,userAnswers:H,onHome:C,onRetry:()=>_(D)})},"result")]})}),d.jsx(uR,{notification:f,onClose:()=>p(null),onClick:()=>n("chat")})]})}const ru={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}};function x8({user:t,screen:e,setScreen:n,activeSection:i,setActiveSection:a,notification:l,setNotification:u,handleLogout:f,handleTopicSelect:p,startQuiz:g,finishQuiz:x,restartQuiz:_,currentTopic:T,questionCount:C,setQuestionCount:D,quizQuestions:L,score:M,userAnswers:q}){const[Y,H]=G.useState(!1),[ne,ce]=G.useState(!1),[ue,R]=G.useState(""),S=ue?Qr.filter(N=>N.title.toLowerCase().includes(ue.toLowerCase())||N.description.toLowerCase().includes(ue.toLowerCase())):[],I=N=>{p(N.id),ce(!1),R(""),n("home"),a("quiz")},j=["quiz","result","config","login","signup"].includes(e),O=t&&!j,U=({icon:N,label:fe,isActive:De,onClick:te})=>d.jsxs("button",{onClick:te,className:`flex flex-col items-center justify-center gap-1 w-full h-full transition-colors ${De?"text-black font-bold":"text-gray-400 hover:text-gray-600"}`,children:[d.jsx(N,{size:24,strokeWidth:De?2.5:2}),d.jsx("span",{className:"text-[10px]",children:fe})]});return d.jsxs("div",{className:"h-screen overflow-hidden bg-gray-50 text-gray-800 font-sans flex flex-col",children:[!j&&e!=="chat"&&t&&d.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100 shadow-sm px-4 py-5 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",onClick:()=>{n("home"),a("quiz")},children:[d.jsx("div",{className:"bg-black text-white p-1.5 rounded-lg",children:d.jsx(Hu,{size:18})}),d.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Let's Try"})]}),d.jsxs("div",{className:"flex items-center gap-2 relative",children:[d.jsx("button",{onClick:()=>ce(!0),className:"w-10 h-10 bg-gray-50 border border-gray-100 rounded-full flex items-center justify-center font-bold text-sm text-gray-700 active:scale-95 transition-transform",children:d.jsx(ql,{size:18})}),d.jsx("button",{onClick:()=>H(!Y),className:"w-10 h-10 bg-gray-50 border border-gray-100 rounded-full flex items-center justify-center font-bold text-sm text-gray-700 active:scale-95 transition-transform",children:t?.name?.charAt(0)}),d.jsx(hn,{children:Y&&d.jsxs(d.Fragment,{children:[d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>H(!1),className:"fixed inset-0 z-40 bg-black/5 backdrop-blur-[2px]"}),d.jsxs(be.div,{initial:{opacity:0,scale:.95,y:10,x:20},animate:{opacity:1,scale:1,y:0,x:0},exit:{opacity:0,scale:.95,y:10,x:20},className:"absolute right-0 top-full mt-4 w-64 bg-white rounded-3xl shadow-2xl border border-gray-100 p-2 z-50 origin-top-right overflow-hidden",children:[d.jsxs("div",{className:"p-4 bg-gray-50 rounded-2xl mb-2 flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-black text-white rounded-full flex items-center justify-center font-bold text-lg shadow-md",children:t?.name?.charAt(0)}),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("h3",{className:"font-bold text-gray-900 truncate text-sm",children:t?.name}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:"View Profile"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("button",{onClick:()=>{H(!1),n("home"),a("profile")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Ci,{size:18,className:"text-gray-400"}),"My Profile"]}),d.jsxs("button",{onClick:()=>{H(!1),n("notes")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Zi,{size:18,className:"text-gray-400"}),"My Notes"]}),d.jsxs("button",{onClick:()=>{H(!1),n("settings")},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-gray-700 hover:bg-gray-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Of,{size:18,className:"text-gray-400"}),"Settings"]})]}),d.jsx("div",{className:"h-px bg-gray-100 mx-2 my-2"}),d.jsxs("button",{onClick:()=>{H(!1),f()},className:"w-full px-4 py-3 flex items-center gap-3 text-sm font-bold text-red-600 hover:bg-red-50 rounded-xl transition-colors active:scale-95 duration-200",children:[d.jsx(Au,{size:18}),"Log out"]})]})]})})]})]}),d.jsx(hn,{children:ne&&d.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-white flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center gap-3",children:[d.jsx("button",{onClick:()=>ce(!1),className:"p-2 -ml-2 text-gray-500 rounded-full hover:bg-gray-100",children:d.jsx(is,{size:20,className:"rotate-180"})}),d.jsxs("div",{className:"flex-1 bg-gray-100 rounded-xl flex items-center px-4 py-3 gap-2",children:[d.jsx(ql,{size:18,className:"text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent text-sm w-full outline-none placeholder:text-gray-400",autoFocus:!0,value:ue,onChange:N=>R(N.target.value)})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ue?d.jsx(d.Fragment,{children:S.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"px-2 text-xs font-bold text-gray-400 uppercase",children:"Quizzes"}),S.map(N=>d.jsxs("button",{onClick:()=>I(N),className:"w-full flex items-center gap-4 p-3 bg-gray-50 rounded-2xl active:scale-95 transition-transform text-left",children:[d.jsx("div",{className:`p-3 rounded-xl ${N.color?N.color.replace("text-","bg-").replace("600","100"):"bg-gray-100"} ${N.color||"text-gray-600"}`,children:N.icon?d.jsx(N.icon,{size:20}):d.jsx(Il,{size:20})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-900",children:N.title}),d.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:N.description})]})]},N.id))]}):d.jsx("div",{className:"p-12 text-center text-gray-400",children:"No results found."})}):d.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm",children:[d.jsx("p",{className:"mb-2",children:"Start typing to search..."}),d.jsx("p",{className:"text-xs text-gray-300",children:"Quizzes, Notes, People"})]})})]})}),d.jsx("main",{className:`flex-1 relative w-full touch-pan-y ${e==="chat"?"overflow-hidden pb-[60px]":"overflow-y-auto overflow-x-hidden pb-24"}`,children:d.jsxs(hn,{mode:"wait",children:[e==="login"&&d.jsx(nR,{onSwitchToSignup:()=>n("signup"),onLoginSuccess:()=>n("home")},"login"),e==="signup"&&d.jsx(sR,{onSwitchToLogin:()=>n("login"),onSignupSuccess:()=>n("home")},"signup"),!t&&e==="home"&&d.jsx(rR,{onGetStarted:()=>n("login")},"landing"),t&&d.jsxs(d.Fragment,{children:[e==="home"&&d.jsxs(be.div,{className:"p-4 space-y-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[i==="quiz"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white border-2 border-black rounded-3xl p-6 shadow-xl shadow-gray-200",children:[d.jsxs("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:["Hello, ",t.name,"!"]}),d.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Ready to challenge yourself today?"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>a("create"),className:"flex-1 bg-white text-green-700 border-2 border-green-600 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 active:scale-95 transition-transform hover:bg-green-50",children:[d.jsx(Pf,{size:16})," Create"]}),d.jsxs("button",{onClick:()=>a("community"),className:"flex-1 bg-white text-black py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 border-2 border-black active:scale-95 transition-transform hover:bg-gray-50",children:[d.jsx(Il,{size:16})," Explore"]})]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"font-bold text-lg",children:"Top Picks for You"}),d.jsxs("button",{onClick:()=>a("all-curated"),className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["See All ",d.jsx(is,{size:12})]})]}),d.jsx("div",{className:"flex gap-4 overflow-x-auto pb-8 snap-x hide-scrollbar -mx-4 px-4 pt-2",children:Qr.slice(0,4).map(N=>d.jsxs(be.div,{className:"min-w-[88vw] h-[220px] snap-center relative rounded-[2rem] overflow-hidden bg-white border border-gray-100 shadow-xl cursor-pointer group flex flex-col justify-between p-6",whileTap:{scale:.95},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:fe=>{fe.target.tagName!=="BUTTON"&&p(N)},children:[d.jsxs("div",{children:[d.jsx("div",{className:"mb-2 text-green-600",children:N.icon&&d.jsx(N.icon,{size:28,strokeWidth:2})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 leading-tight line-clamp-2",children:N.title}),d.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:N.description})]}),d.jsxs("button",{onClick:fe=>{fe.stopPropagation(),p(N)},className:"w-full py-4 bg-black text-white rounded-xl font-bold text-xs flex items-center justify-center gap-1.5 hover:bg-gray-800 transition-all shadow-md active:scale-95",children:[d.jsx("span",{children:"Start"}),d.jsx(zl,{size:10,fill:"currentColor"})]})]},N.id))})]}),d.jsxs("div",{onClick:()=>n("notes"),className:"bg-green-50 rounded-3xl p-5 border border-green-100 flex items-center gap-4",children:[d.jsx("div",{className:"bg-green-100 p-3 rounded-full text-green-700",children:d.jsx(Zi,{size:20})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-bold text-gray-800",children:"Your Notes"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Review your study material"})]}),d.jsx(is,{size:16,className:"text-gray-400"})]})]}),i==="create"&&d.jsx(Xk,{onBack:()=>a("quiz")}),i==="community"&&d.jsx(Zk,{onBack:()=>a("quiz"),onPlay:N=>g(N)}),i==="profile"&&d.jsx(iR,{onBack:()=>a("quiz")}),i==="all-curated"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("button",{onClick:()=>a("quiz"),className:"bg-white p-2 rounded-full shadow-sm border border-gray-100",children:d.jsx(is,{size:20,className:"rotate-180"})}),d.jsx("h2",{className:"text-xl font-bold",children:"All Topics"})]}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:Qr.map(N=>d.jsx(u0,{topic:N.title,icon:N.icon,description:N.description,color:N.color,onStart:()=>p(N),questionCount:N.questions.length},N.id))})]})]},"home-content"),e==="chat"&&d.jsx(be.div,{variants:ru,initial:"initial",animate:"animate",exit:"exit",className:"h-full px-1",children:d.jsx(aR,{onBack:()=>n("home")})},"chat"),e==="notes"&&d.jsx(be.div,{variants:ru,initial:"initial",animate:"animate",exit:"exit",className:"p-4",children:d.jsx(Notes,{})},"notes"),e==="settings"&&d.jsx(be.div,{variants:ru,initial:"initial",animate:"animate",exit:"exit",className:"p-4",children:d.jsx(oR,{onBack:()=>n("home"),onNavigate:n})},"settings"),e==="privacy"&&d.jsx(be.div,{variants:ru,initial:"initial",animate:"animate",exit:"exit",className:"p-4",children:d.jsx(lR,{onBack:()=>n("settings")})},"privacy"),e==="terms"&&d.jsx(be.div,{variants:ru,initial:"initial",animate:"animate",exit:"exit",className:"p-4",children:d.jsx(cR,{onBack:()=>n("settings")})},"terms"),e==="config"&&d.jsx(be.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},className:"p-6 h-full flex flex-col justify-center",children:d.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-2xl border border-gray-100 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Of,{size:32,className:"text-gray-700"})}),d.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Configure Quiz"}),d.jsx("p",{className:"text-gray-500 mb-8 text-sm",children:"How many questions?"}),d.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[10,20,30,50,"all"].map(N=>d.jsx("button",{onClick:()=>D(N),className:`py-3 rounded-xl font-bold border-2 transition-all text-sm ${C===N?"border-black bg-black text-white":"border-gray-100 bg-white text-gray-600"}`,children:N==="all"?"All":N},N))}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>n("home"),className:"flex-1 py-3 font-bold text-gray-500 bg-gray-50 rounded-xl",children:"Cancel"}),d.jsxs("button",{onClick:()=>g(T),className:"flex-1 py-3 bg-black text-white rounded-xl font-bold flex items-center justify-center gap-2",children:[d.jsx(zl,{size:18}),"Start"]})]})]})},"config"),e==="quiz"&&d.jsx(be.div,{className:"h-full bg-white",children:d.jsx(eR,{questions:L,onFinish:x,isMobile:!0})},"quiz"),e==="result"&&d.jsx(be.div,{className:"h-full bg-white",children:d.jsx(tR,{score:M,total:L.length,userAnswers:q,onHome:_,onRetry:()=>g(T)})},"result")]})]})}),O&&d.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-50 bg-white border-t border-gray-100 pb-2 pt-2 shadow-[0_-5px_20px_rgba(0,0,0,0.03)] h-[60px]",children:d.jsxs("div",{className:"grid grid-cols-4 h-[50px] items-center",children:[d.jsx(U,{icon:cz,label:"Home",isActive:e==="home"&&i!=="profile",onClick:()=>{n("home"),a("quiz")}}),d.jsx(U,{icon:Zi,label:"Notes",isActive:e==="notes",onClick:()=>n("notes")}),d.jsx(U,{icon:co,label:"Chat",isActive:e==="chat",onClick:()=>n("chat")}),d.jsx(U,{icon:Ci,label:"Profile",isActive:i==="profile"&&e==="home",onClick:()=>{n("home"),a("profile")}})]})}),d.jsx(uR,{notification:l,onClose:()=>u(null),onClick:()=>n("chat")})]})}const v8=t=>{const[e,n]=G.useState(!1);return G.useEffect(()=>{const i=window.matchMedia(t);i.matches!==e&&n(i.matches);const a=()=>n(i.matches);return i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[e,t]),e};function b8(){const{user:t,logout:e,loading:n}=ki(),[i,a]=G.useState(null),[l,u]=G.useState(!1),f=v8("(max-width: 768px)"),[p,g]=G.useState(()=>new URLSearchParams(window.location.search).get("screen")||"home"),[x,_]=G.useState(()=>new URLSearchParams(window.location.search).get("section")||"quiz"),[T,C]=G.useState(null),[D,L]=G.useState(0),[M,q]=G.useState([]),[Y,H]=G.useState([]),[ne,ce]=G.useState(10);G.useEffect(()=>{const U=new URLSearchParams(window.location.search),N=U.get("screen"),fe=U.get("section");if(N!==p||fe!==x){const De=new URL(window.location);De.searchParams.set("screen",p),p==="home"?De.searchParams.set("section",x):De.searchParams.delete("section"),window.history.pushState({},"",De)}},[p,x]),G.useEffect(()=>{const U=()=>{const N=new URLSearchParams(window.location.search),fe=N.get("screen"),De=N.get("section");fe&&g(fe),De&&_(De)};return window.addEventListener("popstate",U),()=>window.removeEventListener("popstate",U)},[]),G.useEffect(()=>{n||(t?(p==="login"||p==="signup")&&g("home"):p!=="login"&&p!=="signup"&&p!=="home"&&g("login"))},[t,n,p]);const ue=U=>{C(U),g("config")},R=U=>{try{if(console.log("Starting Quiz with Data:",U),!U||!U.questions||U.questions.length===0){alert("Error: No questions found in this quiz data."),console.error("Quiz Data missing questions:",U);return}_("quiz");const fe=[...U.questions].sort(()=>.5-Math.random());let De=10;ne==="all"?De=fe.length:De=Math.min(Number(ne)||10,fe.length);const te=fe.slice(0,De);if(te.length===0){alert("Error: Selection resulted in 0 questions.");return}q(te),H([]),g("quiz"),L(0)}catch(N){console.error("Failed to start quiz:",N),alert("An error occurred while starting the quiz. Check console for details.")}},S=U=>{L(U),g("result")},I=()=>{g("home"),_("quiz"),C(null),L(0),q([])},j=()=>{e(),g("login")};if(n)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const O={user:t,screen:p,setScreen:g,activeSection:x,setActiveSection:_,mobileMenuOpen:l,setMobileMenuOpen:u,notification:i,setNotification:a,handleLogout:j,handleTopicSelect:ue,startQuiz:R,finishQuiz:S,restartQuiz:I,currentTopic:T,questionCount:ne,setQuestionCount:ce,quizQuestions:M,score:D,userAnswers:Y};return f?d.jsx(x8,{...O}):d.jsx(y8,{...O})}XN.createRoot(document.getElementById("root")).render(d.jsx(G.StrictMode,{children:d.jsx($V,{children:d.jsx(b8,{})})}));
